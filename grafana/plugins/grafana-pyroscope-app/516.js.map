{"version":3,"file":"516.js?_cache=9710b856bdea6ea0d64f","mappings":"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","sources":["webpack://grafana-pyroscope-app/../node_modules/@grafana/assistant/dist/index.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/e2e-selectors/dist/esm/selectors/components.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/e2e-selectors/dist/esm/selectors/index.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/e2e-selectors/dist/esm/selectors/pages.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-core/dist/esm/api/exceptions/const.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-core/dist/esm/consts.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-core/dist/esm/extensions/baseExtension.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-core/dist/esm/globalObject/globalObject.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-core/dist/esm/internalLogger/const.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-core/dist/esm/sdk/const.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-core/dist/esm/sdk/internalFaroGlobalObject.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-core/dist/esm/sdk/registerFaro.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-core/dist/esm/sdk/faroGlobalObject.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-core/dist/esm/unpatchedConsole/const.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-core/dist/esm/utils/date.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-core/dist/esm/utils/is.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-core/dist/esm/utils/logLevels.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-core/dist/esm/utils/noop.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-core/dist/esm/utils/shortId.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-core/dist/esm/version.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-core/dist/esm/instrumentations/base.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/errors/const.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/errors/getErrorDetails.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/errors/registerOnerror.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/errors/getValueAndTypeFromMessage.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/errors/instrumentation.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/errors/registerOnunhandledrejection.js","webpack://grafana-pyroscope-app/../node_modules/web-vitals/dist/web-vitals.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/webVitals/webVitalsBasic.js","webpack://grafana-pyroscope-app/../node_modules/web-vitals/dist/web-vitals.attribution.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/instrumentationConstants.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/webVitals/webVitalsWithAttribution.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/webVitals/instrumentation.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-core/dist/esm/semantic.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/session/instrumentation.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-web-sdk/dist/esm/metas/session/createSession.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/view/instrumentation.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/performance/performanceConstants.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/performance/performanceUtils.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/performance/resource.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/performance/instrumentation.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/performance/navigation.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/console/instrumentation.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-web-sdk/dist/esm/config/getWebInstrumentations.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-core/dist/esm/transports/const.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-core/dist/esm/utils/deepEqual.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-core/dist/esm/api/exceptions/initialize.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-core/dist/esm/api/logs/const.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-core/dist/esm/api/initialize.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-core/dist/esm/api/traces/initialize.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-core/dist/esm/api/meta/initialize.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-core/dist/esm/api/logs/initialize.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-core/dist/esm/api/measurements/initialize.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-core/dist/esm/api/events/initialize.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-core/dist/esm/internalLogger/createInternalLogger.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-core/dist/esm/internalLogger/initialize.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-core/dist/esm/transports/batchExecutor.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-core/dist/esm/transports/initialize.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-core/dist/esm/unpatchedConsole/initialize.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-core/dist/esm/initialize.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-core/dist/esm/metas/initialize.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-core/dist/esm/instrumentations/initialize.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-core/dist/esm/metas/registerInitial.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-core/dist/esm/utils/sourceMaps.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-core/dist/esm/transports/registerInitial.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-core/dist/esm/instrumentations/registerInitial.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-core/dist/esm/config/const.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-web-sdk/dist/esm/consts.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/errors/stackFrames/parseStacktrace.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-web-sdk/dist/esm/metas/browser/meta.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-web-sdk/dist/esm/metas/const.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-web-sdk/dist/esm/metas/page/meta.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-web-sdk/dist/esm/metas/k6/meta.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-core/dist/esm/transports/base.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-core/dist/esm/transports/utils.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-web-sdk/dist/esm/transports/fetch/transport.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-core/dist/esm/utils/promiseBuffer.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-web-sdk/dist/esm/initialize.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-web-sdk/dist/esm/config/makeCoreConfig.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/errors/stackFrames/buildStackFrame.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/errors/stackFrames/const.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/errors/stackFrames/getDataFromSafariExtensions.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/errors/stackFrames/getStackFramesFromError.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/session/sessionManager/PersistentSessionsManager.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/session/sessionManager/VolatileSessionManager.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/session/sessionManager/getSessionManagerByConfig.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/session/sessionManager/sampling.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/session/sessionManager/sessionConstants.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/session/sessionManager/sessionManagerUtils.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-web-sdk/dist/esm/utils/throttle.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/faro-web-sdk/dist/esm/utils/webStorage.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/llm/dist/esm/constants.js","webpack://grafana-pyroscope-app/../node_modules/rxjs/dist/esm5/internal/operators/filter.js","webpack://grafana-pyroscope-app/../node_modules/rxjs/dist/esm5/internal/operators/scan.js","webpack://grafana-pyroscope-app/../node_modules/rxjs/dist/esm5/internal/operators/scanInternals.js","webpack://grafana-pyroscope-app/../node_modules/uuid/dist/esm-browser/native.js","webpack://grafana-pyroscope-app/../node_modules/uuid/dist/esm-browser/rng.js","webpack://grafana-pyroscope-app/../node_modules/uuid/dist/esm-browser/stringify.js","webpack://grafana-pyroscope-app/../node_modules/uuid/dist/esm-browser/v4.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/llm/dist/esm/llm.js","webpack://grafana-pyroscope-app/../node_modules/rxjs/dist/esm5/internal/operators/tap.js","webpack://grafana-pyroscope-app/../node_modules/rxjs/dist/esm5/internal/operators/takeWhile.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/llm/dist/esm/openai.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/llm/node_modules/semver/classes/comparator.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/llm/node_modules/semver/classes/range.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/llm/node_modules/semver/classes/semver.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/llm/node_modules/semver/functions/clean.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/llm/node_modules/semver/functions/cmp.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/llm/node_modules/semver/functions/coerce.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/llm/node_modules/semver/functions/compare-build.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/llm/node_modules/semver/functions/compare-loose.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/llm/node_modules/semver/functions/compare.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/llm/node_modules/semver/functions/diff.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/llm/node_modules/semver/functions/eq.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/llm/node_modules/semver/functions/gt.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/llm/node_modules/semver/functions/gte.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/llm/node_modules/semver/functions/inc.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/llm/node_modules/semver/functions/lt.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/llm/node_modules/semver/functions/lte.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/llm/node_modules/semver/functions/major.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/llm/node_modules/semver/functions/minor.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/llm/node_modules/semver/functions/neq.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/llm/node_modules/semver/functions/parse.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/llm/node_modules/semver/functions/patch.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/llm/node_modules/semver/functions/prerelease.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/llm/node_modules/semver/functions/rcompare.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/llm/node_modules/semver/functions/rsort.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/llm/node_modules/semver/functions/satisfies.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/llm/node_modules/semver/functions/sort.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/llm/node_modules/semver/functions/valid.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/llm/node_modules/semver/index.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/llm/node_modules/semver/internal/constants.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/llm/node_modules/semver/internal/debug.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/llm/node_modules/semver/internal/identifiers.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/llm/node_modules/semver/internal/lrucache.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/llm/node_modules/semver/internal/parse-options.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/llm/node_modules/semver/internal/re.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/llm/node_modules/semver/ranges/gtr.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/llm/node_modules/semver/ranges/intersects.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/llm/node_modules/semver/ranges/ltr.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/llm/node_modules/semver/ranges/max-satisfying.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/llm/node_modules/semver/ranges/min-satisfying.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/llm/node_modules/semver/ranges/min-version.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/llm/node_modules/semver/ranges/outside.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/llm/node_modules/semver/ranges/simplify.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/llm/node_modules/semver/ranges/subset.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/llm/node_modules/semver/ranges/to-comparators.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/llm/node_modules/semver/ranges/valid.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/components/SceneApp/utils.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/components/VizPanel/registerRuntimePanelPlugin.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/node_modules/uuid/dist/esm-browser/native.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/node_modules/uuid/dist/esm-browser/rng.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/node_modules/uuid/dist/esm-browser/stringify.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/node_modules/uuid/dist/esm-browser/v4.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/core/SceneComponentWrapper.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/core/events.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/core/SceneObjectRef.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/core/SceneObjectBase.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/core/sceneGraph/utils.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/querying/RuntimeDataSource.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/services/UniqueUrlKeyMapper.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/services/utils.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/schema/dist/esm/veneer/common.types.mjs","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/core/SceneDataNode.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/services/SceneObjectUrlSyncConfig.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/utils/parseUrlParam.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/utils/evaluateTimeRange.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/core/SceneTimeRange.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/variables/interpolation/defaults.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/core/sceneGraph/getTimeRange.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/variables/types.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/variables/interpolation/fieldAccessorCache.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/variables/interpolation/ScopedVarsVariable.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/variables/interpolation/formatRegistry.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/variables/constants.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/variables/lookupVariable.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/variables/interpolation/sceneInterpolator.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/core/types.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/core/sceneGraph/sceneGraph.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/behaviors/SceneQueryController.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/variables/macros/types.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/variables/macros/timeMacros.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/variables/macros/AllVariablesMacro.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/variables/macros/templateProxies.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/variables/macros/dataMacros.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/variables/macros/urlMacros.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/variables/macros/index.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/variables/macros/contextMacros.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/core/sceneGraph/index.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/utils/getDataSource.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/utils/writeSceneLog.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/variables/VariableDependencyConfig.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/variables/VariableValueRecorder.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/querying/ExtraQueryProvider.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/querying/extraQueryProcessingOperator.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/querying/layers/annotations/filterAnnotations.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/querying/getEnrichedDataRequest.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/variables/adhoc/patchGetAdhocFilters.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/querying/registerQueryWithController.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/variables/groupby/findActiveGroupByVariablesByUid.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/utils/utils.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/variables/variants/MultiValueVariable.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/node_modules/@grafana/e2e-selectors/dist/esm/selectors/components.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/node_modules/@grafana/e2e-selectors/dist/esm/selectors/index.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/node_modules/@grafana/e2e-selectors/dist/esm/selectors/pages.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/variables/components/getOptionSearcher.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/variables/components/VariableValueSelect.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/variables/groupby/GroupByVariableUrlSyncHandler.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/variables/getEnrichedFiltersRequest.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/variables/groupby/GroupByVariable.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/utils/LoadingIndicator.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/utils/ControlsLabel.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/variables/adhoc/AdHocFilterRenderer.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/variables/adhoc/AdHocFilterBuilder.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/variables/adhoc/AdHocFiltersVariableUrlSyncHandler.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/variables/adhoc/AdHocFiltersVariable.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/querying/DataLayersMerger.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/querying/SceneQueryRunner.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/variables/utils.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/schema/dist/esm/raw/dashboard/x/dashboard_types.gen.mjs","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/behaviors/CursorSync.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/node_modules/react-use/esm/misc/util.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/node_modules/react-use/esm/useIsomorphicLayoutEffect.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/node_modules/react-use/esm/useMeasure.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/components/VizPanel/VizPanelRenderer.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/components/VizPanel/seriesVisibilityConfigFactory.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/components/VizPanel/colorSeriesConfigFactory.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/components/VizPanel/VizPanel.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/behaviors/LiveNowTimer.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/utils/getMessageFromError.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/querying/layers/SceneDataLayerBase.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/querying/layers/SceneDataLayerControls.js","webpack://grafana-pyroscope-app/../node_modules/rxjs/dist/esm5/internal/util/isArrayLike.js","webpack://grafana-pyroscope-app/../node_modules/rxjs/dist/esm5/internal/symbol/observable.js","webpack://grafana-pyroscope-app/../node_modules/rxjs/dist/esm5/internal/util/pipe.js","webpack://grafana-pyroscope-app/../node_modules/rxjs/dist/esm5/internal/Observable.js","webpack://grafana-pyroscope-app/../node_modules/rxjs/dist/esm5/internal/symbol/iterator.js","webpack://grafana-pyroscope-app/../node_modules/rxjs/dist/esm5/internal/observable/innerFrom.js","webpack://grafana-pyroscope-app/../node_modules/rxjs/dist/esm5/internal/util/isInteropObservable.js","webpack://grafana-pyroscope-app/../node_modules/rxjs/dist/esm5/internal/util/isPromise.js","webpack://grafana-pyroscope-app/../node_modules/rxjs/dist/esm5/internal/util/isAsyncIterable.js","webpack://grafana-pyroscope-app/../node_modules/rxjs/dist/esm5/internal/util/isIterable.js","webpack://grafana-pyroscope-app/../node_modules/rxjs/dist/esm5/internal/util/isReadableStreamLike.js","webpack://grafana-pyroscope-app/../node_modules/rxjs/dist/esm5/internal/util/throwUnobservableError.js","webpack://grafana-pyroscope-app/../node_modules/rxjs/dist/esm5/internal/operators/mergeMap.js","webpack://grafana-pyroscope-app/../node_modules/rxjs/dist/esm5/internal/operators/mergeInternals.js","webpack://grafana-pyroscope-app/../node_modules/rxjs/dist/esm5/internal/util/executeSchedule.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/querying/layers/annotations/standardAnnotationsSupport.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/querying/layers/annotations/standardAnnotationQuery.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/querying/layers/annotations/utils.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/querying/layers/annotations/AnnotationsDataLayer.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/core/SceneTimeZoneOverride.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/querying/SceneDataLayerSet.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/querying/SceneDataTransformer.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/variables/components/VariableValueSelectors.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/variables/components/VariableValueControl.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/variables/sets/SceneVariableSet.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/variables/variants/ConstantVariable.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/variables/variants/CustomVariable.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/variables/variants/DataSourceVariable.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/variables/variants/query/guards.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/variables/variants/query/createQueryVariableRunner.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/variables/variants/query/utils.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/variables/variants/query/toMetricFindValues.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/variables/variants/query/QueryVariable.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/utils/metricTree.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/variables/variants/TestVariable.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/variables/components/VariableValueInput.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/variables/variants/TextBoxVariable.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/variables/variants/LocalValueVariable.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/variables/variants/IntervalVariable.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/services/UrlSyncManager.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/components/EmbeddedScene.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/utils/compatibility/setWindowGrafanaSceneContext.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/components/VizPanel/VizPanelMenu.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/components/layout/grid/SceneGridItem.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/node_modules/react-virtualized-auto-sizer/dist/index.esm.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/node_modules/react-use/esm/useEffectOnce.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/components/layout/LazyLoader.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/components/layout/grid/SceneGridLayoutRenderer.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/components/layout/grid/utils.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/components/layout/grid/SceneGridLayout.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/components/layout/grid/constants.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/components/layout/grid/SceneGridRow.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/components/NestedScene.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/components/SceneCanvasText.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/components/SceneToolbarButton.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/components/SceneTimePicker.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/components/SceneRefreshPicker.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/utils/getCompareSeriesRefId.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/components/SceneTimeRangeCompare.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/components/SceneByFrameRepeater.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/components/SceneByVariableRepeater.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/components/SceneControlsSpacer.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/components/layout/SceneFlexLayout.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/components/layout/CSSGrid/SceneCSSGridLayout.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/components/layout/split/Splitter.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/components/layout/split/SplitLayout.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/components/layout/split/SplitLayoutRenderer.js","webpack://grafana-pyroscope-app/../node_modules/react-router-dom/dist/index.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/components/SceneApp/SceneApp.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/components/SceneReactObject.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/components/SceneDebugger/DebugDetails.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/components/SceneDebugger/DebugTreeNode.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/components/SceneDebugger/SceneDebugger.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/components/SceneApp/SceneAppPageView.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/components/SceneApp/SceneAppPage.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/schema/dist/esm/common.gen-CZ1M9G8L.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/schema/dist/esm/raw/composable/barchart/panelcfg/x/BarChartPanelCfg_types.gen.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/schema/dist/esm/raw/composable/bargauge/panelcfg/x/BarGaugePanelCfg_types.gen.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/schema/dist/esm/raw/composable/datagrid/panelcfg/x/DatagridPanelCfg_types.gen.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/schema/dist/esm/raw/composable/gauge/panelcfg/x/GaugePanelCfg_types.gen.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/schema/dist/esm/raw/composable/geomap/panelcfg/x/GeomapPanelCfg_types.gen.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/schema/dist/esm/raw/composable/heatmap/panelcfg/x/HeatmapPanelCfg_types.gen.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/schema/dist/esm/raw/composable/histogram/panelcfg/x/HistogramPanelCfg_types.gen.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/schema/dist/esm/raw/composable/news/panelcfg/x/NewsPanelCfg_types.gen.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/schema/dist/esm/raw/composable/piechart/panelcfg/x/PieChartPanelCfg_types.gen.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/schema/dist/esm/raw/composable/stat/panelcfg/x/StatPanelCfg_types.gen.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/schema/dist/esm/raw/composable/statetimeline/panelcfg/x/StateTimelinePanelCfg_types.gen.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/schema/dist/esm/raw/composable/statushistory/panelcfg/x/StatusHistoryPanelCfg_types.gen.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/schema/dist/esm/raw/composable/table/panelcfg/x/TablePanelCfg_types.gen.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/schema/dist/esm/raw/composable/text/panelcfg/x/TextPanelCfg_types.gen.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/schema/dist/esm/raw/composable/xychart/panelcfg/x/XYChartPanelCfg_types.gen.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/core/PanelBuilders/StandardFieldConfigBuilders.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/core/PanelBuilders/FieldConfigOverridesBuilder.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/core/PanelBuilders/FieldConfigBuilder.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/core/PanelBuilders/PanelOptionsBuilder.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/core/PanelBuilders/VizPanelBuilder.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/core/PanelBuilders/index.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/core/PanelBuilders/VizConfigBuilders.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/index.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/scenes/dist/esm/variables/variants/guards.js","webpack://grafana-pyroscope-app/../node_modules/@protobufjs/aspromise/index.js","webpack://grafana-pyroscope-app/../node_modules/@protobufjs/base64/index.js","webpack://grafana-pyroscope-app/../node_modules/@protobufjs/codegen/index.js","webpack://grafana-pyroscope-app/../node_modules/@protobufjs/eventemitter/index.js","webpack://grafana-pyroscope-app/../node_modules/@protobufjs/fetch/index.js","webpack://grafana-pyroscope-app/../node_modules/@protobufjs/float/index.js","webpack://grafana-pyroscope-app/../node_modules/@protobufjs/inquire/index.js","webpack://grafana-pyroscope-app/../node_modules/@protobufjs/path/index.js","webpack://grafana-pyroscope-app/../node_modules/@protobufjs/pool/index.js","webpack://grafana-pyroscope-app/../node_modules/@protobufjs/utf8/index.js","webpack://grafana-pyroscope-app/../node_modules/color-convert/conversions.js","webpack://grafana-pyroscope-app/../node_modules/color-convert/index.js","webpack://grafana-pyroscope-app/../node_modules/color-convert/route.js","webpack://grafana-pyroscope-app/../node_modules/color-name/index.js","webpack://grafana-pyroscope-app/../node_modules/color-string/index.js","webpack://grafana-pyroscope-app/../node_modules/color/index.js","webpack://grafana-pyroscope-app/../node_modules/file-saver/dist/FileSaver.min.js","webpack://grafana-pyroscope-app/../node_modules/lodash.isequal/index.js","webpack://grafana-pyroscope-app/../node_modules/object-assign/index.js","webpack://grafana-pyroscope-app/../node_modules/prop-types/factoryWithThrowingShims.js","webpack://grafana-pyroscope-app/../node_modules/prop-types/index.js","webpack://grafana-pyroscope-app/../node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack://grafana-pyroscope-app/../node_modules/protobufjs/light.js","webpack://grafana-pyroscope-app/../node_modules/protobufjs/src/converter.js","webpack://grafana-pyroscope-app/../node_modules/protobufjs/src/decoder.js","webpack://grafana-pyroscope-app/../node_modules/protobufjs/src/encoder.js","webpack://grafana-pyroscope-app/../node_modules/protobufjs/src/enum.js","webpack://grafana-pyroscope-app/../node_modules/protobufjs/src/field.js","webpack://grafana-pyroscope-app/../node_modules/protobufjs/src/index-light.js","webpack://grafana-pyroscope-app/../node_modules/protobufjs/src/index-minimal.js","webpack://grafana-pyroscope-app/../node_modules/protobufjs/src/mapfield.js","webpack://grafana-pyroscope-app/../node_modules/protobufjs/src/message.js","webpack://grafana-pyroscope-app/../node_modules/protobufjs/src/method.js","webpack://grafana-pyroscope-app/../node_modules/protobufjs/src/namespace.js","webpack://grafana-pyroscope-app/../node_modules/protobufjs/src/object.js","webpack://grafana-pyroscope-app/../node_modules/protobufjs/src/oneof.js","webpack://grafana-pyroscope-app/../node_modules/protobufjs/src/reader.js","webpack://grafana-pyroscope-app/../node_modules/protobufjs/src/reader_buffer.js","webpack://grafana-pyroscope-app/../node_modules/protobufjs/src/root.js","webpack://grafana-pyroscope-app/../node_modules/protobufjs/src/roots.js","webpack://grafana-pyroscope-app/../node_modules/protobufjs/src/rpc.js","webpack://grafana-pyroscope-app/../node_modules/protobufjs/src/rpc/service.js","webpack://grafana-pyroscope-app/../node_modules/protobufjs/src/service.js","webpack://grafana-pyroscope-app/../node_modules/protobufjs/src/type.js","webpack://grafana-pyroscope-app/../node_modules/protobufjs/src/types.js","webpack://grafana-pyroscope-app/../node_modules/protobufjs/src/util.js","webpack://grafana-pyroscope-app/../node_modules/protobufjs/src/util/longbits.js","webpack://grafana-pyroscope-app/../node_modules/protobufjs/src/util/minimal.js","webpack://grafana-pyroscope-app/../node_modules/protobufjs/src/verifier.js","webpack://grafana-pyroscope-app/../node_modules/protobufjs/src/wrappers.js","webpack://grafana-pyroscope-app/../node_modules/protobufjs/src/writer.js","webpack://grafana-pyroscope-app/../node_modules/protobufjs/src/writer_buffer.js","webpack://grafana-pyroscope-app/../node_modules/react-draggable/build/cjs/Draggable.js","webpack://grafana-pyroscope-app/../node_modules/react-draggable/build/cjs/DraggableCore.js","webpack://grafana-pyroscope-app/../node_modules/react-draggable/build/cjs/cjs.js","webpack://grafana-pyroscope-app/../node_modules/react-draggable/build/cjs/utils/domFns.js","webpack://grafana-pyroscope-app/../node_modules/react-draggable/build/cjs/utils/getPrefix.js","webpack://grafana-pyroscope-app/../node_modules/react-draggable/build/cjs/utils/log.js","webpack://grafana-pyroscope-app/../node_modules/react-draggable/build/cjs/utils/positionFns.js","webpack://grafana-pyroscope-app/../node_modules/react-draggable/build/cjs/utils/shims.js","webpack://grafana-pyroscope-app/../node_modules/react-draggable/node_modules/clsx/dist/clsx.m.js","webpack://grafana-pyroscope-app/../node_modules/react-fast-compare/index.js","webpack://grafana-pyroscope-app/../node_modules/react-grid-layout/build/GridItem.js","webpack://grafana-pyroscope-app/../node_modules/react-grid-layout/build/ReactGridLayout.js","webpack://grafana-pyroscope-app/../node_modules/react-grid-layout/build/ReactGridLayoutPropTypes.js","webpack://grafana-pyroscope-app/../node_modules/react-grid-layout/build/ResponsiveReactGridLayout.js","webpack://grafana-pyroscope-app/../node_modules/react-grid-layout/build/calculateUtils.js","webpack://grafana-pyroscope-app/../node_modules/react-grid-layout/build/components/WidthProvider.js","webpack://grafana-pyroscope-app/../node_modules/react-grid-layout/build/fastRGLPropsEqual.js","webpack://grafana-pyroscope-app/../node_modules/react-grid-layout/build/responsiveUtils.js","webpack://grafana-pyroscope-app/../node_modules/react-grid-layout/build/utils.js","webpack://grafana-pyroscope-app/../node_modules/react-grid-layout/index.js","webpack://grafana-pyroscope-app/../node_modules/react-grid-layout/node_modules/clsx/dist/clsx.m.js","webpack://grafana-pyroscope-app/../node_modules/react-helmet/es/Helmet.js","webpack://grafana-pyroscope-app/../node_modules/react-resizable/build/Resizable.js","webpack://grafana-pyroscope-app/../node_modules/react-resizable/build/ResizableBox.js","webpack://grafana-pyroscope-app/../node_modules/react-resizable/build/propTypes.js","webpack://grafana-pyroscope-app/../node_modules/react-resizable/build/utils.js","webpack://grafana-pyroscope-app/../node_modules/react-resizable/index.js","webpack://grafana-pyroscope-app/../node_modules/react-side-effect/lib/index.js","webpack://grafana-pyroscope-app/../node_modules/react-use/esm/misc/util.js","webpack://grafana-pyroscope-app/../node_modules/react-use/esm/useLocalStorage.js","webpack://grafana-pyroscope-app/../node_modules/react/cjs/react-jsx-runtime.production.min.js","webpack://grafana-pyroscope-app/../node_modules/react/jsx-runtime.js","webpack://grafana-pyroscope-app/../node_modules/rxjs/dist/esm5/internal/util/noop.js","webpack://grafana-pyroscope-app/../node_modules/rxjs/dist/esm5/internal/NotificationFactories.js","webpack://grafana-pyroscope-app/../node_modules/rxjs/dist/esm5/internal/Subscriber.js","webpack://grafana-pyroscope-app/../node_modules/rxjs/dist/esm5/internal/util/UnsubscriptionError.js","webpack://grafana-pyroscope-app/../node_modules/rxjs/dist/esm5/internal/util/createErrorClass.js","webpack://grafana-pyroscope-app/../node_modules/rxjs/dist/esm5/internal/util/arrRemove.js","webpack://grafana-pyroscope-app/../node_modules/rxjs/dist/esm5/internal/Subscription.js","webpack://grafana-pyroscope-app/../node_modules/rxjs/dist/esm5/internal/config.js","webpack://grafana-pyroscope-app/../node_modules/rxjs/dist/esm5/internal/operators/OperatorSubscriber.js","webpack://grafana-pyroscope-app/../node_modules/rxjs/dist/esm5/internal/operators/map.js","webpack://grafana-pyroscope-app/../node_modules/rxjs/dist/esm5/internal/scheduler/timeoutProvider.js","webpack://grafana-pyroscope-app/../node_modules/rxjs/dist/esm5/internal/util/errorContext.js","webpack://grafana-pyroscope-app/../node_modules/rxjs/dist/esm5/internal/util/identity.js","webpack://grafana-pyroscope-app/../node_modules/rxjs/dist/esm5/internal/util/isFunction.js","webpack://grafana-pyroscope-app/../node_modules/rxjs/dist/esm5/internal/util/lift.js","webpack://grafana-pyroscope-app/../node_modules/rxjs/dist/esm5/internal/util/reportUnhandledError.js","webpack://grafana-pyroscope-app/../node_modules/simple-swizzle/index.js","webpack://grafana-pyroscope-app/../node_modules/simple-swizzle/node_modules/is-arrayish/index.js","webpack://grafana-pyroscope-app/../node_modules/ua-parser-js/src/ua-parser.js","webpack://grafana-pyroscope-app/../node_modules/xstate/es/Actor.js","webpack://grafana-pyroscope-app/../node_modules/xstate/es/invokeUtils.js","webpack://grafana-pyroscope-app/../node_modules/xstate/es/StateNode.js","webpack://grafana-pyroscope-app/../node_modules/xstate/es/Machine.js","webpack://grafana-pyroscope-app/../node_modules/xstate/es/State.js","webpack://grafana-pyroscope-app/../node_modules/xstate/es/_virtual/_tslib.js","webpack://grafana-pyroscope-app/../node_modules/xstate/es/actionTypes.js","webpack://grafana-pyroscope-app/../node_modules/xstate/es/actions.js","webpack://grafana-pyroscope-app/../node_modules/xstate/es/constants.js","webpack://grafana-pyroscope-app/../node_modules/xstate/es/environment.js","webpack://grafana-pyroscope-app/../node_modules/xstate/es/index.js","webpack://grafana-pyroscope-app/../node_modules/xstate/es/scheduler.js","webpack://grafana-pyroscope-app/../node_modules/xstate/es/registry.js","webpack://grafana-pyroscope-app/../node_modules/xstate/es/devTools.js","webpack://grafana-pyroscope-app/../node_modules/xstate/es/behaviors.js","webpack://grafana-pyroscope-app/../node_modules/xstate/es/interpreter.js","webpack://grafana-pyroscope-app/../node_modules/xstate/es/serviceScope.js","webpack://grafana-pyroscope-app/../node_modules/xstate/es/stateUtils.js","webpack://grafana-pyroscope-app/../node_modules/xstate/es/types.js","webpack://grafana-pyroscope-app/../node_modules/xstate/es/utils.js","webpack://grafana-pyroscope-app/../node_modules/@bufbuild/protobuf/dist/esm/wire/base64-encoding.js","webpack://grafana-pyroscope-app/../node_modules/@bufbuild/protobuf/dist/esm/reflect/names.js","webpack://grafana-pyroscope-app/../node_modules/@bufbuild/protobuf/dist/esm/codegenv1/restore-json-names.js","webpack://grafana-pyroscope-app/../node_modules/@bufbuild/protobuf/dist/esm/wire/text-format.js","webpack://grafana-pyroscope-app/../node_modules/@bufbuild/protobuf/dist/esm/reflect/nested-types.js","webpack://grafana-pyroscope-app/../node_modules/@bufbuild/protobuf/dist/esm/registry.js","webpack://grafana-pyroscope-app/../node_modules/@bufbuild/protobuf/dist/esm/codegenv1/boot.js","webpack://grafana-pyroscope-app/../node_modules/@bufbuild/protobuf/dist/esm/wkt/gen/google/protobuf/descriptor_pb.js","webpack://grafana-pyroscope-app/../node_modules/@bufbuild/protobuf/dist/esm/reflect/error.js","webpack://grafana-pyroscope-app/../node_modules/@bufbuild/protobuf/dist/esm/wire/text-encoding.js","webpack://grafana-pyroscope-app/../node_modules/@bufbuild/protobuf/dist/esm/wire/binary-encoding.js","webpack://grafana-pyroscope-app/../node_modules/@bufbuild/protobuf/dist/esm/reflect/reflect-check.js","webpack://grafana-pyroscope-app/../node_modules/@bufbuild/protobuf/dist/esm/reflect/reflect.js","webpack://grafana-pyroscope-app/../node_modules/@bufbuild/protobuf/dist/esm/from-binary.js","webpack://grafana-pyroscope-app/../node_modules/@bufbuild/protobuf/dist/esm/codegenv1/file.js","webpack://grafana-pyroscope-app/../node_modules/@bufbuild/protobuf/dist/esm/codegenv1/message.js","webpack://grafana-pyroscope-app/../node_modules/@bufbuild/protobuf/dist/esm/create.js","webpack://grafana-pyroscope-app/../node_modules/@bufbuild/protobuf/dist/esm/descriptors.js","webpack://grafana-pyroscope-app/../node_modules/@bufbuild/protobuf/dist/esm/is-message.js","webpack://grafana-pyroscope-app/../node_modules/@bufbuild/protobuf/dist/esm/proto-int64.js","webpack://grafana-pyroscope-app/../node_modules/@bufbuild/protobuf/dist/esm/reflect/guard.js","webpack://grafana-pyroscope-app/../node_modules/@bufbuild/protobuf/dist/esm/reflect/scalar.js","webpack://grafana-pyroscope-app/../node_modules/@bufbuild/protobuf/dist/esm/reflect/unsafe.js","webpack://grafana-pyroscope-app/../node_modules/@bufbuild/protobuf/dist/esm/wire/varint.js","webpack://grafana-pyroscope-app/../node_modules/@bufbuild/protobuf/dist/esm/wkt/wrappers.js","webpack://grafana-pyroscope-app/../node_modules/react-use/esm/useIsomorphicLayoutEffect.js","webpack://grafana-pyroscope-app/../node_modules/react-use/esm/useMeasure.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/flamegraph/dist/esm/constants.mjs","webpack://grafana-pyroscope-app/../node_modules/@grafana/flamegraph/dist/esm/FlameGraph/FlameGraphContextMenu.mjs","webpack://grafana-pyroscope-app/../node_modules/@grafana/flamegraph/dist/esm/FlameGraph/FlameGraphTooltip.mjs","webpack://grafana-pyroscope-app/../node_modules/tinycolor2/esm/tinycolor.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/flamegraph/dist/esm/types.mjs","webpack://grafana-pyroscope-app/../node_modules/@grafana/flamegraph/dist/esm/FlameGraph/colors.mjs","webpack://grafana-pyroscope-app/../node_modules/@grafana/flamegraph/dist/esm/FlameGraph/murmur3.mjs","webpack://grafana-pyroscope-app/../node_modules/@grafana/flamegraph/dist/esm/FlameGraph/rendering.mjs","webpack://grafana-pyroscope-app/../node_modules/@grafana/flamegraph/dist/esm/FlameGraph/FlameGraphCanvas.mjs","webpack://grafana-pyroscope-app/../node_modules/@grafana/flamegraph/dist/esm/FlameGraph/FlameGraphMetadata.mjs","webpack://grafana-pyroscope-app/../node_modules/@grafana/flamegraph/dist/esm/FlameGraph/FlameGraph.mjs","webpack://grafana-pyroscope-app/../node_modules/@grafana/flamegraph/dist/esm/FlameGraph/treeTransforms.mjs","webpack://grafana-pyroscope-app/../node_modules/@grafana/flamegraph/dist/esm/FlameGraph/dataTransform.mjs","webpack://grafana-pyroscope-app/../node_modules/react-use/esm/useDebounce.js","webpack://grafana-pyroscope-app/../node_modules/react-use/esm/useTimeoutFn.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/flamegraph/dist/esm/AnalyzeFlameGraphButton.mjs","webpack://grafana-pyroscope-app/../node_modules/@grafana/flamegraph/dist/esm/FlameGraphHeader.mjs","webpack://grafana-pyroscope-app/../node_modules/react-use/esm/usePrevious.js","webpack://grafana-pyroscope-app/../node_modules/react-virtualized-auto-sizer/dist/react-virtualized-auto-sizer.esm.js","webpack://grafana-pyroscope-app/../node_modules/@grafana/flamegraph/dist/esm/TopTable/FlameGraphTopTableContainer.mjs","webpack://grafana-pyroscope-app/../node_modules/@grafana/flamegraph/dist/esm/utils.mjs","webpack://grafana-pyroscope-app/../node_modules/@grafana/flamegraph/dist/esm/FlameGraphContainer.mjs","webpack://grafana-pyroscope-app/../node_modules/@grafana/schema/dist/esm/common/common.gen.mjs","webpack://grafana-pyroscope-app/../node_modules/@leeoniya/ufuzzy/dist/uFuzzy.mjs","webpack://grafana-pyroscope-app/../node_modules/@react-aria/utils/dist/useResizeObserver.mjs","webpack://grafana-pyroscope-app/../node_modules/@tanstack/query-core/build/modern/focusManager.js","webpack://grafana-pyroscope-app/../node_modules/@tanstack/query-core/build/modern/mutation.js","webpack://grafana-pyroscope-app/../node_modules/@tanstack/query-core/build/modern/notifyManager.js","webpack://grafana-pyroscope-app/../node_modules/@tanstack/query-core/build/modern/onlineManager.js","webpack://grafana-pyroscope-app/../node_modules/@tanstack/query-core/build/modern/query.js","webpack://grafana-pyroscope-app/../node_modules/@tanstack/query-core/build/modern/queryCache.js","webpack://grafana-pyroscope-app/../node_modules/@tanstack/query-core/build/modern/mutationCache.js","webpack://grafana-pyroscope-app/../node_modules/@tanstack/query-core/build/modern/infiniteQueryBehavior.js","webpack://grafana-pyroscope-app/../node_modules/@tanstack/query-core/build/modern/queryClient.js","webpack://grafana-pyroscope-app/../node_modules/@tanstack/query-core/build/modern/removable.js","webpack://grafana-pyroscope-app/../node_modules/@tanstack/query-core/build/modern/retryer.js","webpack://grafana-pyroscope-app/../node_modules/@tanstack/query-core/build/modern/subscribable.js","webpack://grafana-pyroscope-app/../node_modules/@tanstack/query-core/build/modern/utils.js","webpack://grafana-pyroscope-app/../node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js","webpack://grafana-pyroscope-app/../node_modules/@tanstack/query-core/build/modern/mutationObserver.js","webpack://grafana-pyroscope-app/../node_modules/@tanstack/react-query/build/modern/useMutation.js","webpack://grafana-pyroscope-app/../node_modules/@tanstack/query-core/build/modern/queryObserver.js","webpack://grafana-pyroscope-app/../node_modules/@tanstack/react-query/build/modern/QueryErrorResetBoundary.js","webpack://grafana-pyroscope-app/../node_modules/@tanstack/react-query/build/modern/isRestoring.js","webpack://grafana-pyroscope-app/../node_modules/@tanstack/react-query/build/modern/errorBoundaryUtils.js","webpack://grafana-pyroscope-app/../node_modules/@tanstack/react-query/build/modern/suspense.js","webpack://grafana-pyroscope-app/../node_modules/@tanstack/react-query/build/modern/useQuery.js","webpack://grafana-pyroscope-app/../node_modules/@tanstack/react-query/build/modern/useBaseQuery.js","webpack://grafana-pyroscope-app/../node_modules/@tanstack/react-query/build/modern/utils.js","webpack://grafana-pyroscope-app/../node_modules/fflate/esm/browser.js","webpack://grafana-pyroscope-app/../node_modules/compression-streams-polyfill/esm/ponyfill.mjs","webpack://grafana-pyroscope-app/../node_modules/compression-streams-polyfill/esm/index.mjs","webpack://grafana-pyroscope-app/../node_modules/markdown-to-jsx/dist/index.modern.js","webpack://grafana-pyroscope-app/../node_modules/nanoid/index.browser.js","webpack://grafana-pyroscope-app/../node_modules/nanoid/url-alphabet/index.js","webpack://grafana-pyroscope-app/../node_modules/p-limit/node_modules/yocto-queue/index.js","webpack://grafana-pyroscope-app/../node_modules/p-limit/index.js","webpack://grafana-pyroscope-app/../node_modules/react-hook-form/dist/index.esm.mjs","webpack://grafana-pyroscope-app/../node_modules/react-inlinesvg/node_modules/react-from-dom/dist/index.mjs","webpack://grafana-pyroscope-app/../node_modules/react-inlinesvg/dist/index.mjs","webpack://grafana-pyroscope-app/../node_modules/rxjs/node_modules/tslib/tslib.es6.mjs"],"sourcesContent":["(()=>{\"use strict\";var e,t={d:(e,a)=>{for(var n in a)t.o(a,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:a[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},a={};function n(e){let t=5381;for(let a=0;a<e.length;a++)t=(t<<5)+t+e.charCodeAt(a);return(t>>>0).toString(16)}t.r(a),t.d(a,{CALLBACK_EXTENSION_POINT:()=>N,DashboardNodeData:()=>o,DatasourceNodeData:()=>d,FolderNodeData:()=>i,ItemDataType:()=>e,LabelNameNodeData:()=>l,LabelValueNodeData:()=>c,StructuredNodeData:()=>r,closeAssistant:()=>V,createContext:()=>p,getExposeAssistantFunctionsConfig:()=>D,isAssistantAvailable:()=>I,newFunctionNamespace:()=>U,openAssistant:()=>P,providePageContext:()=>E,useAssistant:()=>O,usePageContext:()=>y}),function(e){e.Unknown=\"unknown\",e.Datasource=\"datasource\",e.LabelName=\"label_name\",e.LabelValue=\"label_value\",e.Dashboard=\"dashboard\",e.DashboardFolder=\"dashboard_folder\",e.Structured=\"structured\"}(e||(e={}));class s{constructor(e){this.params=e,this.text=\"\",this.id=n(e.id)}formatForLLM(t){var a,n;return{type:e.Unknown,codeElementIds:t,data:{name:null!==(a=this.params.text)&&void 0!==a?a:\"\",text:null!==(n=this.params.text)&&void 0!==n?n:\"\"}}}}class r{constructor(e){this.params=e,this.id=n(JSON.stringify(e.data))}formatForLLM(t){return{type:e.Structured,codeElementIds:t,data:this.params.data}}}class o extends s{constructor(e){super({...e,id:e.dashboardUid}),this.text=\"\",this.dashboardUid=e.dashboardUid,this.dashboardTitle=e.dashboardTitle,this.folderUid=e.folderUid,this.folderTitle=e.folderTitle,this.text=e.dashboardTitle}formatForLLM(t){return{type:e.Dashboard,codeElementIds:t,data:{name:this.dashboardTitle,dashboardUid:this.dashboardUid,dashboardTitle:this.dashboardTitle,folderUid:this.folderUid,folderTitle:this.folderTitle,text:this.text}}}}class i extends s{constructor(e){super({...e,id:e.folderUid}),this.text=\"\",this.folderUid=e.folderUid,this.folderTitle=e.folderTitle,this.text=e.folderTitle}formatForLLM(t){return{type:e.DashboardFolder,codeElementIds:t,data:{name:this.folderTitle,folderUid:this.folderUid,folderTitle:this.folderTitle,text:this.text}}}}class d extends s{constructor(e){super({...e,id:e.datasourceUid}),this.text=\"\",this.datasourceUid=e.datasourceUid,this.datasourceType=e.datasourceType,this.datasourceName=e.datasourceName,this.text=e.datasourceName}formatForLLM(t){return{type:e.Datasource,codeElementIds:t,data:{name:this.datasourceName,uid:this.datasourceUid,type:this.datasourceType,text:this.text}}}}class l extends s{constructor(e){super({...e,id:`${e.datasourceUid}-${e.labelName}`}),this.text=\"\",this.datasourceUid=e.datasourceUid,this.datasourceType=e.datasourceType,this.labelName=e.labelName,this.text=e.labelName}formatForLLM(t){return{type:e.LabelName,codeElementIds:t,data:{name:this.labelName,datasourceUid:this.datasourceUid,datasourceType:this.datasourceType,labelName:this.labelName,text:this.text}}}}class c extends s{constructor(e){super({...e,id:`${e.datasourceUid}-${e.labelName}-${e.labelValue}`}),this.text=\"\",this.datasourceUid=e.datasourceUid,this.datasourceType=e.datasourceType,this.labelName=e.labelName,this.labelValue=e.labelValue,this.text=e.labelValue}formatForLLM(t){return{type:e.LabelValue,codeElementIds:t,data:{name:this.labelValue,datasourceUid:this.datasourceUid,datasourceType:this.datasourceType,labelName:this.labelName,labelValue:this.labelValue,text:this.text}}}}const u={[e.Datasource]:\"database\",[e.LabelName]:\"database\",[e.LabelValue]:\"database\",[e.Dashboard]:\"dashboard\",[e.DashboardFolder]:\"folder\",[e.Unknown]:\"circle-mono\",[e.Structured]:\"gf-grid\"};function h(t,a){return t===e.Datasource?a.datasourceName:t===e.LabelName?a.labelName:t===e.LabelValue?a.labelValue:t===e.Dashboard?a.dashboardTitle:t===e.DashboardFolder?a.folderTitle:t===e.Structured?a.data.name:\"Given Context\"}function p(e,t){var a,n;const p=function(e,t){switch(e){case\"datasource\":return new d(t);case\"label_name\":return new l(t);case\"label_value\":return new c(t);case\"dashboard\":return new o(t);case\"dashboard_folder\":return new i(t);case\"structured\":return new r(t);case\"unknown\":return new s(t);default:return console.error(`Unknown context type: ${e}`),new s(t)}}(e,t);return{node:{id:p.id,name:null!==(a=t.title)&&void 0!==a?a:h(e,t),icon:null!==(n=t.icon)&&void 0!==n?n:u[e],navigable:!1,selectable:!0,data:p},occurrences:[]}}const f=require(\"@grafana/runtime\"),b=require(\"react\"),m=[],v=\"grafana-assistant:page-context-sync\",x=\"grafana-assistant:page-context-update\",w=\"grafana-assistant:page-context-remove\",g=\"grafana-assistant:location-changed\";let L=!1;function E(e,t){const a=m.findIndex((t=>{return a=t.urlPattern,n=e,\"string\"==typeof a&&\"string\"==typeof n?a===n:a instanceof RegExp&&n instanceof RegExp&&a.source===n.source&&a.flags===n.flags;var a,n}));let n;-1!==a?(n=m[a],n.context=[...t]):(n={id:`page-context-${Date.now()}-${Math.random().toString(36).slice(2,11)}`,urlPattern:e,context:[...t]},m.push(n)),window.dispatchEvent(new CustomEvent(x,{detail:n})),window.dispatchEvent(new CustomEvent(v,{detail:{registry:m}}));const s=e=>{const t=m.findIndex((e=>e.id===n.id));-1!==t&&(m[t].context=[...e],window.dispatchEvent(new CustomEvent(x,{detail:m[t]})))};return s.unregister=()=>{const e=m.findIndex((e=>e.id===n.id));-1!==e&&(m.splice(e,1),window.dispatchEvent(new CustomEvent(w,{detail:{id:n.id}})))},s}function y(){const[e,t]=(0,b.useState)([]),a=(0,f.useLocationService)(),n=(0,b.useRef)(\"\");return(0,b.useEffect)((()=>{const e=()=>{const e=function(e,t){if(!e)return[];const a=[];for(const n of t)T(e,n.urlPattern)&&a.push(...n.context);return a}(a.getLocation().pathname,m);t(e)},s=()=>{e()},r=t=>{var n;const s=null===(n=t.detail)||void 0===n?void 0:n.pathname;s&&s===a.getLocation().pathname&&e()},o=a.getLocationObservable().subscribe((t=>{const a=t.pathname;a!==n.current&&(n.current=a,function(e){window.dispatchEvent(new CustomEvent(g,{detail:{pathname:e}}))}(a),e())}));return e(),window.addEventListener(v,s),window.addEventListener(x,s),window.addEventListener(w,s),window.addEventListener(g,r),()=>{o.unsubscribe(),window.removeEventListener(v,s),window.removeEventListener(x,s),window.removeEventListener(w,s),window.removeEventListener(g,r)}}),[a]),e}function T(e,t){if(t instanceof RegExp)return t.test(e);if(\"string\"==typeof t){const a=t.replace(/\\*\\*/g,\"\\0DOUBLE_STAR\\0\").replace(/\\*/g,\"[^/]*\").replace(/\\u0000DOUBLE_STAR\\u0000/g,\".*\").replace(/\\?/g,\".\");return new RegExp(`^${a}$`).test(e)}return!1}L||(window.addEventListener(v,(e=>{var t;const a=null===(t=e.detail)||void 0===t?void 0:t.registry;if(a){const e=new Set(m.map((e=>e.id))),t=a.filter((t=>!e.has(t.id)));m.push(...t)}})),window.addEventListener(x,(e=>{const t=e.detail;if(t){const e=m.findIndex((e=>e.id===t.id));-1!==e?m[e]=t:m.push(t)}})),window.addEventListener(w,(e=>{var t;const a=null===(t=e.detail)||void 0===t?void 0:t.id;if(a){const e=m.findIndex((e=>e.id===a));-1!==e&&m.splice(e,1)}})),L=!0);const N=\"grafana-assistant-app/callback/v0-alpha\";function U(e,t){return{namespace:e,functions:t}}function D(e){return{title:\"callback\",targets:[N],fn:()=>e.map((e=>({namespace:e.namespace,functions:e.functions})))}}const S=require(\"rxjs\");function I(){return(0,f.getObservablePluginLinks)({extensionPointId:\"grafana/extension-sidebar/v0-alpha\"}).pipe((0,S.map)((e=>e.some((e=>\"grafana-assistant-app\"===e.pluginId&&\"Grafana Assistant\"===e.title)))))}const A=require(\"@grafana/data\");class C extends A.BusEventWithPayload{}C.type=\"open-extension-sidebar\";class F extends A.BusEventBase{}function P(e){!function(e,t,a){const n=new C({pluginId:\"grafana-assistant-app\",componentTitle:\"Grafana Assistant\",props:a});(0,f.getAppEvents)().publish(n)}(0,0,{initialPrompt:e.prompt,initialContext:e.context})}function V(){!function(){const e=new F;(0,f.getAppEvents)().publish(e)}()}function O(){const[e,t]=(0,b.useState)(!1);return(0,b.useEffect)((()=>{const e=I().subscribe((e=>t(e)));return()=>{e.unsubscribe()}}),[]),[e,e?P:void 0,e?V:void 0]}F.type=\"close-extension-sidebar\",module.exports=a})();","const Components = {\n  RadioButton: {\n    container: \"data-testid radio-button\"\n  },\n  Breadcrumbs: {\n    breadcrumb: (title) => `data-testid ${title} breadcrumb`\n  },\n  TimePicker: {\n    openButton: \"data-testid TimePicker Open Button\",\n    overlayContent: \"data-testid TimePicker Overlay Content\",\n    fromField: \"data-testid Time Range from field\",\n    toField: \"data-testid Time Range to field\",\n    applyTimeRange: \"data-testid TimePicker submit button\",\n    copyTimeRange: \"data-testid TimePicker copy button\",\n    pasteTimeRange: \"data-testid TimePicker paste button\",\n    calendar: {\n      label: \"data-testid Time Range calendar\",\n      openButton: \"data-testid Open time range calendar\",\n      closeButton: \"data-testid Close time range Calendar\"\n    },\n    absoluteTimeRangeTitle: \"data-testid-absolute-time-range-narrow\"\n  },\n  DataSourcePermissions: {\n    form: () => 'form[name=\"addPermission\"]',\n    roleType: \"Role to add new permission to\",\n    rolePicker: \"Built-in role picker\",\n    permissionLevel: \"Permission Level\"\n  },\n  DateTimePicker: {\n    input: \"data-testid date-time-input\"\n  },\n  DataSource: {\n    TestData: {\n      QueryTab: {\n        scenarioSelectContainer: \"Test Data Query scenario select container\",\n        scenarioSelect: \"Test Data Query scenario select\",\n        max: \"TestData max\",\n        min: \"TestData min\",\n        noise: \"TestData noise\",\n        seriesCount: \"TestData series count\",\n        spread: \"TestData spread\",\n        startValue: \"TestData start value\",\n        drop: \"TestData drop values\"\n      }\n    },\n    DataSourceHttpSettings: {\n      urlInput: \"data-testid Datasource HTTP settings url\"\n    },\n    Jaeger: {\n      traceIDInput: \"Trace ID\"\n    },\n    Prometheus: {\n      configPage: {\n        connectionSettings: \"Data source connection URL\",\n        // aria-label in grafana experimental\n        manageAlerts: \"prometheus-alerts-manager\",\n        // id for switch component\n        scrapeInterval: \"data-testid scrape interval\",\n        queryTimeout: \"data-testid query timeout\",\n        defaultEditor: \"data-testid default editor\",\n        disableMetricLookup: \"disable-metric-lookup\",\n        // id for switch component\n        prometheusType: \"data-testid prometheus type\",\n        prometheusVersion: \"data-testid prometheus version\",\n        cacheLevel: \"data-testid cache level\",\n        incrementalQuerying: \"prometheus-incremental-querying\",\n        // id for switch component\n        queryOverlapWindow: \"data-testid query overlap window\",\n        disableRecordingRules: \"disable-recording-rules\",\n        // id for switch component\n        customQueryParameters: \"data-testid custom query parameters\",\n        httpMethod: \"data-testid http method\",\n        exemplarsAddButton: \"data-testid Add exemplar config button\",\n        internalLinkSwitch: \"data-testid Internal link switch\"\n      },\n      queryEditor: {\n        // kickstart: '', see QueryBuilder queryPatterns below\n        explain: \"data-testid prometheus explain switch wrapper\",\n        editorToggle: \"data-testid QueryEditorModeToggle\",\n        // wrapper for toggle\n        options: \"data-testid prometheus options\",\n        // wrapper for options group\n        legend: \"data-testid prometheus legend wrapper\",\n        // wrapper for multiple compomnents\n        format: \"data-testid prometheus format\",\n        step: \"prometheus-step\",\n        // id for autosize component\n        type: \"data-testid prometheus type\",\n        //wrapper for radio button group\n        exemplars: \"prometheus-exemplars\",\n        // id for editor switch component\n        builder: {\n          // see QueryBuilder below for commented selectors\n          // labelSelect: 'data-testid Select label',\n          // valueSelect: 'data-testid Select value',\n          // matchOperatorSelect: 'data-testid Select match operator',\n          metricSelect: \"data-testid metric select\",\n          hints: \"data-testid prometheus hints\",\n          // wrapper for hints component\n          metricsExplorer: \"data-testid metrics explorer\",\n          queryAdvisor: \"data-testid query advisor\"\n        },\n        code: {\n          queryField: \"data-testid prometheus query field\",\n          metricsBrowser: {\n            openButton: \"data-testid open metrics browser\",\n            selectMetric: \"data-testid select a metric\",\n            metricList: \"data-testid metric list\",\n            labelNamesFilter: \"data-testid label names filter\",\n            labelValuesFilter: \"data-testid label values filter\",\n            useQuery: \"data-testid use query\",\n            useAsRateQuery: \"data-testid use as rate query\",\n            validateSelector: \"data-testid validate selector\",\n            clear: \"data-testid clear\"\n          }\n        }\n      },\n      exemplarMarker: \"data-testid Exemplar marker\",\n      variableQueryEditor: {\n        queryType: \"data-testid query type\",\n        labelnames: {\n          metricRegex: \"data-testid label names metric regex\"\n        },\n        labelValues: {\n          labelSelect: \"data-testid label values label select\"\n          // metric select see queryEditor: builder for more context\n          // label select for metric filtering see queryEditor: builder for more context\n        },\n        metricNames: {\n          metricRegex: \"data-testid metric names metric regex\"\n        },\n        varQueryResult: \"data-testid variable query result\",\n        seriesQuery: \"data-testid prometheus series query\",\n        classicQuery: \"data-testid prometheus classic query\"\n      },\n      annotations: {\n        minStep: \"prometheus-annotation-min-step\",\n        // id for autosize input\n        title: \"data-testid prometheus annotation title\",\n        tags: \"data-testid prometheus annotation tags\",\n        text: \"data-testid prometheus annotation text\",\n        seriesValueAsTimestamp: \"data-testid prometheus annotation series value as timestamp\"\n      }\n    }\n  },\n  Menu: {\n    MenuComponent: (title) => `${title} menu`,\n    MenuGroup: (title) => `${title} menu group`,\n    MenuItem: (title) => `${title} menu item`,\n    SubMenu: {\n      container: \"data-testid SubMenu container\",\n      icon: \"data-testid SubMenu icon\"\n    }\n  },\n  Panels: {\n    Panel: {\n      title: (title) => `data-testid Panel header ${title}`,\n      headerItems: (item) => `data-testid Panel header item ${item}`,\n      menuItems: (item) => `data-testid Panel menu item ${item}`,\n      menu: (title) => `data-testid Panel menu ${title}`,\n      containerByTitle: (title) => `${title} panel`,\n      headerCornerInfo: (mode) => `Panel header ${mode}`,\n      status: (status) => `data-testid Panel status ${status}`,\n      loadingBar: () => `Panel loading bar`,\n      HoverWidget: {\n        container: \"data-testid hover-header-container\",\n        dragIcon: \"data-testid drag-icon\"\n      },\n      PanelDataErrorMessage: \"data-testid Panel data error message\"\n    },\n    Visualization: {\n      Graph: {\n        container: \"Graph container\",\n        VisualizationTab: {\n          legendSection: \"Legend section\"\n        },\n        Legend: {\n          legendItemAlias: (name) => `gpl alias ${name}`,\n          showLegendSwitch: \"gpl show legend\"\n        },\n        xAxis: {\n          labels: () => \"div.flot-x-axis > div.flot-tick-label\"\n        }\n      },\n      BarGauge: {\n        /**\n         * @deprecated use valueV2 from Grafana 8.3 instead\n         */\n        value: \"Bar gauge value\",\n        valueV2: \"data-testid Bar gauge value\"\n      },\n      PieChart: {\n        svgSlice: \"data testid Pie Chart Slice\"\n      },\n      Text: {\n        container: () => \".markdown-html\"\n      },\n      Table: {\n        header: \"table header\",\n        footer: \"table-footer\",\n        body: \"data-testid table body\"\n      }\n    }\n  },\n  VizLegend: {\n    seriesName: (name) => `data-testid VizLegend series ${name}`\n  },\n  Drawer: {\n    General: {\n      title: (title) => `Drawer title ${title}`,\n      expand: \"Drawer expand\",\n      contract: \"Drawer contract\",\n      close: \"data-testid Drawer close\",\n      rcContentWrapper: () => \".rc-drawer-content-wrapper\",\n      subtitle: \"data-testid drawer subtitle\"\n    }\n  },\n  PanelEditor: {\n    General: {\n      content: \"Panel editor content\"\n    },\n    OptionsPane: {\n      content: \"Panel editor option pane content\",\n      select: \"Panel editor option pane select\",\n      fieldLabel: (type) => `${type} field property editor`\n    },\n    // not sure about the naming *DataPane*\n    DataPane: {\n      content: \"Panel editor data pane content\"\n    },\n    applyButton: \"data-testid Apply changes and go back to dashboard\",\n    toggleVizPicker: \"data-testid toggle-viz-picker\",\n    toggleVizOptions: \"data-testid toggle-viz-options\",\n    toggleTableView: \"toggle-table-view\",\n    // [Geomap] Map controls\n    showZoomField: \"Map controls Show zoom control field property editor\",\n    showAttributionField: \"Map controls Show attribution field property editor\",\n    showScaleField: \"Map controls Show scale field property editor\",\n    showMeasureField: \"Map controls Show measure tools field property editor\",\n    showDebugField: \"Map controls Show debug field property editor\",\n    measureButton: \"show measure tools\"\n  },\n  PanelInspector: {\n    Data: {\n      content: \"Panel inspector Data content\"\n    },\n    Stats: {\n      content: \"Panel inspector Stats content\"\n    },\n    Json: {\n      content: \"Panel inspector Json content\"\n    },\n    Query: {\n      content: \"Panel inspector Query content\",\n      refreshButton: \"Panel inspector Query refresh button\",\n      jsonObjectKeys: () => \".json-formatter-key\"\n    }\n  },\n  Tab: {\n    title: (title) => `Tab ${title}`,\n    active: () => '[class*=\"-activeTabStyle\"]'\n  },\n  RefreshPicker: {\n    /**\n     * @deprecated use runButtonV2 from Grafana 8.3 instead\n     */\n    runButton: \"RefreshPicker run button\",\n    /**\n     * @deprecated use intervalButtonV2 from Grafana 8.3 instead\n     */\n    intervalButton: \"RefreshPicker interval button\",\n    runButtonV2: \"data-testid RefreshPicker run button\",\n    intervalButtonV2: \"data-testid RefreshPicker interval button\"\n  },\n  QueryTab: {\n    content: \"Query editor tab content\",\n    queryInspectorButton: \"Query inspector button\",\n    queryHistoryButton: \"data-testid query-history-button\",\n    addQuery: \"data-testid query-tab-add-query\"\n  },\n  QueryHistory: {\n    queryText: \"Query text\"\n  },\n  QueryEditorRows: {\n    rows: \"Query editor row\"\n  },\n  QueryEditorRow: {\n    actionButton: (title) => `data-testid ${title}`,\n    title: (refId) => `Query editor row title ${refId}`,\n    container: (refId) => `Query editor row ${refId}`\n  },\n  AlertTab: {\n    content: \"data-testid Alert editor tab content\"\n  },\n  Alert: {\n    /**\n     * @deprecated use alertV2 from Grafana 8.3 instead\n     */\n    alert: (severity) => `Alert ${severity}`,\n    alertV2: (severity) => `data-testid Alert ${severity}`\n  },\n  TransformTab: {\n    content: \"data-testid Transform editor tab content\",\n    newTransform: (name) => `data-testid New transform ${name}`,\n    transformationEditor: (name) => `data-testid Transformation editor ${name}`,\n    transformationEditorDebugger: (name) => `data-testid Transformation editor debugger ${name}`\n  },\n  Transforms: {\n    card: (name) => `data-testid New transform ${name}`,\n    disableTransformationButton: \"data-testid Disable transformation button\",\n    Reduce: {\n      modeLabel: \"data-testid Transform mode label\",\n      calculationsLabel: \"data-testid Transform calculations label\"\n    },\n    SpatialOperations: {\n      actionLabel: \"root Action field property editor\",\n      locationLabel: \"root Location Mode field property editor\",\n      location: {\n        autoOption: \"Auto location option\",\n        coords: {\n          option: \"Coords location option\",\n          latitudeFieldLabel: \"root Latitude field field property editor\",\n          longitudeFieldLabel: \"root Longitude field field property editor\"\n        },\n        geohash: {\n          option: \"Geohash location option\",\n          geohashFieldLabel: \"root Geohash field field property editor\"\n        },\n        lookup: {\n          option: \"Lookup location option\",\n          lookupFieldLabel: \"root Lookup field field property editor\",\n          gazetteerFieldLabel: \"root Gazetteer field property editor\"\n        }\n      }\n    },\n    searchInput: \"data-testid search transformations\",\n    noTransformationsMessage: \"data-testid no transformations message\",\n    addTransformationButton: \"data-testid add transformation button\",\n    removeAllTransformationsButton: \"data-testid remove all transformations button\"\n  },\n  NavBar: {\n    Configuration: {\n      button: \"Configuration\"\n    },\n    Toggle: {\n      button: \"data-testid Toggle menu\"\n    },\n    Reporting: {\n      button: \"Reporting\"\n    }\n  },\n  NavMenu: {\n    Menu: \"data-testid navigation mega-menu\",\n    item: \"data-testid Nav menu item\"\n  },\n  NavToolbar: {\n    container: \"data-testid Nav toolbar\"\n  },\n  PageToolbar: {\n    container: () => \".page-toolbar\",\n    item: (tooltip) => `${tooltip}`,\n    itemButton: (title) => `data-testid ${title}`\n  },\n  QueryEditorToolbarItem: {\n    button: (title) => `QueryEditor toolbar item button ${title}`\n  },\n  BackButton: {\n    backArrow: \"data-testid Go Back\"\n  },\n  OptionsGroup: {\n    group: (title) => title ? `Options group ${title}` : \"Options group\",\n    toggle: (title) => title ? `Options group ${title} toggle` : \"Options group toggle\"\n  },\n  PluginVisualization: {\n    item: (title) => `Plugin visualization item ${title}`,\n    current: () => '[class*=\"-currentVisualizationItem\"]'\n  },\n  Select: {\n    option: \"Select option\",\n    input: () => 'input[id*=\"time-options-input\"]',\n    singleValue: () => 'div[class*=\"-singleValue\"]'\n  },\n  FieldConfigEditor: {\n    content: \"Field config editor content\"\n  },\n  OverridesConfigEditor: {\n    content: \"Field overrides editor content\"\n  },\n  FolderPicker: {\n    /**\n     * @deprecated use containerV2 from Grafana 8.3 instead\n     */\n    container: \"Folder picker select container\",\n    containerV2: \"data-testid Folder picker select container\",\n    input: \"data-testid folder-picker-input\"\n  },\n  ReadonlyFolderPicker: {\n    container: \"data-testid Readonly folder picker select container\"\n  },\n  DataSourcePicker: {\n    container: \"data-testid Data source picker select container\",\n    /**\n     * @deprecated use inputV2 instead\n     */\n    input: () => 'input[id=\"data-source-picker\"]',\n    inputV2: \"data-testid Select a data source\",\n    dataSourceList: \"data-testid Data source list dropdown\",\n    advancedModal: {\n      dataSourceList: \"data-testid Data source list\",\n      builtInDataSourceList: \"data-testid Built in data source list\"\n    }\n  },\n  TimeZonePicker: {\n    /**\n     * @deprecated use TimeZonePicker.containerV2 from Grafana 8.3 instead\n     */\n    container: \"Time zone picker select container\",\n    containerV2: \"data-testid Time zone picker select container\"\n  },\n  WeekStartPicker: {\n    /**\n     * @deprecated use WeekStartPicker.containerV2 from Grafana 8.3 instead\n     */\n    container: \"Choose starting day of the week\",\n    containerV2: \"data-testid Choose starting day of the week\",\n    placeholder: \"Choose starting day of the week\"\n  },\n  TraceViewer: {\n    spanBar: \"data-testid SpanBar--wrapper\"\n  },\n  QueryField: { container: \"data-testid Query field\" },\n  QueryBuilder: {\n    queryPatterns: \"data-testid Query patterns\",\n    labelSelect: \"data-testid Select label\",\n    valueSelect: \"data-testid Select value\",\n    matchOperatorSelect: \"data-testid Select match operator\"\n  },\n  ValuePicker: {\n    button: (name) => `data-testid Value picker button ${name}`,\n    select: (name) => `data-testid Value picker select ${name}`\n  },\n  Search: {\n    /**\n     * @deprecated use sectionV2 from Grafana 8.3 instead\n     */\n    section: \"Search section\",\n    sectionV2: \"data-testid Search section\",\n    /**\n     * @deprecated use itemsV2 from Grafana 8.3 instead\n     */\n    items: \"Search items\",\n    itemsV2: \"data-testid Search items\",\n    cards: \"data-testid Search cards\",\n    collapseFolder: (sectionId) => `data-testid Collapse folder ${sectionId}`,\n    expandFolder: (sectionId) => `data-testid Expand folder ${sectionId}`,\n    dashboardItem: (item) => `${Components.Search.dashboardItems} ${item}`,\n    dashboardCard: (item) => `data-testid Search card ${item}`,\n    folderHeader: (folderName) => `data-testid Folder header ${folderName}`,\n    folderContent: (folderName) => `data-testid Folder content ${folderName}`,\n    dashboardItems: \"data-testid Dashboard search item\"\n  },\n  DashboardLinks: {\n    container: \"data-testid Dashboard link container\",\n    dropDown: \"data-testid Dashboard link dropdown\",\n    link: \"data-testid Dashboard link\"\n  },\n  LoadingIndicator: {\n    icon: \"data-testid Loading indicator\"\n  },\n  CallToActionCard: {\n    /**\n     * @deprecated use buttonV2 from Grafana 8.3 instead\n     */\n    button: (name) => `Call to action button ${name}`,\n    buttonV2: (name) => `data-testid Call to action button ${name}`\n  },\n  DataLinksContextMenu: {\n    singleLink: \"data-testid Data link\"\n  },\n  CodeEditor: {\n    container: \"data-testid Code editor container\"\n  },\n  DashboardImportPage: {\n    textarea: \"data-testid-import-dashboard-textarea\",\n    submit: \"data-testid-load-dashboard\"\n  },\n  ImportDashboardForm: {\n    name: \"data-testid-import-dashboard-title\",\n    submit: \"data-testid-import-dashboard-submit\"\n  },\n  PanelAlertTabContent: {\n    content: \"data-testid Unified alert editor tab content\"\n  },\n  VisualizationPreview: {\n    card: (name) => `data-testid suggestion-${name}`\n  },\n  ColorSwatch: {\n    name: `data-testid-colorswatch`\n  },\n  DashboardRow: {\n    title: (title) => `data-testid dashboard-row-title-${title}`\n  },\n  UserProfile: {\n    profileSaveButton: \"data-testid-user-profile-save\",\n    preferencesSaveButton: \"data-testid-shared-prefs-save\",\n    orgsTable: \"data-testid-user-orgs-table\",\n    sessionsTable: \"data-testid-user-sessions-table\",\n    extensionPointTabs: \"data-testid-extension-point-tabs\",\n    extensionPointTab: (tabId) => `data-testid-extension-point-tab-${tabId}`\n  },\n  FileUpload: {\n    inputField: \"data-testid-file-upload-input-field\",\n    fileNameSpan: \"data-testid-file-upload-file-name\"\n  },\n  DebugOverlay: {\n    wrapper: \"debug-overlay\"\n  },\n  OrgRolePicker: {\n    input: \"Role\"\n  },\n  AnalyticsToolbarButton: {\n    button: \"Dashboard insights\"\n  },\n  Variables: {\n    variableOption: \"data-testid variable-option\"\n  },\n  Annotations: {\n    annotationsTypeInput: \"annotations-type-input\",\n    annotationsChoosePanelInput: \"choose-panels-input\"\n  },\n  Tooltip: {\n    container: \"data-testid tooltip\"\n  }\n};\n\nexport { Components };\n//# sourceMappingURL=components.js.map\n","import { Components } from './components.js';\nexport { Components } from './components.js';\nimport { Pages } from './pages.js';\nexport { Pages } from './pages.js';\n\nconst selectors = {\n  pages: Pages,\n  components: Components\n};\n\nexport { selectors };\n//# sourceMappingURL=index.js.map\n","import { Components } from './components.js';\n\nconst Pages = {\n  Login: {\n    url: \"/login\",\n    username: \"data-testid Username input field\",\n    password: \"data-testid Password input field\",\n    submit: \"data-testid Login button\",\n    skip: \"data-testid Skip change password button\"\n  },\n  Home: {\n    url: \"/\"\n  },\n  DataSource: {\n    name: \"data-testid Data source settings page name input field\",\n    delete: \"Data source settings page Delete button\",\n    readOnly: \"data-testid Data source settings page read only message\",\n    saveAndTest: \"data-testid Data source settings page Save and Test button\",\n    alert: \"data-testid Data source settings page Alert\"\n  },\n  DataSources: {\n    url: \"/datasources\",\n    dataSources: (dataSourceName) => `Data source list item ${dataSourceName}`\n  },\n  EditDataSource: {\n    url: (dataSourceUid) => `/datasources/edit/${dataSourceUid}`,\n    settings: \"Datasource settings page basic settings\"\n  },\n  AddDataSource: {\n    url: \"/datasources/new\",\n    /** @deprecated Use dataSourcePluginsV2 */\n    dataSourcePlugins: (pluginName) => `Data source plugin item ${pluginName}`,\n    dataSourcePluginsV2: (pluginName) => `Add new data source ${pluginName}`\n  },\n  ConfirmModal: {\n    delete: \"data-testid Confirm Modal Danger Button\"\n  },\n  AddDashboard: {\n    url: \"/dashboard/new\",\n    itemButton: (title) => `data-testid ${title}`,\n    addNewPanel: \"Add new panel\",\n    addNewRow: \"Add new row\",\n    addNewPanelLibrary: \"Add new panel from panel library\"\n  },\n  Dashboard: {\n    url: (uid) => `/d/${uid}`,\n    DashNav: {\n      /**\n       * @deprecated use navV2 from Grafana 8.3 instead\n       */\n      nav: \"Dashboard navigation\",\n      navV2: \"data-testid Dashboard navigation\",\n      publicDashboardTag: \"data-testid public dashboard tag\",\n      shareButton: \"data-testid share-button\"\n    },\n    SubMenu: {\n      submenu: \"Dashboard submenu\",\n      submenuItem: \"data-testid template variable\",\n      submenuItemLabels: (item) => `data-testid Dashboard template variables submenu Label ${item}`,\n      submenuItemValueDropDownValueLinkTexts: (item) => `data-testid Dashboard template variables Variable Value DropDown value link text ${item}`,\n      submenuItemValueDropDownDropDown: \"Variable options\",\n      submenuItemValueDropDownOptionTexts: (item) => `data-testid Dashboard template variables Variable Value DropDown option text ${item}`,\n      Annotations: {\n        annotationsWrapper: \"data-testid annotation-wrapper\",\n        annotationLabel: (label) => `data-testid Dashboard annotations submenu Label ${label}`,\n        annotationToggle: (label) => `data-testid Dashboard annotations submenu Toggle ${label}`\n      }\n    },\n    Settings: {\n      Actions: {\n        close: \"data-testid dashboard-settings-close\"\n      },\n      General: {\n        deleteDashBoard: \"Dashboard settings page delete dashboard button\",\n        sectionItems: (item) => `Dashboard settings section item ${item}`,\n        saveDashBoard: \"Dashboard settings aside actions Save button\",\n        saveAsDashBoard: \"Dashboard settings aside actions Save As button\",\n        /**\n         * @deprecated use components.TimeZonePicker.containerV2 from Grafana 8.3 instead\n         */\n        timezone: \"Time zone picker select container\",\n        title: \"Tab General\"\n      },\n      Annotations: {\n        List: {\n          /**\n           * @deprecated use addAnnotationCTAV2 from Grafana 8.3 instead\n           */\n          addAnnotationCTA: Components.CallToActionCard.button(\"Add annotation query\"),\n          addAnnotationCTAV2: Components.CallToActionCard.buttonV2(\"Add annotation query\"),\n          annotations: \"data-testid list-annotations\"\n        },\n        Settings: {\n          name: \"Annotations settings name input\"\n        },\n        NewAnnotation: {\n          panelFilterSelect: \"data-testid annotations-panel-filter\",\n          showInLabel: \"show-in-label\",\n          previewInDashboard: \"data-testid annotations-preview\",\n          delete: \"data-testid annotations-delete\",\n          apply: \"data-testid annotations-apply\",\n          enable: \"data-testid annotation-enable\",\n          hide: \"data-testid annotation-hide\"\n        }\n      },\n      Variables: {\n        List: {\n          /**\n           * @deprecated use addVariableCTAV2 from Grafana 8.3 instead\n           */\n          addVariableCTA: Components.CallToActionCard.button(\"Add variable\"),\n          addVariableCTAV2: Components.CallToActionCard.buttonV2(\"Add variable\"),\n          newButton: \"Variable editor New variable button\",\n          table: \"Variable editor Table\",\n          tableRowNameFields: (variableName) => `Variable editor Table Name field ${variableName}`,\n          tableRowDefinitionFields: (variableName) => `Variable editor Table Definition field ${variableName}`,\n          tableRowArrowUpButtons: (variableName) => `Variable editor Table ArrowUp button ${variableName}`,\n          tableRowArrowDownButtons: (variableName) => `Variable editor Table ArrowDown button ${variableName}`,\n          tableRowDuplicateButtons: (variableName) => `Variable editor Table Duplicate button ${variableName}`,\n          tableRowRemoveButtons: (variableName) => `Variable editor Table Remove button ${variableName}`\n        },\n        Edit: {\n          General: {\n            headerLink: \"Variable editor Header link\",\n            modeLabelNew: \"Variable editor Header mode New\",\n            /**\n             * @deprecated\n             */\n            modeLabelEdit: \"Variable editor Header mode Edit\",\n            generalNameInput: \"Variable editor Form Name field\",\n            generalNameInputV2: \"data-testid Variable editor Form Name field\",\n            generalTypeSelect: \"Variable editor Form Type select\",\n            generalTypeSelectV2: \"data-testid Variable editor Form Type select\",\n            generalLabelInput: \"Variable editor Form Label field\",\n            generalLabelInputV2: \"data-testid Variable editor Form Label field\",\n            generalHideSelect: \"Variable editor Form Hide select\",\n            generalHideSelectV2: \"data-testid Variable editor Form Hide select\",\n            selectionOptionsMultiSwitch: \"data-testid Variable editor Form Multi switch\",\n            selectionOptionsIncludeAllSwitch: \"data-testid Variable editor Form IncludeAll switch\",\n            selectionOptionsCustomAllInput: \"data-testid Variable editor Form IncludeAll field\",\n            previewOfValuesOption: \"data-testid Variable editor Preview of Values option\",\n            submitButton: \"data-testid Variable editor Run Query button\",\n            applyButton: \"data-testid Variable editor Apply button\"\n          },\n          QueryVariable: {\n            queryOptionsDataSourceSelect: Components.DataSourcePicker.inputV2,\n            queryOptionsRefreshSelect: \"Variable editor Form Query Refresh select\",\n            queryOptionsRefreshSelectV2: \"data-testid Variable editor Form Query Refresh select\",\n            queryOptionsRegExInput: \"Variable editor Form Query RegEx field\",\n            queryOptionsRegExInputV2: \"data-testid Variable editor Form Query RegEx field\",\n            queryOptionsSortSelect: \"Variable editor Form Query Sort select\",\n            queryOptionsSortSelectV2: \"data-testid Variable editor Form Query Sort select\",\n            queryOptionsQueryInput: \"data-testid Variable editor Form Default Variable Query Editor textarea\",\n            valueGroupsTagsEnabledSwitch: \"Variable editor Form Query UseTags switch\",\n            valueGroupsTagsTagsQueryInput: \"Variable editor Form Query TagsQuery field\",\n            valueGroupsTagsTagsValuesQueryInput: \"Variable editor Form Query TagsValuesQuery field\"\n          },\n          ConstantVariable: {\n            constantOptionsQueryInput: \"Variable editor Form Constant Query field\",\n            constantOptionsQueryInputV2: \"data-testid Variable editor Form Constant Query field\"\n          },\n          DatasourceVariable: {\n            datasourceSelect: \"data-testid datasource variable datasource type\"\n          },\n          TextBoxVariable: {\n            textBoxOptionsQueryInput: \"Variable editor Form TextBox Query field\",\n            textBoxOptionsQueryInputV2: \"data-testid Variable editor Form TextBox Query field\"\n          },\n          CustomVariable: {\n            customValueInput: \"data-testid custom-variable-input\"\n          },\n          IntervalVariable: {\n            intervalsValueInput: \"data-testid interval variable intervals input\",\n            autoEnabledCheckbox: \"data-testid interval variable auto value checkbox\",\n            stepCountIntervalSelect: \"data-testid interval variable step count input\",\n            minIntervalInput: \"data-testid interval variable mininum interval input\"\n          },\n          GroupByVariable: {\n            dataSourceSelect: Components.DataSourcePicker.inputV2,\n            infoText: \"data-testid group by variable info text\",\n            modeToggle: \"data-testid group by variable mode toggle\"\n          },\n          AdHocFiltersVariable: {\n            datasourceSelect: Components.DataSourcePicker.inputV2,\n            infoText: \"data-testid ad-hoc filters variable info text\"\n          }\n        }\n      }\n    },\n    Annotations: {\n      marker: \"data-testid annotation-marker\"\n    },\n    Rows: {\n      Repeated: {\n        ConfigSection: {\n          warningMessage: \"data-testid Repeated rows warning message\"\n        }\n      }\n    }\n  },\n  Dashboards: {\n    url: \"/dashboards\",\n    /**\n     * @deprecated use components.Search.dashboardItem from Grafana 8.3 instead\n     */\n    dashboards: (title) => `Dashboard search item ${title}`\n  },\n  SaveDashboardAsModal: {\n    newName: \"Save dashboard title field\",\n    save: \"Save dashboard button\"\n  },\n  SaveDashboardModal: {\n    save: \"Dashboard settings Save Dashboard Modal Save button\",\n    saveVariables: \"Dashboard settings Save Dashboard Modal Save variables checkbox\",\n    saveTimerange: \"Dashboard settings Save Dashboard Modal Save timerange checkbox\"\n  },\n  SharePanelModal: {\n    linkToRenderedImage: \"Link to rendered image\"\n  },\n  ShareDashboardModal: {\n    PublicDashboard: {\n      Tab: \"Tab Public dashboard\",\n      WillBePublicCheckbox: \"data-testid public dashboard will be public checkbox\",\n      LimitedDSCheckbox: \"data-testid public dashboard limited datasources checkbox\",\n      CostIncreaseCheckbox: \"data-testid public dashboard cost may increase checkbox\",\n      PauseSwitch: \"data-testid public dashboard pause switch\",\n      EnableAnnotationsSwitch: \"data-testid public dashboard on off switch for annotations\",\n      CreateButton: \"data-testid public dashboard create button\",\n      DeleteButton: \"data-testid public dashboard delete button\",\n      CopyUrlInput: \"data-testid public dashboard copy url input\",\n      CopyUrlButton: \"data-testid public dashboard copy url button\",\n      SettingsDropdown: \"data-testid public dashboard settings dropdown\",\n      TemplateVariablesWarningAlert: \"data-testid public dashboard disabled template variables alert\",\n      UnsupportedDataSourcesWarningAlert: \"data-testid public dashboard unsupported data sources alert\",\n      NoUpsertPermissionsWarningAlert: \"data-testid public dashboard no upsert permissions alert\",\n      EnableTimeRangeSwitch: \"data-testid public dashboard on off switch for time range\",\n      EmailSharingConfiguration: {\n        Container: \"data-testid email sharing config container\",\n        ShareType: \"data-testid public dashboard share type\",\n        EmailSharingInput: \"data-testid public dashboard email sharing input\",\n        EmailSharingInviteButton: \"data-testid public dashboard email sharing invite button\",\n        EmailSharingList: \"data-testid public dashboard email sharing list\",\n        DeleteEmail: \"data-testid public dashboard delete email button\",\n        ReshareLink: \"data-testid public dashboard reshare link button\"\n      }\n    }\n  },\n  PublicDashboard: {\n    page: \"public-dashboard-page\",\n    NotAvailable: {\n      container: \"public-dashboard-not-available\",\n      title: \"public-dashboard-title\",\n      pausedDescription: \"public-dashboard-paused-description\"\n    }\n  },\n  RequestViewAccess: {\n    form: \"request-view-access-form\",\n    recipientInput: \"request-view-access-recipient-input\",\n    submitButton: \"request-view-access-submit-button\"\n  },\n  PublicDashboardConfirmAccess: {\n    submitButton: \"data-testid confirm-access-submit-button\"\n  },\n  Explore: {\n    url: \"/explore\",\n    General: {\n      container: \"data-testid Explore\",\n      graph: \"Explore Graph\",\n      table: \"Explore Table\",\n      scrollView: \"data-testid explorer scroll view\"\n    }\n  },\n  SoloPanel: {\n    url: (page) => `/d-solo/${page}`\n  },\n  PluginsList: {\n    page: \"Plugins list page\",\n    list: \"Plugins list\",\n    listItem: \"Plugins list item\",\n    signatureErrorNotice: \"data-testid Unsigned plugins notice\"\n  },\n  PluginPage: {\n    page: \"Plugin page\",\n    signatureInfo: \"data-testid Plugin signature info\",\n    disabledInfo: \"data-testid Plugin disabled info\"\n  },\n  PlaylistForm: {\n    name: \"Playlist name\",\n    interval: \"Playlist interval\",\n    itemDelete: \"data-testid playlist-form-delete-item\"\n  },\n  BrowseDashboards: {\n    table: {\n      body: \"data-testid browse-dashboards-table\",\n      row: (name) => `data-testid browse dashboards row ${name}`,\n      checkbox: (uid) => `data-testid ${uid} checkbox`\n    },\n    NewFolderForm: {\n      form: \"data-testid new folder form\",\n      nameInput: \"data-testid new-folder-name-input\",\n      createButton: \"data-testid new-folder-create-button\"\n    }\n  },\n  Search: {\n    url: \"/?search=openn\",\n    FolderView: {\n      url: \"/?search=open&layout=folders\"\n    }\n  },\n  PublicDashboards: {\n    ListItem: {\n      linkButton: \"public-dashboard-link-button\",\n      configButton: \"public-dashboard-configuration-button\",\n      trashcanButton: \"public-dashboard-remove-button\",\n      pauseSwitch: \"data-testid public dashboard pause switch\"\n    }\n  },\n  UserListPage: {\n    tabs: {\n      allUsers: \"data-testid all-users-tab\",\n      orgUsers: \"data-testid org-users-tab\",\n      anonUserDevices: \"data-testid anon-user-devices-tab\",\n      publicDashboardsUsers: \"data-testid public-dashboards-users-tab\",\n      users: \"data-testid users-tab\"\n    },\n    org: {\n      url: \"/org/users\"\n    },\n    admin: {\n      url: \"/admin/users\"\n    },\n    publicDashboards: {\n      container: \"data-testid public-dashboards-users-list\"\n    },\n    UserListAdminPage: {\n      container: \"data-testid user-list-admin-page\"\n    },\n    UsersListPage: {\n      container: \"data-testid users-list-page\"\n    },\n    UserAnonListPage: {\n      container: \"data-testid user-anon-list-page\"\n    },\n    UsersListPublicDashboardsPage: {\n      container: \"data-testid users-list-public-dashboards-page\",\n      DashboardsListModal: {\n        listItem: (uid) => `data-testid dashboards-list-item-${uid}`\n      }\n    }\n  },\n  ProfilePage: {\n    url: \"/profile\"\n  }\n};\n\nexport { Pages };\n//# sourceMappingURL=pages.js.map\n","export const defaultExceptionType = 'Error';\n//# sourceMappingURL=const.js.map","export const unknownString = 'unknown';\n//# sourceMappingURL=consts.js.map","import { defaultInternalLogger } from '../internalLogger';\nimport { defaultUnpatchedConsole } from '../unpatchedConsole';\nexport class BaseExtension {\n    constructor() {\n        this.unpatchedConsole = defaultUnpatchedConsole;\n        this.internalLogger = defaultInternalLogger;\n        this.config = {};\n        this.metas = {};\n    }\n    logDebug(...args) {\n        this.internalLogger.debug(`${this.name}\\n`, ...args);\n    }\n    logInfo(...args) {\n        this.internalLogger.info(`${this.name}\\n`, ...args);\n    }\n    logWarn(...args) {\n        this.internalLogger.warn(`${this.name}\\n`, ...args);\n    }\n    logError(...args) {\n        this.internalLogger.error(`${this.name}\\n`, ...args);\n    }\n}\n//# sourceMappingURL=baseExtension.js.map","// This does not uses isUndefined method because it will throw an error in non-browser environments\nexport const globalObject = (typeof globalThis !== 'undefined'\n    ? globalThis\n    : typeof global !== 'undefined'\n        ? global\n        : typeof self !== 'undefined'\n            ? self\n            : undefined);\n//# sourceMappingURL=globalObject.js.map","import { noop } from '../utils';\nexport var InternalLoggerLevel;\n(function (InternalLoggerLevel) {\n    InternalLoggerLevel[InternalLoggerLevel[\"OFF\"] = 0] = \"OFF\";\n    InternalLoggerLevel[InternalLoggerLevel[\"ERROR\"] = 1] = \"ERROR\";\n    InternalLoggerLevel[InternalLoggerLevel[\"WARN\"] = 2] = \"WARN\";\n    InternalLoggerLevel[InternalLoggerLevel[\"INFO\"] = 3] = \"INFO\";\n    InternalLoggerLevel[InternalLoggerLevel[\"VERBOSE\"] = 4] = \"VERBOSE\";\n})(InternalLoggerLevel || (InternalLoggerLevel = {}));\nexport const defaultInternalLoggerPrefix = 'Faro';\nexport const defaultInternalLogger = {\n    debug: noop,\n    error: noop,\n    info: noop,\n    prefix: defaultInternalLoggerPrefix,\n    warn: noop,\n};\nexport const defaultInternalLoggerLevel = InternalLoggerLevel.ERROR;\n//# sourceMappingURL=const.js.map","export const internalGlobalObjectKey = '_faroInternal';\n//# sourceMappingURL=const.js.map","import { globalObject } from '../globalObject';\nimport { internalGlobalObjectKey } from './const';\nexport function getInternalFromGlobalObject() {\n    return globalObject[internalGlobalObjectKey];\n}\nexport function setInternalFaroOnGlobalObject(faro) {\n    if (!faro.config.isolate) {\n        faro.internalLogger.debug('Registering internal Faro instance on global object');\n        Object.defineProperty(globalObject, internalGlobalObjectKey, {\n            configurable: false,\n            enumerable: false,\n            writable: false,\n            value: faro,\n        });\n    }\n    else {\n        faro.internalLogger.debug('Skipping registering internal Faro instance on global object');\n    }\n}\nexport function isInternalFaroOnGlobalObject() {\n    return internalGlobalObjectKey in globalObject;\n}\n//# sourceMappingURL=internalFaroGlobalObject.js.map","import { setFaroOnGlobalObject } from './faroGlobalObject';\nimport { setInternalFaroOnGlobalObject } from './internalFaroGlobalObject';\nexport let faro = {};\nexport function registerFaro(unpatchedConsole, internalLogger, config, metas, transports, api, instrumentations) {\n    internalLogger.debug('Initializing Faro');\n    faro = {\n        api,\n        config,\n        instrumentations,\n        internalLogger,\n        metas,\n        pause: transports.pause,\n        transports,\n        unpatchedConsole,\n        unpause: transports.unpause,\n    };\n    setInternalFaroOnGlobalObject(faro);\n    setFaroOnGlobalObject(faro);\n    return faro;\n}\n//# sourceMappingURL=registerFaro.js.map","import { globalObject } from '../globalObject';\nexport function setFaroOnGlobalObject(faro) {\n    if (!faro.config.preventGlobalExposure) {\n        faro.internalLogger.debug(`Registering public faro reference in the global scope using \"${faro.config.globalObjectKey}\" key`);\n        if (faro.config.globalObjectKey in globalObject) {\n            faro.internalLogger.warn(`Skipping global registration due to key \"${faro.config.globalObjectKey}\" being used already. Please set \"globalObjectKey\" to something else or set \"preventGlobalExposure\" to \"true\"`);\n            return;\n        }\n        Object.defineProperty(globalObject, faro.config.globalObjectKey, {\n            configurable: false,\n            writable: false,\n            value: faro,\n        });\n    }\n    else {\n        faro.internalLogger.debug('Skipping registering public Faro instance in the global scope');\n    }\n}\n//# sourceMappingURL=faroGlobalObject.js.map","export const defaultUnpatchedConsole = Object.assign({}, console);\n//# sourceMappingURL=const.js.map","export function dateNow() {\n    return Date.now();\n}\nexport function getCurrentTimestamp() {\n    return new Date().toISOString();\n}\nexport function timestampToIsoString(value) {\n    return new Date(value).toISOString();\n}\n//# sourceMappingURL=date.js.map","export function isTypeof(value, type) {\n    return typeof value === type;\n}\nexport function isToString(value, type) {\n    return Object.prototype.toString.call(value) === `[object ${type}]`;\n}\nexport function isInstanceOf(value, reference) {\n    try {\n        return value instanceof reference;\n    }\n    catch (err) {\n        return false;\n    }\n}\nexport const isUndefined = ((value) => isTypeof(value, 'undefined'));\nexport const isNull = ((value) => isTypeof(value, 'null'));\nexport const isString = ((value) => isTypeof(value, 'string'));\nexport const isNumber = ((value) => (isTypeof(value, 'number') && !isNaN(value)) || isTypeof(value, 'bigint'));\nexport const isInt = ((value) => isNumber(value) && Number.isInteger(value));\nexport const isBoolean = ((value) => isTypeof(value, 'boolean'));\nexport const isSymbol = ((value) => isTypeof(value, 'symbol'));\nexport const isObject = ((value) => !isNull(value) && isTypeof(value, 'object'));\nexport const isFunction = ((value) => isTypeof(value, 'function'));\nexport const isArray = ((value) => isToString(value, 'Array'));\nexport const isRegExp = ((value) => isToString(value, 'RegExp'));\nexport const isThenable = ((value) => isFunction(value === null || value === void 0 ? void 0 : value.then));\nexport const isPrimitive = ((value) => !isObject(value) && !isFunction(value));\nexport const isEventDefined = typeof Event !== 'undefined';\nexport const isEvent = ((value) => isEventDefined && isInstanceOf(value, Event));\nexport const isErrorDefined = typeof Error !== 'undefined';\nexport const isError = ((value) => isErrorDefined && isInstanceOf(value, Error));\nexport const isErrorEvent = ((value) => isToString(value, 'ErrorEvent'));\nexport const isDomError = ((value) => isToString(value, 'DOMError'));\nexport const isDomException = ((value) => isToString(value, 'DOMException'));\nexport const isElementDefined = typeof Element !== 'undefined';\nexport const isElement = ((value) => isElementDefined && isInstanceOf(value, Element));\nexport const isMapDefined = typeof Map !== 'undefined';\nexport const isMap = ((value) => isMapDefined && isInstanceOf(value, Map));\nexport const isSyntheticEvent = ((value) => isObject(value) &&\n    'nativeEvent' in value &&\n    'preventDefault' in value &&\n    'stopPropagation' in value);\n//# sourceMappingURL=is.js.map","export var LogLevel;\n(function (LogLevel) {\n    LogLevel[\"TRACE\"] = \"trace\";\n    LogLevel[\"DEBUG\"] = \"debug\";\n    LogLevel[\"INFO\"] = \"info\";\n    LogLevel[\"LOG\"] = \"log\";\n    LogLevel[\"WARN\"] = \"warn\";\n    LogLevel[\"ERROR\"] = \"error\";\n})(LogLevel || (LogLevel = {}));\nexport const defaultLogLevel = LogLevel.LOG;\nexport const allLogLevels = [\n    LogLevel.TRACE,\n    LogLevel.DEBUG,\n    LogLevel.INFO,\n    LogLevel.LOG,\n    LogLevel.WARN,\n    LogLevel.ERROR,\n];\n//# sourceMappingURL=logLevels.js.map","export function noop() { }\n//# sourceMappingURL=noop.js.map","const alphabet = 'abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ0123456789';\nexport function genShortID(length = 10) {\n    return Array.from(Array(length))\n        .map(() => alphabet[Math.floor(Math.random() * alphabet.length)])\n        .join('');\n}\n//# sourceMappingURL=shortId.js.map","// auto-generated by bin/genVersion.ts\nexport const VERSION = '1.10.0';\n//# sourceMappingURL=version.js.map","import { BaseExtension } from '../extensions';\nexport class BaseInstrumentation extends BaseExtension {\n    constructor() {\n        super(...arguments);\n        this.api = {};\n        this.transports = {};\n    }\n}\n//# sourceMappingURL=base.js.map","export const primitiveUnhandledValue = 'Non-Error promise rejection captured with value:';\nexport const primitiveUnhandledType = 'UnhandledRejection';\nexport const domErrorType = 'DOMError';\nexport const domExceptionType = 'DOMException';\nexport const objectEventValue = 'Non-Error exception captured with keys:';\nexport const unknownSymbolString = '?';\nexport const valueTypeRegex = /^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;\n//# sourceMappingURL=const.js.map","import { isDomError, isDomException, isError, isErrorEvent, isEvent, isObject } from '@grafana/faro-core';\nimport { domErrorType, domExceptionType, objectEventValue } from './const';\nimport { getStackFramesFromError } from './stackFrames';\nexport function getErrorDetails(evt) {\n    let value;\n    let type;\n    let stackFrames = [];\n    let isDomErrorRes;\n    let isEventRes;\n    if (isErrorEvent(evt) && evt.error) {\n        value = evt.error.message;\n        type = evt.error.name;\n        stackFrames = getStackFramesFromError(evt.error);\n    }\n    else if ((isDomErrorRes = isDomError(evt)) || isDomException(evt)) {\n        const { name, message } = evt;\n        type = name !== null && name !== void 0 ? name : (isDomErrorRes ? domErrorType : domExceptionType);\n        value = message ? `${type}: ${message}` : type;\n    }\n    else if (isError(evt)) {\n        value = evt.message;\n        stackFrames = getStackFramesFromError(evt);\n    }\n    else if (isObject(evt) || (isEventRes = isEvent(evt))) {\n        type = isEventRes ? evt.constructor.name : undefined;\n        value = `${objectEventValue} ${Object.keys(evt)}`;\n    }\n    return [value, type, stackFrames];\n}\n//# sourceMappingURL=getErrorDetails.js.map","import { isString } from '@grafana/faro-core';\nimport { unknownSymbolString } from './const';\nimport { getErrorDetails } from './getErrorDetails';\nimport { getValueAndTypeFromMessage } from './getValueAndTypeFromMessage';\nimport { buildStackFrame } from './stackFrames';\nexport function registerOnerror(api) {\n    const oldOnerror = window.onerror;\n    window.onerror = (...args) => {\n        try {\n            const [evt, source, lineno, colno, error] = args;\n            let value;\n            let type;\n            let stackFrames = [];\n            const eventIsString = isString(evt);\n            const initialStackFrame = buildStackFrame(source, unknownSymbolString, lineno, colno);\n            if (error || !eventIsString) {\n                [value, type, stackFrames] = getErrorDetails((error !== null && error !== void 0 ? error : evt));\n                if (stackFrames.length === 0) {\n                    stackFrames = [initialStackFrame];\n                }\n            }\n            else if (eventIsString) {\n                [value, type] = getValueAndTypeFromMessage(evt);\n                stackFrames = [initialStackFrame];\n            }\n            if (value) {\n                api.pushError(new Error(value), { type, stackFrames });\n            }\n        }\n        finally {\n            oldOnerror === null || oldOnerror === void 0 ? void 0 : oldOnerror.apply(window, args);\n        }\n    };\n}\n//# sourceMappingURL=registerOnerror.js.map","import { defaultExceptionType } from '@grafana/faro-core';\nimport { valueTypeRegex } from './const';\nexport function getValueAndTypeFromMessage(message) {\n    var _a, _b;\n    const groups = message.match(valueTypeRegex);\n    const type = (_a = groups === null || groups === void 0 ? void 0 : groups[1]) !== null && _a !== void 0 ? _a : defaultExceptionType;\n    const value = (_b = groups === null || groups === void 0 ? void 0 : groups[2]) !== null && _b !== void 0 ? _b : message;\n    return [value, type];\n}\n//# sourceMappingURL=getValueAndTypeFromMessage.js.map","import { BaseInstrumentation, VERSION } from '@grafana/faro-core';\nimport { registerOnerror } from './registerOnerror';\nimport { registerOnunhandledrejection } from './registerOnunhandledrejection';\nexport class ErrorsInstrumentation extends BaseInstrumentation {\n    constructor() {\n        super(...arguments);\n        this.name = '@grafana/faro-web-sdk:instrumentation-errors';\n        this.version = VERSION;\n    }\n    initialize() {\n        this.logDebug('Initializing');\n        registerOnerror(this.api);\n        registerOnunhandledrejection(this.api);\n    }\n}\n//# sourceMappingURL=instrumentation.js.map","import { isPrimitive } from '@grafana/faro-core';\nimport { primitiveUnhandledType, primitiveUnhandledValue } from './const';\nimport { getErrorDetails } from './getErrorDetails';\nexport function registerOnunhandledrejection(api) {\n    window.addEventListener('unhandledrejection', (evt) => {\n        var _a, _b;\n        let error = evt;\n        if (error.reason) {\n            error = evt.reason;\n        }\n        else if ((_a = evt.detail) === null || _a === void 0 ? void 0 : _a.reason) {\n            error = (_b = evt.detail) === null || _b === void 0 ? void 0 : _b.reason;\n        }\n        let value;\n        let type;\n        let stackFrames = [];\n        if (isPrimitive(error)) {\n            value = `${primitiveUnhandledValue} ${String(error)}`;\n            type = primitiveUnhandledType;\n        }\n        else {\n            [value, type, stackFrames] = getErrorDetails(error);\n        }\n        if (value) {\n            api.pushError(new Error(value), { type, stackFrames });\n        }\n    });\n}\n//# sourceMappingURL=registerOnunhandledrejection.js.map","var e,n,t,r,i,o=-1,a=function(e){addEventListener(\"pageshow\",(function(n){n.persisted&&(o=n.timeStamp,e(n))}),!0)},c=function(){var e=self.performance&&performance.getEntriesByType&&performance.getEntriesByType(\"navigation\")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},u=function(){var e=c();return e&&e.activationStart||0},f=function(e,n){var t=c(),r=\"navigate\";o>=0?r=\"back-forward-cache\":t&&(document.prerendering||u()>0?r=\"prerender\":document.wasDiscarded?r=\"restore\":t.type&&(r=t.type.replace(/_/g,\"-\")));return{name:e,value:void 0===n?-1:n,rating:\"good\",delta:0,entries:[],id:\"v4-\".concat(Date.now(),\"-\").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},s=function(e,n,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver((function(e){Promise.resolve().then((function(){n(e.getEntries())}))}));return r.observe(Object.assign({type:e,buffered:!0},t||{})),r}}catch(e){}},d=function(e,n,t,r){var i,o;return function(a){n.value>=0&&(a||r)&&((o=n.value-(i||0))||void 0===i)&&(i=n.value,n.delta=o,n.rating=function(e,n){return e>n[1]?\"poor\":e>n[0]?\"needs-improvement\":\"good\"}(n.value,t),e(n))}},l=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},p=function(e){document.addEventListener(\"visibilitychange\",(function(){\"hidden\"===document.visibilityState&&e()}))},v=function(e){var n=!1;return function(){n||(e(),n=!0)}},m=-1,h=function(){return\"hidden\"!==document.visibilityState||document.prerendering?1/0:0},g=function(e){\"hidden\"===document.visibilityState&&m>-1&&(m=\"visibilitychange\"===e.type?e.timeStamp:0,T())},y=function(){addEventListener(\"visibilitychange\",g,!0),addEventListener(\"prerenderingchange\",g,!0)},T=function(){removeEventListener(\"visibilitychange\",g,!0),removeEventListener(\"prerenderingchange\",g,!0)},E=function(){return m<0&&(m=h(),y(),a((function(){setTimeout((function(){m=h(),y()}),0)}))),{get firstHiddenTime(){return m}}},C=function(e){document.prerendering?addEventListener(\"prerenderingchange\",(function(){return e()}),!0):e()},b=[1800,3e3],S=function(e,n){n=n||{},C((function(){var t,r=E(),i=f(\"FCP\"),o=s(\"paint\",(function(e){e.forEach((function(e){\"first-contentful-paint\"===e.name&&(o.disconnect(),e.startTime<r.firstHiddenTime&&(i.value=Math.max(e.startTime-u(),0),i.entries.push(e),t(!0)))}))}));o&&(t=d(e,i,b,n.reportAllChanges),a((function(r){i=f(\"FCP\"),t=d(e,i,b,n.reportAllChanges),l((function(){i.value=performance.now()-r.timeStamp,t(!0)}))})))}))},L=[.1,.25],w=function(e,n){n=n||{},S(v((function(){var t,r=f(\"CLS\",0),i=0,o=[],c=function(e){e.forEach((function(e){if(!e.hadRecentInput){var n=o[0],t=o[o.length-1];i&&e.startTime-t.startTime<1e3&&e.startTime-n.startTime<5e3?(i+=e.value,o.push(e)):(i=e.value,o=[e])}})),i>r.value&&(r.value=i,r.entries=o,t())},u=s(\"layout-shift\",c);u&&(t=d(e,r,L,n.reportAllChanges),p((function(){c(u.takeRecords()),t(!0)})),a((function(){i=0,r=f(\"CLS\",0),t=d(e,r,L,n.reportAllChanges),l((function(){return t()}))})),setTimeout(t,0))})))},A=0,I=1/0,P=0,M=function(e){e.forEach((function(e){e.interactionId&&(I=Math.min(I,e.interactionId),P=Math.max(P,e.interactionId),A=P?(P-I)/7+1:0)}))},k=function(){\"interactionCount\"in performance||e||(e=s(\"event\",M,{type:\"event\",buffered:!0,durationThreshold:0}))},F=[],D=new Map,x=0,R=function(){return(e?A:performance.interactionCount||0)-x},B=[],H=function(e){if(B.forEach((function(n){return n(e)})),e.interactionId||\"first-input\"===e.entryType){var n=F[F.length-1],t=D.get(e.interactionId);if(t||F.length<10||e.duration>n.latency){if(t)e.duration>t.latency?(t.entries=[e],t.latency=e.duration):e.duration===t.latency&&e.startTime===t.entries[0].startTime&&t.entries.push(e);else{var r={id:e.interactionId,latency:e.duration,entries:[e]};D.set(r.id,r),F.push(r)}F.sort((function(e,n){return n.latency-e.latency})),F.length>10&&F.splice(10).forEach((function(e){return D.delete(e.id)}))}}},q=function(e){var n=self.requestIdleCallback||self.setTimeout,t=-1;return e=v(e),\"hidden\"===document.visibilityState?e():(t=n(e),p(e)),t},O=[200,500],N=function(e,n){\"PerformanceEventTiming\"in self&&\"interactionId\"in PerformanceEventTiming.prototype&&(n=n||{},C((function(){var t;k();var r,i=f(\"INP\"),o=function(e){q((function(){e.forEach(H);var n,t=(n=Math.min(F.length-1,Math.floor(R()/50)),F[n]);t&&t.latency!==i.value&&(i.value=t.latency,i.entries=t.entries,r())}))},c=s(\"event\",o,{durationThreshold:null!==(t=n.durationThreshold)&&void 0!==t?t:40});r=d(e,i,O,n.reportAllChanges),c&&(c.observe({type:\"first-input\",buffered:!0}),p((function(){o(c.takeRecords()),r(!0)})),a((function(){x=0,F.length=0,D.clear(),i=f(\"INP\"),r=d(e,i,O,n.reportAllChanges)})))})))},j=[2500,4e3],_={},z=function(e,n){n=n||{},C((function(){var t,r=E(),i=f(\"LCP\"),o=function(e){n.reportAllChanges||(e=e.slice(-1)),e.forEach((function(e){e.startTime<r.firstHiddenTime&&(i.value=Math.max(e.startTime-u(),0),i.entries=[e],t())}))},c=s(\"largest-contentful-paint\",o);if(c){t=d(e,i,j,n.reportAllChanges);var m=v((function(){_[i.id]||(o(c.takeRecords()),c.disconnect(),_[i.id]=!0,t(!0))}));[\"keydown\",\"click\"].forEach((function(e){addEventListener(e,(function(){return q(m)}),!0)})),p(m),a((function(r){i=f(\"LCP\"),t=d(e,i,j,n.reportAllChanges),l((function(){i.value=performance.now()-r.timeStamp,_[i.id]=!0,t(!0)}))}))}}))},G=[800,1800],J=function e(n){document.prerendering?C((function(){return e(n)})):\"complete\"!==document.readyState?addEventListener(\"load\",(function(){return e(n)}),!0):setTimeout(n,0)},K=function(e,n){n=n||{};var t=f(\"TTFB\"),r=d(e,t,G,n.reportAllChanges);J((function(){var i=c();i&&(t.value=Math.max(i.responseStart-u(),0),t.entries=[i],r(!0),a((function(){t=f(\"TTFB\",0),(r=d(e,t,G,n.reportAllChanges))(!0)})))}))},Q={passive:!0,capture:!0},U=new Date,V=function(e,i){n||(n=i,t=e,r=new Date,Y(removeEventListener),W())},W=function(){if(t>=0&&t<r-U){var e={entryType:\"first-input\",name:n.type,target:n.target,cancelable:n.cancelable,startTime:n.timeStamp,processingStart:n.timeStamp+t};i.forEach((function(n){n(e)})),i=[]}},X=function(e){if(e.cancelable){var n=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;\"pointerdown\"==e.type?function(e,n){var t=function(){V(e,n),i()},r=function(){i()},i=function(){removeEventListener(\"pointerup\",t,Q),removeEventListener(\"pointercancel\",r,Q)};addEventListener(\"pointerup\",t,Q),addEventListener(\"pointercancel\",r,Q)}(n,e):V(n,e)}},Y=function(e){[\"mousedown\",\"keydown\",\"touchstart\",\"pointerdown\"].forEach((function(n){return e(n,X,Q)}))},Z=[100,300],$=function(e,r){r=r||{},C((function(){var o,c=E(),u=f(\"FID\"),l=function(e){e.startTime<c.firstHiddenTime&&(u.value=e.processingStart-e.startTime,u.entries.push(e),o(!0))},m=function(e){e.forEach(l)},h=s(\"first-input\",m);o=d(e,u,Z,r.reportAllChanges),h&&(p(v((function(){m(h.takeRecords()),h.disconnect()}))),a((function(){var a;u=f(\"FID\"),o=d(e,u,Z,r.reportAllChanges),i=[],t=-1,n=null,Y(addEventListener),a=l,i.push(a),W()})))}))};export{L as CLSThresholds,b as FCPThresholds,Z as FIDThresholds,O as INPThresholds,j as LCPThresholds,G as TTFBThresholds,w as onCLS,S as onFCP,$ as onFID,N as onINP,z as onLCP,K as onTTFB};\n","import { onCLS, onFCP, onFID, onINP, onLCP, onTTFB } from 'web-vitals';\nexport class WebVitalsBasic {\n    constructor(pushMeasurement) {\n        this.pushMeasurement = pushMeasurement;\n    }\n    initialize() {\n        Object.entries(WebVitalsBasic.mapping).forEach(([indicator, executor]) => {\n            executor((metric) => {\n                this.pushMeasurement({\n                    type: 'web-vitals',\n                    values: {\n                        [indicator]: metric.value,\n                    },\n                });\n            });\n        });\n    }\n}\nWebVitalsBasic.mapping = {\n    cls: onCLS,\n    fcp: onFCP,\n    fid: onFID,\n    inp: onINP,\n    lcp: onLCP,\n    ttfb: onTTFB,\n};\n//# sourceMappingURL=webVitalsBasic.js.map","var t,e,n,r=function(){var t=self.performance&&performance.getEntriesByType&&performance.getEntriesByType(\"navigation\")[0];if(t&&t.responseStart>0&&t.responseStart<performance.now())return t},i=function(t){if(\"loading\"===document.readyState)return\"loading\";var e=r();if(e){if(t<e.domInteractive)return\"loading\";if(0===e.domContentLoadedEventStart||t<e.domContentLoadedEventStart)return\"dom-interactive\";if(0===e.domComplete||t<e.domComplete)return\"dom-content-loaded\"}return\"complete\"},a=function(t){var e=t.nodeName;return 1===t.nodeType?e.toLowerCase():e.toUpperCase().replace(/^#/,\"\")},o=function(t,e){var n=\"\";try{for(;t&&9!==t.nodeType;){var r=t,i=r.id?\"#\"+r.id:a(r)+(r.classList&&r.classList.value&&r.classList.value.trim()&&r.classList.value.trim().length?\".\"+r.classList.value.trim().replace(/\\s+/g,\".\"):\"\");if(n.length+i.length>(e||100)-1)return n||i;if(n=n?i+\">\"+n:i,r.id)break;t=r.parentNode}}catch(t){}return n},c=-1,u=function(){return c},s=function(t){addEventListener(\"pageshow\",(function(e){e.persisted&&(c=e.timeStamp,t(e))}),!0)},f=function(){var t=r();return t&&t.activationStart||0},d=function(t,e){var n=r(),i=\"navigate\";u()>=0?i=\"back-forward-cache\":n&&(document.prerendering||f()>0?i=\"prerender\":document.wasDiscarded?i=\"restore\":n.type&&(i=n.type.replace(/_/g,\"-\")));return{name:t,value:void 0===e?-1:e,rating:\"good\",delta:0,entries:[],id:\"v4-\".concat(Date.now(),\"-\").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:i}},l=function(t,e,n){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){var r=new PerformanceObserver((function(t){Promise.resolve().then((function(){e(t.getEntries())}))}));return r.observe(Object.assign({type:t,buffered:!0},n||{})),r}}catch(t){}},m=function(t,e,n,r){var i,a;return function(o){e.value>=0&&(o||r)&&((a=e.value-(i||0))||void 0===i)&&(i=e.value,e.delta=a,e.rating=function(t,e){return t>e[1]?\"poor\":t>e[0]?\"needs-improvement\":\"good\"}(e.value,n),t(e))}},p=function(t){requestAnimationFrame((function(){return requestAnimationFrame((function(){return t()}))}))},v=function(t){document.addEventListener(\"visibilitychange\",(function(){\"hidden\"===document.visibilityState&&t()}))},g=function(t){var e=!1;return function(){e||(t(),e=!0)}},h=-1,T=function(){return\"hidden\"!==document.visibilityState||document.prerendering?1/0:0},y=function(t){\"hidden\"===document.visibilityState&&h>-1&&(h=\"visibilitychange\"===t.type?t.timeStamp:0,S())},E=function(){addEventListener(\"visibilitychange\",y,!0),addEventListener(\"prerenderingchange\",y,!0)},S=function(){removeEventListener(\"visibilitychange\",y,!0),removeEventListener(\"prerenderingchange\",y,!0)},b=function(){return h<0&&(h=T(),E(),s((function(){setTimeout((function(){h=T(),E()}),0)}))),{get firstHiddenTime(){return h}}},L=function(t){document.prerendering?addEventListener(\"prerenderingchange\",(function(){return t()}),!0):t()},C=[1800,3e3],M=function(t,e){e=e||{},L((function(){var n,r=b(),i=d(\"FCP\"),a=l(\"paint\",(function(t){t.forEach((function(t){\"first-contentful-paint\"===t.name&&(a.disconnect(),t.startTime<r.firstHiddenTime&&(i.value=Math.max(t.startTime-f(),0),i.entries.push(t),n(!0)))}))}));a&&(n=m(t,i,C,e.reportAllChanges),s((function(r){i=d(\"FCP\"),n=m(t,i,C,e.reportAllChanges),p((function(){i.value=performance.now()-r.timeStamp,n(!0)}))})))}))},D=[.1,.25],w=function(t,e){!function(t,e){e=e||{},M(g((function(){var n,r=d(\"CLS\",0),i=0,a=[],o=function(t){t.forEach((function(t){if(!t.hadRecentInput){var e=a[0],n=a[a.length-1];i&&t.startTime-n.startTime<1e3&&t.startTime-e.startTime<5e3?(i+=t.value,a.push(t)):(i=t.value,a=[t])}})),i>r.value&&(r.value=i,r.entries=a,n())},c=l(\"layout-shift\",o);c&&(n=m(t,r,D,e.reportAllChanges),v((function(){o(c.takeRecords()),n(!0)})),s((function(){i=0,r=d(\"CLS\",0),n=m(t,r,D,e.reportAllChanges),p((function(){return n()}))})),setTimeout(n,0))})))}((function(e){var n=function(t){var e,n={};if(t.entries.length){var r=t.entries.reduce((function(t,e){return t&&t.value>e.value?t:e}));if(r&&r.sources&&r.sources.length){var a=(e=r.sources).find((function(t){return t.node&&1===t.node.nodeType}))||e[0];a&&(n={largestShiftTarget:o(a.node),largestShiftTime:r.startTime,largestShiftValue:r.value,largestShiftSource:a,largestShiftEntry:r,loadState:i(r.startTime)})}}return Object.assign(t,{attribution:n})}(e);t(n)}),e)},x=function(t,e){M((function(e){var n=function(t){var e={timeToFirstByte:0,firstByteToFCP:t.value,loadState:i(u())};if(t.entries.length){var n=r(),a=t.entries[t.entries.length-1];if(n){var o=n.activationStart||0,c=Math.max(0,n.responseStart-o);e={timeToFirstByte:c,firstByteToFCP:t.value-c,loadState:i(t.entries[0].startTime),navigationEntry:n,fcpEntry:a}}}return Object.assign(t,{attribution:e})}(e);t(n)}),e)},I=0,k=1/0,A=0,F=function(t){t.forEach((function(t){t.interactionId&&(k=Math.min(k,t.interactionId),A=Math.max(A,t.interactionId),I=A?(A-k)/7+1:0)}))},P=function(){\"interactionCount\"in performance||t||(t=l(\"event\",F,{type:\"event\",buffered:!0,durationThreshold:0}))},B=[],O=new Map,R=0,j=function(){return(t?I:performance.interactionCount||0)-R},q=[],H=function(t){if(q.forEach((function(e){return e(t)})),t.interactionId||\"first-input\"===t.entryType){var e=B[B.length-1],n=O.get(t.interactionId);if(n||B.length<10||t.duration>e.latency){if(n)t.duration>n.latency?(n.entries=[t],n.latency=t.duration):t.duration===n.latency&&t.startTime===n.entries[0].startTime&&n.entries.push(t);else{var r={id:t.interactionId,latency:t.duration,entries:[t]};O.set(r.id,r),B.push(r)}B.sort((function(t,e){return e.latency-t.latency})),B.length>10&&B.splice(10).forEach((function(t){return O.delete(t.id)}))}}},N=function(t){var e=self.requestIdleCallback||self.setTimeout,n=-1;return t=g(t),\"hidden\"===document.visibilityState?t():(n=e(t),v(t)),n},W=[200,500],z=function(t,e){\"PerformanceEventTiming\"in self&&\"interactionId\"in PerformanceEventTiming.prototype&&(e=e||{},L((function(){var n;P();var r,i=d(\"INP\"),a=function(t){N((function(){t.forEach(H);var e,n=(e=Math.min(B.length-1,Math.floor(j()/50)),B[e]);n&&n.latency!==i.value&&(i.value=n.latency,i.entries=n.entries,r())}))},o=l(\"event\",a,{durationThreshold:null!==(n=e.durationThreshold)&&void 0!==n?n:40});r=m(t,i,W,e.reportAllChanges),o&&(o.observe({type:\"first-input\",buffered:!0}),v((function(){a(o.takeRecords()),r(!0)})),s((function(){R=0,B.length=0,O.clear(),i=d(\"INP\"),r=m(t,i,W,e.reportAllChanges)})))})))},U=[],V=[],_=new WeakMap,G=new Map,J=-1,K=function(t){U=U.concat(t),Q()},Q=function(){J<0&&(J=N(X))},X=function(){G.size>10&&G.forEach((function(t,e){O.has(e)||G.delete(e)}));var t=B.map((function(t){return _.get(t.entries[0])})),e=V.length-50;V=V.filter((function(n,r){return r>=e||t.includes(n)}));for(var r=new Set,i=0;i<V.length;i++){var a=V[i];et(a.startTime,a.processingEnd).forEach((function(t){r.add(t)}))}for(var o=0;o<50;o++){var c=U[U.length-1-o];if(!c||c.startTime<n)break;r.add(c)}U=Array.from(r),J=-1};q.push((function(t){t.interactionId&&t.target&&!G.has(t.interactionId)&&G.set(t.interactionId,t.target)}),(function(t){var e,r=t.startTime+t.duration;n=Math.max(n,t.processingEnd);for(var i=V.length-1;i>=0;i--){var a=V[i];if(Math.abs(r-a.renderTime)<=8){(e=a).startTime=Math.min(t.startTime,e.startTime),e.processingStart=Math.min(t.processingStart,e.processingStart),e.processingEnd=Math.max(t.processingEnd,e.processingEnd),e.entries.push(t);break}}e||(e={startTime:t.startTime,processingStart:t.processingStart,processingEnd:t.processingEnd,renderTime:r,entries:[t]},V.push(e)),(t.interactionId||\"first-input\"===t.entryType)&&_.set(t,e),Q()}));var Y,Z,$,tt,et=function(t,e){for(var n,r=[],i=0;n=U[i];i++)if(!(n.startTime+n.duration<t)){if(n.startTime>e)break;r.push(n)}return r},nt=function(t,n){e||(e=l(\"long-animation-frame\",K)),z((function(e){var n=function(t){var e=t.entries[0],n=_.get(e),r=e.processingStart,a=n.processingEnd,c=n.entries.sort((function(t,e){return t.processingStart-e.processingStart})),u=et(e.startTime,a),s=t.entries.find((function(t){return t.target})),f=s&&s.target||G.get(e.interactionId),d=[e.startTime+e.duration,a].concat(u.map((function(t){return t.startTime+t.duration}))),l=Math.max.apply(Math,d),m={interactionTarget:o(f),interactionTargetElement:f,interactionType:e.name.startsWith(\"key\")?\"keyboard\":\"pointer\",interactionTime:e.startTime,nextPaintTime:l,processedEventEntries:c,longAnimationFrameEntries:u,inputDelay:r-e.startTime,processingDuration:a-r,presentationDelay:Math.max(l-a,0),loadState:i(e.startTime)};return Object.assign(t,{attribution:m})}(e);t(n)}),n)},rt=[2500,4e3],it={},at=function(t,e){!function(t,e){e=e||{},L((function(){var n,r=b(),i=d(\"LCP\"),a=function(t){e.reportAllChanges||(t=t.slice(-1)),t.forEach((function(t){t.startTime<r.firstHiddenTime&&(i.value=Math.max(t.startTime-f(),0),i.entries=[t],n())}))},o=l(\"largest-contentful-paint\",a);if(o){n=m(t,i,rt,e.reportAllChanges);var c=g((function(){it[i.id]||(a(o.takeRecords()),o.disconnect(),it[i.id]=!0,n(!0))}));[\"keydown\",\"click\"].forEach((function(t){addEventListener(t,(function(){return N(c)}),!0)})),v(c),s((function(r){i=d(\"LCP\"),n=m(t,i,rt,e.reportAllChanges),p((function(){i.value=performance.now()-r.timeStamp,it[i.id]=!0,n(!0)}))}))}}))}((function(e){var n=function(t){var e={timeToFirstByte:0,resourceLoadDelay:0,resourceLoadDuration:0,elementRenderDelay:t.value};if(t.entries.length){var n=r();if(n){var i=n.activationStart||0,a=t.entries[t.entries.length-1],c=a.url&&performance.getEntriesByType(\"resource\").filter((function(t){return t.name===a.url}))[0],u=Math.max(0,n.responseStart-i),s=Math.max(u,c?(c.requestStart||c.startTime)-i:0),f=Math.max(s,c?c.responseEnd-i:0),d=Math.max(f,a.startTime-i);e={element:o(a.element),timeToFirstByte:u,resourceLoadDelay:s-u,resourceLoadDuration:f-s,elementRenderDelay:d-f,navigationEntry:n,lcpEntry:a},a.url&&(e.url=a.url),c&&(e.lcpResourceEntry=c)}}return Object.assign(t,{attribution:e})}(e);t(n)}),e)},ot=[800,1800],ct=function t(e){document.prerendering?L((function(){return t(e)})):\"complete\"!==document.readyState?addEventListener(\"load\",(function(){return t(e)}),!0):setTimeout(e,0)},ut=function(t,e){e=e||{};var n=d(\"TTFB\"),i=m(t,n,ot,e.reportAllChanges);ct((function(){var a=r();a&&(n.value=Math.max(a.responseStart-f(),0),n.entries=[a],i(!0),s((function(){n=d(\"TTFB\",0),(i=m(t,n,ot,e.reportAllChanges))(!0)})))}))},st=function(t,e){ut((function(e){var n=function(t){var e={waitingDuration:0,cacheDuration:0,dnsDuration:0,connectionDuration:0,requestDuration:0};if(t.entries.length){var n=t.entries[0],r=n.activationStart||0,i=Math.max((n.workerStart||n.fetchStart)-r,0),a=Math.max(n.domainLookupStart-r,0),o=Math.max(n.connectStart-r,0),c=Math.max(n.connectEnd-r,0);e={waitingDuration:i,cacheDuration:a-i,dnsDuration:o-a,connectionDuration:c-o,requestDuration:t.value-c,navigationEntry:n}}return Object.assign(t,{attribution:e})}(e);t(n)}),e)},ft={passive:!0,capture:!0},dt=new Date,lt=function(t,e){Y||(Y=e,Z=t,$=new Date,vt(removeEventListener),mt())},mt=function(){if(Z>=0&&Z<$-dt){var t={entryType:\"first-input\",name:Y.type,target:Y.target,cancelable:Y.cancelable,startTime:Y.timeStamp,processingStart:Y.timeStamp+Z};tt.forEach((function(e){e(t)})),tt=[]}},pt=function(t){if(t.cancelable){var e=(t.timeStamp>1e12?new Date:performance.now())-t.timeStamp;\"pointerdown\"==t.type?function(t,e){var n=function(){lt(t,e),i()},r=function(){i()},i=function(){removeEventListener(\"pointerup\",n,ft),removeEventListener(\"pointercancel\",r,ft)};addEventListener(\"pointerup\",n,ft),addEventListener(\"pointercancel\",r,ft)}(e,t):lt(e,t)}},vt=function(t){[\"mousedown\",\"keydown\",\"touchstart\",\"pointerdown\"].forEach((function(e){return t(e,pt,ft)}))},gt=[100,300],ht=function(t,e){e=e||{},L((function(){var n,r=b(),i=d(\"FID\"),a=function(t){t.startTime<r.firstHiddenTime&&(i.value=t.processingStart-t.startTime,i.entries.push(t),n(!0))},o=function(t){t.forEach(a)},c=l(\"first-input\",o);n=m(t,i,gt,e.reportAllChanges),c&&(v(g((function(){o(c.takeRecords()),c.disconnect()}))),s((function(){var r;i=d(\"FID\"),n=m(t,i,gt,e.reportAllChanges),tt=[],Z=-1,Y=null,vt(addEventListener),r=a,tt.push(r),mt()})))}))},Tt=function(t,e){ht((function(e){var n=function(t){var e=t.entries[0],n={eventTarget:o(e.target),eventType:e.name,eventTime:e.startTime,eventEntry:e,loadState:i(e.startTime)};return Object.assign(t,{attribution:n})}(e);t(n)}),e)};export{D as CLSThresholds,C as FCPThresholds,gt as FIDThresholds,W as INPThresholds,rt as LCPThresholds,ot as TTFBThresholds,w as onCLS,x as onFCP,Tt as onFID,nt as onINP,at as onLCP,st as onTTFB};\n","export const NAVIGATION_ID_STORAGE_KEY = 'com.grafana.faro.lastNavigationId';\n//# sourceMappingURL=instrumentationConstants.js.map","import { onCLS, onFCP, onFID, onINP, onLCP, onTTFB } from 'web-vitals/attribution';\nimport { unknownString } from '@grafana/faro-core';\nimport { getItem, webStorageType } from '../../utils';\nimport { NAVIGATION_ID_STORAGE_KEY } from '../instrumentationConstants';\n// duplicate keys saved in variables to save bundle size\n// refs: https://github.com/grafana/faro-web-sdk/pull/595#discussion_r1615833968\nconst loadStateKey = 'load_state';\nconst timeToFirstByteKey = 'time_to_first_byte';\nexport class WebVitalsWithAttribution {\n    constructor(corePushMeasurement) {\n        this.corePushMeasurement = corePushMeasurement;\n    }\n    initialize() {\n        this.measureCLS();\n        this.measureFCP();\n        this.measureFID();\n        this.measureINP();\n        this.measureLCP();\n        this.measureTTFB();\n    }\n    measureCLS() {\n        onCLS((metric) => {\n            const { loadState, largestShiftValue, largestShiftTime, largestShiftTarget } = metric.attribution;\n            const values = this.buildInitialValues(metric);\n            this.addIfPresent(values, 'largest_shift_value', largestShiftValue);\n            this.addIfPresent(values, 'largest_shift_time', largestShiftTime);\n            const context = this.buildInitialContext(metric);\n            this.addIfPresent(context, loadStateKey, loadState);\n            this.addIfPresent(context, 'largest_shift_target', largestShiftTarget);\n            this.pushMeasurement(values, context);\n        });\n    }\n    measureFCP() {\n        onFCP((metric) => {\n            const { firstByteToFCP, timeToFirstByte, loadState } = metric.attribution;\n            const values = this.buildInitialValues(metric);\n            this.addIfPresent(values, 'first_byte_to_fcp', firstByteToFCP);\n            this.addIfPresent(values, timeToFirstByteKey, timeToFirstByte);\n            const context = this.buildInitialContext(metric);\n            this.addIfPresent(context, loadStateKey, loadState);\n            this.pushMeasurement(values, context);\n        });\n    }\n    measureFID() {\n        onFID((metric) => {\n            const { eventTime, eventTarget, eventType, loadState } = metric.attribution;\n            const values = this.buildInitialValues(metric);\n            this.addIfPresent(values, 'event_time', eventTime);\n            const context = this.buildInitialContext(metric);\n            this.addIfPresent(context, 'event_target', eventTarget);\n            this.addIfPresent(context, 'event_type', eventType);\n            this.addIfPresent(context, loadStateKey, loadState);\n            this.pushMeasurement(values, context);\n        });\n    }\n    measureINP() {\n        onINP((metric) => {\n            const { interactionTime, presentationDelay, inputDelay, processingDuration, nextPaintTime, loadState, interactionTarget, interactionType, } = metric.attribution;\n            const values = this.buildInitialValues(metric);\n            this.addIfPresent(values, 'interaction_time', interactionTime);\n            this.addIfPresent(values, 'presentation_delay', presentationDelay);\n            this.addIfPresent(values, 'input_delay', inputDelay);\n            this.addIfPresent(values, 'processing_duration', processingDuration);\n            this.addIfPresent(values, 'next_paint_time', nextPaintTime);\n            const context = this.buildInitialContext(metric);\n            this.addIfPresent(context, loadStateKey, loadState);\n            this.addIfPresent(context, 'interaction_target', interactionTarget);\n            this.addIfPresent(context, 'interaction_type', interactionType);\n            this.pushMeasurement(values, context);\n        });\n    }\n    measureLCP() {\n        onLCP((metric) => {\n            const { elementRenderDelay, resourceLoadDelay, resourceLoadDuration, timeToFirstByte, element } = metric.attribution;\n            const values = this.buildInitialValues(metric);\n            this.addIfPresent(values, 'element_render_delay', elementRenderDelay);\n            this.addIfPresent(values, 'resource_load_delay', resourceLoadDelay);\n            this.addIfPresent(values, 'resource_load_duration', resourceLoadDuration);\n            this.addIfPresent(values, timeToFirstByteKey, timeToFirstByte);\n            const context = this.buildInitialContext(metric);\n            this.addIfPresent(context, 'element', element);\n            this.pushMeasurement(values, context);\n        });\n    }\n    measureTTFB() {\n        onTTFB((metric) => {\n            const { dnsDuration, connectionDuration, requestDuration, waitingDuration, cacheDuration } = metric.attribution;\n            const values = this.buildInitialValues(metric);\n            this.addIfPresent(values, 'dns_duration', dnsDuration);\n            this.addIfPresent(values, 'connection_duration', connectionDuration);\n            this.addIfPresent(values, 'request_duration', requestDuration);\n            this.addIfPresent(values, 'waiting_duration', waitingDuration);\n            this.addIfPresent(values, 'cache_duration', cacheDuration);\n            const context = this.buildInitialContext(metric);\n            this.pushMeasurement(values, context);\n        });\n    }\n    buildInitialValues(metric) {\n        const indicator = metric.name.toLowerCase();\n        return {\n            [indicator]: metric.value,\n            delta: metric.delta,\n        };\n    }\n    buildInitialContext(metric) {\n        var _a;\n        const navigationEntryId = (_a = getItem(NAVIGATION_ID_STORAGE_KEY, webStorageType.session)) !== null && _a !== void 0 ? _a : unknownString;\n        return {\n            id: metric.id,\n            rating: metric.rating,\n            navigation_type: metric.navigationType,\n            navigation_entry_id: navigationEntryId,\n        };\n    }\n    pushMeasurement(values, context) {\n        const type = 'web-vitals';\n        this.corePushMeasurement({ type, values }, { context });\n    }\n    addIfPresent(source, key, metric) {\n        if (metric) {\n            source[key] = metric;\n        }\n    }\n}\n//# sourceMappingURL=webVitalsWithAttribution.js.map","import { BaseInstrumentation, VERSION } from '@grafana/faro-core';\nimport { WebVitalsBasic } from './webVitalsBasic';\nimport { WebVitalsWithAttribution } from './webVitalsWithAttribution';\nexport class WebVitalsInstrumentation extends BaseInstrumentation {\n    constructor() {\n        super(...arguments);\n        this.name = '@grafana/faro-web-sdk:instrumentation-web-vitals';\n        this.version = VERSION;\n    }\n    initialize() {\n        this.logDebug('Initializing');\n        const webVitals = this.intializeWebVitalsInstrumentation();\n        webVitals.initialize();\n    }\n    intializeWebVitalsInstrumentation() {\n        if (this.config.trackWebVitalsAttribution) {\n            return new WebVitalsWithAttribution(this.api.pushMeasurement);\n        }\n        return new WebVitalsBasic(this.api.pushMeasurement);\n    }\n}\n//# sourceMappingURL=instrumentation.js.map","/**\n * @deprecated The conventions object will be removed in a future version\n */\nexport const Conventions = {\n    /**\n     * @deprecated The event names object will be removed in a future version\n     */\n    EventNames: {\n        CLICK: 'click',\n        NAVIGATION: 'navigation',\n        SESSION_START: 'session_start',\n        VIEW_CHANGED: 'view_changed',\n    },\n};\nexport const EVENT_CLICK = 'click';\nexport const EVENT_NAVIGATION = 'navigation';\nexport const EVENT_VIEW_CHANGED = 'view_changed';\nexport const EVENT_SESSION_START = 'session_start';\nexport const EVENT_SESSION_RESUME = 'session_resume';\nexport const EVENT_SESSION_EXTEND = 'session_extend';\nexport const EVENT_ROUTE_CHANGE = 'route_change';\n//# sourceMappingURL=semantic.js.map","import { BaseInstrumentation, dateNow, EVENT_SESSION_EXTEND, EVENT_SESSION_RESUME, EVENT_SESSION_START, VERSION, } from '@grafana/faro-core';\nimport { createSession } from '../../metas';\nimport { getSessionManagerByConfig, isSampled } from './sessionManager';\nimport { PersistentSessionsManager } from './sessionManager/PersistentSessionsManager';\nimport { createUserSessionObject, isUserSessionValid } from './sessionManager/sessionManagerUtils';\nexport class SessionInstrumentation extends BaseInstrumentation {\n    constructor() {\n        super(...arguments);\n        this.name = '@grafana/faro-web-sdk:instrumentation-session';\n        this.version = VERSION;\n    }\n    sendSessionStartEvent(meta) {\n        var _a, _b;\n        const session = meta.session;\n        if (session && session.id !== ((_a = this.notifiedSession) === null || _a === void 0 ? void 0 : _a.id)) {\n            if (this.notifiedSession && this.notifiedSession.id === ((_b = session.attributes) === null || _b === void 0 ? void 0 : _b['previousSession'])) {\n                this.api.pushEvent(EVENT_SESSION_EXTEND, {}, undefined, { skipDedupe: true });\n                this.notifiedSession = session;\n                return;\n            }\n            this.notifiedSession = session;\n            // no need to add attributes and session id, they are included as part of meta\n            // automatically\n            this.api.pushEvent(EVENT_SESSION_START, {}, undefined, { skipDedupe: true });\n        }\n    }\n    createInitialSession(SessionManager, sessionsConfig) {\n        var _a, _b, _c, _d, _e;\n        let userSession = SessionManager.fetchUserSession();\n        if (sessionsConfig.persistent && sessionsConfig.maxSessionPersistenceTime && userSession) {\n            const now = dateNow();\n            const shouldClearPersistentSession = userSession.lastActivity < now - sessionsConfig.maxSessionPersistenceTime;\n            if (shouldClearPersistentSession) {\n                PersistentSessionsManager.removeUserSession();\n                userSession = null;\n            }\n        }\n        let lifecycleType;\n        let initialSession;\n        if (isUserSessionValid(userSession)) {\n            const sessionId = userSession === null || userSession === void 0 ? void 0 : userSession.sessionId;\n            initialSession = createUserSessionObject({\n                sessionId,\n                isSampled: userSession.isSampled || false,\n                started: userSession === null || userSession === void 0 ? void 0 : userSession.started,\n            });\n            initialSession.sessionMeta = {\n                id: sessionId,\n                attributes: Object.assign(Object.assign(Object.assign({}, (_a = sessionsConfig.session) === null || _a === void 0 ? void 0 : _a.attributes), (_b = userSession === null || userSession === void 0 ? void 0 : userSession.sessionMeta) === null || _b === void 0 ? void 0 : _b.attributes), { \n                    // For valid resumed sessions we do not want to recalculate the sampling decision on each init phase.\n                    isSampled: initialSession.isSampled.toString() }),\n            };\n            lifecycleType = EVENT_SESSION_RESUME;\n        }\n        else {\n            const sessionId = (_d = (_c = sessionsConfig.session) === null || _c === void 0 ? void 0 : _c.id) !== null && _d !== void 0 ? _d : createSession().id;\n            initialSession = createUserSessionObject({\n                sessionId,\n                isSampled: isSampled(),\n            });\n            initialSession.sessionMeta = {\n                id: sessionId,\n                attributes: Object.assign({ isSampled: initialSession.isSampled.toString() }, (_e = sessionsConfig.session) === null || _e === void 0 ? void 0 : _e.attributes),\n            };\n            lifecycleType = EVENT_SESSION_START;\n        }\n        return { initialSession, lifecycleType };\n    }\n    registerBeforeSendHook(SessionManager) {\n        var _a;\n        const { updateSession } = new SessionManager();\n        (_a = this.transports) === null || _a === void 0 ? void 0 : _a.addBeforeSendHooks((item) => {\n            var _a, _b, _c;\n            updateSession();\n            const attributes = (_a = item.meta.session) === null || _a === void 0 ? void 0 : _a.attributes;\n            if (attributes && (attributes === null || attributes === void 0 ? void 0 : attributes['isSampled']) === 'true') {\n                let newItem = JSON.parse(JSON.stringify(item));\n                const newAttributes = (_b = newItem.meta.session) === null || _b === void 0 ? void 0 : _b.attributes;\n                newAttributes === null || newAttributes === void 0 ? true : delete newAttributes['isSampled'];\n                if (Object.keys(newAttributes !== null && newAttributes !== void 0 ? newAttributes : {}).length === 0) {\n                    (_c = newItem.meta.session) === null || _c === void 0 ? true : delete _c.attributes;\n                }\n                return newItem;\n            }\n            return null;\n        });\n    }\n    initialize() {\n        this.logDebug('init session instrumentation');\n        const sessionTrackingConfig = this.config.sessionTracking;\n        if (sessionTrackingConfig === null || sessionTrackingConfig === void 0 ? void 0 : sessionTrackingConfig.enabled) {\n            const SessionManager = getSessionManagerByConfig(sessionTrackingConfig);\n            this.registerBeforeSendHook(SessionManager);\n            const { initialSession, lifecycleType } = this.createInitialSession(SessionManager, sessionTrackingConfig);\n            SessionManager.storeUserSession(initialSession);\n            const initialSessionMeta = initialSession.sessionMeta;\n            this.notifiedSession = initialSessionMeta;\n            this.api.setSession(initialSessionMeta);\n            if (lifecycleType === EVENT_SESSION_START) {\n                this.api.pushEvent(EVENT_SESSION_START, {}, undefined, { skipDedupe: true });\n            }\n            if (lifecycleType === EVENT_SESSION_RESUME) {\n                this.api.pushEvent(EVENT_SESSION_RESUME, {}, undefined, { skipDedupe: true });\n            }\n        }\n        this.metas.addListener(this.sendSessionStartEvent.bind(this));\n    }\n}\n//# sourceMappingURL=instrumentation.js.map","import { faro, genShortID } from '@grafana/faro-core';\nexport function createSession(attributes) {\n    var _a, _b, _c, _d;\n    return {\n        id: (_d = (_c = (_b = (_a = faro.config) === null || _a === void 0 ? void 0 : _a.sessionTracking) === null || _b === void 0 ? void 0 : _b.generateSessionId) === null || _c === void 0 ? void 0 : _c.call(_b)) !== null && _d !== void 0 ? _d : genShortID(),\n        attributes,\n    };\n}\n//# sourceMappingURL=createSession.js.map","import { BaseInstrumentation, EVENT_VIEW_CHANGED, unknownString, VERSION } from '@grafana/faro-core';\n// all this does is send VIEW_CHANGED event\nexport class ViewInstrumentation extends BaseInstrumentation {\n    constructor() {\n        super(...arguments);\n        this.name = '@grafana/faro-web-sdk:instrumentation-view';\n        this.version = VERSION;\n    }\n    sendViewChangedEvent(meta) {\n        var _a, _b, _c, _d;\n        const view = meta.view;\n        if (view && view.name !== ((_a = this.notifiedView) === null || _a === void 0 ? void 0 : _a.name)) {\n            this.api.pushEvent(EVENT_VIEW_CHANGED, {\n                fromView: (_c = (_b = this.notifiedView) === null || _b === void 0 ? void 0 : _b.name) !== null && _c !== void 0 ? _c : unknownString,\n                toView: (_d = view.name) !== null && _d !== void 0 ? _d : unknownString,\n            }, undefined, { skipDedupe: true });\n            this.notifiedView = view;\n        }\n    }\n    initialize() {\n        this.metas.addListener(this.sendViewChangedEvent.bind(this));\n    }\n}\n//# sourceMappingURL=instrumentation.js.map","export const NAVIGATION_ENTRY = 'navigation';\nexport const RESOURCE_ENTRY = 'resource';\n//# sourceMappingURL=performanceConstants.js.map","import { isArray, unknownString } from '@grafana/faro-core';\nconst w3cTraceparentFormat = /^00-[a-f0-9]{32}-[a-f0-9]{16}-[0-9]{1,2}$/;\n// Extract traceparent from serverTiming, if present\nexport function getSpanContextFromServerTiming(serverTimings = []) {\n    for (const serverEntry of serverTimings) {\n        if (serverEntry.name === 'traceparent') {\n            if (!w3cTraceparentFormat.test(serverEntry.description)) {\n                continue;\n            }\n            const [, traceId, spanId] = serverEntry.description.split('-');\n            if (traceId != null && spanId != null) {\n                return { traceId, spanId };\n            }\n            break;\n        }\n    }\n    return undefined;\n}\nexport function performanceObserverSupported() {\n    return 'PerformanceObserver' in window;\n}\nexport function entryUrlIsIgnored(ignoredUrls = [], entryName) {\n    return ignoredUrls.some((url) => url && entryName.match(url) != null);\n}\nexport function onDocumentReady(handleReady) {\n    if (document.readyState === 'complete') {\n        handleReady();\n    }\n    else {\n        const readyStateCompleteHandler = () => {\n            if (document.readyState === 'complete') {\n                handleReady();\n                document.removeEventListener('readystatechange', readyStateCompleteHandler);\n            }\n        };\n        document.addEventListener('readystatechange', readyStateCompleteHandler);\n    }\n}\nexport function includePerformanceEntry(performanceEntryJSON, allowProps = {}) {\n    for (const [allowPropKey, allowPropValue] of Object.entries(allowProps)) {\n        const perfEntryPropVal = performanceEntryJSON[allowPropKey];\n        if (perfEntryPropVal == null) {\n            return false;\n        }\n        if (isArray(allowPropValue)) {\n            return allowPropValue.includes(perfEntryPropVal);\n        }\n        return perfEntryPropVal === allowPropValue;\n    }\n    // empty object allows all\n    return true;\n}\nexport function createFaroResourceTiming(resourceEntryRaw) {\n    const { connectEnd, connectStart, decodedBodySize, domainLookupEnd, domainLookupStart, duration, encodedBodySize, fetchStart, initiatorType, name, nextHopProtocol, redirectEnd, redirectStart, \n    // @ts-expect-error the renderBlockingStatus property is not available in all browsers\n    renderBlockingStatus: rbs, requestStart, responseEnd, responseStart, \n    // @ts-expect-error the renderBlockingStatus property is not available in all browsers\n    responseStatus, secureConnectionStart, transferSize, workerStart, } = resourceEntryRaw;\n    return {\n        name: name,\n        duration: toFaroPerformanceTimingString(duration),\n        tcpHandshakeTime: toFaroPerformanceTimingString(connectEnd - connectStart),\n        dnsLookupTime: toFaroPerformanceTimingString(domainLookupEnd - domainLookupStart),\n        tlsNegotiationTime: toFaroPerformanceTimingString(requestStart - secureConnectionStart),\n        responseStatus: toFaroPerformanceTimingString(responseStatus),\n        redirectTime: toFaroPerformanceTimingString(redirectEnd - redirectStart),\n        requestTime: toFaroPerformanceTimingString(responseStart - requestStart),\n        responseTime: toFaroPerformanceTimingString(responseEnd - responseStart),\n        fetchTime: toFaroPerformanceTimingString(responseEnd - fetchStart),\n        serviceWorkerTime: toFaroPerformanceTimingString(fetchStart - workerStart),\n        decodedBodySize: toFaroPerformanceTimingString(decodedBodySize),\n        encodedBodySize: toFaroPerformanceTimingString(encodedBodySize),\n        cacheHitStatus: getCacheType(),\n        renderBlockingStatus: toFaroPerformanceTimingString(rbs),\n        protocol: nextHopProtocol,\n        initiatorType: initiatorType,\n        // TODO: add in future iteration, ideally after nested objects are supported by the collector.\n        // serverTiming: resourceEntryRaw.serverTiming,\n    };\n    function getCacheType() {\n        let cacheType = 'fullLoad';\n        if (transferSize === 0) {\n            if (decodedBodySize > 0) {\n                cacheType = 'cache';\n            }\n        }\n        else {\n            if (responseStatus != null) {\n                if (responseStatus === 304) {\n                    cacheType = 'conditionalFetch';\n                }\n            }\n            else if (encodedBodySize > 0 && transferSize < encodedBodySize) {\n                cacheType = 'conditionalFetch';\n            }\n        }\n        return cacheType;\n    }\n}\nexport function createFaroNavigationTiming(navigationEntryRaw) {\n    const { activationStart, domComplete, domContentLoadedEventEnd, domContentLoadedEventStart, domInteractive, fetchStart, loadEventEnd, loadEventStart, responseStart, type, } = navigationEntryRaw;\n    const parserStart = getDocumentParsingTime();\n    return Object.assign({ visibilityState: document.visibilityState, pageLoadTime: toFaroPerformanceTimingString(domComplete - fetchStart), documentParsingTime: toFaroPerformanceTimingString(parserStart ? domInteractive - parserStart : null), domProcessingTime: toFaroPerformanceTimingString(domComplete - domInteractive), domContentLoadHandlerTime: toFaroPerformanceTimingString(domContentLoadedEventEnd - domContentLoadedEventStart), onLoadTime: toFaroPerformanceTimingString(loadEventEnd - loadEventStart), \n        // For more accuracy on prerendered pages page we calculate relative top the activationStart instead of the start of the navigation.\n        // clamp to 0 if activationStart occurs after first byte is received.\n        ttfb: toFaroPerformanceTimingString(Math.max(responseStart - (activationStart !== null && activationStart !== void 0 ? activationStart : 0), 0)), type: type }, createFaroResourceTiming(navigationEntryRaw));\n}\nfunction getDocumentParsingTime() {\n    var _a;\n    if (((_a = performance.timing) === null || _a === void 0 ? void 0 : _a.domLoading) != null) {\n        // the browser is about to start parsing the first received bytes of the HTML document.\n        // This property is deprecated but there isn't a really good alternative atm.\n        // For now we stick with domLoading and keep researching a better alternative.\n        return performance.timing.domLoading - performance.timeOrigin;\n    }\n    return null;\n}\nfunction toFaroPerformanceTimingString(v) {\n    if (v == null) {\n        return unknownString;\n    }\n    if (typeof v === 'number') {\n        return Math.round(v).toString();\n    }\n    return v.toString();\n}\n//# sourceMappingURL=performanceUtils.js.map","import { faro, genShortID } from '@grafana/faro-core';\nimport { RESOURCE_ENTRY } from './performanceConstants';\nimport { createFaroResourceTiming, entryUrlIsIgnored, getSpanContextFromServerTiming, includePerformanceEntry, } from './performanceUtils';\nconst DEFAULT_TRACK_RESOURCES = { initiatorType: ['xmlhttprequest', 'fetch'] };\nexport function observeResourceTimings(faroNavigationId, pushEvent, ignoredUrls) {\n    const trackResources = faro.config.trackResources;\n    const observer = new PerformanceObserver((observedEntries) => {\n        const entries = observedEntries.getEntries();\n        for (const resourceEntryRaw of entries) {\n            if (entryUrlIsIgnored(ignoredUrls, resourceEntryRaw.name)) {\n                return;\n            }\n            const resourceEntryJson = resourceEntryRaw.toJSON();\n            let spanContext = getSpanContextFromServerTiming(resourceEntryJson === null || resourceEntryJson === void 0 ? void 0 : resourceEntryJson.serverTiming);\n            if ((trackResources == null && includePerformanceEntry(resourceEntryJson, DEFAULT_TRACK_RESOURCES)) ||\n                trackResources) {\n                const faroResourceEntry = Object.assign(Object.assign({}, createFaroResourceTiming(resourceEntryJson)), { faroNavigationId, faroResourceId: genShortID() });\n                pushEvent('faro.performance.resource', faroResourceEntry, undefined, {\n                    spanContext,\n                    timestampOverwriteMs: performance.timeOrigin + resourceEntryJson.startTime,\n                });\n            }\n        }\n    });\n    observer.observe({\n        type: RESOURCE_ENTRY,\n        buffered: true,\n    });\n}\n//# sourceMappingURL=resource.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { BaseInstrumentation, VERSION } from '@grafana/faro-core';\nimport { getNavigationTimings } from './navigation';\nimport { onDocumentReady, performanceObserverSupported } from './performanceUtils';\nimport { observeResourceTimings } from './resource';\nexport class PerformanceInstrumentation extends BaseInstrumentation {\n    constructor() {\n        super(...arguments);\n        this.name = '@grafana/faro-web-sdk:instrumentation-performance';\n        this.version = VERSION;\n    }\n    initialize() {\n        if (!performanceObserverSupported()) {\n            this.logDebug('performance observer not supported. Disable performance instrumentation.');\n            return;\n        }\n        onDocumentReady(() => __awaiter(this, void 0, void 0, function* () {\n            const pushEvent = this.api.pushEvent;\n            const ignoredUrls = this.getIgnoreUrls();\n            const { faroNavigationId } = yield getNavigationTimings(pushEvent, ignoredUrls);\n            if (faroNavigationId != null) {\n                observeResourceTimings(faroNavigationId, pushEvent, ignoredUrls);\n            }\n        }));\n    }\n    getIgnoreUrls() {\n        var _a;\n        return (_a = this.transports.transports) === null || _a === void 0 ? void 0 : _a.flatMap((transport) => transport.getIgnoreUrls());\n    }\n}\n//# sourceMappingURL=instrumentation.js.map","import { genShortID, unknownString } from '@grafana/faro-core';\nimport { getItem, setItem, webStorageType } from '../../utils';\nimport { NAVIGATION_ID_STORAGE_KEY } from '../instrumentationConstants';\nimport { NAVIGATION_ENTRY } from './performanceConstants';\nimport { createFaroNavigationTiming, entryUrlIsIgnored, getSpanContextFromServerTiming } from './performanceUtils';\nexport function getNavigationTimings(pushEvent, ignoredUrls) {\n    let faroNavigationEntryResolve;\n    const faroNavigationEntryPromise = new Promise((resolve) => {\n        faroNavigationEntryResolve = resolve;\n    });\n    const observer = new PerformanceObserver((observedEntries) => {\n        var _a;\n        const [navigationEntryRaw] = observedEntries.getEntries();\n        if (navigationEntryRaw == null || entryUrlIsIgnored(ignoredUrls, navigationEntryRaw.name)) {\n            return;\n        }\n        const navEntryJson = navigationEntryRaw.toJSON();\n        let spanContext = getSpanContextFromServerTiming(navEntryJson === null || navEntryJson === void 0 ? void 0 : navEntryJson.serverTiming);\n        const faroPreviousNavigationId = (_a = getItem(NAVIGATION_ID_STORAGE_KEY, webStorageType.session)) !== null && _a !== void 0 ? _a : unknownString;\n        const faroNavigationEntry = Object.assign(Object.assign({}, createFaroNavigationTiming(navEntryJson)), { faroNavigationId: genShortID(), faroPreviousNavigationId });\n        setItem(NAVIGATION_ID_STORAGE_KEY, faroNavigationEntry.faroNavigationId, webStorageType.session);\n        pushEvent('faro.performance.navigation', faroNavigationEntry, undefined, {\n            spanContext,\n            timestampOverwriteMs: performance.timeOrigin + navEntryJson.startTime,\n        });\n        faroNavigationEntryResolve(faroNavigationEntry);\n    });\n    observer.observe({\n        type: NAVIGATION_ENTRY,\n        buffered: true,\n    });\n    return faroNavigationEntryPromise;\n}\n//# sourceMappingURL=navigation.js.map","import { allLogLevels, BaseInstrumentation, LogLevel, VERSION } from '@grafana/faro-core';\nexport class ConsoleInstrumentation extends BaseInstrumentation {\n    constructor(options = {}) {\n        super();\n        this.options = options;\n        this.name = '@grafana/faro-web-sdk:instrumentation-console';\n        this.version = VERSION;\n    }\n    initialize() {\n        this.logDebug('Initializing\\n', this.options);\n        allLogLevels\n            .filter((level) => { var _a; return !((_a = this.options.disabledLevels) !== null && _a !== void 0 ? _a : ConsoleInstrumentation.defaultDisabledLevels).includes(level); })\n            .forEach((level) => {\n            /* eslint-disable-next-line no-console */\n            console[level] = (...args) => {\n                try {\n                    this.api.pushLog(args, { level });\n                }\n                catch (err) {\n                    this.logError(err);\n                }\n                finally {\n                    this.unpatchedConsole[level](...args);\n                }\n            };\n        });\n    }\n}\nConsoleInstrumentation.defaultDisabledLevels = [LogLevel.DEBUG, LogLevel.TRACE, LogLevel.LOG];\n//# sourceMappingURL=instrumentation.js.map","import { ConsoleInstrumentation, ErrorsInstrumentation, PerformanceInstrumentation, SessionInstrumentation, ViewInstrumentation, WebVitalsInstrumentation, } from '../instrumentations';\nexport function getWebInstrumentations(options = {}) {\n    const instrumentations = [\n        new ErrorsInstrumentation(),\n        new WebVitalsInstrumentation(),\n        new SessionInstrumentation(),\n        new ViewInstrumentation(),\n    ];\n    if (options.enablePerformanceInstrumentation !== false) {\n        // unshift to ensure that initialization starts before the other instrumentations\n        instrumentations.unshift(new PerformanceInstrumentation());\n    }\n    if (options.captureConsole !== false) {\n        instrumentations.push(new ConsoleInstrumentation({\n            disabledLevels: options.captureConsoleDisabledLevels,\n        }));\n    }\n    return instrumentations;\n}\n//# sourceMappingURL=getWebInstrumentations.js.map","export var TransportItemType;\n(function (TransportItemType) {\n    TransportItemType[\"EXCEPTION\"] = \"exception\";\n    TransportItemType[\"LOG\"] = \"log\";\n    TransportItemType[\"MEASUREMENT\"] = \"measurement\";\n    TransportItemType[\"TRACE\"] = \"trace\";\n    TransportItemType[\"EVENT\"] = \"event\";\n})(TransportItemType || (TransportItemType = {}));\nexport const transportItemTypeToBodyKey = {\n    [TransportItemType.EXCEPTION]: 'exceptions',\n    [TransportItemType.LOG]: 'logs',\n    [TransportItemType.MEASUREMENT]: 'measurements',\n    [TransportItemType.TRACE]: 'traces',\n    [TransportItemType.EVENT]: 'events',\n};\n//# sourceMappingURL=const.js.map","import { isArray, isObject, isTypeof } from './is';\n// This function was inspired by fast-deep-equal\n// fast-deep-equal has issues with Rollup and also it checks for some edge cases that we don't need\nexport function deepEqual(a, b) {\n    if (a === b) {\n        return true;\n    }\n    // Using isTypeOf instead of isNumber as isNumber also checks against NaN\n    if (isTypeof(a, 'number') && isNaN(a)) {\n        return isTypeof(b, 'number') && isNaN(b);\n    }\n    const aIsArray = isArray(a);\n    const bIsArray = isArray(b);\n    if (aIsArray !== bIsArray) {\n        return false;\n    }\n    if (aIsArray && bIsArray) {\n        const length = a.length;\n        if (length !== b.length) {\n            return false;\n        }\n        for (let idx = length; idx-- !== 0;) {\n            if (!deepEqual(a[idx], b[idx])) {\n                return false;\n            }\n        }\n        return true;\n    }\n    const aIsObject = isObject(a);\n    const bIsObject = isObject(b);\n    if (aIsObject !== bIsObject) {\n        return false;\n    }\n    if (a && b && aIsObject && bIsObject) {\n        const aKeys = Object.keys(a);\n        const bKeys = Object.keys(b);\n        const aLength = aKeys.length;\n        const bLength = bKeys.length;\n        if (aLength !== bLength) {\n            return false;\n        }\n        for (let aKey of aKeys) {\n            if (!bKeys.includes(aKey)) {\n                return false;\n            }\n        }\n        for (let aKey of aKeys) {\n            if (!deepEqual(a[aKey], b[aKey])) {\n                return false;\n            }\n        }\n        return true;\n    }\n    return false;\n}\n//# sourceMappingURL=deepEqual.js.map","import { TransportItemType } from '../../transports';\nimport { deepEqual, getCurrentTimestamp, isNull } from '../../utils';\nimport { timestampToIsoString } from '../../utils/date';\nimport { defaultExceptionType } from './const';\nlet stacktraceParser;\nexport function initializeExceptionsAPI(_unpatchedConsole, internalLogger, config, metas, transports, tracesApi) {\n    var _a;\n    internalLogger.debug('Initializing exceptions API');\n    let lastPayload = null;\n    stacktraceParser = (_a = config.parseStacktrace) !== null && _a !== void 0 ? _a : stacktraceParser;\n    const changeStacktraceParser = (newStacktraceParser) => {\n        internalLogger.debug('Changing stacktrace parser');\n        stacktraceParser = newStacktraceParser !== null && newStacktraceParser !== void 0 ? newStacktraceParser : stacktraceParser;\n    };\n    const getStacktraceParser = () => stacktraceParser;\n    const pushError = (error, { skipDedupe, stackFrames, type, context, spanContext, timestampOverwriteMs } = {}) => {\n        type = type || error.name || defaultExceptionType;\n        const item = {\n            meta: metas.value,\n            payload: {\n                type,\n                value: error.message,\n                timestamp: timestampOverwriteMs ? timestampToIsoString(timestampOverwriteMs) : getCurrentTimestamp(),\n                trace: spanContext\n                    ? {\n                        trace_id: spanContext.traceId,\n                        span_id: spanContext.spanId,\n                    }\n                    : tracesApi.getTraceContext(),\n                context: context !== null && context !== void 0 ? context : {},\n            },\n            type: TransportItemType.EXCEPTION,\n        };\n        stackFrames = stackFrames !== null && stackFrames !== void 0 ? stackFrames : (error.stack ? stacktraceParser === null || stacktraceParser === void 0 ? void 0 : stacktraceParser(error).frames : undefined);\n        if (stackFrames === null || stackFrames === void 0 ? void 0 : stackFrames.length) {\n            item.payload.stacktrace = {\n                frames: stackFrames,\n            };\n        }\n        const testingPayload = {\n            type: item.payload.type,\n            value: item.payload.value,\n            stackTrace: item.payload.stacktrace,\n            context: item.payload.context,\n        };\n        if (!skipDedupe && config.dedupe && !isNull(lastPayload) && deepEqual(testingPayload, lastPayload)) {\n            internalLogger.debug('Skipping error push because it is the same as the last one\\n', item.payload);\n            return;\n        }\n        lastPayload = testingPayload;\n        internalLogger.debug('Pushing exception\\n', item);\n        transports.execute(item);\n    };\n    changeStacktraceParser(config.parseStacktrace);\n    return {\n        changeStacktraceParser,\n        getStacktraceParser,\n        pushError,\n    };\n}\n//# sourceMappingURL=initialize.js.map","export const defaultLogArgsSerializer = (args) => args\n    .map((arg) => {\n    try {\n        return String(arg);\n    }\n    catch (err) {\n        return '';\n    }\n})\n    .join(' ');\n//# sourceMappingURL=const.js.map","import { initializeEventsAPI } from './events';\nimport { initializeExceptionsAPI } from './exceptions';\nimport { initializeLogsAPI } from './logs';\nimport { initializeMeasurementsAPI } from './measurements';\nimport { initializeMetaAPI } from './meta';\nimport { initializeTracesAPI } from './traces';\nexport function initializeAPI(unpatchedConsole, internalLogger, config, metas, transports) {\n    internalLogger.debug('Initializing API');\n    const tracesApi = initializeTracesAPI(unpatchedConsole, internalLogger, config, metas, transports);\n    return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, tracesApi), initializeExceptionsAPI(unpatchedConsole, internalLogger, config, metas, transports, tracesApi)), initializeMetaAPI(unpatchedConsole, internalLogger, config, metas, transports)), initializeLogsAPI(unpatchedConsole, internalLogger, config, metas, transports, tracesApi)), initializeMeasurementsAPI(unpatchedConsole, internalLogger, config, metas, transports, tracesApi)), initializeEventsAPI(unpatchedConsole, internalLogger, config, metas, transports, tracesApi));\n}\n//# sourceMappingURL=initialize.js.map","import { TransportItemType } from '../../transports';\nexport function initializeTracesAPI(_unpatchedConsole, internalLogger, _config, metas, transports) {\n    internalLogger.debug('Initializing traces API');\n    let otel = undefined;\n    const initOTEL = (trace, context) => {\n        internalLogger.debug('Initializing OpenTelemetry');\n        otel = {\n            trace,\n            context,\n        };\n    };\n    const getTraceContext = () => {\n        const ctx = otel === null || otel === void 0 ? void 0 : otel.trace.getSpanContext(otel.context.active());\n        return !ctx\n            ? undefined\n            : {\n                trace_id: ctx.traceId,\n                span_id: ctx.spanId,\n            };\n    };\n    const pushTraces = (payload) => {\n        try {\n            const item = {\n                type: TransportItemType.TRACE,\n                payload,\n                meta: metas.value,\n            };\n            internalLogger.debug('Pushing trace\\n', item);\n            transports.execute(item);\n        }\n        catch (err) {\n            internalLogger.error('Error pushing trace\\n', err);\n        }\n    };\n    const getOTEL = () => otel;\n    const isOTELInitialized = () => !!otel;\n    return {\n        getOTEL,\n        getTraceContext,\n        initOTEL,\n        isOTELInitialized,\n        pushTraces,\n    };\n}\n//# sourceMappingURL=initialize.js.map","export function initializeMetaAPI(_unpatchedConsole, internalLogger, _config, metas, _transports) {\n    internalLogger.debug('Initializing meta API');\n    let metaSession = undefined;\n    let metaUser = undefined;\n    let metaView = undefined;\n    const setUser = (user) => {\n        if (metaUser) {\n            metas.remove(metaUser);\n        }\n        metaUser = {\n            user,\n        };\n        metas.add(metaUser);\n    };\n    const setSession = (session) => {\n        if (metaSession) {\n            metas.remove(metaSession);\n        }\n        metaSession = {\n            session,\n        };\n        metas.add(metaSession);\n    };\n    const getSession = () => metas.value.session;\n    const setView = (view) => {\n        var _a;\n        if (((_a = metaView === null || metaView === void 0 ? void 0 : metaView.view) === null || _a === void 0 ? void 0 : _a.name) === (view === null || view === void 0 ? void 0 : view.name)) {\n            return;\n        }\n        const previousView = metaView;\n        metaView = {\n            view,\n        };\n        metas.add(metaView);\n        if (previousView) {\n            metas.remove(previousView);\n        }\n    };\n    const getView = () => metas.value.view;\n    return {\n        setUser,\n        resetUser: setUser,\n        setSession,\n        resetSession: setSession,\n        getSession,\n        setView,\n        getView,\n    };\n}\n//# sourceMappingURL=initialize.js.map","import { TransportItemType } from '../../transports';\nimport { deepEqual, defaultLogLevel, getCurrentTimestamp, isNull } from '../../utils';\nimport { timestampToIsoString } from '../../utils/date';\nimport { defaultLogArgsSerializer } from './const';\nexport function initializeLogsAPI(_unpatchedConsole, internalLogger, config, metas, transports, tracesApi) {\n    var _a;\n    internalLogger.debug('Initializing logs API');\n    let lastPayload = null;\n    const logArgsSerializer = (_a = config.logArgsSerializer) !== null && _a !== void 0 ? _a : defaultLogArgsSerializer;\n    const pushLog = (args, { context, level, skipDedupe, spanContext, timestampOverwriteMs } = {}) => {\n        try {\n            const item = {\n                type: TransportItemType.LOG,\n                payload: {\n                    message: logArgsSerializer(args),\n                    level: level !== null && level !== void 0 ? level : defaultLogLevel,\n                    context: context !== null && context !== void 0 ? context : {},\n                    timestamp: timestampOverwriteMs ? timestampToIsoString(timestampOverwriteMs) : getCurrentTimestamp(),\n                    trace: spanContext\n                        ? {\n                            trace_id: spanContext.traceId,\n                            span_id: spanContext.spanId,\n                        }\n                        : tracesApi.getTraceContext(),\n                },\n                meta: metas.value,\n            };\n            const testingPayload = {\n                message: item.payload.message,\n                level: item.payload.level,\n                context: item.payload.context,\n            };\n            if (!skipDedupe && config.dedupe && !isNull(lastPayload) && deepEqual(testingPayload, lastPayload)) {\n                internalLogger.debug('Skipping log push because it is the same as the last one\\n', item.payload);\n                return;\n            }\n            lastPayload = testingPayload;\n            internalLogger.debug('Pushing log\\n', item);\n            transports.execute(item);\n        }\n        catch (err) {\n            internalLogger.error('Error pushing log\\n', err);\n        }\n    };\n    return {\n        pushLog,\n    };\n}\n//# sourceMappingURL=initialize.js.map","import { TransportItemType } from '../../transports';\nimport { deepEqual, getCurrentTimestamp, isNull } from '../../utils';\nimport { timestampToIsoString } from '../../utils/date';\nexport function initializeMeasurementsAPI(_unpatchedConsole, internalLogger, config, metas, transports, tracesApi) {\n    internalLogger.debug('Initializing measurements API');\n    let lastPayload = null;\n    const pushMeasurement = (payload, { skipDedupe, context, spanContext, timestampOverwriteMs } = {}) => {\n        try {\n            const item = {\n                type: TransportItemType.MEASUREMENT,\n                payload: Object.assign(Object.assign({}, payload), { trace: spanContext\n                        ? {\n                            trace_id: spanContext.traceId,\n                            span_id: spanContext.spanId,\n                        }\n                        : tracesApi.getTraceContext(), timestamp: timestampOverwriteMs ? timestampToIsoString(timestampOverwriteMs) : getCurrentTimestamp(), context: context !== null && context !== void 0 ? context : {} }),\n                meta: metas.value,\n            };\n            const testingPayload = {\n                type: item.payload.type,\n                values: item.payload.values,\n                context: item.payload.context,\n            };\n            if (!skipDedupe && config.dedupe && !isNull(lastPayload) && deepEqual(testingPayload, lastPayload)) {\n                internalLogger.debug('Skipping measurement push because it is the same as the last one\\n', item.payload);\n                return;\n            }\n            lastPayload = testingPayload;\n            internalLogger.debug('Pushing measurement\\n', item);\n            transports.execute(item);\n        }\n        catch (err) {\n            internalLogger.error('Error pushing measurement\\n', err);\n        }\n    };\n    return {\n        pushMeasurement,\n    };\n}\n//# sourceMappingURL=initialize.js.map","import { TransportItemType } from '../../transports';\nimport { deepEqual, getCurrentTimestamp, isNull } from '../../utils';\nimport { timestampToIsoString } from '../../utils/date';\nexport function initializeEventsAPI(_unpatchedConsole, internalLogger, config, metas, transports, tracesApi) {\n    let lastPayload = null;\n    const pushEvent = (name, attributes, domain, { skipDedupe, spanContext, timestampOverwriteMs } = {}) => {\n        try {\n            const item = {\n                meta: metas.value,\n                payload: {\n                    name,\n                    domain: domain !== null && domain !== void 0 ? domain : config.eventDomain,\n                    attributes,\n                    timestamp: timestampOverwriteMs ? timestampToIsoString(timestampOverwriteMs) : getCurrentTimestamp(),\n                    trace: spanContext\n                        ? {\n                            trace_id: spanContext.traceId,\n                            span_id: spanContext.spanId,\n                        }\n                        : tracesApi.getTraceContext(),\n                },\n                type: TransportItemType.EVENT,\n            };\n            const testingPayload = {\n                name: item.payload.name,\n                attributes: item.payload.attributes,\n                domain: item.payload.domain,\n            };\n            if (!skipDedupe && config.dedupe && !isNull(lastPayload) && deepEqual(testingPayload, lastPayload)) {\n                internalLogger.debug('Skipping event push because it is the same as the last one\\n', item.payload);\n                return;\n            }\n            lastPayload = testingPayload;\n            internalLogger.debug('Pushing event\\n', item);\n            transports.execute(item);\n        }\n        catch (err) {\n            internalLogger.error('Error pushing event', err);\n        }\n    };\n    return {\n        pushEvent,\n    };\n}\n//# sourceMappingURL=initialize.js.map","import { defaultUnpatchedConsole } from '../unpatchedConsole';\nimport { noop } from '../utils';\nimport { defaultInternalLogger, defaultInternalLoggerLevel, InternalLoggerLevel } from './const';\nexport function createInternalLogger(unpatchedConsole = defaultUnpatchedConsole, internalLoggerLevel = defaultInternalLoggerLevel) {\n    const internalLogger = defaultInternalLogger;\n    if (internalLoggerLevel > InternalLoggerLevel.OFF) {\n        internalLogger.error =\n            internalLoggerLevel >= InternalLoggerLevel.ERROR\n                ? function (...args) {\n                    unpatchedConsole.error(`${internalLogger.prefix}\\n`, ...args);\n                }\n                : noop;\n        internalLogger.warn =\n            internalLoggerLevel >= InternalLoggerLevel.WARN\n                ? function (...args) {\n                    unpatchedConsole.warn(`${internalLogger.prefix}\\n`, ...args);\n                }\n                : noop;\n        internalLogger.info =\n            internalLoggerLevel >= InternalLoggerLevel.INFO\n                ? function (...args) {\n                    unpatchedConsole.info(`${internalLogger.prefix}\\n`, ...args);\n                }\n                : noop;\n        internalLogger.debug =\n            internalLoggerLevel >= InternalLoggerLevel.VERBOSE\n                ? function (...args) {\n                    unpatchedConsole.debug(`${internalLogger.prefix}\\n`, ...args);\n                }\n                : noop;\n    }\n    return internalLogger;\n}\n//# sourceMappingURL=createInternalLogger.js.map","import { defaultInternalLogger } from './const';\nimport { createInternalLogger } from './createInternalLogger';\nexport let internalLogger = defaultInternalLogger;\nexport function initializeInternalLogger(unpatchedConsole, config) {\n    internalLogger = createInternalLogger(unpatchedConsole, config.internalLoggerLevel);\n    return internalLogger;\n}\n//# sourceMappingURL=initialize.js.map","const DEFAULT_SEND_TIMEOUT_MS = 250;\nconst DEFAULT_BATCH_ITEM_LIMIT = 50;\nexport class BatchExecutor {\n    constructor(sendFn, options) {\n        var _a, _b;\n        this.signalBuffer = [];\n        this.itemLimit = (_a = options === null || options === void 0 ? void 0 : options.itemLimit) !== null && _a !== void 0 ? _a : DEFAULT_BATCH_ITEM_LIMIT;\n        this.sendTimeout = (_b = options === null || options === void 0 ? void 0 : options.sendTimeout) !== null && _b !== void 0 ? _b : DEFAULT_SEND_TIMEOUT_MS;\n        this.paused = (options === null || options === void 0 ? void 0 : options.paused) || false;\n        this.sendFn = sendFn;\n        this.flushInterval = -1;\n        if (!this.paused) {\n            this.start();\n        }\n        // Send batched/buffered data when user navigates to new page, switches or closes the tab, minimizes or closes the browser.\n        // If on mobile, it also sends data if user switches from the browser to a different app.\n        document.addEventListener('visibilitychange', () => {\n            if (document.visibilityState === 'hidden') {\n                this.flush();\n            }\n        });\n    }\n    addItem(item) {\n        if (this.paused) {\n            return;\n        }\n        this.signalBuffer.push(item);\n        if (this.signalBuffer.length >= this.itemLimit) {\n            this.flush();\n        }\n    }\n    start() {\n        this.paused = false;\n        if (this.sendTimeout > 0) {\n            this.flushInterval = window.setInterval(() => this.flush(), this.sendTimeout);\n        }\n    }\n    pause() {\n        this.paused = true;\n        clearInterval(this.flushInterval);\n    }\n    groupItems(items) {\n        const itemMap = new Map();\n        items.forEach((item) => {\n            const metaKey = JSON.stringify(item.meta);\n            let currentItems = itemMap.get(metaKey);\n            if (currentItems === undefined) {\n                currentItems = [item];\n            }\n            else {\n                currentItems = [...currentItems, item];\n            }\n            itemMap.set(metaKey, currentItems);\n        });\n        return Array.from(itemMap.values());\n    }\n    flush() {\n        if (this.paused || this.signalBuffer.length === 0) {\n            return;\n        }\n        const itemGroups = this.groupItems(this.signalBuffer);\n        itemGroups.forEach(this.sendFn);\n        this.signalBuffer = [];\n    }\n}\n//# sourceMappingURL=batchExecutor.js.map","import { isString } from '../utils';\nimport { BatchExecutor } from './batchExecutor';\nimport { TransportItemType } from './const';\nexport function shouldIgnoreEvent(patterns, msg) {\n    return patterns.some((pattern) => {\n        return isString(pattern) ? msg.includes(pattern) : !!msg.match(pattern);\n    });\n}\nexport function createBeforeSendHookFromIgnorePatterns(patterns) {\n    return (item) => {\n        if (item.type === TransportItemType.EXCEPTION && item.payload) {\n            const evt = item.payload;\n            const msg = `${evt.type}: ${evt.value}`;\n            if (shouldIgnoreEvent(patterns, msg)) {\n                return null;\n            }\n        }\n        return item;\n    };\n}\nexport function initializeTransports(unpatchedConsole, internalLogger, config, metas) {\n    var _a;\n    internalLogger.debug('Initializing transports');\n    const transports = [];\n    let paused = config.paused;\n    let beforeSendHooks = [];\n    const add = (...newTransports) => {\n        internalLogger.debug('Adding transports');\n        newTransports.forEach((newTransport) => {\n            internalLogger.debug(`Adding \"${newTransport.name}\" transport`);\n            const exists = transports.some((existingTransport) => existingTransport === newTransport);\n            if (exists) {\n                internalLogger.warn(`Transport ${newTransport.name} is already added`);\n                return;\n            }\n            newTransport.unpatchedConsole = unpatchedConsole;\n            newTransport.internalLogger = internalLogger;\n            newTransport.config = config;\n            newTransport.metas = metas;\n            transports.push(newTransport);\n        });\n    };\n    const addBeforeSendHooks = (...newBeforeSendHooks) => {\n        internalLogger.debug('Adding beforeSendHooks\\n', beforeSendHooks);\n        newBeforeSendHooks.forEach((beforeSendHook) => {\n            if (beforeSendHook) {\n                beforeSendHooks.push(beforeSendHook);\n            }\n        });\n    };\n    const addIgnoreErrorsPatterns = (...ignoreErrorsPatterns) => {\n        internalLogger.debug('Adding ignoreErrorsPatterns\\n', ignoreErrorsPatterns);\n        ignoreErrorsPatterns.forEach((ignoreErrorsPattern) => {\n            if (ignoreErrorsPattern) {\n                beforeSendHooks.push(createBeforeSendHookFromIgnorePatterns(ignoreErrorsPattern));\n            }\n        });\n    };\n    const applyBeforeSendHooks = (items) => {\n        let filteredItems = items;\n        for (const hook of beforeSendHooks) {\n            const modified = filteredItems.map(hook).filter(Boolean);\n            if (modified.length === 0) {\n                return [];\n            }\n            filteredItems = modified;\n        }\n        return filteredItems;\n    };\n    const batchedSend = (items) => {\n        const filteredItems = applyBeforeSendHooks(items);\n        if (filteredItems.length === 0) {\n            return;\n        }\n        for (const transport of transports) {\n            internalLogger.debug(`Transporting item using ${transport.name}\\n`, filteredItems);\n            if (transport.isBatched()) {\n                transport.send(filteredItems);\n            }\n        }\n    };\n    const instantSend = (item) => {\n        var _a, _b;\n        // prevent all beforeSend hooks being executed twice if batching is enabled.\n        if (((_a = config.batching) === null || _a === void 0 ? void 0 : _a.enabled) && transports.every((transport) => transport.isBatched())) {\n            return;\n        }\n        const [filteredItem] = applyBeforeSendHooks([item]);\n        if (filteredItem === undefined) {\n            return;\n        }\n        for (const transport of transports) {\n            internalLogger.debug(`Transporting item using ${transport.name}\\n`, filteredItem);\n            if (!transport.isBatched()) {\n                transport.send(filteredItem);\n            }\n            else if (!((_b = config.batching) === null || _b === void 0 ? void 0 : _b.enabled)) {\n                transport.send([filteredItem]);\n            }\n        }\n    };\n    let batchExecutor;\n    if ((_a = config.batching) === null || _a === void 0 ? void 0 : _a.enabled) {\n        batchExecutor = new BatchExecutor(batchedSend, {\n            sendTimeout: config.batching.sendTimeout,\n            itemLimit: config.batching.itemLimit,\n            paused,\n        });\n    }\n    // Send a signal to the appropriate transports\n    //\n    // 1. If SDK is paused, early return\n    // 2. If batching is not enabled send the signal to all transports\n    //    instantly.\n    // 3i. If batching is enabled, enqueue the signal\n    // 3ii. Send the signal instantly to all un-batched transports\n    const execute = (item) => {\n        var _a;\n        if (paused) {\n            return;\n        }\n        if ((_a = config.batching) === null || _a === void 0 ? void 0 : _a.enabled) {\n            batchExecutor === null || batchExecutor === void 0 ? void 0 : batchExecutor.addItem(item);\n        }\n        instantSend(item);\n    };\n    const getBeforeSendHooks = () => [...beforeSendHooks];\n    const isPaused = () => paused;\n    const pause = () => {\n        internalLogger.debug('Pausing transports');\n        batchExecutor === null || batchExecutor === void 0 ? void 0 : batchExecutor.pause();\n        paused = true;\n    };\n    const remove = (...transportsToRemove) => {\n        internalLogger.debug('Removing transports');\n        transportsToRemove.forEach((transportToRemove) => {\n            internalLogger.debug(`Removing \"${transportToRemove.name}\" transport`);\n            const existingTransportIndex = transports.indexOf(transportToRemove);\n            if (existingTransportIndex === -1) {\n                internalLogger.warn(`Transport \"${transportToRemove.name}\" is not added`);\n                return;\n            }\n            transports.splice(existingTransportIndex, 1);\n        });\n    };\n    const removeBeforeSendHooks = (...beforeSendHooksToRemove) => {\n        beforeSendHooks.filter((beforeSendHook) => !beforeSendHooksToRemove.includes(beforeSendHook));\n    };\n    const unpause = () => {\n        internalLogger.debug('Unpausing transports');\n        batchExecutor === null || batchExecutor === void 0 ? void 0 : batchExecutor.start();\n        paused = false;\n    };\n    return {\n        add,\n        addBeforeSendHooks,\n        addIgnoreErrorsPatterns,\n        getBeforeSendHooks,\n        execute,\n        isPaused,\n        pause,\n        remove,\n        removeBeforeSendHooks,\n        get transports() {\n            return [...transports];\n        },\n        unpause,\n    };\n}\n//# sourceMappingURL=initialize.js.map","import { defaultUnpatchedConsole } from './const';\nexport let unpatchedConsole = defaultUnpatchedConsole;\nexport function initializeUnpatchedConsole(config) {\n    var _a;\n    unpatchedConsole = (_a = config.unpatchedConsole) !== null && _a !== void 0 ? _a : unpatchedConsole;\n    return unpatchedConsole;\n}\n//# sourceMappingURL=initialize.js.map","import { initializeAPI } from './api';\nimport { initializeInstrumentations, registerInitialInstrumentations } from './instrumentations';\nimport { initializeInternalLogger } from './internalLogger';\nimport { initializeMetas, registerInitialMetas } from './metas';\nimport { isInternalFaroOnGlobalObject, registerFaro } from './sdk';\nimport { initializeTransports, registerInitialTransports } from './transports';\nimport { initializeUnpatchedConsole } from './unpatchedConsole';\nexport function initializeFaro(config) {\n    const unpatchedConsole = initializeUnpatchedConsole(config);\n    const internalLogger = initializeInternalLogger(unpatchedConsole, config);\n    if (isInternalFaroOnGlobalObject() && !config.isolate) {\n        internalLogger.error('Faro is already registered. Either add instrumentations, transports etc. to the global faro instance or use the \"isolate\" property');\n        return undefined;\n    }\n    internalLogger.debug('Initializing');\n    // Initializing the APIs\n    const metas = initializeMetas(unpatchedConsole, internalLogger, config);\n    const transports = initializeTransports(unpatchedConsole, internalLogger, config, metas);\n    const api = initializeAPI(unpatchedConsole, internalLogger, config, metas, transports);\n    const instrumentations = initializeInstrumentations(unpatchedConsole, internalLogger, config, metas, transports, api);\n    const faro = registerFaro(unpatchedConsole, internalLogger, config, metas, transports, api, instrumentations);\n    // make sure Faro is initialized before registering default metas, instrumentations, transports etc.\n    registerInitialMetas(faro);\n    registerInitialTransports(faro);\n    registerInitialInstrumentations(faro);\n    return faro;\n}\n//# sourceMappingURL=initialize.js.map","import { isFunction } from '../utils';\nexport function initializeMetas(_unpatchedConsole, internalLogger, _config) {\n    let items = [];\n    let listeners = [];\n    const getValue = () => items.reduce((acc, item) => Object.assign(acc, isFunction(item) ? item() : item), {});\n    const notifyListeners = () => {\n        if (listeners.length) {\n            const value = getValue();\n            listeners.forEach((listener) => listener(value));\n        }\n    };\n    const add = (...newItems) => {\n        internalLogger.debug('Adding metas\\n', newItems);\n        items.push(...newItems);\n        notifyListeners();\n    };\n    const remove = (...itemsToRemove) => {\n        internalLogger.debug('Removing metas\\n', itemsToRemove);\n        items = items.filter((currentItem) => !itemsToRemove.includes(currentItem));\n        notifyListeners();\n    };\n    const addListener = (listener) => {\n        internalLogger.debug('Adding metas listener\\n', listener);\n        listeners.push(listener);\n    };\n    const removeListener = (listener) => {\n        internalLogger.debug('Removing metas listener\\n', listener);\n        listeners = listeners.filter((currentListener) => currentListener !== listener);\n    };\n    return {\n        add,\n        remove,\n        addListener,\n        removeListener,\n        get value() {\n            return getValue();\n        },\n    };\n}\n//# sourceMappingURL=initialize.js.map","export function initializeInstrumentations(unpatchedConsole, internalLogger, config, metas, transports, api) {\n    internalLogger.debug('Initializing instrumentations');\n    const instrumentations = [];\n    const add = (...newInstrumentations) => {\n        internalLogger.debug('Adding instrumentations');\n        newInstrumentations.forEach((newInstrumentation) => {\n            internalLogger.debug(`Adding \"${newInstrumentation.name}\" instrumentation`);\n            const exists = instrumentations.some((existingInstrumentation) => existingInstrumentation.name === newInstrumentation.name);\n            if (exists) {\n                internalLogger.warn(`Instrumentation ${newInstrumentation.name} is already added`);\n                return;\n            }\n            newInstrumentation.unpatchedConsole = unpatchedConsole;\n            newInstrumentation.internalLogger = internalLogger;\n            newInstrumentation.config = config;\n            newInstrumentation.metas = metas;\n            newInstrumentation.transports = transports;\n            newInstrumentation.api = api;\n            instrumentations.push(newInstrumentation);\n            newInstrumentation.initialize();\n        });\n    };\n    const remove = (...instrumentationsToRemove) => {\n        internalLogger.debug('Removing instrumentations');\n        instrumentationsToRemove.forEach((instrumentationToRemove) => {\n            var _a, _b;\n            internalLogger.debug(`Removing \"${instrumentationToRemove.name}\" instrumentation`);\n            const existingInstrumentationIndex = instrumentations.reduce((acc, existingInstrumentation, existingTransportIndex) => {\n                if (acc === null && existingInstrumentation.name === instrumentationToRemove.name) {\n                    return existingTransportIndex;\n                }\n                return null;\n            }, null);\n            if (!existingInstrumentationIndex) {\n                internalLogger.warn(`Instrumentation \"${instrumentationToRemove.name}\" is not added`);\n                return;\n            }\n            (_b = (_a = instrumentations[existingInstrumentationIndex]).destroy) === null || _b === void 0 ? void 0 : _b.call(_a);\n            instrumentations.splice(existingInstrumentationIndex, 1);\n        });\n    };\n    return {\n        add,\n        get instrumentations() {\n            return [...instrumentations];\n        },\n        remove,\n    };\n}\n//# sourceMappingURL=initialize.js.map","import { getBundleId } from '../utils/sourceMaps';\nimport { VERSION } from '../version';\nexport function registerInitialMetas(faro) {\n    var _a, _b;\n    const initial = {\n        sdk: {\n            version: VERSION,\n        },\n        app: {\n            bundleId: faro.config.app.name && getBundleId(faro.config.app.name),\n        },\n    };\n    const session = (_a = faro.config.sessionTracking) === null || _a === void 0 ? void 0 : _a.session;\n    if (session) {\n        faro.api.setSession(session);\n    }\n    if (faro.config.app) {\n        initial.app = Object.assign(Object.assign({}, faro.config.app), initial.app);\n    }\n    if (faro.config.user) {\n        initial.user = faro.config.user;\n    }\n    if (faro.config.view) {\n        initial.view = faro.config.view;\n    }\n    faro.metas.add(initial, ...((_b = faro.config.metas) !== null && _b !== void 0 ? _b : []));\n}\n//# sourceMappingURL=registerInitial.js.map","import { globalObject } from '../globalObject';\nexport function getBundleId(appName) {\n    return globalObject === null || globalObject === void 0 ? void 0 : globalObject[`__faroBundleId_${appName}`];\n}\n//# sourceMappingURL=sourceMaps.js.map","export function registerInitialTransports(faro) {\n    faro.transports.add(...faro.config.transports);\n    faro.transports.addBeforeSendHooks(faro.config.beforeSend);\n    faro.transports.addIgnoreErrorsPatterns(faro.config.ignoreErrors);\n}\n//# sourceMappingURL=registerInitial.js.map","export function registerInitialInstrumentations(faro) {\n    faro.instrumentations.add(...faro.config.instrumentations);\n}\n//# sourceMappingURL=registerInitial.js.map","export const defaultGlobalObjectKey = 'faro';\nexport const defaultBatchingConfig = {\n    enabled: true,\n    sendTimeout: 250,\n    itemLimit: 50,\n};\n//# sourceMappingURL=const.js.map","export const defaultEventDomain = 'browser';\n//# sourceMappingURL=consts.js.map","import { getStackFramesFromError } from './getStackFramesFromError';\nexport function parseStacktrace(error) {\n    return {\n        frames: getStackFramesFromError(error),\n    };\n}\n//# sourceMappingURL=parseStacktrace.js.map","import { UAParser } from 'ua-parser-js';\nimport { unknownString } from '@grafana/faro-core';\nexport const browserMeta = () => {\n    const parser = new UAParser();\n    const { name, version } = parser.getBrowser();\n    const { name: osName, version: osVersion } = parser.getOS();\n    const userAgent = parser.getUA();\n    const language = navigator.language;\n    const mobile = navigator.userAgent.includes('Mobi');\n    const brands = getBrands();\n    return {\n        browser: {\n            name: name !== null && name !== void 0 ? name : unknownString,\n            version: version !== null && version !== void 0 ? version : unknownString,\n            os: `${osName !== null && osName !== void 0 ? osName : unknownString} ${osVersion !== null && osVersion !== void 0 ? osVersion : unknownString}`,\n            userAgent: userAgent !== null && userAgent !== void 0 ? userAgent : unknownString,\n            language: language !== null && language !== void 0 ? language : unknownString,\n            mobile,\n            brands: brands !== null && brands !== void 0 ? brands : unknownString,\n            viewportWidth: `${window.innerWidth}`,\n            viewportHeight: `${window.innerHeight}`,\n        },\n    };\n    function getBrands() {\n        if (!name || !version) {\n            return undefined;\n        }\n        if ('userAgentData' in navigator && navigator.userAgentData) {\n            // userAgentData in experimental (only Chrome supports it) thus TS does not ship the respective type declarations\n            return navigator.userAgentData.brands;\n        }\n        return undefined;\n    }\n};\n//# sourceMappingURL=meta.js.map","import { browserMeta } from './browser';\nimport { pageMeta } from './page';\nexport const defaultMetas = [browserMeta, pageMeta];\n//# sourceMappingURL=const.js.map","export const pageMeta = () => ({\n    page: {\n        url: location.href,\n    },\n});\n//# sourceMappingURL=meta.js.map","export const k6Meta = () => {\n    const k6Properties = window.k6;\n    return {\n        k6: Object.assign({ \n            // we only add the k6 meta if Faro is running inside a k6 environment, so this is always true\n            isK6Browser: true }, ((k6Properties === null || k6Properties === void 0 ? void 0 : k6Properties.testRunId) && { testRunId: k6Properties === null || k6Properties === void 0 ? void 0 : k6Properties.testRunId })),\n    };\n};\n//# sourceMappingURL=meta.js.map","import { BaseExtension } from '../extensions';\nexport class BaseTransport extends BaseExtension {\n    isBatched() {\n        return false;\n    }\n    getIgnoreUrls() {\n        return [];\n    }\n}\n//# sourceMappingURL=base.js.map","import { TransportItemType, transportItemTypeToBodyKey } from './const';\nexport function mergeResourceSpans(traces, resourceSpans) {\n    var _a, _b;\n    if (resourceSpans === undefined) {\n        return traces;\n    }\n    if (traces === undefined) {\n        return {\n            resourceSpans,\n        };\n    }\n    const currentResource = (_a = traces.resourceSpans) === null || _a === void 0 ? void 0 : _a[0];\n    if (currentResource === undefined) {\n        return traces;\n    }\n    const currentSpans = (currentResource === null || currentResource === void 0 ? void 0 : currentResource.scopeSpans) || [];\n    const newSpans = ((_b = resourceSpans === null || resourceSpans === void 0 ? void 0 : resourceSpans[0]) === null || _b === void 0 ? void 0 : _b.scopeSpans) || [];\n    return Object.assign(Object.assign({}, traces), { resourceSpans: [\n            Object.assign(Object.assign({}, currentResource), { scopeSpans: [...currentSpans, ...newSpans] }),\n        ] });\n}\nexport function getTransportBody(item) {\n    let body = {\n        meta: {},\n    };\n    if (item[0] !== undefined) {\n        body.meta = item[0].meta;\n    }\n    item.forEach((currentItem) => {\n        switch (currentItem.type) {\n            case TransportItemType.LOG:\n            case TransportItemType.EVENT:\n            case TransportItemType.EXCEPTION:\n            case TransportItemType.MEASUREMENT:\n                const bk = transportItemTypeToBodyKey[currentItem.type];\n                const signals = body[bk];\n                body = Object.assign(Object.assign({}, body), { [bk]: signals === undefined ? [currentItem.payload] : [...signals, currentItem.payload] });\n                break;\n            case TransportItemType.TRACE:\n                body = Object.assign(Object.assign({}, body), { traces: mergeResourceSpans(body.traces, currentItem.payload.resourceSpans) });\n                break;\n        }\n    });\n    return body;\n}\n//# sourceMappingURL=utils.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { BaseTransport, createPromiseBuffer, getTransportBody, noop, VERSION, } from '@grafana/faro-core';\nimport { getSessionManagerByConfig } from '../../instrumentations/session/sessionManager';\nimport { getUserSessionUpdater } from '../../instrumentations/session/sessionManager/sessionManagerUtils';\nconst DEFAULT_BUFFER_SIZE = 30;\nconst DEFAULT_CONCURRENCY = 5; // chrome supports 10 total, firefox 17\nconst DEFAULT_RATE_LIMIT_BACKOFF_MS = 5000;\nconst BEACON_BODY_SIZE_LIMIT = 60000;\nconst TOO_MANY_REQUESTS = 429;\nconst ACCEPTED = 202;\nexport class FetchTransport extends BaseTransport {\n    constructor(options) {\n        var _a, _b, _c, _d;\n        super();\n        this.options = options;\n        this.name = '@grafana/faro-web-sdk:transport-fetch';\n        this.version = VERSION;\n        this.disabledUntil = new Date();\n        this.rateLimitBackoffMs = (_a = options.defaultRateLimitBackoffMs) !== null && _a !== void 0 ? _a : DEFAULT_RATE_LIMIT_BACKOFF_MS;\n        this.getNow = (_b = options.getNow) !== null && _b !== void 0 ? _b : (() => Date.now());\n        this.promiseBuffer = createPromiseBuffer({\n            size: (_c = options.bufferSize) !== null && _c !== void 0 ? _c : DEFAULT_BUFFER_SIZE,\n            concurrency: (_d = options.concurrency) !== null && _d !== void 0 ? _d : DEFAULT_CONCURRENCY,\n        });\n    }\n    send(items) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                if (this.disabledUntil > new Date(this.getNow())) {\n                    this.logWarn(`Dropping transport item due to too many requests. Backoff until ${this.disabledUntil}`);\n                    return Promise.resolve();\n                }\n                yield this.promiseBuffer.add(() => {\n                    const body = JSON.stringify(getTransportBody(items));\n                    const { url, requestOptions, apiKey } = this.options;\n                    const _a = requestOptions !== null && requestOptions !== void 0 ? requestOptions : {}, { headers } = _a, restOfRequestOptions = __rest(_a, [\"headers\"]);\n                    let sessionId;\n                    const sessionMeta = this.metas.value.session;\n                    if (sessionMeta != null) {\n                        sessionId = sessionMeta.id;\n                    }\n                    return fetch(url, Object.assign({ method: 'POST', headers: Object.assign(Object.assign(Object.assign({ 'Content-Type': 'application/json' }, (headers !== null && headers !== void 0 ? headers : {})), (apiKey ? { 'x-api-key': apiKey } : {})), (sessionId ? { 'x-faro-session-id': sessionId } : {})), body, keepalive: body.length <= BEACON_BODY_SIZE_LIMIT }, (restOfRequestOptions !== null && restOfRequestOptions !== void 0 ? restOfRequestOptions : {})))\n                        .then((response) => __awaiter(this, void 0, void 0, function* () {\n                        if (response.status === ACCEPTED) {\n                            const sessionExpired = response.headers.get('X-Faro-Session-Status') === 'invalid';\n                            if (sessionExpired) {\n                                this.extendFaroSession(this.config, this.logDebug);\n                            }\n                        }\n                        if (response.status === TOO_MANY_REQUESTS) {\n                            this.disabledUntil = this.getRetryAfterDate(response);\n                            this.logWarn(`Too many requests, backing off until ${this.disabledUntil}`);\n                        }\n                        // read the body so the connection can be closed\n                        response.text().catch(noop);\n                        return response;\n                    }))\n                        .catch((err) => {\n                        this.logError('Failed sending payload to the receiver\\n', JSON.parse(body), err);\n                    });\n                });\n            }\n            catch (err) {\n                this.logError(err);\n            }\n        });\n    }\n    getIgnoreUrls() {\n        var _a;\n        return [this.options.url].concat((_a = this.config.ignoreUrls) !== null && _a !== void 0 ? _a : []);\n    }\n    isBatched() {\n        return true;\n    }\n    getRetryAfterDate(response) {\n        const now = this.getNow();\n        const retryAfterHeader = response.headers.get('Retry-After');\n        if (retryAfterHeader) {\n            const delay = Number(retryAfterHeader);\n            if (!isNaN(delay)) {\n                return new Date(delay * 1000 + now);\n            }\n            const date = Date.parse(retryAfterHeader);\n            if (!isNaN(date)) {\n                return new Date(date);\n            }\n        }\n        return new Date(now + this.rateLimitBackoffMs);\n    }\n    extendFaroSession(config, logDebug) {\n        const SessionExpiredString = `Session expired`;\n        const sessionTrackingConfig = config.sessionTracking;\n        if (sessionTrackingConfig === null || sessionTrackingConfig === void 0 ? void 0 : sessionTrackingConfig.enabled) {\n            const { fetchUserSession, storeUserSession } = getSessionManagerByConfig(sessionTrackingConfig);\n            getUserSessionUpdater({ fetchUserSession, storeUserSession })({ forceSessionExtend: true });\n            logDebug(`${SessionExpiredString} created new session.`);\n        }\n        else {\n            logDebug(`${SessionExpiredString}.`);\n        }\n    }\n}\n//# sourceMappingURL=transport.js.map","export function createPromiseBuffer(options) {\n    const { size, concurrency } = options;\n    const buffer = []; // pending, not-yet-started tasks\n    let inProgress = 0; // counter for tasks currently in progress\n    const work = () => {\n        // if there's space for a task and buffer is not empty,\n        // take one task from buffer and run it\n        if (inProgress < concurrency && buffer.length) {\n            const { producer, resolve, reject } = buffer.shift();\n            inProgress++;\n            producer().then((result) => {\n                inProgress--;\n                work();\n                resolve(result);\n            }, (reason) => {\n                inProgress--;\n                work();\n                reject(reason);\n            });\n        }\n    };\n    const add = (promiseProducer) => {\n        if (buffer.length + inProgress >= size) {\n            throw new Error('Task buffer full');\n        }\n        return new Promise((resolve, reject) => {\n            buffer.push({\n                producer: promiseProducer,\n                resolve,\n                reject,\n            });\n            work();\n        });\n    };\n    return {\n        add,\n    };\n}\n//# sourceMappingURL=promiseBuffer.js.map","import { initializeFaro as coreInit } from '@grafana/faro-core';\nimport { makeCoreConfig } from './config';\nexport function initializeFaro(config) {\n    const coreConfig = makeCoreConfig(config);\n    if (!coreConfig) {\n        return undefined;\n    }\n    return coreInit(coreConfig);\n}\n//# sourceMappingURL=initialize.js.map","import { createInternalLogger, defaultBatchingConfig, defaultGlobalObjectKey, defaultInternalLoggerLevel, defaultLogArgsSerializer, defaultUnpatchedConsole, isObject, } from '@grafana/faro-core';\nimport { defaultEventDomain } from '../consts';\nimport { parseStacktrace } from '../instrumentations';\nimport { defaultSessionTrackingConfig } from '../instrumentations/session';\nimport { defaultMetas } from '../metas';\nimport { k6Meta } from '../metas/k6';\nimport { FetchTransport } from '../transports';\nimport { getWebInstrumentations } from './getWebInstrumentations';\nexport function makeCoreConfig(browserConfig) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n    const transports = [];\n    const internalLogger = createInternalLogger(browserConfig.unpatchedConsole, browserConfig.internalLoggerLevel);\n    if (browserConfig.transports) {\n        if (browserConfig.url || browserConfig.apiKey) {\n            internalLogger.error('if \"transports\" is defined, \"url\" and \"apiKey\" should not be defined');\n        }\n        transports.push(...browserConfig.transports);\n    }\n    else if (browserConfig.url) {\n        transports.push(new FetchTransport({\n            url: browserConfig.url,\n            apiKey: browserConfig.apiKey,\n        }));\n    }\n    else {\n        internalLogger.error('either \"url\" or \"transports\" must be defined');\n    }\n    function createMetas() {\n        const initialMetas = defaultMetas;\n        if (browserConfig.metas) {\n            initialMetas.push(...browserConfig.metas);\n        }\n        const isK6BrowserSession = isObject(window.k6);\n        if (isK6BrowserSession) {\n            return [...initialMetas, k6Meta];\n        }\n        return initialMetas;\n    }\n    const config = {\n        app: browserConfig.app,\n        batching: Object.assign(Object.assign({}, defaultBatchingConfig), browserConfig.batching),\n        dedupe: (_a = browserConfig.dedupe) !== null && _a !== void 0 ? _a : true,\n        globalObjectKey: browserConfig.globalObjectKey || defaultGlobalObjectKey,\n        instrumentations: (_b = browserConfig.instrumentations) !== null && _b !== void 0 ? _b : getWebInstrumentations(),\n        internalLoggerLevel: (_c = browserConfig.internalLoggerLevel) !== null && _c !== void 0 ? _c : defaultInternalLoggerLevel,\n        isolate: (_d = browserConfig.isolate) !== null && _d !== void 0 ? _d : false,\n        logArgsSerializer: (_e = browserConfig.logArgsSerializer) !== null && _e !== void 0 ? _e : defaultLogArgsSerializer,\n        metas: createMetas(),\n        parseStacktrace,\n        paused: (_f = browserConfig.paused) !== null && _f !== void 0 ? _f : false,\n        preventGlobalExposure: (_g = browserConfig.preventGlobalExposure) !== null && _g !== void 0 ? _g : false,\n        transports,\n        unpatchedConsole: (_h = browserConfig.unpatchedConsole) !== null && _h !== void 0 ? _h : defaultUnpatchedConsole,\n        beforeSend: browserConfig.beforeSend,\n        eventDomain: (_j = browserConfig.eventDomain) !== null && _j !== void 0 ? _j : defaultEventDomain,\n        ignoreErrors: browserConfig.ignoreErrors,\n        ignoreUrls: browserConfig.ignoreUrls,\n        sessionTracking: Object.assign(Object.assign({}, defaultSessionTrackingConfig), browserConfig.sessionTracking),\n        user: browserConfig.user,\n        view: browserConfig.view,\n        trackResources: browserConfig.trackResources,\n        trackWebVitalsAttribution: browserConfig.trackWebVitalsAttribution,\n    };\n    return config;\n}\n//# sourceMappingURL=makeCoreConfig.js.map","import { unknownSymbolString } from './const';\nexport function buildStackFrame(filename, func, lineno, colno) {\n    const stackFrame = {\n        filename: filename || document.location.href,\n        function: func || unknownSymbolString,\n    };\n    if (lineno !== undefined) {\n        stackFrame.lineno = lineno;\n    }\n    if (colno !== undefined) {\n        stackFrame.colno = colno;\n    }\n    return stackFrame;\n}\n//# sourceMappingURL=buildStackFrame.js.map","export const newLineString = '\\n';\nexport const evalString = 'eval';\nexport const unknownSymbolString = '?';\nexport const atString = '@';\nexport const webkitLineRegex = /^\\s*at (?:(.*\\).*?|.*?) ?\\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\\/)?.*?)(?::(\\d+))?(?::(\\d+))?\\)?\\s*$/i;\nexport const webkitEvalRegex = /\\((\\S*)(?::(\\d+))(?::(\\d+))\\)/;\nexport const webkitEvalString = 'eval';\nexport const webkitAddressAtString = 'address at ';\nexport const webkitAddressAtStringLength = webkitAddressAtString.length;\nexport const firefoxLineRegex = /^\\s*(.*?)(?:\\((.*?)\\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|safari-extension|safari-web-extension|capacitor)?:\\/.*?|\\[native code]|[^@]*(?:bundle|\\d+\\.js)|\\/[\\w\\-. /=]+)(?::(\\d+))?(?::(\\d+))?\\s*$/i;\nexport const firefoxEvalRegex = /(\\S+) line (\\d+)(?: > eval line \\d+)* > eval/i;\nexport const firefoxEvalString = ' > eval';\nexport const safariExtensionString = 'safari-extension';\nexport const safariWebExtensionString = 'safari-web-extension';\nexport const reactMinifiedRegex = /Minified React error #\\d+;/i;\n//# sourceMappingURL=const.js.map","import { atString, safariExtensionString, safariWebExtensionString } from './const';\nexport function getDataFromSafariExtensions(func, filename) {\n    const isSafariExtension = func === null || func === void 0 ? void 0 : func.includes(safariExtensionString);\n    const isSafariWebExtension = !isSafariExtension && (func === null || func === void 0 ? void 0 : func.includes(safariWebExtensionString));\n    if (!isSafariExtension && !isSafariWebExtension) {\n        return [func, filename];\n    }\n    return [\n        (func === null || func === void 0 ? void 0 : func.includes(atString)) ? func.split(atString)[0] : func,\n        isSafariExtension ? `${safariExtensionString}:${filename}` : `${safariWebExtensionString}:${filename}`,\n    ];\n}\n//# sourceMappingURL=getDataFromSafariExtensions.js.map","import { isNumber } from '@grafana/faro-core';\nimport { buildStackFrame } from './buildStackFrame';\nimport { evalString, firefoxEvalRegex, firefoxEvalString, firefoxLineRegex, newLineString, reactMinifiedRegex, webkitAddressAtString, webkitAddressAtStringLength, webkitEvalRegex, webkitEvalString, webkitLineRegex, } from './const';\nimport { getDataFromSafariExtensions } from './getDataFromSafariExtensions';\nexport function getStackFramesFromError(error) {\n    let lines = [];\n    if (error.stacktrace) {\n        lines = error.stacktrace.split(newLineString).filter((_line, idx) => idx % 2 === 0);\n    }\n    else if (error.stack) {\n        lines = error.stack.split(newLineString);\n    }\n    const stackFrames = lines.reduce((acc, line, idx) => {\n        let parts;\n        let func;\n        let filename;\n        let lineno;\n        let colno;\n        if ((parts = webkitLineRegex.exec(line))) {\n            func = parts[1];\n            filename = parts[2];\n            lineno = parts[3];\n            colno = parts[4];\n            if (filename === null || filename === void 0 ? void 0 : filename.startsWith(webkitEvalString)) {\n                const submatch = webkitEvalRegex.exec(filename);\n                if (submatch) {\n                    filename = submatch[1];\n                    lineno = submatch[2];\n                    colno = submatch[3];\n                }\n            }\n            filename = (filename === null || filename === void 0 ? void 0 : filename.startsWith(webkitAddressAtString))\n                ? filename.substring(webkitAddressAtStringLength)\n                : filename;\n            [func, filename] = getDataFromSafariExtensions(func, filename);\n        }\n        else if ((parts = firefoxLineRegex.exec(line))) {\n            func = parts[1];\n            filename = parts[3];\n            lineno = parts[4];\n            colno = parts[5];\n            if (!!filename && filename.includes(firefoxEvalString)) {\n                const submatch = firefoxEvalRegex.exec(filename);\n                if (submatch) {\n                    func = func || evalString;\n                    filename = submatch[1];\n                    lineno = submatch[2];\n                }\n            }\n            else if (idx === 0 && !colno && isNumber(error.columnNumber)) {\n                colno = String(error.columnNumber + 1);\n            }\n            [func, filename] = getDataFromSafariExtensions(func, filename);\n        }\n        if (filename || func) {\n            acc.push(buildStackFrame(filename, func, lineno ? Number(lineno) : undefined, colno ? Number(colno) : undefined));\n        }\n        return acc;\n    }, []);\n    if (reactMinifiedRegex.test(error.message)) {\n        return stackFrames.slice(1);\n    }\n    return stackFrames;\n}\n//# sourceMappingURL=getStackFramesFromError.js.map","import { faro } from '@grafana/faro-core';\nimport { throttle } from '../../../utils';\nimport { getItem, removeItem, setItem, webStorageType } from '../../../utils/webStorage';\nimport { isSampled } from './sampling';\nimport { STORAGE_KEY, STORAGE_UPDATE_DELAY } from './sessionConstants';\nimport { addSessionMetadataToNextSession, createUserSessionObject, getUserSessionUpdater } from './sessionManagerUtils';\nexport class PersistentSessionsManager {\n    constructor() {\n        this.updateSession = throttle(() => this.updateUserSession(), STORAGE_UPDATE_DELAY);\n        this.updateUserSession = getUserSessionUpdater({\n            fetchUserSession: PersistentSessionsManager.fetchUserSession,\n            storeUserSession: PersistentSessionsManager.storeUserSession,\n        });\n        this.init();\n    }\n    static removeUserSession() {\n        removeItem(STORAGE_KEY, PersistentSessionsManager.storageTypeLocal);\n    }\n    static storeUserSession(session) {\n        setItem(STORAGE_KEY, JSON.stringify(session), PersistentSessionsManager.storageTypeLocal);\n    }\n    static fetchUserSession() {\n        const storedSession = getItem(STORAGE_KEY, PersistentSessionsManager.storageTypeLocal);\n        if (storedSession) {\n            return JSON.parse(storedSession);\n        }\n        return null;\n    }\n    init() {\n        document.addEventListener('visibilitychange', () => {\n            if (document.visibilityState === 'visible') {\n                this.updateSession();\n            }\n        });\n        // Users can call the setSession() method, so we need to sync this with the local storage session\n        faro.metas.addListener(function syncSessionIfChangedExternally(meta) {\n            const session = meta.session;\n            const sessionFromLocalStorage = PersistentSessionsManager.fetchUserSession();\n            if (session && session.id !== (sessionFromLocalStorage === null || sessionFromLocalStorage === void 0 ? void 0 : sessionFromLocalStorage.sessionId)) {\n                const userSession = addSessionMetadataToNextSession(createUserSessionObject({ sessionId: session.id, isSampled: isSampled() }), sessionFromLocalStorage);\n                PersistentSessionsManager.storeUserSession(userSession);\n                faro.api.setSession(userSession.sessionMeta);\n            }\n        });\n    }\n}\nPersistentSessionsManager.storageTypeLocal = webStorageType.local;\n//# sourceMappingURL=PersistentSessionsManager.js.map","import { faro } from '@grafana/faro-core';\nimport { throttle } from '../../../utils';\nimport { getItem, removeItem, setItem, webStorageType } from '../../../utils/webStorage';\nimport { isSampled } from './sampling';\nimport { STORAGE_KEY, STORAGE_UPDATE_DELAY } from './sessionConstants';\nimport { addSessionMetadataToNextSession, createUserSessionObject, getUserSessionUpdater } from './sessionManagerUtils';\nexport class VolatileSessionsManager {\n    constructor() {\n        this.updateSession = throttle(() => this.updateUserSession(), STORAGE_UPDATE_DELAY);\n        this.updateUserSession = getUserSessionUpdater({\n            fetchUserSession: VolatileSessionsManager.fetchUserSession,\n            storeUserSession: VolatileSessionsManager.storeUserSession,\n        });\n        this.init();\n    }\n    static removeUserSession() {\n        removeItem(STORAGE_KEY, VolatileSessionsManager.storageTypeSession);\n    }\n    static storeUserSession(session) {\n        setItem(STORAGE_KEY, JSON.stringify(session), VolatileSessionsManager.storageTypeSession);\n    }\n    static fetchUserSession() {\n        const storedSession = getItem(STORAGE_KEY, VolatileSessionsManager.storageTypeSession);\n        if (storedSession) {\n            return JSON.parse(storedSession);\n        }\n        return null;\n    }\n    init() {\n        document.addEventListener('visibilitychange', () => {\n            if (document.visibilityState === 'visible') {\n                this.updateSession();\n            }\n        });\n        // Users can call the setSession() method, so we need to sync this with the local storage session\n        faro.metas.addListener(function syncSessionIfChangedExternally(meta) {\n            const session = meta.session;\n            const sessionFromSessionStorage = VolatileSessionsManager.fetchUserSession();\n            if (session && session.id !== (sessionFromSessionStorage === null || sessionFromSessionStorage === void 0 ? void 0 : sessionFromSessionStorage.sessionId)) {\n                const userSession = addSessionMetadataToNextSession(createUserSessionObject({ sessionId: session.id, isSampled: isSampled() }), sessionFromSessionStorage);\n                VolatileSessionsManager.storeUserSession(userSession);\n                faro.api.setSession(userSession.sessionMeta);\n            }\n        });\n    }\n}\nVolatileSessionsManager.storageTypeSession = webStorageType.session;\n//# sourceMappingURL=VolatileSessionManager.js.map","import { PersistentSessionsManager } from './PersistentSessionsManager';\nimport { VolatileSessionsManager } from './VolatileSessionManager';\nexport function getSessionManagerByConfig(sessionTrackingConfig) {\n    return (sessionTrackingConfig === null || sessionTrackingConfig === void 0 ? void 0 : sessionTrackingConfig.persistent) ? PersistentSessionsManager : VolatileSessionsManager;\n}\n//# sourceMappingURL=getSessionManagerByConfig.js.map","import { faro } from '@grafana/faro-core';\nexport function isSampled() {\n    var _a, _b, _c;\n    const sendAllSignals = 1;\n    const sessionTracking = faro.config.sessionTracking;\n    let samplingRate = (_c = (_b = (_a = sessionTracking === null || sessionTracking === void 0 ? void 0 : sessionTracking.sampler) === null || _a === void 0 ? void 0 : _a.call(sessionTracking, { metas: faro.metas.value })) !== null && _b !== void 0 ? _b : sessionTracking === null || sessionTracking === void 0 ? void 0 : sessionTracking.samplingRate) !== null && _c !== void 0 ? _c : sendAllSignals;\n    if (typeof samplingRate !== 'number') {\n        const sendNoSignals = 0;\n        samplingRate = sendNoSignals;\n    }\n    return Math.random() < samplingRate;\n}\n//# sourceMappingURL=sampling.js.map","export const STORAGE_KEY = 'com.grafana.faro.session';\nexport const SESSION_EXPIRATION_TIME = 4 * 60 * 60 * 1000; // hrs\nexport const SESSION_INACTIVITY_TIME = 15 * 60 * 1000; // minutes\nexport const STORAGE_UPDATE_DELAY = 1 * 1000; // seconds\n/**\n * @deprecated MAX_SESSION_PERSISTENCE_TIME_BUFFER is not used anymore. The constant will be removed in the future\n */\nexport const MAX_SESSION_PERSISTENCE_TIME_BUFFER = 1 * 60 * 1000;\nexport const MAX_SESSION_PERSISTENCE_TIME = SESSION_INACTIVITY_TIME;\nexport const defaultSessionTrackingConfig = {\n    enabled: true,\n    persistent: false,\n    maxSessionPersistenceTime: MAX_SESSION_PERSISTENCE_TIME,\n};\n//# sourceMappingURL=sessionConstants.js.map","import { dateNow, faro, genShortID } from '@grafana/faro-core';\nimport { isLocalStorageAvailable, isSessionStorageAvailable } from '../../../utils';\nimport { isSampled } from './sampling';\nimport { SESSION_EXPIRATION_TIME, SESSION_INACTIVITY_TIME } from './sessionConstants';\nexport function createUserSessionObject({ sessionId, started, lastActivity, isSampled = true, } = {}) {\n    var _a, _b;\n    const now = dateNow();\n    const generateSessionId = (_b = (_a = faro.config) === null || _a === void 0 ? void 0 : _a.sessionTracking) === null || _b === void 0 ? void 0 : _b.generateSessionId;\n    if (sessionId == null) {\n        sessionId = typeof generateSessionId === 'function' ? generateSessionId() : genShortID();\n    }\n    return {\n        sessionId,\n        lastActivity: lastActivity !== null && lastActivity !== void 0 ? lastActivity : now,\n        started: started !== null && started !== void 0 ? started : now,\n        isSampled: isSampled,\n    };\n}\nexport function isUserSessionValid(session) {\n    if (session == null) {\n        return false;\n    }\n    const now = dateNow();\n    const lifetimeValid = now - session.started < SESSION_EXPIRATION_TIME;\n    if (!lifetimeValid) {\n        return false;\n    }\n    const inactivityPeriodValid = now - session.lastActivity < SESSION_INACTIVITY_TIME;\n    return inactivityPeriodValid;\n}\nexport function getUserSessionUpdater({ fetchUserSession, storeUserSession, }) {\n    return function updateSession({ forceSessionExtend } = { forceSessionExtend: false }) {\n        var _a, _b, _c;\n        if (!fetchUserSession || !storeUserSession) {\n            return;\n        }\n        const sessionTrackingConfig = faro.config.sessionTracking;\n        const isPersistentSessions = sessionTrackingConfig === null || sessionTrackingConfig === void 0 ? void 0 : sessionTrackingConfig.persistent;\n        if ((isPersistentSessions && !isLocalStorageAvailable) || (!isPersistentSessions && !isSessionStorageAvailable)) {\n            return;\n        }\n        const sessionFromStorage = fetchUserSession();\n        if (forceSessionExtend === false && isUserSessionValid(sessionFromStorage)) {\n            storeUserSession(Object.assign(Object.assign({}, sessionFromStorage), { lastActivity: dateNow() }));\n        }\n        else {\n            let newSession = addSessionMetadataToNextSession(createUserSessionObject({ isSampled: isSampled() }), sessionFromStorage);\n            storeUserSession(newSession);\n            (_a = faro.api) === null || _a === void 0 ? void 0 : _a.setSession(newSession.sessionMeta);\n            (_b = sessionTrackingConfig === null || sessionTrackingConfig === void 0 ? void 0 : sessionTrackingConfig.onSessionChange) === null || _b === void 0 ? void 0 : _b.call(sessionTrackingConfig, (_c = sessionFromStorage === null || sessionFromStorage === void 0 ? void 0 : sessionFromStorage.sessionMeta) !== null && _c !== void 0 ? _c : null, newSession.sessionMeta);\n        }\n    };\n}\nexport function addSessionMetadataToNextSession(newSession, previousSession) {\n    var _a, _b, _c, _d;\n    const sessionWithMeta = Object.assign(Object.assign({}, newSession), { sessionMeta: {\n            id: newSession.sessionId,\n            attributes: Object.assign(Object.assign(Object.assign(Object.assign({}, (_b = (_a = faro.config.sessionTracking) === null || _a === void 0 ? void 0 : _a.session) === null || _b === void 0 ? void 0 : _b.attributes), ((_d = (_c = faro.metas.value.session) === null || _c === void 0 ? void 0 : _c.attributes) !== null && _d !== void 0 ? _d : {})), (previousSession != null ? { previousSession: previousSession.sessionId } : {})), { isSampled: newSession.isSampled.toString() }),\n        } });\n    return sessionWithMeta;\n}\n//# sourceMappingURL=sessionManagerUtils.js.map","/**\n * Tail based throttle which caches the args of the last call and updates\n */\nexport function throttle(callback, delay) {\n    let pause = false;\n    let lastPending;\n    const timeoutBehavior = () => {\n        if (lastPending == null) {\n            pause = false;\n            return;\n        }\n        callback(...lastPending);\n        lastPending = null;\n        setTimeout(timeoutBehavior, delay);\n    };\n    return (...args) => {\n        if (pause) {\n            lastPending = args;\n            return;\n        }\n        callback(...args);\n        pause = true;\n        setTimeout(timeoutBehavior, delay);\n    };\n}\n//# sourceMappingURL=throttle.js.map","import { faro } from '@grafana/faro-core';\nexport const webStorageType = {\n    session: 'sessionStorage',\n    local: 'localStorage',\n};\n// TODO: remove default storage type from all function\n/**\n * Check if selected web storage mechanism is available.\n * @param type storage mechanism to test availability for.\n * @returns\n */\nexport function isWebStorageAvailable(type) {\n    var _a;\n    try {\n        let storage;\n        storage = window[type];\n        const testItem = '__faro_storage_test__';\n        storage.setItem(testItem, testItem);\n        storage.removeItem(testItem);\n        return true;\n    }\n    catch (error) {\n        // the above can throw\n        (_a = faro.internalLogger) === null || _a === void 0 ? void 0 : _a.info(`Web storage of type ${type} is not available. Reason: ${error}`);\n        return false;\n    }\n}\n/**\n * Get item from SessionStorage or LocalStorage.\n * @param key: the item key.\n * @param webStorageMechanism: wether the item shall be received form local storage or session storage. Defaults to local storage.\n */\nexport function getItem(key, webStorageMechanism) {\n    if (isWebStorageTypeAvailable(webStorageMechanism)) {\n        return window[webStorageMechanism].getItem(key);\n    }\n    return null;\n}\n/**\n * Store item in SessionStorage or LocalStorage.\n * @param key: the item key.\n * @param value: the item data.\n * @param webStorageMechanism: wether the item shall be received form local storage or session storage. Defaults to local storage.\n */\nexport function setItem(key, value, webStorageMechanism) {\n    if (isWebStorageTypeAvailable(webStorageMechanism)) {\n        try {\n            window[webStorageMechanism].setItem(key, value);\n        }\n        catch (error) {\n            // do nothing\n        }\n    }\n}\n/**\n * Remove item from SessionStorage or LocalStorage.\n * @param key: the item key.\n * @param webStorageMechanism: wether the item shall be received form local storage or session storage. Defaults to local storage.\n */\nexport function removeItem(key, webStorageMechanism) {\n    if (isWebStorageTypeAvailable(webStorageMechanism)) {\n        window[webStorageMechanism].removeItem(key);\n    }\n}\nexport const isLocalStorageAvailable = isWebStorageAvailable(webStorageType.local);\nexport const isSessionStorageAvailable = isWebStorageAvailable(webStorageType.session);\nfunction isWebStorageTypeAvailable(webStorageMechanism) {\n    if (webStorageMechanism === webStorageType.local) {\n        return isLocalStorageAvailable;\n    }\n    if (webStorageMechanism === webStorageType.session) {\n        return isSessionStorageAvailable;\n    }\n    return false;\n}\n//# sourceMappingURL=webStorage.js.map","import { logWarning } from '@grafana/runtime';\nimport { SemVer } from 'semver';\n\nconst LLM_PLUGIN_ID = \"grafana-llm-app\";\nconst LLM_PLUGIN_ROUTE = `/api/plugins/${LLM_PLUGIN_ID}`;\nlet LLM_PLUGIN_VERSION = new SemVer(\"0.2.0\");\nfunction setLLMPluginVersion(version) {\n  try {\n    LLM_PLUGIN_VERSION = new SemVer(version);\n  } catch (e) {\n    logWarning(\"Failed to parse version of grafana-llm-app; assuming old version is present.\");\n  }\n}\n\nexport { LLM_PLUGIN_ID, LLM_PLUGIN_ROUTE, LLM_PLUGIN_VERSION, setLLMPluginVersion };\n//# sourceMappingURL=constants.js.map\n","import { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function filter(predicate, thisArg) {\n    return operate(function (source, subscriber) {\n        var index = 0;\n        source.subscribe(createOperatorSubscriber(subscriber, function (value) { return predicate.call(thisArg, value, index++) && subscriber.next(value); }));\n    });\n}\n//# sourceMappingURL=filter.js.map","import { operate } from '../util/lift';\nimport { scanInternals } from './scanInternals';\nexport function scan(accumulator, seed) {\n    return operate(scanInternals(accumulator, seed, arguments.length >= 2, true));\n}\n//# sourceMappingURL=scan.js.map","import { createOperatorSubscriber } from './OperatorSubscriber';\nexport function scanInternals(accumulator, seed, hasSeed, emitOnNext, emitBeforeComplete) {\n    return function (source, subscriber) {\n        var hasState = hasSeed;\n        var state = seed;\n        var index = 0;\n        source.subscribe(createOperatorSubscriber(subscriber, function (value) {\n            var i = index++;\n            state = hasState\n                ?\n                    accumulator(state, value, i)\n                :\n                    ((hasState = true), value);\n            emitOnNext && subscriber.next(state);\n        }, emitBeforeComplete &&\n            (function () {\n                hasState && subscriber.next(state);\n                subscriber.complete();\n            })));\n    };\n}\n//# sourceMappingURL=scanInternals.js.map","const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default { randomUUID };\n","let getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n    if (!getRandomValues) {\n        if (typeof crypto === 'undefined' || !crypto.getRandomValues) {\n            throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n        }\n        getRandomValues = crypto.getRandomValues.bind(crypto);\n    }\n    return getRandomValues(rnds8);\n}\n","import validate from './validate.js';\nconst byteToHex = [];\nfor (let i = 0; i < 256; ++i) {\n    byteToHex.push((i + 0x100).toString(16).slice(1));\n}\nexport function unsafeStringify(arr, offset = 0) {\n    return (byteToHex[arr[offset + 0]] +\n        byteToHex[arr[offset + 1]] +\n        byteToHex[arr[offset + 2]] +\n        byteToHex[arr[offset + 3]] +\n        '-' +\n        byteToHex[arr[offset + 4]] +\n        byteToHex[arr[offset + 5]] +\n        '-' +\n        byteToHex[arr[offset + 6]] +\n        byteToHex[arr[offset + 7]] +\n        '-' +\n        byteToHex[arr[offset + 8]] +\n        byteToHex[arr[offset + 9]] +\n        '-' +\n        byteToHex[arr[offset + 10]] +\n        byteToHex[arr[offset + 11]] +\n        byteToHex[arr[offset + 12]] +\n        byteToHex[arr[offset + 13]] +\n        byteToHex[arr[offset + 14]] +\n        byteToHex[arr[offset + 15]]).toLowerCase();\n}\nfunction stringify(arr, offset = 0) {\n    const uuid = unsafeStringify(arr, offset);\n    if (!validate(uuid)) {\n        throw TypeError('Stringified UUID is invalid');\n    }\n    return uuid;\n}\nexport default stringify;\n","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\nfunction v4(options, buf, offset) {\n    if (native.randomUUID && !buf && !options) {\n        return native.randomUUID();\n    }\n    options = options || {};\n    const rnds = options.random ?? options.rng?.() ?? rng();\n    if (rnds.length < 16) {\n        throw new Error('Random bytes length must be >= 16');\n    }\n    rnds[6] = (rnds[6] & 0x0f) | 0x40;\n    rnds[8] = (rnds[8] & 0x3f) | 0x80;\n    if (buf) {\n        offset = offset || 0;\n        if (offset < 0 || offset + 16 > buf.length) {\n            throw new RangeError(`UUID byte range ${offset}:${offset + 15} is out of buffer bounds`);\n        }\n        for (let i = 0; i < 16; ++i) {\n            buf[offset + i] = rnds[i];\n        }\n        return buf;\n    }\n    return unsafeStringify(rnds);\n}\nexport default v4;\n","import { LiveChannelScope, isLiveChannelMessageEvent } from '@grafana/data';\nimport { getBackendSrv, getGrafanaLiveSrv, logDebug } from '@grafana/runtime';\nimport { useState, useCallback, useEffect } from 'react';\nimport { useAsync } from 'react-use';\nimport { pipe } from 'rxjs';\nimport { filter, map, scan, tap, takeWhile, toArray } from 'rxjs/operators';\nimport { v4 } from 'uuid';\nimport { LLM_PLUGIN_ID, LLM_PLUGIN_ROUTE, setLLMPluginVersion } from './constants.js';\n\nconst LLM_CHAT_COMPLETIONS_PATH = \"llm/v1/chat/completions\";\nvar Model = /* @__PURE__ */ ((Model2) => {\n  Model2[\"BASE\"] = \"base\";\n  Model2[\"LARGE\"] = \"large\";\n  return Model2;\n})(Model || {});\nfunction isContentMessage(message) {\n  return \"content\" in message;\n}\nfunction isDoneMessage(message) {\n  return \"done\" in message && message.done != null;\n}\nfunction isErrorResponse(response) {\n  return \"error\" in response;\n}\nfunction isFunctionCallMessage(message) {\n  return \"name\" in message && \"arguments\" in message;\n}\nfunction isToolCallsMessage(message) {\n  return \"tool_calls\" in message && message.tool_calls != null;\n}\nfunction extractContent() {\n  return pipe(\n    filter((response) => isContentMessage(response.choices[0].delta)),\n    // The type assertion is needed here because the type predicate above doesn't seem to propagate.\n    map(\n      (response) => response.choices[0].delta.content\n    )\n  );\n}\nfunction accumulateContent() {\n  return pipe(\n    extractContent(),\n    scan((acc, curr) => acc + curr, \"\")\n  );\n}\nasync function chatCompletions(request) {\n  const response = await getBackendSrv().post(\n    `/api/plugins/grafana-llm-app/resources/${LLM_CHAT_COMPLETIONS_PATH}`,\n    request,\n    {\n      headers: { \"Content-Type\": \"application/json\" }\n    }\n  );\n  return response;\n}\nfunction streamChatCompletions(request) {\n  const channel = {\n    scope: LiveChannelScope.Plugin,\n    namespace: LLM_PLUGIN_ID,\n    path: LLM_CHAT_COMPLETIONS_PATH + \"/\" + v4(),\n    data: request\n  };\n  const messages = getGrafanaLiveSrv().getStream(channel).pipe(filter((event) => isLiveChannelMessageEvent(event)));\n  return messages.pipe(\n    // Filter out messages that don't have the expected structure\n    filter((event) => {\n      if (!event.message.choices) {\n        return false;\n      }\n      return true;\n    }),\n    tap((event) => {\n      if (isErrorResponse(event.message)) {\n        throw new Error(event.message.error);\n      }\n    }),\n    // Stop the stream when we get a done message or when the finish_reason is \"stop\"\n    takeWhile((event) => {\n      if (isErrorResponse(event.message)) {\n        return true;\n      }\n      if (event.message.choices && event.message.choices[0].delta && \"done\" in event.message.choices[0].delta && event.message.choices[0].delta.done === true) {\n        return false;\n      }\n      if (event.message.choices && \"finish_reason\" in event.message.choices[0] && event.message.choices[0].finish_reason === \"stop\") {\n        return false;\n      }\n      return true;\n    }),\n    map((event) => event.message)\n  );\n}\nlet loggedWarning = false;\nconst health = async () => {\n  try {\n    const settings = await getBackendSrv().get(`${LLM_PLUGIN_ROUTE}/settings`, void 0, void 0, {\n      showSuccessAlert: false,\n      showErrorAlert: false\n    });\n    if (!settings.enabled) {\n      return { configured: false, ok: false, error: \"The Grafana LLM plugin is not enabled.\" };\n    }\n  } catch (e) {\n    logDebug(String(e));\n    logDebug(\n      \"Failed to check if LLM provider is enabled. This is expected if the Grafana LLM plugin is not installed, and the above error can be ignored.\"\n    );\n    loggedWarning = true;\n    return { configured: false, ok: false, error: \"The Grafana LLM plugin is not installed.\" };\n  }\n  let response;\n  try {\n    response = await getBackendSrv().get(`${LLM_PLUGIN_ROUTE}/health`, void 0, void 0, {\n      showSuccessAlert: false,\n      showErrorAlert: false\n    });\n  } catch (e) {\n    if (!loggedWarning) {\n      logDebug(String(e));\n      logDebug(\n        \"Failed to check if LLM provider is enabled. This is expected if the Grafana LLM plugin is not installed, and the above error can be ignored.\"\n      );\n      loggedWarning = true;\n    }\n    return { configured: false, ok: false, error: \"The Grafana LLM plugin is not installed.\" };\n  }\n  const { details } = response;\n  if (details?.version !== undefined) {\n    setLLMPluginVersion(details.version);\n  }\n  if (details?.llmProvider === undefined) {\n    return { configured: false, ok: false, error: \"The Grafana LLM plugin is outdated; please update it.\" };\n  }\n  return typeof details.llmProvider === \"boolean\" ? { configured: details.llmProvider, ok: details.llmProvider } : details.llmProvider;\n};\nconst enabled = async () => {\n  const healthDetails = await health();\n  return healthDetails.configured && healthDetails.ok;\n};\nvar StreamStatus = /* @__PURE__ */ ((StreamStatus2) => {\n  StreamStatus2[\"IDLE\"] = \"idle\";\n  StreamStatus2[\"GENERATING\"] = \"generating\";\n  StreamStatus2[\"COMPLETED\"] = \"completed\";\n  return StreamStatus2;\n})(StreamStatus || {});\nconst TIMEOUT = 1e4;\nfunction useLLMStream(model = \"large\" /* LARGE */, temperature = 1, notifyError = () => {\n}) {\n  const [messages, setMessages] = useState([]);\n  const [reply, setReply] = useState(\"\");\n  const [streamStatus, setStreamStatus] = useState(\"idle\" /* IDLE */);\n  const [error, setError] = useState();\n  const onError = useCallback(\n    (e) => {\n      setStreamStatus(\"idle\" /* IDLE */);\n      setMessages([]);\n      setError(e);\n      notifyError(\n        \"Failed to generate content using LLM provider\",\n        `Please try again or if the problem persists, contact your organization admin.`\n      );\n      console.error(e);\n    },\n    [notifyError]\n  );\n  const { error: enabledError, value: isEnabled } = useAsync(async () => await enabled(), [enabled]);\n  const { error: asyncError, value } = useAsync(async () => {\n    if (!isEnabled || !messages.length) {\n      return { enabled: isEnabled };\n    }\n    setStreamStatus(\"generating\" /* GENERATING */);\n    setError(undefined);\n    const stream = streamChatCompletions({\n      model,\n      temperature,\n      messages\n    }).pipe(\n      // Accumulate the stream content into a stream of strings, where each\n      // element contains the accumulated message so far.\n      accumulateContent()\n      // The stream is just a regular Observable, so we can use standard rxjs\n      // functionality to update state, e.g. recording when the stream\n      // has completed.\n      // The operator decision tree on the rxjs website is a useful resource:\n      // https://rxjs.dev/operator-decision-tree.)\n    );\n    return {\n      enabled: isEnabled,\n      stream: stream.subscribe({\n        next: setReply,\n        error: onError,\n        complete: () => {\n          setStreamStatus(\"completed\" /* COMPLETED */);\n          setTimeout(() => {\n            setStreamStatus(\"idle\" /* IDLE */);\n          });\n          setMessages([]);\n          setError(undefined);\n        }\n      })\n    };\n  }, [messages, isEnabled]);\n  useEffect(() => {\n    return () => {\n      if (value?.stream) {\n        value.stream.unsubscribe();\n      }\n    };\n  }, [value]);\n  useEffect(() => {\n    let timeout;\n    if (streamStatus === \"generating\" /* GENERATING */ && reply === \"\") {\n      timeout = setTimeout(() => {\n        onError(new Error(`LLM stream timed out after ${TIMEOUT}ms`));\n      }, TIMEOUT);\n    }\n    return () => {\n      timeout && clearTimeout(timeout);\n    };\n  }, [streamStatus, reply, onError]);\n  if (asyncError || enabledError) {\n    setError(asyncError || enabledError);\n  }\n  return {\n    setMessages,\n    reply,\n    streamStatus,\n    error,\n    value\n  };\n}\nfunction accumulateToolCalls() {\n  return pipe(\n    filter((response) => isToolCallsMessage(response.choices[0].delta)),\n    // Collect all tool call chunks\n    toArray(),\n    // Process the array to reconstruct the complete tool call message\n    map((responses) => {\n      const toolCallChunks = responses.map((r) => r.choices[0].delta);\n      return recoverToolCallMessage(toolCallChunks);\n    })\n  );\n}\nfunction recoverToolCallMessage(toolCallMessages) {\n  const recoveredToolCallMessage = {\n    role: \"assistant\",\n    tool_calls: []\n  };\n  for (const msg of toolCallMessages) {\n    for (const tc of msg.tool_calls) {\n      if (tc.index >= recoveredToolCallMessage.tool_calls.length) {\n        recoveredToolCallMessage.tool_calls.push({\n          ...tc,\n          function: { ...tc.function, arguments: tc.function.arguments ?? \"\" }\n        });\n      } else {\n        recoveredToolCallMessage.tool_calls[tc.index].function.arguments += tc.function.arguments ?? \"\";\n      }\n    }\n  }\n  for (const tc of recoveredToolCallMessage.tool_calls) {\n    if (!tc.function.arguments) {\n      tc.function.arguments = \"{}\";\n    }\n  }\n  return recoveredToolCallMessage;\n}\n\nexport { Model, StreamStatus, TIMEOUT, accumulateContent, accumulateToolCalls, chatCompletions, enabled, extractContent, health, isContentMessage, isDoneMessage, isErrorResponse, isFunctionCallMessage, isToolCallsMessage, recoverToolCallMessage, streamChatCompletions, useLLMStream };\n//# sourceMappingURL=llm.js.map\n","import { isFunction } from '../util/isFunction';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nimport { identity } from '../util/identity';\nexport function tap(observerOrNext, error, complete) {\n    var tapObserver = isFunction(observerOrNext) || error || complete\n        ?\n            { next: observerOrNext, error: error, complete: complete }\n        : observerOrNext;\n    return tapObserver\n        ? operate(function (source, subscriber) {\n            var _a;\n            (_a = tapObserver.subscribe) === null || _a === void 0 ? void 0 : _a.call(tapObserver);\n            var isUnsub = true;\n            source.subscribe(createOperatorSubscriber(subscriber, function (value) {\n                var _a;\n                (_a = tapObserver.next) === null || _a === void 0 ? void 0 : _a.call(tapObserver, value);\n                subscriber.next(value);\n            }, function () {\n                var _a;\n                isUnsub = false;\n                (_a = tapObserver.complete) === null || _a === void 0 ? void 0 : _a.call(tapObserver);\n                subscriber.complete();\n            }, function (err) {\n                var _a;\n                isUnsub = false;\n                (_a = tapObserver.error) === null || _a === void 0 ? void 0 : _a.call(tapObserver, err);\n                subscriber.error(err);\n            }, function () {\n                var _a, _b;\n                if (isUnsub) {\n                    (_a = tapObserver.unsubscribe) === null || _a === void 0 ? void 0 : _a.call(tapObserver);\n                }\n                (_b = tapObserver.finalize) === null || _b === void 0 ? void 0 : _b.call(tapObserver);\n            }));\n        })\n        :\n            identity;\n}\n//# sourceMappingURL=tap.js.map","import { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function takeWhile(predicate, inclusive) {\n    if (inclusive === void 0) { inclusive = false; }\n    return operate(function (source, subscriber) {\n        var index = 0;\n        source.subscribe(createOperatorSubscriber(subscriber, function (value) {\n            var result = predicate(value, index++);\n            (result || inclusive) && subscriber.next(value);\n            !result && subscriber.complete();\n        }));\n    });\n}\n//# sourceMappingURL=takeWhile.js.map","import { getBackendSrv } from '@grafana/runtime';\nimport { LLM_PLUGIN_ROUTE } from './constants.js';\nexport { Model, StreamStatus, TIMEOUT, accumulateContent, accumulateToolCalls, chatCompletions, extractContent, health, isContentMessage, isDoneMessage, isErrorResponse, isFunctionCallMessage, isToolCallsMessage, recoverToolCallMessage, streamChatCompletions, useLLMStream } from './llm.js';\n\nconst enabled = async () => {\n  try {\n    const settings = await getBackendSrv().get(`${LLM_PLUGIN_ROUTE}/settings`);\n    if (!settings.enabled) {\n      return false;\n    }\n    const health = await getBackendSrv().get(`${LLM_PLUGIN_ROUTE}/health`);\n    const details = health.details;\n    if (details.llmProvider) {\n      return details.llmProvider.configured && details.llmProvider.ok;\n    }\n    if (details.openAI) {\n      return details.openAI.configured && details.openAI.ok;\n    }\n    return false;\n  } catch (e) {\n    return false;\n  }\n};\n\nexport { enabled };\n//# sourceMappingURL=openai.js.map\n","const ANY = Symbol('SemVer ANY')\n// hoisted class for cyclic dependency\nclass Comparator {\n  static get ANY () {\n    return ANY\n  }\n\n  constructor (comp, options) {\n    options = parseOptions(options)\n\n    if (comp instanceof Comparator) {\n      if (comp.loose === !!options.loose) {\n        return comp\n      } else {\n        comp = comp.value\n      }\n    }\n\n    comp = comp.trim().split(/\\s+/).join(' ')\n    debug('comparator', comp, options)\n    this.options = options\n    this.loose = !!options.loose\n    this.parse(comp)\n\n    if (this.semver === ANY) {\n      this.value = ''\n    } else {\n      this.value = this.operator + this.semver.version\n    }\n\n    debug('comp', this)\n  }\n\n  parse (comp) {\n    const r = this.options.loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\n    const m = comp.match(r)\n\n    if (!m) {\n      throw new TypeError(`Invalid comparator: ${comp}`)\n    }\n\n    this.operator = m[1] !== undefined ? m[1] : ''\n    if (this.operator === '=') {\n      this.operator = ''\n    }\n\n    // if it literally is just '>' or '' then allow anything.\n    if (!m[2]) {\n      this.semver = ANY\n    } else {\n      this.semver = new SemVer(m[2], this.options.loose)\n    }\n  }\n\n  toString () {\n    return this.value\n  }\n\n  test (version) {\n    debug('Comparator.test', version, this.options.loose)\n\n    if (this.semver === ANY || version === ANY) {\n      return true\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    return cmp(version, this.operator, this.semver, this.options)\n  }\n\n  intersects (comp, options) {\n    if (!(comp instanceof Comparator)) {\n      throw new TypeError('a Comparator is required')\n    }\n\n    if (this.operator === '') {\n      if (this.value === '') {\n        return true\n      }\n      return new Range(comp.value, options).test(this.value)\n    } else if (comp.operator === '') {\n      if (comp.value === '') {\n        return true\n      }\n      return new Range(this.value, options).test(comp.semver)\n    }\n\n    options = parseOptions(options)\n\n    // Special cases where nothing can possibly be lower\n    if (options.includePrerelease &&\n      (this.value === '<0.0.0-0' || comp.value === '<0.0.0-0')) {\n      return false\n    }\n    if (!options.includePrerelease &&\n      (this.value.startsWith('<0.0.0') || comp.value.startsWith('<0.0.0'))) {\n      return false\n    }\n\n    // Same direction increasing (> or >=)\n    if (this.operator.startsWith('>') && comp.operator.startsWith('>')) {\n      return true\n    }\n    // Same direction decreasing (< or <=)\n    if (this.operator.startsWith('<') && comp.operator.startsWith('<')) {\n      return true\n    }\n    // same SemVer and both sides are inclusive (<= or >=)\n    if (\n      (this.semver.version === comp.semver.version) &&\n      this.operator.includes('=') && comp.operator.includes('=')) {\n      return true\n    }\n    // opposite directions less than\n    if (cmp(this.semver, '<', comp.semver, options) &&\n      this.operator.startsWith('>') && comp.operator.startsWith('<')) {\n      return true\n    }\n    // opposite directions greater than\n    if (cmp(this.semver, '>', comp.semver, options) &&\n      this.operator.startsWith('<') && comp.operator.startsWith('>')) {\n      return true\n    }\n    return false\n  }\n}\n\nmodule.exports = Comparator\n\nconst parseOptions = require('../internal/parse-options')\nconst { safeRe: re, t } = require('../internal/re')\nconst cmp = require('../functions/cmp')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst Range = require('./range')\n","const SPACE_CHARACTERS = /\\s+/g\n\n// hoisted class for cyclic dependency\nclass Range {\n  constructor (range, options) {\n    options = parseOptions(options)\n\n    if (range instanceof Range) {\n      if (\n        range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease\n      ) {\n        return range\n      } else {\n        return new Range(range.raw, options)\n      }\n    }\n\n    if (range instanceof Comparator) {\n      // just put it in the set and return\n      this.raw = range.value\n      this.set = [[range]]\n      this.formatted = undefined\n      return this\n    }\n\n    this.options = options\n    this.loose = !!options.loose\n    this.includePrerelease = !!options.includePrerelease\n\n    // First reduce all whitespace as much as possible so we do not have to rely\n    // on potentially slow regexes like \\s*. This is then stored and used for\n    // future error messages as well.\n    this.raw = range.trim().replace(SPACE_CHARACTERS, ' ')\n\n    // First, split on ||\n    this.set = this.raw\n      .split('||')\n      // map the range to a 2d array of comparators\n      .map(r => this.parseRange(r.trim()))\n      // throw out any comparator lists that are empty\n      // this generally means that it was not a valid range, which is allowed\n      // in loose mode, but will still throw if the WHOLE range is invalid.\n      .filter(c => c.length)\n\n    if (!this.set.length) {\n      throw new TypeError(`Invalid SemVer Range: ${this.raw}`)\n    }\n\n    // if we have any that are not the null set, throw out null sets.\n    if (this.set.length > 1) {\n      // keep the first one, in case they're all null sets\n      const first = this.set[0]\n      this.set = this.set.filter(c => !isNullSet(c[0]))\n      if (this.set.length === 0) {\n        this.set = [first]\n      } else if (this.set.length > 1) {\n        // if we have any that are *, then the range is just *\n        for (const c of this.set) {\n          if (c.length === 1 && isAny(c[0])) {\n            this.set = [c]\n            break\n          }\n        }\n      }\n    }\n\n    this.formatted = undefined\n  }\n\n  get range () {\n    if (this.formatted === undefined) {\n      this.formatted = ''\n      for (let i = 0; i < this.set.length; i++) {\n        if (i > 0) {\n          this.formatted += '||'\n        }\n        const comps = this.set[i]\n        for (let k = 0; k < comps.length; k++) {\n          if (k > 0) {\n            this.formatted += ' '\n          }\n          this.formatted += comps[k].toString().trim()\n        }\n      }\n    }\n    return this.formatted\n  }\n\n  format () {\n    return this.range\n  }\n\n  toString () {\n    return this.range\n  }\n\n  parseRange (range) {\n    // memoize range parsing for performance.\n    // this is a very hot path, and fully deterministic.\n    const memoOpts =\n      (this.options.includePrerelease && FLAG_INCLUDE_PRERELEASE) |\n      (this.options.loose && FLAG_LOOSE)\n    const memoKey = memoOpts + ':' + range\n    const cached = cache.get(memoKey)\n    if (cached) {\n      return cached\n    }\n\n    const loose = this.options.loose\n    // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n    const hr = loose ? re[t.HYPHENRANGELOOSE] : re[t.HYPHENRANGE]\n    range = range.replace(hr, hyphenReplace(this.options.includePrerelease))\n    debug('hyphen replace', range)\n\n    // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n    range = range.replace(re[t.COMPARATORTRIM], comparatorTrimReplace)\n    debug('comparator trim', range)\n\n    // `~ 1.2.3` => `~1.2.3`\n    range = range.replace(re[t.TILDETRIM], tildeTrimReplace)\n    debug('tilde trim', range)\n\n    // `^ 1.2.3` => `^1.2.3`\n    range = range.replace(re[t.CARETTRIM], caretTrimReplace)\n    debug('caret trim', range)\n\n    // At this point, the range is completely trimmed and\n    // ready to be split into comparators.\n\n    let rangeList = range\n      .split(' ')\n      .map(comp => parseComparator(comp, this.options))\n      .join(' ')\n      .split(/\\s+/)\n      // >=0.0.0 is equivalent to *\n      .map(comp => replaceGTE0(comp, this.options))\n\n    if (loose) {\n      // in loose mode, throw out any that are not valid comparators\n      rangeList = rangeList.filter(comp => {\n        debug('loose invalid filter', comp, this.options)\n        return !!comp.match(re[t.COMPARATORLOOSE])\n      })\n    }\n    debug('range list', rangeList)\n\n    // if any comparators are the null set, then replace with JUST null set\n    // if more than one comparator, remove any * comparators\n    // also, don't include the same comparator more than once\n    const rangeMap = new Map()\n    const comparators = rangeList.map(comp => new Comparator(comp, this.options))\n    for (const comp of comparators) {\n      if (isNullSet(comp)) {\n        return [comp]\n      }\n      rangeMap.set(comp.value, comp)\n    }\n    if (rangeMap.size > 1 && rangeMap.has('')) {\n      rangeMap.delete('')\n    }\n\n    const result = [...rangeMap.values()]\n    cache.set(memoKey, result)\n    return result\n  }\n\n  intersects (range, options) {\n    if (!(range instanceof Range)) {\n      throw new TypeError('a Range is required')\n    }\n\n    return this.set.some((thisComparators) => {\n      return (\n        isSatisfiable(thisComparators, options) &&\n        range.set.some((rangeComparators) => {\n          return (\n            isSatisfiable(rangeComparators, options) &&\n            thisComparators.every((thisComparator) => {\n              return rangeComparators.every((rangeComparator) => {\n                return thisComparator.intersects(rangeComparator, options)\n              })\n            })\n          )\n        })\n      )\n    })\n  }\n\n  // if ANY of the sets match ALL of its comparators, then pass\n  test (version) {\n    if (!version) {\n      return false\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    for (let i = 0; i < this.set.length; i++) {\n      if (testSet(this.set[i], version, this.options)) {\n        return true\n      }\n    }\n    return false\n  }\n}\n\nmodule.exports = Range\n\nconst LRU = require('../internal/lrucache')\nconst cache = new LRU()\n\nconst parseOptions = require('../internal/parse-options')\nconst Comparator = require('./comparator')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst {\n  safeRe: re,\n  t,\n  comparatorTrimReplace,\n  tildeTrimReplace,\n  caretTrimReplace,\n} = require('../internal/re')\nconst { FLAG_INCLUDE_PRERELEASE, FLAG_LOOSE } = require('../internal/constants')\n\nconst isNullSet = c => c.value === '<0.0.0-0'\nconst isAny = c => c.value === ''\n\n// take a set of comparators and determine whether there\n// exists a version which can satisfy it\nconst isSatisfiable = (comparators, options) => {\n  let result = true\n  const remainingComparators = comparators.slice()\n  let testComparator = remainingComparators.pop()\n\n  while (result && remainingComparators.length) {\n    result = remainingComparators.every((otherComparator) => {\n      return testComparator.intersects(otherComparator, options)\n    })\n\n    testComparator = remainingComparators.pop()\n  }\n\n  return result\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nconst parseComparator = (comp, options) => {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nconst isX = id => !id || id.toLowerCase() === 'x' || id === '*'\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0-0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0-0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0-0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0-0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0-0\n// ~0.0.1 --> >=0.0.1 <0.1.0-0\nconst replaceTildes = (comp, options) => {\n  return comp\n    .trim()\n    .split(/\\s+/)\n    .map((c) => replaceTilde(c, options))\n    .join(' ')\n}\n\nconst replaceTilde = (comp, options) => {\n  const r = options.loose ? re[t.TILDELOOSE] : re[t.TILDE]\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('tilde', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0 <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0-0\n      ret = `>=${M}.${m}.0 <${M}.${+m + 1}.0-0`\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = `>=${M}.${m}.${p}-${pr\n      } <${M}.${+m + 1}.0-0`\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0-0\n      ret = `>=${M}.${m}.${p\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0-0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0-0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0-0\n// ^1.2.3 --> >=1.2.3 <2.0.0-0\n// ^1.2.0 --> >=1.2.0 <2.0.0-0\n// ^0.0.1 --> >=0.0.1 <0.0.2-0\n// ^0.1.0 --> >=0.1.0 <0.2.0-0\nconst replaceCarets = (comp, options) => {\n  return comp\n    .trim()\n    .split(/\\s+/)\n    .map((c) => replaceCaret(c, options))\n    .join(' ')\n}\n\nconst replaceCaret = (comp, options) => {\n  debug('caret', comp, options)\n  const r = options.loose ? re[t.CARETLOOSE] : re[t.CARET]\n  const z = options.includePrerelease ? '-0' : ''\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('caret', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0${z} <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = `>=${M}.${m}.0${z} <${M}.${+m + 1}.0-0`\n      } else {\n        ret = `>=${M}.${m}.0${z} <${+M + 1}.0.0-0`\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p}-${pr\n        } <${+M + 1}.0.0-0`\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p\n        } <${+M + 1}.0.0-0`\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nconst replaceXRanges = (comp, options) => {\n  debug('replaceXRanges', comp, options)\n  return comp\n    .split(/\\s+/)\n    .map((c) => replaceXRange(c, options))\n    .join(' ')\n}\n\nconst replaceXRange = (comp, options) => {\n  comp = comp.trim()\n  const r = options.loose ? re[t.XRANGELOOSE] : re[t.XRANGE]\n  return comp.replace(r, (ret, gtlt, M, m, p, pr) => {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    const xM = isX(M)\n    const xm = xM || isX(m)\n    const xp = xm || isX(p)\n    const anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    // if we're including prereleases in the match, then we need\n    // to fix this to -0, the lowest possible prerelease value\n    pr = options.includePrerelease ? '-0' : ''\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0-0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      if (gtlt === '<') {\n        pr = '-0'\n      }\n\n      ret = `${gtlt + M}.${m}.${p}${pr}`\n    } else if (xm) {\n      ret = `>=${M}.0.0${pr} <${+M + 1}.0.0-0`\n    } else if (xp) {\n      ret = `>=${M}.${m}.0${pr\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nconst replaceStars = (comp, options) => {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp\n    .trim()\n    .replace(re[t.STAR], '')\n}\n\nconst replaceGTE0 = (comp, options) => {\n  debug('replaceGTE0', comp, options)\n  return comp\n    .trim()\n    .replace(re[options.includePrerelease ? t.GTE0PRE : t.GTE0], '')\n}\n\n// This function is passed to string.replace(re[t.HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0-0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0-0\n// TODO build?\nconst hyphenReplace = incPr => ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr) => {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = `>=${fM}.0.0${incPr ? '-0' : ''}`\n  } else if (isX(fp)) {\n    from = `>=${fM}.${fm}.0${incPr ? '-0' : ''}`\n  } else if (fpr) {\n    from = `>=${from}`\n  } else {\n    from = `>=${from}${incPr ? '-0' : ''}`\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = `<${+tM + 1}.0.0-0`\n  } else if (isX(tp)) {\n    to = `<${tM}.${+tm + 1}.0-0`\n  } else if (tpr) {\n    to = `<=${tM}.${tm}.${tp}-${tpr}`\n  } else if (incPr) {\n    to = `<${tM}.${tm}.${+tp + 1}-0`\n  } else {\n    to = `<=${to}`\n  }\n\n  return `${from} ${to}`.trim()\n}\n\nconst testSet = (set, version, options) => {\n  for (let i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (let i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === Comparator.ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        const allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n","const debug = require('../internal/debug')\nconst { MAX_LENGTH, MAX_SAFE_INTEGER } = require('../internal/constants')\nconst { safeRe: re, safeSrc: src, t } = require('../internal/re')\n\nconst parseOptions = require('../internal/parse-options')\nconst { compareIdentifiers } = require('../internal/identifiers')\nclass SemVer {\n  constructor (version, options) {\n    options = parseOptions(options)\n\n    if (version instanceof SemVer) {\n      if (version.loose === !!options.loose &&\n        version.includePrerelease === !!options.includePrerelease) {\n        return version\n      } else {\n        version = version.version\n      }\n    } else if (typeof version !== 'string') {\n      throw new TypeError(`Invalid version. Must be a string. Got type \"${typeof version}\".`)\n    }\n\n    if (version.length > MAX_LENGTH) {\n      throw new TypeError(\n        `version is longer than ${MAX_LENGTH} characters`\n      )\n    }\n\n    debug('SemVer', version, options)\n    this.options = options\n    this.loose = !!options.loose\n    // this isn't actually relevant for versions, but keep it so that we\n    // don't run into trouble passing this.options around.\n    this.includePrerelease = !!options.includePrerelease\n\n    const m = version.trim().match(options.loose ? re[t.LOOSE] : re[t.FULL])\n\n    if (!m) {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    this.raw = version\n\n    // these are actually numbers\n    this.major = +m[1]\n    this.minor = +m[2]\n    this.patch = +m[3]\n\n    if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n      throw new TypeError('Invalid major version')\n    }\n\n    if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n      throw new TypeError('Invalid minor version')\n    }\n\n    if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n      throw new TypeError('Invalid patch version')\n    }\n\n    // numberify any prerelease numeric ids\n    if (!m[4]) {\n      this.prerelease = []\n    } else {\n      this.prerelease = m[4].split('.').map((id) => {\n        if (/^[0-9]+$/.test(id)) {\n          const num = +id\n          if (num >= 0 && num < MAX_SAFE_INTEGER) {\n            return num\n          }\n        }\n        return id\n      })\n    }\n\n    this.build = m[5] ? m[5].split('.') : []\n    this.format()\n  }\n\n  format () {\n    this.version = `${this.major}.${this.minor}.${this.patch}`\n    if (this.prerelease.length) {\n      this.version += `-${this.prerelease.join('.')}`\n    }\n    return this.version\n  }\n\n  toString () {\n    return this.version\n  }\n\n  compare (other) {\n    debug('SemVer.compare', this.version, this.options, other)\n    if (!(other instanceof SemVer)) {\n      if (typeof other === 'string' && other === this.version) {\n        return 0\n      }\n      other = new SemVer(other, this.options)\n    }\n\n    if (other.version === this.version) {\n      return 0\n    }\n\n    return this.compareMain(other) || this.comparePre(other)\n  }\n\n  compareMain (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    return (\n      compareIdentifiers(this.major, other.major) ||\n      compareIdentifiers(this.minor, other.minor) ||\n      compareIdentifiers(this.patch, other.patch)\n    )\n  }\n\n  comparePre (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    // NOT having a prerelease is > having one\n    if (this.prerelease.length && !other.prerelease.length) {\n      return -1\n    } else if (!this.prerelease.length && other.prerelease.length) {\n      return 1\n    } else if (!this.prerelease.length && !other.prerelease.length) {\n      return 0\n    }\n\n    let i = 0\n    do {\n      const a = this.prerelease[i]\n      const b = other.prerelease[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  compareBuild (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    let i = 0\n    do {\n      const a = this.build[i]\n      const b = other.build[i]\n      debug('build compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  // preminor will bump the version up to the next minor release, and immediately\n  // down to pre-release. premajor and prepatch work the same way.\n  inc (release, identifier, identifierBase) {\n    if (release.startsWith('pre')) {\n      if (!identifier && identifierBase === false) {\n        throw new Error('invalid increment argument: identifier is empty')\n      }\n      // Avoid an invalid semver results\n      if (identifier) {\n        const r = new RegExp(`^${this.options.loose ? src[t.PRERELEASELOOSE] : src[t.PRERELEASE]}$`)\n        const match = `-${identifier}`.match(r)\n        if (!match || match[1] !== identifier) {\n          throw new Error(`invalid identifier: ${identifier}`)\n        }\n      }\n    }\n\n    switch (release) {\n      case 'premajor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor = 0\n        this.major++\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'preminor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor++\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'prepatch':\n        // If this is already a prerelease, it will bump to the next version\n        // drop any prereleases that might already exist, since they are not\n        // relevant at this point.\n        this.prerelease.length = 0\n        this.inc('patch', identifier, identifierBase)\n        this.inc('pre', identifier, identifierBase)\n        break\n      // If the input is a non-prerelease version, this acts the same as\n      // prepatch.\n      case 'prerelease':\n        if (this.prerelease.length === 0) {\n          this.inc('patch', identifier, identifierBase)\n        }\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'release':\n        if (this.prerelease.length === 0) {\n          throw new Error(`version ${this.raw} is not a prerelease`)\n        }\n        this.prerelease.length = 0\n        break\n\n      case 'major':\n        // If this is a pre-major version, bump up to the same major version.\n        // Otherwise increment major.\n        // 1.0.0-5 bumps to 1.0.0\n        // 1.1.0 bumps to 2.0.0\n        if (\n          this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0\n        ) {\n          this.major++\n        }\n        this.minor = 0\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'minor':\n        // If this is a pre-minor version, bump up to the same minor version.\n        // Otherwise increment minor.\n        // 1.2.0-5 bumps to 1.2.0\n        // 1.2.1 bumps to 1.3.0\n        if (this.patch !== 0 || this.prerelease.length === 0) {\n          this.minor++\n        }\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'patch':\n        // If this is not a pre-release version, it will increment the patch.\n        // If it is a pre-release it will bump up to the same patch version.\n        // 1.2.0-5 patches to 1.2.0\n        // 1.2.0 patches to 1.2.1\n        if (this.prerelease.length === 0) {\n          this.patch++\n        }\n        this.prerelease = []\n        break\n      // This probably shouldn't be used publicly.\n      // 1.0.0 'pre' would become 1.0.0-0 which is the wrong direction.\n      case 'pre': {\n        const base = Number(identifierBase) ? 1 : 0\n\n        if (this.prerelease.length === 0) {\n          this.prerelease = [base]\n        } else {\n          let i = this.prerelease.length\n          while (--i >= 0) {\n            if (typeof this.prerelease[i] === 'number') {\n              this.prerelease[i]++\n              i = -2\n            }\n          }\n          if (i === -1) {\n            // didn't increment anything\n            if (identifier === this.prerelease.join('.') && identifierBase === false) {\n              throw new Error('invalid increment argument: identifier already exists')\n            }\n            this.prerelease.push(base)\n          }\n        }\n        if (identifier) {\n          // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n          // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n          let prerelease = [identifier, base]\n          if (identifierBase === false) {\n            prerelease = [identifier]\n          }\n          if (compareIdentifiers(this.prerelease[0], identifier) === 0) {\n            if (isNaN(this.prerelease[1])) {\n              this.prerelease = prerelease\n            }\n          } else {\n            this.prerelease = prerelease\n          }\n        }\n        break\n      }\n      default:\n        throw new Error(`invalid increment argument: ${release}`)\n    }\n    this.raw = this.format()\n    if (this.build.length) {\n      this.raw += `+${this.build.join('.')}`\n    }\n    return this\n  }\n}\n\nmodule.exports = SemVer\n","const parse = require('./parse')\nconst clean = (version, options) => {\n  const s = parse(version.trim().replace(/^[=v]+/, ''), options)\n  return s ? s.version : null\n}\nmodule.exports = clean\n","const eq = require('./eq')\nconst neq = require('./neq')\nconst gt = require('./gt')\nconst gte = require('./gte')\nconst lt = require('./lt')\nconst lte = require('./lte')\n\nconst cmp = (a, op, b, loose) => {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object') {\n        a = a.version\n      }\n      if (typeof b === 'object') {\n        b = b.version\n      }\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object') {\n        a = a.version\n      }\n      if (typeof b === 'object') {\n        b = b.version\n      }\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError(`Invalid operator: ${op}`)\n  }\n}\nmodule.exports = cmp\n","const SemVer = require('../classes/semver')\nconst parse = require('./parse')\nconst { safeRe: re, t } = require('../internal/re')\n\nconst coerce = (version, options) => {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version === 'number') {\n    version = String(version)\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  options = options || {}\n\n  let match = null\n  if (!options.rtl) {\n    match = version.match(options.includePrerelease ? re[t.COERCEFULL] : re[t.COERCE])\n  } else {\n    // Find the right-most coercible string that does not share\n    // a terminus with a more left-ward coercible string.\n    // Eg, '1.2.3.4' wants to coerce '2.3.4', not '3.4' or '4'\n    // With includePrerelease option set, '1.2.3.4-rc' wants to coerce '2.3.4-rc', not '2.3.4'\n    //\n    // Walk through the string checking with a /g regexp\n    // Manually set the index so as to pick up overlapping matches.\n    // Stop when we get a match that ends at the string end, since no\n    // coercible string can be more right-ward without the same terminus.\n    const coerceRtlRegex = options.includePrerelease ? re[t.COERCERTLFULL] : re[t.COERCERTL]\n    let next\n    while ((next = coerceRtlRegex.exec(version)) &&\n        (!match || match.index + match[0].length !== version.length)\n    ) {\n      if (!match ||\n            next.index + next[0].length !== match.index + match[0].length) {\n        match = next\n      }\n      coerceRtlRegex.lastIndex = next.index + next[1].length + next[2].length\n    }\n    // leave it in a clean state\n    coerceRtlRegex.lastIndex = -1\n  }\n\n  if (match === null) {\n    return null\n  }\n\n  const major = match[2]\n  const minor = match[3] || '0'\n  const patch = match[4] || '0'\n  const prerelease = options.includePrerelease && match[5] ? `-${match[5]}` : ''\n  const build = options.includePrerelease && match[6] ? `+${match[6]}` : ''\n\n  return parse(`${major}.${minor}.${patch}${prerelease}${build}`, options)\n}\nmodule.exports = coerce\n","const SemVer = require('../classes/semver')\nconst compareBuild = (a, b, loose) => {\n  const versionA = new SemVer(a, loose)\n  const versionB = new SemVer(b, loose)\n  return versionA.compare(versionB) || versionA.compareBuild(versionB)\n}\nmodule.exports = compareBuild\n","const compare = require('./compare')\nconst compareLoose = (a, b) => compare(a, b, true)\nmodule.exports = compareLoose\n","const SemVer = require('../classes/semver')\nconst compare = (a, b, loose) =>\n  new SemVer(a, loose).compare(new SemVer(b, loose))\n\nmodule.exports = compare\n","const parse = require('./parse.js')\n\nconst diff = (version1, version2) => {\n  const v1 = parse(version1, null, true)\n  const v2 = parse(version2, null, true)\n  const comparison = v1.compare(v2)\n\n  if (comparison === 0) {\n    return null\n  }\n\n  const v1Higher = comparison > 0\n  const highVersion = v1Higher ? v1 : v2\n  const lowVersion = v1Higher ? v2 : v1\n  const highHasPre = !!highVersion.prerelease.length\n  const lowHasPre = !!lowVersion.prerelease.length\n\n  if (lowHasPre && !highHasPre) {\n    // Going from prerelease -> no prerelease requires some special casing\n\n    // If the low version has only a major, then it will always be a major\n    // Some examples:\n    // 1.0.0-1 -> 1.0.0\n    // 1.0.0-1 -> 1.1.1\n    // 1.0.0-1 -> 2.0.0\n    if (!lowVersion.patch && !lowVersion.minor) {\n      return 'major'\n    }\n\n    // If the main part has no difference\n    if (lowVersion.compareMain(highVersion) === 0) {\n      if (lowVersion.minor && !lowVersion.patch) {\n        return 'minor'\n      }\n      return 'patch'\n    }\n  }\n\n  // add the `pre` prefix if we are going to a prerelease version\n  const prefix = highHasPre ? 'pre' : ''\n\n  if (v1.major !== v2.major) {\n    return prefix + 'major'\n  }\n\n  if (v1.minor !== v2.minor) {\n    return prefix + 'minor'\n  }\n\n  if (v1.patch !== v2.patch) {\n    return prefix + 'patch'\n  }\n\n  // high and low are preleases\n  return 'prerelease'\n}\n\nmodule.exports = diff\n","const compare = require('./compare')\nconst eq = (a, b, loose) => compare(a, b, loose) === 0\nmodule.exports = eq\n","const compare = require('./compare')\nconst gt = (a, b, loose) => compare(a, b, loose) > 0\nmodule.exports = gt\n","const compare = require('./compare')\nconst gte = (a, b, loose) => compare(a, b, loose) >= 0\nmodule.exports = gte\n","const SemVer = require('../classes/semver')\n\nconst inc = (version, release, options, identifier, identifierBase) => {\n  if (typeof (options) === 'string') {\n    identifierBase = identifier\n    identifier = options\n    options = undefined\n  }\n\n  try {\n    return new SemVer(\n      version instanceof SemVer ? version.version : version,\n      options\n    ).inc(release, identifier, identifierBase).version\n  } catch (er) {\n    return null\n  }\n}\nmodule.exports = inc\n","const compare = require('./compare')\nconst lt = (a, b, loose) => compare(a, b, loose) < 0\nmodule.exports = lt\n","const compare = require('./compare')\nconst lte = (a, b, loose) => compare(a, b, loose) <= 0\nmodule.exports = lte\n","const SemVer = require('../classes/semver')\nconst major = (a, loose) => new SemVer(a, loose).major\nmodule.exports = major\n","const SemVer = require('../classes/semver')\nconst minor = (a, loose) => new SemVer(a, loose).minor\nmodule.exports = minor\n","const compare = require('./compare')\nconst neq = (a, b, loose) => compare(a, b, loose) !== 0\nmodule.exports = neq\n","const SemVer = require('../classes/semver')\nconst parse = (version, options, throwErrors = false) => {\n  if (version instanceof SemVer) {\n    return version\n  }\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    if (!throwErrors) {\n      return null\n    }\n    throw er\n  }\n}\n\nmodule.exports = parse\n","const SemVer = require('../classes/semver')\nconst patch = (a, loose) => new SemVer(a, loose).patch\nmodule.exports = patch\n","const parse = require('./parse')\nconst prerelease = (version, options) => {\n  const parsed = parse(version, options)\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\nmodule.exports = prerelease\n","const compare = require('./compare')\nconst rcompare = (a, b, loose) => compare(b, a, loose)\nmodule.exports = rcompare\n","const compareBuild = require('./compare-build')\nconst rsort = (list, loose) => list.sort((a, b) => compareBuild(b, a, loose))\nmodule.exports = rsort\n","const Range = require('../classes/range')\nconst satisfies = (version, range, options) => {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\nmodule.exports = satisfies\n","const compareBuild = require('./compare-build')\nconst sort = (list, loose) => list.sort((a, b) => compareBuild(a, b, loose))\nmodule.exports = sort\n","const parse = require('./parse')\nconst valid = (version, options) => {\n  const v = parse(version, options)\n  return v ? v.version : null\n}\nmodule.exports = valid\n","// just pre-load all the stuff that index.js lazily exports\nconst internalRe = require('./internal/re')\nconst constants = require('./internal/constants')\nconst SemVer = require('./classes/semver')\nconst identifiers = require('./internal/identifiers')\nconst parse = require('./functions/parse')\nconst valid = require('./functions/valid')\nconst clean = require('./functions/clean')\nconst inc = require('./functions/inc')\nconst diff = require('./functions/diff')\nconst major = require('./functions/major')\nconst minor = require('./functions/minor')\nconst patch = require('./functions/patch')\nconst prerelease = require('./functions/prerelease')\nconst compare = require('./functions/compare')\nconst rcompare = require('./functions/rcompare')\nconst compareLoose = require('./functions/compare-loose')\nconst compareBuild = require('./functions/compare-build')\nconst sort = require('./functions/sort')\nconst rsort = require('./functions/rsort')\nconst gt = require('./functions/gt')\nconst lt = require('./functions/lt')\nconst eq = require('./functions/eq')\nconst neq = require('./functions/neq')\nconst gte = require('./functions/gte')\nconst lte = require('./functions/lte')\nconst cmp = require('./functions/cmp')\nconst coerce = require('./functions/coerce')\nconst Comparator = require('./classes/comparator')\nconst Range = require('./classes/range')\nconst satisfies = require('./functions/satisfies')\nconst toComparators = require('./ranges/to-comparators')\nconst maxSatisfying = require('./ranges/max-satisfying')\nconst minSatisfying = require('./ranges/min-satisfying')\nconst minVersion = require('./ranges/min-version')\nconst validRange = require('./ranges/valid')\nconst outside = require('./ranges/outside')\nconst gtr = require('./ranges/gtr')\nconst ltr = require('./ranges/ltr')\nconst intersects = require('./ranges/intersects')\nconst simplifyRange = require('./ranges/simplify')\nconst subset = require('./ranges/subset')\nmodule.exports = {\n  parse,\n  valid,\n  clean,\n  inc,\n  diff,\n  major,\n  minor,\n  patch,\n  prerelease,\n  compare,\n  rcompare,\n  compareLoose,\n  compareBuild,\n  sort,\n  rsort,\n  gt,\n  lt,\n  eq,\n  neq,\n  gte,\n  lte,\n  cmp,\n  coerce,\n  Comparator,\n  Range,\n  satisfies,\n  toComparators,\n  maxSatisfying,\n  minSatisfying,\n  minVersion,\n  validRange,\n  outside,\n  gtr,\n  ltr,\n  intersects,\n  simplifyRange,\n  subset,\n  SemVer,\n  re: internalRe.re,\n  src: internalRe.src,\n  tokens: internalRe.t,\n  SEMVER_SPEC_VERSION: constants.SEMVER_SPEC_VERSION,\n  RELEASE_TYPES: constants.RELEASE_TYPES,\n  compareIdentifiers: identifiers.compareIdentifiers,\n  rcompareIdentifiers: identifiers.rcompareIdentifiers,\n}\n","// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nconst SEMVER_SPEC_VERSION = '2.0.0'\n\nconst MAX_LENGTH = 256\nconst MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n/* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nconst MAX_SAFE_COMPONENT_LENGTH = 16\n\n// Max safe length for a build identifier. The max length minus 6 characters for\n// the shortest version with a build 0.0.0+BUILD.\nconst MAX_SAFE_BUILD_LENGTH = MAX_LENGTH - 6\n\nconst RELEASE_TYPES = [\n  'major',\n  'premajor',\n  'minor',\n  'preminor',\n  'patch',\n  'prepatch',\n  'prerelease',\n]\n\nmodule.exports = {\n  MAX_LENGTH,\n  MAX_SAFE_COMPONENT_LENGTH,\n  MAX_SAFE_BUILD_LENGTH,\n  MAX_SAFE_INTEGER,\n  RELEASE_TYPES,\n  SEMVER_SPEC_VERSION,\n  FLAG_INCLUDE_PRERELEASE: 0b001,\n  FLAG_LOOSE: 0b010,\n}\n","const debug = (\n  typeof process === 'object' &&\n  process.env &&\n  process.env.NODE_DEBUG &&\n  /\\bsemver\\b/i.test(process.env.NODE_DEBUG)\n) ? (...args) => console.error('SEMVER', ...args)\n  : () => {}\n\nmodule.exports = debug\n","const numeric = /^[0-9]+$/\nconst compareIdentifiers = (a, b) => {\n  const anum = numeric.test(a)\n  const bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nconst rcompareIdentifiers = (a, b) => compareIdentifiers(b, a)\n\nmodule.exports = {\n  compareIdentifiers,\n  rcompareIdentifiers,\n}\n","class LRUCache {\n  constructor () {\n    this.max = 1000\n    this.map = new Map()\n  }\n\n  get (key) {\n    const value = this.map.get(key)\n    if (value === undefined) {\n      return undefined\n    } else {\n      // Remove the key from the map and add it to the end\n      this.map.delete(key)\n      this.map.set(key, value)\n      return value\n    }\n  }\n\n  delete (key) {\n    return this.map.delete(key)\n  }\n\n  set (key, value) {\n    const deleted = this.delete(key)\n\n    if (!deleted && value !== undefined) {\n      // If cache is full, delete the least recently used item\n      if (this.map.size >= this.max) {\n        const firstKey = this.map.keys().next().value\n        this.delete(firstKey)\n      }\n\n      this.map.set(key, value)\n    }\n\n    return this\n  }\n}\n\nmodule.exports = LRUCache\n","// parse out just the options we care about\nconst looseOption = Object.freeze({ loose: true })\nconst emptyOpts = Object.freeze({ })\nconst parseOptions = options => {\n  if (!options) {\n    return emptyOpts\n  }\n\n  if (typeof options !== 'object') {\n    return looseOption\n  }\n\n  return options\n}\nmodule.exports = parseOptions\n","const {\n  MAX_SAFE_COMPONENT_LENGTH,\n  MAX_SAFE_BUILD_LENGTH,\n  MAX_LENGTH,\n} = require('./constants')\nconst debug = require('./debug')\nexports = module.exports = {}\n\n// The actual regexps go on exports.re\nconst re = exports.re = []\nconst safeRe = exports.safeRe = []\nconst src = exports.src = []\nconst safeSrc = exports.safeSrc = []\nconst t = exports.t = {}\nlet R = 0\n\nconst LETTERDASHNUMBER = '[a-zA-Z0-9-]'\n\n// Replace some greedy regex tokens to prevent regex dos issues. These regex are\n// used internally via the safeRe object since all inputs in this library get\n// normalized first to trim and collapse all extra whitespace. The original\n// regexes are exported for userland consumption and lower level usage. A\n// future breaking change could export the safer regex only with a note that\n// all input should have extra whitespace removed.\nconst safeRegexReplacements = [\n  ['\\\\s', 1],\n  ['\\\\d', MAX_LENGTH],\n  [LETTERDASHNUMBER, MAX_SAFE_BUILD_LENGTH],\n]\n\nconst makeSafeRegex = (value) => {\n  for (const [token, max] of safeRegexReplacements) {\n    value = value\n      .split(`${token}*`).join(`${token}{0,${max}}`)\n      .split(`${token}+`).join(`${token}{1,${max}}`)\n  }\n  return value\n}\n\nconst createToken = (name, value, isGlobal) => {\n  const safe = makeSafeRegex(value)\n  const index = R++\n  debug(name, index, value)\n  t[name] = index\n  src[index] = value\n  safeSrc[index] = safe\n  re[index] = new RegExp(value, isGlobal ? 'g' : undefined)\n  safeRe[index] = new RegExp(safe, isGlobal ? 'g' : undefined)\n}\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\ncreateToken('NUMERICIDENTIFIER', '0|[1-9]\\\\d*')\ncreateToken('NUMERICIDENTIFIERLOOSE', '\\\\d+')\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\ncreateToken('NONNUMERICIDENTIFIER', `\\\\d*[a-zA-Z-]${LETTERDASHNUMBER}*`)\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\ncreateToken('MAINVERSION', `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})`)\n\ncreateToken('MAINVERSIONLOOSE', `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})`)\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\ncreateToken('PRERELEASEIDENTIFIER', `(?:${src[t.NUMERICIDENTIFIER]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\ncreateToken('PRERELEASEIDENTIFIERLOOSE', `(?:${src[t.NUMERICIDENTIFIERLOOSE]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\ncreateToken('PRERELEASE', `(?:-(${src[t.PRERELEASEIDENTIFIER]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIER]})*))`)\n\ncreateToken('PRERELEASELOOSE', `(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`)\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\ncreateToken('BUILDIDENTIFIER', `${LETTERDASHNUMBER}+`)\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\ncreateToken('BUILD', `(?:\\\\+(${src[t.BUILDIDENTIFIER]\n}(?:\\\\.${src[t.BUILDIDENTIFIER]})*))`)\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\ncreateToken('FULLPLAIN', `v?${src[t.MAINVERSION]\n}${src[t.PRERELEASE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('FULL', `^${src[t.FULLPLAIN]}$`)\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\ncreateToken('LOOSEPLAIN', `[v=\\\\s]*${src[t.MAINVERSIONLOOSE]\n}${src[t.PRERELEASELOOSE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('LOOSE', `^${src[t.LOOSEPLAIN]}$`)\n\ncreateToken('GTLT', '((?:<|>)?=?)')\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\ncreateToken('XRANGEIDENTIFIERLOOSE', `${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`)\ncreateToken('XRANGEIDENTIFIER', `${src[t.NUMERICIDENTIFIER]}|x|X|\\\\*`)\n\ncreateToken('XRANGEPLAIN', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:${src[t.PRERELEASE]})?${\n                     src[t.BUILD]}?` +\n                   `)?)?`)\n\ncreateToken('XRANGEPLAINLOOSE', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:${src[t.PRERELEASELOOSE]})?${\n                          src[t.BUILD]}?` +\n                        `)?)?`)\n\ncreateToken('XRANGE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAIN]}$`)\ncreateToken('XRANGELOOSE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\ncreateToken('COERCEPLAIN', `${'(^|[^\\\\d])' +\n              '(\\\\d{1,'}${MAX_SAFE_COMPONENT_LENGTH}})` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?`)\ncreateToken('COERCE', `${src[t.COERCEPLAIN]}(?:$|[^\\\\d])`)\ncreateToken('COERCEFULL', src[t.COERCEPLAIN] +\n              `(?:${src[t.PRERELEASE]})?` +\n              `(?:${src[t.BUILD]})?` +\n              `(?:$|[^\\\\d])`)\ncreateToken('COERCERTL', src[t.COERCE], true)\ncreateToken('COERCERTLFULL', src[t.COERCEFULL], true)\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\ncreateToken('LONETILDE', '(?:~>?)')\n\ncreateToken('TILDETRIM', `(\\\\s*)${src[t.LONETILDE]}\\\\s+`, true)\nexports.tildeTrimReplace = '$1~'\n\ncreateToken('TILDE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('TILDELOOSE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\ncreateToken('LONECARET', '(?:\\\\^)')\n\ncreateToken('CARETTRIM', `(\\\\s*)${src[t.LONECARET]}\\\\s+`, true)\nexports.caretTrimReplace = '$1^'\n\ncreateToken('CARET', `^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('CARETLOOSE', `^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\ncreateToken('COMPARATORLOOSE', `^${src[t.GTLT]}\\\\s*(${src[t.LOOSEPLAIN]})$|^$`)\ncreateToken('COMPARATOR', `^${src[t.GTLT]}\\\\s*(${src[t.FULLPLAIN]})$|^$`)\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\ncreateToken('COMPARATORTRIM', `(\\\\s*)${src[t.GTLT]\n}\\\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`, true)\nexports.comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\ncreateToken('HYPHENRANGE', `^\\\\s*(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s+-\\\\s+` +\n                   `(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s*$`)\n\ncreateToken('HYPHENRANGELOOSE', `^\\\\s*(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s+-\\\\s+` +\n                        `(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s*$`)\n\n// Star ranges basically just allow anything at all.\ncreateToken('STAR', '(<|>)?=?\\\\s*\\\\*')\n// >=0.0.0 is like a star\ncreateToken('GTE0', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0\\\\s*$')\ncreateToken('GTE0PRE', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0-0\\\\s*$')\n","// Determine if version is greater than all the versions possible in the range.\nconst outside = require('./outside')\nconst gtr = (version, range, options) => outside(version, range, '>', options)\nmodule.exports = gtr\n","const Range = require('../classes/range')\nconst intersects = (r1, r2, options) => {\n  r1 = new Range(r1, options)\n  r2 = new Range(r2, options)\n  return r1.intersects(r2, options)\n}\nmodule.exports = intersects\n","const outside = require('./outside')\n// Determine if version is less than all the versions possible in the range\nconst ltr = (version, range, options) => outside(version, range, '<', options)\nmodule.exports = ltr\n","const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\n\nconst maxSatisfying = (versions, range, options) => {\n  let max = null\n  let maxSV = null\n  let rangeObj = null\n  try {\n    rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach((v) => {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v\n        maxSV = new SemVer(max, options)\n      }\n    }\n  })\n  return max\n}\nmodule.exports = maxSatisfying\n","const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\nconst minSatisfying = (versions, range, options) => {\n  let min = null\n  let minSV = null\n  let rangeObj = null\n  try {\n    rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach((v) => {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v\n        minSV = new SemVer(min, options)\n      }\n    }\n  })\n  return min\n}\nmodule.exports = minSatisfying\n","const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\nconst gt = require('../functions/gt')\n\nconst minVersion = (range, loose) => {\n  range = new Range(range, loose)\n\n  let minver = new SemVer('0.0.0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null\n  for (let i = 0; i < range.set.length; ++i) {\n    const comparators = range.set[i]\n\n    let setMin = null\n    comparators.forEach((comparator) => {\n      // Clone to avoid manipulating the comparator's semver object.\n      const compver = new SemVer(comparator.semver.version)\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++\n          } else {\n            compver.prerelease.push(0)\n          }\n          compver.raw = compver.format()\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!setMin || gt(compver, setMin)) {\n            setMin = compver\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error(`Unexpected operation: ${comparator.operator}`)\n      }\n    })\n    if (setMin && (!minver || gt(minver, setMin))) {\n      minver = setMin\n    }\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\nmodule.exports = minVersion\n","const SemVer = require('../classes/semver')\nconst Comparator = require('../classes/comparator')\nconst { ANY } = Comparator\nconst Range = require('../classes/range')\nconst satisfies = require('../functions/satisfies')\nconst gt = require('../functions/gt')\nconst lt = require('../functions/lt')\nconst lte = require('../functions/lte')\nconst gte = require('../functions/gte')\n\nconst outside = (version, range, hilo, options) => {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  let gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisfies the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (let i = 0; i < range.set.length; ++i) {\n    const comparators = range.set[i]\n\n    let high = null\n    let low = null\n\n    comparators.forEach((comparator) => {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nmodule.exports = outside\n","// given a set of versions and a range, create a \"simplified\" range\n// that includes the same versions that the original range does\n// If the original range is shorter than the simplified one, return that.\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\nmodule.exports = (versions, range, options) => {\n  const set = []\n  let first = null\n  let prev = null\n  const v = versions.sort((a, b) => compare(a, b, options))\n  for (const version of v) {\n    const included = satisfies(version, range, options)\n    if (included) {\n      prev = version\n      if (!first) {\n        first = version\n      }\n    } else {\n      if (prev) {\n        set.push([first, prev])\n      }\n      prev = null\n      first = null\n    }\n  }\n  if (first) {\n    set.push([first, null])\n  }\n\n  const ranges = []\n  for (const [min, max] of set) {\n    if (min === max) {\n      ranges.push(min)\n    } else if (!max && min === v[0]) {\n      ranges.push('*')\n    } else if (!max) {\n      ranges.push(`>=${min}`)\n    } else if (min === v[0]) {\n      ranges.push(`<=${max}`)\n    } else {\n      ranges.push(`${min} - ${max}`)\n    }\n  }\n  const simplified = ranges.join(' || ')\n  const original = typeof range.raw === 'string' ? range.raw : String(range)\n  return simplified.length < original.length ? simplified : range\n}\n","const Range = require('../classes/range.js')\nconst Comparator = require('../classes/comparator.js')\nconst { ANY } = Comparator\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\n\n// Complex range `r1 || r2 || ...` is a subset of `R1 || R2 || ...` iff:\n// - Every simple range `r1, r2, ...` is a null set, OR\n// - Every simple range `r1, r2, ...` which is not a null set is a subset of\n//   some `R1, R2, ...`\n//\n// Simple range `c1 c2 ...` is a subset of simple range `C1 C2 ...` iff:\n// - If c is only the ANY comparator\n//   - If C is only the ANY comparator, return true\n//   - Else if in prerelease mode, return false\n//   - else replace c with `[>=0.0.0]`\n// - If C is only the ANY comparator\n//   - if in prerelease mode, return true\n//   - else replace C with `[>=0.0.0]`\n// - Let EQ be the set of = comparators in c\n// - If EQ is more than one, return true (null set)\n// - Let GT be the highest > or >= comparator in c\n// - Let LT be the lowest < or <= comparator in c\n// - If GT and LT, and GT.semver > LT.semver, return true (null set)\n// - If any C is a = range, and GT or LT are set, return false\n// - If EQ\n//   - If GT, and EQ does not satisfy GT, return true (null set)\n//   - If LT, and EQ does not satisfy LT, return true (null set)\n//   - If EQ satisfies every C, return true\n//   - Else return false\n// - If GT\n//   - If GT.semver is lower than any > or >= comp in C, return false\n//   - If GT is >=, and GT.semver does not satisfy every C, return false\n//   - If GT.semver has a prerelease, and not in prerelease mode\n//     - If no C has a prerelease and the GT.semver tuple, return false\n// - If LT\n//   - If LT.semver is greater than any < or <= comp in C, return false\n//   - If LT is <=, and LT.semver does not satisfy every C, return false\n//   - If GT.semver has a prerelease, and not in prerelease mode\n//     - If no C has a prerelease and the LT.semver tuple, return false\n// - Else return true\n\nconst subset = (sub, dom, options = {}) => {\n  if (sub === dom) {\n    return true\n  }\n\n  sub = new Range(sub, options)\n  dom = new Range(dom, options)\n  let sawNonNull = false\n\n  OUTER: for (const simpleSub of sub.set) {\n    for (const simpleDom of dom.set) {\n      const isSub = simpleSubset(simpleSub, simpleDom, options)\n      sawNonNull = sawNonNull || isSub !== null\n      if (isSub) {\n        continue OUTER\n      }\n    }\n    // the null set is a subset of everything, but null simple ranges in\n    // a complex range should be ignored.  so if we saw a non-null range,\n    // then we know this isn't a subset, but if EVERY simple range was null,\n    // then it is a subset.\n    if (sawNonNull) {\n      return false\n    }\n  }\n  return true\n}\n\nconst minimumVersionWithPreRelease = [new Comparator('>=0.0.0-0')]\nconst minimumVersion = [new Comparator('>=0.0.0')]\n\nconst simpleSubset = (sub, dom, options) => {\n  if (sub === dom) {\n    return true\n  }\n\n  if (sub.length === 1 && sub[0].semver === ANY) {\n    if (dom.length === 1 && dom[0].semver === ANY) {\n      return true\n    } else if (options.includePrerelease) {\n      sub = minimumVersionWithPreRelease\n    } else {\n      sub = minimumVersion\n    }\n  }\n\n  if (dom.length === 1 && dom[0].semver === ANY) {\n    if (options.includePrerelease) {\n      return true\n    } else {\n      dom = minimumVersion\n    }\n  }\n\n  const eqSet = new Set()\n  let gt, lt\n  for (const c of sub) {\n    if (c.operator === '>' || c.operator === '>=') {\n      gt = higherGT(gt, c, options)\n    } else if (c.operator === '<' || c.operator === '<=') {\n      lt = lowerLT(lt, c, options)\n    } else {\n      eqSet.add(c.semver)\n    }\n  }\n\n  if (eqSet.size > 1) {\n    return null\n  }\n\n  let gtltComp\n  if (gt && lt) {\n    gtltComp = compare(gt.semver, lt.semver, options)\n    if (gtltComp > 0) {\n      return null\n    } else if (gtltComp === 0 && (gt.operator !== '>=' || lt.operator !== '<=')) {\n      return null\n    }\n  }\n\n  // will iterate one or zero times\n  for (const eq of eqSet) {\n    if (gt && !satisfies(eq, String(gt), options)) {\n      return null\n    }\n\n    if (lt && !satisfies(eq, String(lt), options)) {\n      return null\n    }\n\n    for (const c of dom) {\n      if (!satisfies(eq, String(c), options)) {\n        return false\n      }\n    }\n\n    return true\n  }\n\n  let higher, lower\n  let hasDomLT, hasDomGT\n  // if the subset has a prerelease, we need a comparator in the superset\n  // with the same tuple and a prerelease, or it's not a subset\n  let needDomLTPre = lt &&\n    !options.includePrerelease &&\n    lt.semver.prerelease.length ? lt.semver : false\n  let needDomGTPre = gt &&\n    !options.includePrerelease &&\n    gt.semver.prerelease.length ? gt.semver : false\n  // exception: <1.2.3-0 is the same as <1.2.3\n  if (needDomLTPre && needDomLTPre.prerelease.length === 1 &&\n      lt.operator === '<' && needDomLTPre.prerelease[0] === 0) {\n    needDomLTPre = false\n  }\n\n  for (const c of dom) {\n    hasDomGT = hasDomGT || c.operator === '>' || c.operator === '>='\n    hasDomLT = hasDomLT || c.operator === '<' || c.operator === '<='\n    if (gt) {\n      if (needDomGTPre) {\n        if (c.semver.prerelease && c.semver.prerelease.length &&\n            c.semver.major === needDomGTPre.major &&\n            c.semver.minor === needDomGTPre.minor &&\n            c.semver.patch === needDomGTPre.patch) {\n          needDomGTPre = false\n        }\n      }\n      if (c.operator === '>' || c.operator === '>=') {\n        higher = higherGT(gt, c, options)\n        if (higher === c && higher !== gt) {\n          return false\n        }\n      } else if (gt.operator === '>=' && !satisfies(gt.semver, String(c), options)) {\n        return false\n      }\n    }\n    if (lt) {\n      if (needDomLTPre) {\n        if (c.semver.prerelease && c.semver.prerelease.length &&\n            c.semver.major === needDomLTPre.major &&\n            c.semver.minor === needDomLTPre.minor &&\n            c.semver.patch === needDomLTPre.patch) {\n          needDomLTPre = false\n        }\n      }\n      if (c.operator === '<' || c.operator === '<=') {\n        lower = lowerLT(lt, c, options)\n        if (lower === c && lower !== lt) {\n          return false\n        }\n      } else if (lt.operator === '<=' && !satisfies(lt.semver, String(c), options)) {\n        return false\n      }\n    }\n    if (!c.operator && (lt || gt) && gtltComp !== 0) {\n      return false\n    }\n  }\n\n  // if there was a < or >, and nothing in the dom, then must be false\n  // UNLESS it was limited by another range in the other direction.\n  // Eg, >1.0.0 <1.0.1 is still a subset of <2.0.0\n  if (gt && hasDomLT && !lt && gtltComp !== 0) {\n    return false\n  }\n\n  if (lt && hasDomGT && !gt && gtltComp !== 0) {\n    return false\n  }\n\n  // we needed a prerelease range in a specific tuple, but didn't get one\n  // then this isn't a subset.  eg >=1.2.3-pre is not a subset of >=1.0.0,\n  // because it includes prereleases in the 1.2.3 tuple\n  if (needDomGTPre || needDomLTPre) {\n    return false\n  }\n\n  return true\n}\n\n// >=1.2.3 is lower than >1.2.3\nconst higherGT = (a, b, options) => {\n  if (!a) {\n    return b\n  }\n  const comp = compare(a.semver, b.semver, options)\n  return comp > 0 ? a\n    : comp < 0 ? b\n    : b.operator === '>' && a.operator === '>=' ? b\n    : a\n}\n\n// <=1.2.3 is higher than <1.2.3\nconst lowerLT = (a, b, options) => {\n  if (!a) {\n    return b\n  }\n  const comp = compare(a.semver, b.semver, options)\n  return comp < 0 ? a\n    : comp > 0 ? b\n    : b.operator === '<' && a.operator === '<=' ? b\n    : a\n}\n\nmodule.exports = subset\n","const Range = require('../classes/range')\n\n// Mostly just for testing and legacy API reasons\nconst toComparators = (range, options) =>\n  new Range(range, options).set\n    .map(comp => comp.map(c => c.value).join(' ').trim().split(' '))\n\nmodule.exports = toComparators\n","const Range = require('../classes/range')\nconst validRange = (range, options) => {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\nmodule.exports = validRange\n","import React from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { urlUtil, locationUtil } from '@grafana/data';\nimport { locationService, locationSearchToObject } from '@grafana/runtime';\n\nvar __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nfunction useAppQueryParams() {\n  const location = useLocation();\n  return locationSearchToObject(location.search || \"\");\n}\nfunction getUrlWithAppState(path, preserveParams) {\n  const paramsCopy = __spreadValues({}, locationService.getSearchObject());\n  if (preserveParams) {\n    for (const key of Object.keys(paramsCopy)) {\n      if (!preserveParams.includes(key)) {\n        delete paramsCopy[key];\n      }\n    }\n  }\n  return urlUtil.renderUrl(locationUtil.assureBaseUrl(path), paramsCopy);\n}\nfunction renderSceneComponentWithRouteProps(sceneObject, routeProps) {\n  return React.createElement(sceneObject.Component, { model: sceneObject, routeProps });\n}\n\nexport { getUrlWithAppState, renderSceneComponentWithRouteProps, useAppQueryParams };\n//# sourceMappingURL=utils.js.map\n","import { getPluginImportUtils } from '@grafana/runtime';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nconst runtimePanelPlugins = /* @__PURE__ */ new Map();\nfunction registerRuntimePanelPlugin({ pluginId, plugin }) {\n  if (runtimePanelPlugins.has(pluginId)) {\n    throw new Error(`A runtime panel plugin with id ${pluginId} has already been registered`);\n  }\n  plugin.meta = __spreadProps(__spreadValues({}, plugin.meta), {\n    id: pluginId,\n    name: pluginId,\n    module: \"runtime plugin\",\n    baseUrl: \"runtime plugin\",\n    info: {\n      author: {\n        name: \"Runtime plugin \" + pluginId\n      },\n      description: \"\",\n      links: [],\n      logos: {\n        large: \"\",\n        small: \"\"\n      },\n      screenshots: [],\n      updated: \"\",\n      version: \"\"\n    }\n  });\n  runtimePanelPlugins.set(pluginId, plugin);\n}\nfunction loadPanelPluginSync(pluginId) {\n  var _a;\n  const { getPanelPluginFromCache } = getPluginImportUtils();\n  return (_a = getPanelPluginFromCache(pluginId)) != null ? _a : runtimePanelPlugins.get(pluginId);\n}\n\nexport { loadPanelPluginSync, registerRuntimePanelPlugin, runtimePanelPlugins };\n//# sourceMappingURL=registerRuntimePanelPlugin.js.map\n","const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default {\n  randomUUID\n};","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]];\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return unsafeStringify(rnds);\n}\n\nexport default v4;","import React, { useState, useEffect } from 'react';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nfunction SceneComponentWrapperWithoutMemo(_a) {\n  var _b = _a, { model } = _b, otherProps = __objRest(_b, [\"model\"]);\n  var _a2;\n  const Component = (_a2 = model.constructor[\"Component\"]) != null ? _a2 : EmptyRenderer;\n  const [_, setValue] = useState(0);\n  useEffect(() => {\n    const unsub = model.activate();\n    setValue((prevState) => prevState + 1);\n    return unsub;\n  }, [model]);\n  if (!model.isActive) {\n    return null;\n  }\n  return /* @__PURE__ */ React.createElement(Component, __spreadProps(__spreadValues({}, otherProps), {\n    model\n  }));\n}\nconst SceneComponentWrapper = React.memo(SceneComponentWrapperWithoutMemo);\nfunction EmptyRenderer(_) {\n  return null;\n}\n\nexport { SceneComponentWrapper };\n//# sourceMappingURL=SceneComponentWrapper.js.map\n","import { BusEventWithPayload } from '@grafana/data';\n\nclass SceneObjectStateChangedEvent extends BusEventWithPayload {\n}\nSceneObjectStateChangedEvent.type = \"scene-object-state-change\";\nclass UserActionEvent extends BusEventWithPayload {\n}\nUserActionEvent.type = \"scene-object-user-action\";\n\nexport { SceneObjectStateChangedEvent, UserActionEvent };\n//# sourceMappingURL=events.js.map\n","var __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar _ref;\nclass SceneObjectRef {\n  constructor(ref) {\n    __privateAdd(this, _ref, void 0);\n    __privateSet(this, _ref, ref);\n  }\n  resolve() {\n    return __privateGet(this, _ref);\n  }\n}\n_ref = new WeakMap();\n\nexport { SceneObjectRef };\n//# sourceMappingURL=SceneObjectRef.js.map\n","import { useState, useEffect } from 'react';\nimport { Subscription } from 'rxjs';\nimport { v4 } from 'uuid';\nimport { EventBusSrv } from '@grafana/data';\nimport { SceneComponentWrapper } from './SceneComponentWrapper.js';\nimport { SceneObjectStateChangedEvent } from './events.js';\nimport { cloneSceneObject } from './sceneGraph/utils.js';\nimport { SceneObjectRef } from './SceneObjectRef.js';\n\nvar __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nclass SceneObjectBase {\n  constructor(state) {\n    this._isActive = false;\n    this._activationHandlers = [];\n    this._deactivationHandlers = /* @__PURE__ */ new Map();\n    this._subs = new Subscription();\n    this._refCount = 0;\n    if (!state.key) {\n      state.key = v4();\n    }\n    this._events = new EventBusSrv();\n    this._state = Object.freeze(state);\n    this._setParent(this._state);\n  }\n  get state() {\n    return this._state;\n  }\n  get isActive() {\n    return this._isActive;\n  }\n  get parent() {\n    return this._parent;\n  }\n  get variableDependency() {\n    return this._variableDependency;\n  }\n  get urlSync() {\n    return this._urlSync;\n  }\n  get Component() {\n    return SceneComponentWrapper;\n  }\n  _setParent(state) {\n    forEachChild(state, (child) => {\n      if (child._parent && child._parent !== this) {\n        console.warn(\n          \"SceneObject already has a parent set that is different from the new parent. You cannot share the same SceneObject instance in multiple scenes or in multiple different places of the same scene graph. Use SceneObject.clone() to duplicate a SceneObject or store a state key reference and use sceneGraph.findObject to locate it.\",\n          child,\n          this\n        );\n      }\n      child._parent = this;\n    });\n  }\n  subscribeToState(handler) {\n    return this._events.subscribe(SceneObjectStateChangedEvent, (event) => {\n      if (event.payload.changedObject === this) {\n        handler(event.payload.newState, event.payload.prevState);\n      }\n    });\n  }\n  subscribeToEvent(eventType, handler) {\n    return this._events.subscribe(eventType, handler);\n  }\n  setState(update) {\n    const prevState = this._state;\n    const newState = __spreadValues(__spreadValues({}, this._state), update);\n    this._state = Object.freeze(newState);\n    this._setParent(update);\n    this._handleActivationOfChangedStateProps(prevState, newState);\n    this.publishEvent(\n      new SceneObjectStateChangedEvent({\n        prevState,\n        newState,\n        partialUpdate: update,\n        changedObject: this\n      }),\n      true\n    );\n  }\n  _handleActivationOfChangedStateProps(prevState, newState) {\n    if (!this.isActive) {\n      return;\n    }\n    if (prevState.$behaviors !== newState.$behaviors) {\n      this._handleChangedBehaviors(prevState.$behaviors, newState.$behaviors);\n    }\n    if (prevState.$data !== newState.$data) {\n      this._handleChangedStateActivation(prevState.$data, newState.$data);\n    }\n    if (prevState.$variables !== newState.$variables) {\n      this._handleChangedStateActivation(prevState.$variables, newState.$variables);\n    }\n    if (prevState.$timeRange !== newState.$timeRange) {\n      this._handleChangedStateActivation(prevState.$timeRange, newState.$timeRange);\n    }\n  }\n  _handleChangedStateActivation(oldValue, newValue) {\n    if (oldValue) {\n      const deactivationHandler = this._deactivationHandlers.get(oldValue);\n      if (deactivationHandler) {\n        deactivationHandler();\n        this._deactivationHandlers.delete(oldValue);\n      }\n    }\n    if (newValue) {\n      this._deactivationHandlers.set(newValue, newValue.activate());\n    }\n  }\n  _handleChangedBehaviors(oldValue, newValue) {\n    if (oldValue) {\n      for (const oldBehavior of oldValue) {\n        if (!newValue || !newValue.includes(oldBehavior)) {\n          const deactivationHandler = this._deactivationHandlers.get(oldBehavior);\n          if (deactivationHandler) {\n            deactivationHandler();\n            this._deactivationHandlers.delete(oldBehavior);\n          }\n        }\n      }\n    }\n    if (newValue) {\n      for (const newBehavior of newValue) {\n        if (!oldValue || !oldValue.includes(newBehavior)) {\n          this._activateBehavior(newBehavior);\n        }\n      }\n    }\n  }\n  publishEvent(event, bubble) {\n    this._events.publish(event);\n    if (bubble && this.parent) {\n      this.parent.publishEvent(event, bubble);\n    }\n  }\n  getRoot() {\n    return !this._parent ? this : this._parent.getRoot();\n  }\n  _internalActivate() {\n    this._isActive = true;\n    const { $data, $variables, $timeRange, $behaviors } = this.state;\n    this._activationHandlers.forEach((handler) => {\n      const result = handler();\n      if (result) {\n        this._deactivationHandlers.set(result, result);\n      }\n    });\n    if ($timeRange && !$timeRange.isActive) {\n      this._deactivationHandlers.set($timeRange, $timeRange.activate());\n    }\n    if ($variables && !$variables.isActive) {\n      this._deactivationHandlers.set($variables, $variables.activate());\n    }\n    if ($data && !$data.isActive) {\n      this._deactivationHandlers.set($data, $data.activate());\n    }\n    if ($behaviors) {\n      for (const behavior of $behaviors) {\n        this._activateBehavior(behavior);\n      }\n    }\n  }\n  _activateBehavior(behavior) {\n    if (behavior instanceof SceneObjectBase) {\n      this._deactivationHandlers.set(behavior, behavior.activate());\n    } else if (typeof behavior === \"function\") {\n      const deactivate = behavior(this);\n      if (deactivate) {\n        this._deactivationHandlers.set(behavior, deactivate);\n      }\n    }\n  }\n  activate() {\n    if (!this.isActive) {\n      this._internalActivate();\n    }\n    this._refCount++;\n    let called = false;\n    return () => {\n      this._refCount--;\n      if (called) {\n        const msg = `SceneObject cancelation handler returned by activate() called a second time`;\n        throw new Error(msg);\n      }\n      called = true;\n      if (this._refCount === 0) {\n        this._internalDeactivate();\n      }\n    };\n  }\n  _internalDeactivate() {\n    this._isActive = false;\n    for (let handler of this._deactivationHandlers.values()) {\n      handler();\n    }\n    this._deactivationHandlers.clear();\n    this._events.removeAllListeners();\n    this._subs.unsubscribe();\n    this._subs = new Subscription();\n  }\n  useState() {\n    return useSceneObjectState(this);\n  }\n  forceRender() {\n    this.setState({});\n  }\n  clone(withState) {\n    return cloneSceneObject(this, withState);\n  }\n  addActivationHandler(handler) {\n    this._activationHandlers.push(handler);\n  }\n  forEachChild(callback) {\n    forEachChild(this.state, callback);\n  }\n  getRef() {\n    if (!this._ref) {\n      this._ref = new SceneObjectRef(this);\n    }\n    return this._ref;\n  }\n}\nfunction useSceneObjectState(model, options) {\n  var _a;\n  const [_, setState] = useState(model.state);\n  const stateAtFirstRender = model.state;\n  const shouldActivateOrKeepAlive = (_a = options == null ? void 0 : options.shouldActivateOrKeepAlive) != null ? _a : false;\n  useEffect(() => {\n    let unactivate;\n    if (shouldActivateOrKeepAlive) {\n      unactivate = model.activate();\n    }\n    const s = model.subscribeToState((state) => {\n      setState(state);\n    });\n    if (model.state !== stateAtFirstRender) {\n      setState(model.state);\n    }\n    return () => {\n      s.unsubscribe();\n      if (unactivate) {\n        unactivate();\n      }\n    };\n  }, [model, shouldActivateOrKeepAlive]);\n  return model.state;\n}\nfunction forEachChild(state, callback) {\n  for (const propValue of Object.values(state)) {\n    if (propValue instanceof SceneObjectBase) {\n      callback(propValue);\n    }\n    if (Array.isArray(propValue)) {\n      for (const child of propValue) {\n        if (child instanceof SceneObjectBase) {\n          callback(child);\n        }\n      }\n    }\n  }\n}\n\nexport { SceneObjectBase, useSceneObjectState };\n//# sourceMappingURL=SceneObjectBase.js.map\n","import { SceneObjectBase } from '../SceneObjectBase.js';\nimport { SceneObjectRef } from '../SceneObjectRef.js';\n\nvar __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nfunction cloneSceneObject(sceneObject, withState) {\n  const clonedState = cloneSceneObjectState(sceneObject.state, withState);\n  return new sceneObject.constructor(clonedState);\n}\nfunction cloneSceneObjectState(sceneState, withState) {\n  const clonedState = __spreadValues({}, sceneState);\n  for (const key in clonedState) {\n    const propValue = clonedState[key];\n    if (propValue instanceof SceneObjectBase) {\n      clonedState[key] = propValue.clone();\n    }\n    if (propValue instanceof SceneObjectRef) {\n      throw new Error(\"Cannot clone a SceneObject with a SceneObjectRef in state\");\n    }\n    if (Array.isArray(propValue)) {\n      const newArray = [];\n      for (const child of propValue) {\n        if (child instanceof SceneObjectBase) {\n          newArray.push(child.clone());\n        } else {\n          newArray.push(child);\n        }\n      }\n      clonedState[key] = newArray;\n    }\n  }\n  Object.assign(clonedState, withState);\n  return clonedState;\n}\nfunction getClosest(sceneObject, extract) {\n  let curSceneObject = sceneObject;\n  let extracted = void 0;\n  while (curSceneObject && !extracted) {\n    extracted = extract(curSceneObject);\n    curSceneObject = curSceneObject.parent;\n  }\n  return extracted;\n}\n\nexport { cloneSceneObject, cloneSceneObjectState, getClosest };\n//# sourceMappingURL=utils.js.map\n","import { DataSourceApi, PluginType } from '@grafana/data';\n\nclass RuntimeDataSource extends DataSourceApi {\n  constructor(pluginId, uid) {\n    super({\n      name: \"RuntimeDataSource-\" + pluginId,\n      uid,\n      type: pluginId,\n      id: 1,\n      readOnly: true,\n      jsonData: {},\n      access: \"direct\",\n      meta: {\n        id: pluginId,\n        name: \"RuntimeDataSource-\" + pluginId,\n        type: PluginType.datasource,\n        info: {\n          author: {\n            name: \"\"\n          },\n          description: \"\",\n          links: [],\n          logos: {\n            large: \"\",\n            small: \"\"\n          },\n          screenshots: [],\n          updated: \"\",\n          version: \"\"\n        },\n        module: \"\",\n        baseUrl: \"\"\n      }\n    });\n  }\n  testDatasource() {\n    return Promise.resolve({});\n  }\n}\nconst runtimeDataSources = /* @__PURE__ */ new Map();\nfunction registerRuntimeDataSource({ dataSource }) {\n  if (runtimeDataSources.has(dataSource.uid)) {\n    throw new Error(`A runtime data source with uid ${dataSource.uid} has already been registered`);\n  }\n  runtimeDataSources.set(dataSource.uid, dataSource);\n}\n\nexport { RuntimeDataSource, registerRuntimeDataSource, runtimeDataSources };\n//# sourceMappingURL=RuntimeDataSource.js.map\n","class UniqueUrlKeyMapper {\n  constructor() {\n    this.index = /* @__PURE__ */ new Map();\n  }\n  getUniqueKey(key, obj) {\n    const objectsWithKey = this.index.get(key);\n    if (!objectsWithKey) {\n      throw new Error(\"Cannot find any scene object that uses the key '\" + key + \"'\");\n    }\n    const address = objectsWithKey.findIndex((o) => o.sceneObject === obj);\n    if (address > 0) {\n      return `${key}-${address + 1}`;\n    }\n    return key;\n  }\n  rebuildIndex(root) {\n    this.index.clear();\n    this.buildIndex(root, 0);\n  }\n  buildIndex(sceneObject, depth) {\n    if (sceneObject.urlSync) {\n      for (const key of sceneObject.urlSync.getKeys()) {\n        const hit = this.index.get(key);\n        if (hit) {\n          hit.push({ sceneObject, depth });\n          hit.sort((a, b) => a.depth - b.depth);\n        } else {\n          this.index.set(key, [{ sceneObject, depth }]);\n        }\n      }\n    }\n    sceneObject.forEachChild((child) => this.buildIndex(child, depth + 1));\n  }\n}\n\nexport { UniqueUrlKeyMapper };\n//# sourceMappingURL=UniqueUrlKeyMapper.js.map\n","import { isEqual } from 'lodash';\nimport { UniqueUrlKeyMapper } from './UniqueUrlKeyMapper.js';\n\nfunction getUrlState(root) {\n  const urlKeyMapper = new UniqueUrlKeyMapper();\n  urlKeyMapper.rebuildIndex(root);\n  const result = {};\n  const visitNode = (obj) => {\n    if (obj.urlSync) {\n      const newUrlState = obj.urlSync.getUrlState();\n      for (const [key, value] of Object.entries(newUrlState)) {\n        if (value != null) {\n          const uniqueKey = urlKeyMapper.getUniqueKey(key, obj);\n          result[uniqueKey] = value;\n        }\n      }\n    }\n    obj.forEachChild(visitNode);\n  };\n  visitNode(root);\n  return result;\n}\nfunction syncStateFromSearchParams(root, urlParams) {\n  const urlKeyMapper = new UniqueUrlKeyMapper();\n  urlKeyMapper.rebuildIndex(root);\n  syncStateFromUrl(root, urlParams, urlKeyMapper);\n}\nfunction syncStateFromUrl(sceneObject, urlParams, urlKeyMapper) {\n  if (sceneObject.urlSync) {\n    const urlState = {};\n    const currentState = sceneObject.urlSync.getUrlState();\n    for (const key of sceneObject.urlSync.getKeys()) {\n      const uniqueKey = urlKeyMapper.getUniqueKey(key, sceneObject);\n      const newValue = urlParams.getAll(uniqueKey);\n      const currentValue = currentState[key];\n      if (isUrlValueEqual(newValue, currentValue)) {\n        continue;\n      }\n      if (newValue.length > 0) {\n        if (Array.isArray(currentValue)) {\n          urlState[key] = newValue;\n        } else {\n          urlState[key] = newValue[0];\n        }\n      } else {\n        urlState[key] = null;\n      }\n    }\n    if (Object.keys(urlState).length > 0) {\n      sceneObject.urlSync.updateFromUrl(urlState);\n    }\n  }\n  sceneObject.forEachChild((child) => syncStateFromUrl(child, urlParams, urlKeyMapper));\n}\nfunction isUrlValueEqual(currentUrlValue, newUrlValue) {\n  if (currentUrlValue.length === 0 && newUrlValue == null) {\n    return true;\n  }\n  if (!Array.isArray(newUrlValue) && (currentUrlValue == null ? void 0 : currentUrlValue.length) === 1) {\n    return newUrlValue === currentUrlValue[0];\n  }\n  if ((newUrlValue == null ? void 0 : newUrlValue.length) === 0 && currentUrlValue === null) {\n    return true;\n  }\n  return isEqual(currentUrlValue, newUrlValue);\n}\n\nexport { getUrlState, isUrlValueEqual, syncStateFromSearchParams, syncStateFromUrl };\n//# sourceMappingURL=utils.js.map\n","import { TableCellDisplayMode } from '../common/common.gen.mjs';\nexport { AxisColorMode, AxisPlacement, BarAlignment, BarGaugeDisplayMode, BarGaugeNamePlacement, BarGaugeSizing, BarGaugeValueMode, BigValueColorMode, BigValueGraphMode, BigValueJustifyMode, BigValueTextMode, ComparisonOperation, DataTopic, FrameGeometrySourceMode, GraphDrawStyle, GraphGradientMode, GraphThresholdsStyleMode, GraphTransform, HeatmapCalculationMode, HeatmapCellLayout, LegendDisplayMode, LineInterpolation, LogsDedupStrategy, LogsSortOrder, PercentChangeColorMode, ResourceDimensionMode, ScalarDimensionMode, ScaleDimensionMode, ScaleDirection, ScaleDistribution, ScaleOrientation, SortOrder, StackingMode, TableCellBackgroundDisplayMode, TableCellHeight, TextDimensionMode, TooltipDisplayMode, VariableFormatID, VisibilityMode, VizOrientation, defaultLineStyle, defaultOptionsWithTimezones, defaultReduceDataOptions, defaultTableFooterOptions, defaultTimeZone, defaultVizLegendOptions } from '../common/common.gen.mjs';\n\nconst defaultTableFieldOptions = {\n  align: \"auto\",\n  inspect: false,\n  wrapHeaderText: false,\n  cellOptions: {\n    type: TableCellDisplayMode.Auto\n  }\n};\nvar LoadingState = /* @__PURE__ */ ((LoadingState2) => {\n  LoadingState2[\"NotStarted\"] = \"NotStarted\";\n  LoadingState2[\"Loading\"] = \"Loading\";\n  LoadingState2[\"Streaming\"] = \"Streaming\";\n  LoadingState2[\"Done\"] = \"Done\";\n  LoadingState2[\"Error\"] = \"Error\";\n  return LoadingState2;\n})(LoadingState || {});\n\nexport { LoadingState, TableCellDisplayMode, defaultTableFieldOptions };\n//# sourceMappingURL=common.types.mjs.map\n","import { getDefaultTimeRange } from '@grafana/data';\nimport { LoadingState } from '@grafana/schema';\nimport { of } from 'rxjs';\nimport { SceneObjectBase } from './SceneObjectBase.js';\n\nvar __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nclass SceneDataNode extends SceneObjectBase {\n  constructor(state) {\n    super(__spreadValues({\n      data: emptyPanelData\n    }, state));\n  }\n  getResultsStream() {\n    const result = {\n      origin: this,\n      data: this.state.data\n    };\n    return of(result);\n  }\n}\nconst emptyPanelData = {\n  state: LoadingState.Done,\n  series: [],\n  timeRange: getDefaultTimeRange()\n};\n\nexport { SceneDataNode, emptyPanelData };\n//# sourceMappingURL=SceneDataNode.js.map\n","class SceneObjectUrlSyncConfig {\n  constructor(_sceneObject, _options) {\n    this._sceneObject = _sceneObject;\n    this._keys = _options.keys;\n  }\n  getKeys() {\n    if (typeof this._keys === \"function\") {\n      return this._keys();\n    }\n    return this._keys;\n  }\n  getUrlState() {\n    return this._sceneObject.getUrlState();\n  }\n  updateFromUrl(values) {\n    this._sceneObject.updateFromUrl(values);\n  }\n}\n\nexport { SceneObjectUrlSyncConfig };\n//# sourceMappingURL=SceneObjectUrlSyncConfig.js.map\n","import { toUtc } from '@grafana/data';\n\nconst INTERVAL_STRING_REGEX = /^\\d+[yYmMsSwWhHdD]$/;\nfunction parseUrlParam(value) {\n  if (typeof value !== \"string\") {\n    return null;\n  }\n  if (value.indexOf(\"now\") !== -1) {\n    return value;\n  }\n  if (INTERVAL_STRING_REGEX.test(value)) {\n    return value;\n  }\n  if (value.length === 8) {\n    const utcValue = toUtc(value, \"YYYYMMDD\");\n    if (utcValue.isValid()) {\n      return utcValue.toISOString();\n    }\n  } else if (value.length === 15) {\n    const utcValue = toUtc(value, \"YYYYMMDDTHHmmss\");\n    if (utcValue.isValid()) {\n      return utcValue.toISOString();\n    }\n  } else if (value.length === 24) {\n    const utcValue = toUtc(value);\n    return utcValue.toISOString();\n  }\n  const epoch = parseInt(value, 10);\n  if (!isNaN(epoch)) {\n    return toUtc(epoch).toISOString();\n  }\n  return null;\n}\n\nexport { parseUrlParam };\n//# sourceMappingURL=parseUrlParam.js.map\n","import { dateMath } from '@grafana/data';\n\nfunction evaluateTimeRange(from, to, timeZone, fiscalYearStartMonth, delay) {\n  const hasDelay = delay && to === \"now\";\n  return {\n    from: dateMath.parse(from, false, timeZone, fiscalYearStartMonth),\n    to: dateMath.parse(hasDelay ? \"now-\" + delay : to, true, timeZone, fiscalYearStartMonth),\n    raw: {\n      from,\n      to\n    }\n  };\n}\n\nexport { evaluateTimeRange };\n//# sourceMappingURL=evaluateTimeRange.js.map\n","import { getTimeZone, setWeekStart } from '@grafana/data';\nimport { SceneObjectUrlSyncConfig } from '../services/SceneObjectUrlSyncConfig.js';\nimport { SceneObjectBase } from './SceneObjectBase.js';\nimport { getClosest } from './sceneGraph/utils.js';\nimport { parseUrlParam } from '../utils/parseUrlParam.js';\nimport { evaluateTimeRange } from '../utils/evaluateTimeRange.js';\nimport { config } from '@grafana/runtime';\n\nvar __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nclass SceneTimeRange extends SceneObjectBase {\n  constructor(state = {}) {\n    var _a, _b;\n    const from = (_a = state.from) != null ? _a : \"now-6h\";\n    const to = (_b = state.to) != null ? _b : \"now\";\n    const timeZone = state.timeZone;\n    const value = evaluateTimeRange(\n      from,\n      to,\n      timeZone || getTimeZone(),\n      state.fiscalYearStartMonth,\n      state.UNSAFE_nowDelay\n    );\n    super(__spreadValues({ from, to, timeZone, value }, state));\n    this._urlSync = new SceneObjectUrlSyncConfig(this, { keys: [\"from\", \"to\", \"timezone\"] });\n    this.onTimeRangeChange = (timeRange) => {\n      const update = {};\n      const updateToEval = {};\n      if (typeof timeRange.raw.from === \"string\") {\n        update.from = timeRange.raw.from;\n        updateToEval.from = timeRange.raw.from;\n      } else {\n        update.from = timeRange.raw.from.toISOString();\n        updateToEval.from = timeRange.raw.from.toISOString(true);\n      }\n      if (typeof timeRange.raw.to === \"string\") {\n        update.to = timeRange.raw.to;\n        updateToEval.to = timeRange.raw.to;\n      } else {\n        update.to = timeRange.raw.to.toISOString();\n        updateToEval.to = timeRange.raw.to.toISOString(true);\n      }\n      update.value = evaluateTimeRange(\n        updateToEval.from,\n        updateToEval.to,\n        this.getTimeZone(),\n        this.state.fiscalYearStartMonth,\n        this.state.UNSAFE_nowDelay\n      );\n      if (update.from !== this.state.from || update.to !== this.state.to) {\n        this.setState(update);\n      }\n    };\n    this.onTimeZoneChange = (timeZone) => {\n      this.setState({ timeZone });\n    };\n    this.onRefresh = () => {\n      this.setState({\n        value: evaluateTimeRange(\n          this.state.from,\n          this.state.to,\n          this.getTimeZone(),\n          this.state.fiscalYearStartMonth,\n          this.state.UNSAFE_nowDelay\n        )\n      });\n    };\n    this.addActivationHandler(this._onActivate.bind(this));\n  }\n  _onActivate() {\n    if (!this.state.timeZone) {\n      const timeZoneSource = this.getTimeZoneSource();\n      if (timeZoneSource !== this) {\n        this._subs.add(\n          timeZoneSource.subscribeToState((n, p) => {\n            if (n.timeZone !== void 0 && n.timeZone !== p.timeZone) {\n              this.setState({\n                value: evaluateTimeRange(\n                  this.state.from,\n                  this.state.to,\n                  timeZoneSource.getTimeZone(),\n                  this.state.fiscalYearStartMonth,\n                  this.state.UNSAFE_nowDelay\n                )\n              });\n            }\n          })\n        );\n      }\n    }\n    if (this.state.weekStart) {\n      setWeekStart(this.state.weekStart);\n    }\n    return () => {\n      if (this.state.weekStart) {\n        setWeekStart(config.bootData.user.weekStart);\n      }\n    };\n  }\n  getTimeZoneSource() {\n    if (!this.parent || !this.parent.parent) {\n      return this;\n    }\n    const source = getClosest(this.parent.parent, (o) => {\n      if (o.state.$timeRange && o.state.$timeRange.state.timeZone) {\n        return o.state.$timeRange;\n      }\n      return void 0;\n    });\n    if (!source) {\n      return this;\n    }\n    return source;\n  }\n  getTimeZone() {\n    if (this.state.timeZone) {\n      return this.state.timeZone;\n    }\n    const timeZoneSource = this.getTimeZoneSource();\n    if (timeZoneSource !== this) {\n      return timeZoneSource.state.timeZone;\n    }\n    return getTimeZone();\n  }\n  getUrlState() {\n    const urlValues = { from: this.state.from, to: this.state.to };\n    if (this.state.timeZone) {\n      urlValues.timezone = this.state.timeZone;\n    }\n    return urlValues;\n  }\n  updateFromUrl(values) {\n    var _a, _b, _c;\n    if (!values.to && !values.from) {\n      return;\n    }\n    const update = {};\n    const from = parseUrlParam(values.from);\n    if (from) {\n      update.from = from;\n    }\n    const to = parseUrlParam(values.to);\n    if (to) {\n      update.to = to;\n    }\n    if (typeof values.timezone === \"string\") {\n      update.timeZone = values.timezone !== \"\" ? values.timezone : void 0;\n    }\n    update.value = evaluateTimeRange(\n      (_a = update.from) != null ? _a : this.state.from,\n      (_b = update.to) != null ? _b : this.state.to,\n      (_c = update.timeZone) != null ? _c : this.getTimeZone(),\n      this.state.fiscalYearStartMonth,\n      this.state.UNSAFE_nowDelay\n    );\n    this.setState(update);\n  }\n}\n\nexport { SceneTimeRange };\n//# sourceMappingURL=SceneTimeRange.js.map\n","import { SceneDataNode } from '../../core/SceneDataNode.js';\nimport { SceneObjectBase } from '../../core/SceneObjectBase.js';\nimport { SceneTimeRange } from '../../core/SceneTimeRange.js';\n\nconst EmptyDataNode = new SceneDataNode();\nconst DefaultTimeRange = new SceneTimeRange();\nclass EmptyVariableSetImpl extends SceneObjectBase {\n  constructor() {\n    super({ variables: [] });\n  }\n  getByName(name) {\n    return void 0;\n  }\n  isVariableLoadingOrWaitingToUpdate(variable) {\n    return false;\n  }\n}\nconst EmptyVariableSet = new EmptyVariableSetImpl();\n\nexport { DefaultTimeRange, EmptyDataNode, EmptyVariableSet, EmptyVariableSetImpl };\n//# sourceMappingURL=defaults.js.map\n","import { DefaultTimeRange } from '../../variables/interpolation/defaults.js';\nimport { getClosest } from './utils.js';\n\nfunction getTimeRange(sceneObject) {\n  var _a;\n  return (_a = getClosest(sceneObject, (s) => s.state.$timeRange)) != null ? _a : DefaultTimeRange;\n}\n\nexport { getTimeRange };\n//# sourceMappingURL=getTimeRange.js.map\n","import { BusEventWithPayload } from '@grafana/data';\n\nclass SceneVariableValueChangedEvent extends BusEventWithPayload {\n}\nSceneVariableValueChangedEvent.type = \"scene-variable-changed-value\";\nfunction isCustomVariableValue(value) {\n  return typeof value === \"object\" && \"formatter\" in value;\n}\n\nexport { SceneVariableValueChangedEvent, isCustomVariableValue };\n//# sourceMappingURL=types.js.map\n","import { property } from 'lodash';\n\nlet fieldAccessorCache = {};\nfunction getFieldAccessor(fieldPath) {\n  const accessor = fieldAccessorCache[fieldPath];\n  if (accessor) {\n    return accessor;\n  }\n  return fieldAccessorCache[fieldPath] = property(fieldPath);\n}\n\nexport { getFieldAccessor };\n//# sourceMappingURL=fieldAccessorCache.js.map\n","import { getFieldAccessor } from './fieldAccessorCache.js';\n\nclass ScopedVarsVariable {\n  constructor(name, value) {\n    this.state = { name, value, type: \"scopedvar\" };\n  }\n  getValue(fieldPath) {\n    let { value } = this.state;\n    let realValue = value.value;\n    if (fieldPath) {\n      realValue = getFieldAccessor(fieldPath)(value.value);\n    } else {\n      realValue = value.value;\n    }\n    if (realValue === \"string\" || realValue === \"number\" || realValue === \"boolean\") {\n      return realValue;\n    }\n    return String(realValue);\n  }\n  getValueText() {\n    const { value } = this.state;\n    if (value.text != null) {\n      return String(value.text);\n    }\n    return String(value);\n  }\n}\nlet scopedVarsVariable;\nfunction getSceneVariableForScopedVar(name, value) {\n  if (!scopedVarsVariable) {\n    scopedVarsVariable = new ScopedVarsVariable(name, value);\n  } else {\n    scopedVarsVariable.state.name = name;\n    scopedVarsVariable.state.value = value;\n  }\n  return scopedVarsVariable;\n}\n\nexport { ScopedVarsVariable, getSceneVariableForScopedVar };\n//# sourceMappingURL=ScopedVarsVariable.js.map\n","import { map, isArray, replace } from 'lodash';\nimport { Registry, escapeRegex, textUtil, dateTime } from '@grafana/data';\nimport { VariableFormatID } from '@grafana/schema';\n\nconst formatRegistry = new Registry(() => {\n  const formats = [\n    {\n      id: VariableFormatID.Lucene,\n      name: \"Lucene\",\n      description: \"Values are lucene escaped and multi-valued variables generate an OR expression\",\n      formatter: (value) => {\n        if (typeof value === \"string\") {\n          return luceneEscape(value);\n        }\n        if (Array.isArray(value)) {\n          if (value.length === 0) {\n            return \"__empty__\";\n          }\n          const quotedValues = map(value, (val) => {\n            return '\"' + luceneEscape(val) + '\"';\n          });\n          return \"(\" + quotedValues.join(\" OR \") + \")\";\n        } else {\n          return luceneEscape(`${value}`);\n        }\n      }\n    },\n    {\n      id: VariableFormatID.Raw,\n      name: \"raw\",\n      description: \"Keep value as is\",\n      formatter: (value) => String(value)\n    },\n    {\n      id: VariableFormatID.Regex,\n      name: \"Regex\",\n      description: \"Values are regex escaped and multi-valued variables generate a (<value>|<value>) expression\",\n      formatter: (value) => {\n        if (typeof value === \"string\") {\n          return escapeRegex(value);\n        }\n        if (Array.isArray(value)) {\n          const escapedValues = value.map((item) => {\n            if (typeof item === \"string\") {\n              return escapeRegex(item);\n            } else {\n              return escapeRegex(String(item));\n            }\n          });\n          if (escapedValues.length === 1) {\n            return escapedValues[0];\n          }\n          return \"(\" + escapedValues.join(\"|\") + \")\";\n        }\n        return escapeRegex(`${value}`);\n      }\n    },\n    {\n      id: VariableFormatID.Pipe,\n      name: \"Pipe\",\n      description: \"Values are separated by | character\",\n      formatter: (value) => {\n        if (typeof value === \"string\") {\n          return value;\n        }\n        if (Array.isArray(value)) {\n          return value.join(\"|\");\n        }\n        return `${value}`;\n      }\n    },\n    {\n      id: VariableFormatID.Distributed,\n      name: \"Distributed\",\n      description: \"Multiple values are formatted like variable=value\",\n      formatter: (value, args, variable) => {\n        if (typeof value === \"string\") {\n          return value;\n        }\n        if (Array.isArray(value)) {\n          value = map(value, (val, index) => {\n            if (index !== 0) {\n              return variable.state.name + \"=\" + val;\n            } else {\n              return val;\n            }\n          });\n          return value.join(\",\");\n        }\n        return `${value}`;\n      }\n    },\n    {\n      id: VariableFormatID.CSV,\n      name: \"Csv\",\n      description: \"Comma-separated values\",\n      formatter: (value) => {\n        if (typeof value === \"string\") {\n          return value;\n        }\n        if (isArray(value)) {\n          return value.join(\",\");\n        }\n        return String(value);\n      }\n    },\n    {\n      id: VariableFormatID.HTML,\n      name: \"HTML\",\n      description: \"HTML escaping of values\",\n      formatter: (value) => {\n        if (typeof value === \"string\") {\n          return textUtil.escapeHtml(value);\n        }\n        if (isArray(value)) {\n          return textUtil.escapeHtml(value.join(\", \"));\n        }\n        return textUtil.escapeHtml(String(value));\n      }\n    },\n    {\n      id: VariableFormatID.JSON,\n      name: \"JSON\",\n      description: \"JSON stringify value\",\n      formatter: (value) => {\n        if (typeof value === \"string\") {\n          return value;\n        }\n        return JSON.stringify(value);\n      }\n    },\n    {\n      id: VariableFormatID.PercentEncode,\n      name: \"Percent encode\",\n      description: \"Useful for URL escaping values\",\n      formatter: (value) => {\n        if (isArray(value)) {\n          return encodeURIComponentStrict(\"{\" + value.join(\",\") + \"}\");\n        }\n        return encodeURIComponentStrict(value);\n      }\n    },\n    {\n      id: VariableFormatID.SingleQuote,\n      name: \"Single quote\",\n      description: \"Single quoted values\",\n      formatter: (value) => {\n        const regExp = new RegExp(`'`, \"g\");\n        if (isArray(value)) {\n          return map(value, (v) => `'${replace(v, regExp, `\\\\'`)}'`).join(\",\");\n        }\n        let strVal = typeof value === \"string\" ? value : String(value);\n        return `'${replace(strVal, regExp, `\\\\'`)}'`;\n      }\n    },\n    {\n      id: VariableFormatID.DoubleQuote,\n      name: \"Double quote\",\n      description: \"Double quoted values\",\n      formatter: (value) => {\n        const regExp = new RegExp('\"', \"g\");\n        if (isArray(value)) {\n          return map(value, (v) => `\"${replace(v, regExp, '\\\\\"')}\"`).join(\",\");\n        }\n        let strVal = typeof value === \"string\" ? value : String(value);\n        return `\"${replace(strVal, regExp, '\\\\\"')}\"`;\n      }\n    },\n    {\n      id: VariableFormatID.SQLString,\n      name: \"SQL string\",\n      description: \"SQL string quoting and commas for use in IN statements and other scenarios\",\n      formatter: sqlStringFormatter\n    },\n    {\n      id: VariableFormatID.Date,\n      name: \"Date\",\n      description: \"Format date in different ways\",\n      formatter: (value, args) => {\n        var _a;\n        let nrValue = NaN;\n        if (typeof value === \"number\") {\n          nrValue = value;\n        } else if (typeof value === \"string\") {\n          nrValue = parseInt(value, 10);\n        }\n        if (isNaN(nrValue)) {\n          return \"NaN\";\n        }\n        const arg = (_a = args[0]) != null ? _a : \"iso\";\n        switch (arg) {\n          case \"ms\":\n            return String(value);\n          case \"seconds\":\n            return `${Math.round(nrValue / 1e3)}`;\n          case \"iso\":\n            return dateTime(nrValue).toISOString();\n          default:\n            if ((args || []).length > 1) {\n              return dateTime(nrValue).format(args.join(\":\"));\n            }\n            return dateTime(nrValue).format(arg);\n        }\n      }\n    },\n    {\n      id: VariableFormatID.Glob,\n      name: \"Glob\",\n      description: \"Format multi-valued variables using glob syntax, example {value1,value2}\",\n      formatter: (value) => {\n        if (isArray(value) && value.length > 1) {\n          return \"{\" + value.join(\",\") + \"}\";\n        }\n        return String(value);\n      }\n    },\n    {\n      id: VariableFormatID.Text,\n      name: \"Text\",\n      description: \"Format variables in their text representation. Example in multi-variable scenario A + B + C.\",\n      formatter: (value, _args, variable) => {\n        if (variable.getValueText) {\n          return variable.getValueText();\n        }\n        return String(value);\n      }\n    },\n    {\n      id: VariableFormatID.QueryParam,\n      name: \"Query parameter\",\n      description: \"Format variables as URL parameters. Example in multi-variable scenario A + B + C => var-foo=A&var-foo=B&var-foo=C.\",\n      formatter: (value, _args, variable) => {\n        if (Array.isArray(value)) {\n          return value.map((v) => formatQueryParameter(variable.state.name, v)).join(\"&\");\n        }\n        return formatQueryParameter(variable.state.name, value);\n      }\n    },\n    {\n      id: VariableFormatID.UriEncode,\n      name: \"Percent encode as URI\",\n      description: \"Useful for URL escaping values, taking into URI syntax characters\",\n      formatter: (value) => {\n        if (isArray(value)) {\n          return encodeURIStrict(\"{\" + value.join(\",\") + \"}\");\n        }\n        return encodeURIStrict(value);\n      }\n    }\n  ];\n  return formats;\n});\nfunction luceneEscape(value) {\n  if (isNaN(+value) === false) {\n    return value;\n  }\n  return value.replace(/([\\!\\*\\+\\-\\=<>\\s\\&\\|\\(\\)\\[\\]\\{\\}\\^\\~\\?\\:\\\\/\"])/g, \"\\\\$1\");\n}\nfunction encodeURIComponentStrict(str) {\n  if (typeof str === \"object\") {\n    str = String(str);\n  }\n  return replaceSpecialCharactersToASCII(encodeURIComponent(str));\n}\nconst encodeURIStrict = (str) => replaceSpecialCharactersToASCII(encodeURI(String(str)));\nconst replaceSpecialCharactersToASCII = (value) => value.replace(/[!'()*]/g, (c) => {\n  return \"%\" + c.charCodeAt(0).toString(16).toUpperCase();\n});\nfunction formatQueryParameter(name, value) {\n  return `var-${name}=${encodeURIComponentStrict(value)}`;\n}\nconst SQL_ESCAPE_MAP = {\n  \"'\": \"''\",\n  '\"': '\\\\\"'\n};\nfunction sqlStringFormatter(value) {\n  const regExp = new RegExp(`'|\"`, \"g\");\n  if (isArray(value)) {\n    return map(value, (v) => `'${replace(v, regExp, (match) => {\n      var _a;\n      return (_a = SQL_ESCAPE_MAP[match]) != null ? _a : \"\";\n    })}'`).join(\",\");\n  }\n  let strVal = typeof value === \"string\" ? value : String(value);\n  return `'${replace(strVal, regExp, (match) => {\n    var _a;\n    return (_a = SQL_ESCAPE_MAP[match]) != null ? _a : \"\";\n  })}'`;\n}\n\nexport { formatRegistry };\n//# sourceMappingURL=formatRegistry.js.map\n","const ALL_VARIABLE_TEXT = \"All\";\nconst ALL_VARIABLE_VALUE = \"$__all\";\nconst AUTO_VARIABLE_TEXT = \"Auto\";\nconst AUTO_VARIABLE_VALUE = \"$__auto\";\nconst VARIABLE_REGEX = /\\$(\\w+)|\\[\\[(\\w+?)(?::(\\w+))?\\]\\]|\\${(\\w+)(?:\\.([^:^\\}]+))?(?::([^\\}]+))?}/g;\nconst SEARCH_FILTER_VARIABLE = \"__searchFilter\";\n\nexport { ALL_VARIABLE_TEXT, ALL_VARIABLE_VALUE, AUTO_VARIABLE_TEXT, AUTO_VARIABLE_VALUE, SEARCH_FILTER_VARIABLE, VARIABLE_REGEX };\n//# sourceMappingURL=constants.js.map\n","function lookupVariable(name, sceneObject) {\n  const variables = sceneObject.state.$variables;\n  if (!variables) {\n    if (sceneObject.parent) {\n      return lookupVariable(name, sceneObject.parent);\n    } else {\n      return null;\n    }\n  }\n  const found = variables.getByName(name);\n  if (found) {\n    return found;\n  } else if (sceneObject.parent) {\n    return lookupVariable(name, sceneObject.parent);\n  }\n  return null;\n}\n\nexport { lookupVariable };\n//# sourceMappingURL=lookupVariable.js.map\n","import { VariableFormatID } from '@grafana/schema';\nimport { isCustomVariableValue } from '../types.js';\nimport { getSceneVariableForScopedVar } from './ScopedVarsVariable.js';\nimport { formatRegistry } from './formatRegistry.js';\nimport { VARIABLE_REGEX } from '../constants.js';\nimport { lookupVariable } from '../lookupVariable.js';\nimport { macrosIndex } from '../macros/index.js';\n\nfunction sceneInterpolator(sceneObject, target, scopedVars, format, interpolations) {\n  if (!target) {\n    return target != null ? target : \"\";\n  }\n  VARIABLE_REGEX.lastIndex = 0;\n  return target.replace(VARIABLE_REGEX, (match, var1, var2, fmt2, var3, fieldPath, fmt3) => {\n    const variableName = var1 || var2 || var3;\n    const fmt = fmt2 || fmt3 || format;\n    const variable = lookupFormatVariable(variableName, match, scopedVars, sceneObject);\n    if (!variable) {\n      if (interpolations) {\n        interpolations.push({ match, variableName, fieldPath, format: fmt, value: match, found: false });\n      }\n      return match;\n    }\n    const value = formatValue(sceneObject, variable, variable.getValue(fieldPath), fmt);\n    if (interpolations) {\n      interpolations.push({ match, variableName, fieldPath, format: fmt, value, found: value !== match });\n    }\n    return value;\n  });\n}\nfunction lookupFormatVariable(name, match, scopedVars, sceneObject) {\n  if (scopedVars && scopedVars.hasOwnProperty(name)) {\n    const scopedVar = scopedVars[name];\n    if (scopedVar) {\n      return getSceneVariableForScopedVar(name, scopedVar);\n    }\n  }\n  const variable = lookupVariable(name, sceneObject);\n  if (variable) {\n    return variable;\n  }\n  const Macro = macrosIndex.get(name);\n  if (Macro) {\n    return new Macro(name, sceneObject, match, scopedVars);\n  }\n  return null;\n}\nfunction formatValue(context, variable, value, formatNameOrFn) {\n  if (value === null || value === void 0) {\n    return \"\";\n  }\n  if (isCustomVariableValue(value)) {\n    return sceneInterpolator(context, value.formatter(formatNameOrFn));\n  }\n  if (!Array.isArray(value) && typeof value === \"object\") {\n    value = `${value}`;\n  }\n  if (typeof formatNameOrFn === \"function\") {\n    return formatNameOrFn(value, {\n      name: variable.state.name,\n      type: variable.state.type,\n      multi: variable.state.isMulti,\n      includeAll: variable.state.includeAll\n    });\n  }\n  let args = [];\n  if (!formatNameOrFn) {\n    formatNameOrFn = VariableFormatID.Glob;\n  } else {\n    args = formatNameOrFn.split(\":\");\n    if (args.length > 1) {\n      formatNameOrFn = args[0];\n      args = args.slice(1);\n    } else {\n      args = [];\n    }\n  }\n  let formatter = formatRegistry.getIfExists(formatNameOrFn);\n  if (!formatter) {\n    console.error(`Variable format ${formatNameOrFn} not found. Using glob format as fallback.`);\n    formatter = formatRegistry.get(VariableFormatID.Glob);\n  }\n  return formatter.formatter(value, args, variable);\n}\n\nexport { sceneInterpolator };\n//# sourceMappingURL=sceneInterpolator.js.map\n","function isSceneObject(obj) {\n  return obj.useState !== void 0;\n}\nfunction isDataRequestEnricher(obj) {\n  return \"enrichDataRequest\" in obj;\n}\nfunction isFiltersRequestEnricher(obj) {\n  return \"enrichFiltersRequest\" in obj;\n}\nfunction isDataLayer(obj) {\n  return \"isDataLayer\" in obj;\n}\n\nexport { isDataLayer, isDataRequestEnricher, isFiltersRequestEnricher, isSceneObject };\n//# sourceMappingURL=types.js.map\n","import { EmptyVariableSet, EmptyDataNode } from '../../variables/interpolation/defaults.js';\nimport { sceneInterpolator } from '../../variables/interpolation/sceneInterpolator.js';\nimport { isDataLayer } from '../types.js';\nimport { lookupVariable } from '../../variables/lookupVariable.js';\nimport { getClosest } from './utils.js';\nimport { isQueryController } from '../../behaviors/SceneQueryController.js';\n\nfunction getVariables(sceneObject) {\n  var _a;\n  return (_a = getClosest(sceneObject, (s) => s.state.$variables)) != null ? _a : EmptyVariableSet;\n}\nfunction getData(sceneObject) {\n  var _a;\n  return (_a = getClosest(sceneObject, (s) => s.state.$data)) != null ? _a : EmptyDataNode;\n}\nfunction isSceneLayout(s) {\n  return \"isDraggable\" in s;\n}\nfunction getLayout(scene) {\n  const parent = getClosest(scene, (s) => isSceneLayout(s) ? s : void 0);\n  if (parent) {\n    return parent;\n  }\n  return null;\n}\nfunction interpolate(sceneObject, value, scopedVars, format, interpolations) {\n  if (value === \"\" || value == null) {\n    return \"\";\n  }\n  return sceneInterpolator(sceneObject, value, scopedVars, format, interpolations);\n}\nfunction hasVariableDependencyInLoadingState(sceneObject) {\n  if (!sceneObject.variableDependency) {\n    return false;\n  }\n  for (const name of sceneObject.variableDependency.getNames()) {\n    const variable = lookupVariable(name, sceneObject);\n    if (!variable) {\n      continue;\n    }\n    const set = variable.parent;\n    if (set.isVariableLoadingOrWaitingToUpdate(variable)) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction findObjectInternal(scene, check, alreadySearchedChild, shouldSearchUp) {\n  if (check(scene)) {\n    return scene;\n  }\n  let found = null;\n  scene.forEachChild((child) => {\n    if (child === alreadySearchedChild) {\n      return;\n    }\n    let maybe = findObjectInternal(child, check);\n    if (maybe) {\n      found = maybe;\n    }\n  });\n  if (found) {\n    return found;\n  }\n  if (shouldSearchUp && scene.parent) {\n    return findObjectInternal(scene.parent, check, scene, true);\n  }\n  return null;\n}\nfunction findByKey(sceneObject, key) {\n  const found = findObject(sceneObject, (sceneToCheck) => {\n    return sceneToCheck.state.key === key;\n  });\n  if (!found) {\n    throw new Error(\"Unable to find scene with key \" + key);\n  }\n  return found;\n}\nfunction findByKeyAndType(sceneObject, key, targetType) {\n  const found = findObject(sceneObject, (sceneToCheck) => {\n    return sceneToCheck.state.key === key;\n  });\n  if (!found) {\n    throw new Error(\"Unable to find scene with key \" + key);\n  }\n  if (!(found instanceof targetType)) {\n    throw new Error(`Found scene object with key ${key} does not match type ${targetType.name}`);\n  }\n  return found;\n}\nfunction findObject(scene, check) {\n  return findObjectInternal(scene, check, void 0, true);\n}\nfunction findAllObjects(scene, check) {\n  const found = [];\n  scene.forEachChild((child) => {\n    if (check(child)) {\n      found.push(child);\n    }\n    found.push(...findAllObjects(child, check));\n  });\n  return found;\n}\nfunction getDataLayers(sceneObject, localOnly = false) {\n  let currentLevel = sceneObject;\n  let collected = [];\n  while (currentLevel) {\n    const dataProvider = currentLevel.state.$data;\n    if (!dataProvider) {\n      currentLevel = currentLevel.parent;\n      continue;\n    }\n    if (isDataLayer(dataProvider)) {\n      collected = collected.concat(dataProvider);\n    } else {\n      if (dataProvider.state.$data && isDataLayer(dataProvider.state.$data)) {\n        collected = collected.concat(dataProvider.state.$data);\n      }\n    }\n    if (localOnly && collected.length > 0) {\n      break;\n    }\n    currentLevel = currentLevel.parent;\n  }\n  return collected;\n}\nfunction getAncestor(sceneObject, ancestorType) {\n  let parent = sceneObject;\n  while (parent) {\n    if (parent instanceof ancestorType) {\n      return parent;\n    }\n    parent = parent.parent;\n  }\n  if (!parent) {\n    throw new Error(\"Unable to find parent of type \" + ancestorType.name);\n  }\n  return parent;\n}\nfunction getQueryController(sceneObject) {\n  let parent = sceneObject;\n  while (parent) {\n    if (parent.state.$behaviors) {\n      for (const behavior of parent.state.$behaviors) {\n        if (isQueryController(behavior)) {\n          return behavior;\n        }\n      }\n    }\n    parent = parent.parent;\n  }\n  return void 0;\n}\n\nexport { findAllObjects, findByKey, findByKeyAndType, findObject, getAncestor, getData, getDataLayers, getLayout, getQueryController, getVariables, hasVariableDependencyInLoadingState, interpolate };\n//# sourceMappingURL=sceneGraph.js.map\n","import { SceneObjectBase } from '../core/SceneObjectBase.js';\n\nvar __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar _running;\nfunction isQueryController(s) {\n  return \"isQueryController\" in s;\n}\nclass SceneQueryController extends SceneObjectBase {\n  constructor() {\n    super({ isRunning: false });\n    this.isQueryController = true;\n    __privateAdd(this, _running, /* @__PURE__ */ new Set());\n    this.addActivationHandler(() => {\n      return () => __privateGet(this, _running).clear();\n    });\n  }\n  queryStarted(entry) {\n    __privateGet(this, _running).add(entry);\n    this.changeRunningQueryCount(1);\n    if (!this.state.isRunning) {\n      this.setState({ isRunning: true });\n    }\n  }\n  queryCompleted(entry) {\n    if (!__privateGet(this, _running).has(entry)) {\n      return;\n    }\n    __privateGet(this, _running).delete(entry);\n    this.changeRunningQueryCount(-1);\n    if (__privateGet(this, _running).size === 0) {\n      this.setState({ isRunning: false });\n    }\n  }\n  changeRunningQueryCount(dir) {\n    var _a;\n    window.__grafanaRunningQueryCount = ((_a = window.__grafanaRunningQueryCount) != null ? _a : 0) + dir;\n  }\n  cancelAll() {\n    var _a;\n    for (const entry of __privateGet(this, _running).values()) {\n      (_a = entry.cancel) == null ? void 0 : _a.call(entry);\n    }\n  }\n}\n_running = new WeakMap();\n\nexport { SceneQueryController, isQueryController };\n//# sourceMappingURL=SceneQueryController.js.map\n","class SkipFormattingValue {\n  constructor(_value) {\n    this._value = _value;\n  }\n  formatter() {\n    return this._value;\n  }\n}\n\nexport { SkipFormattingValue };\n//# sourceMappingURL=types.js.map\n","import { urlUtil, dateTimeFormat } from '@grafana/data';\nimport { getTimeRange } from '../../core/sceneGraph/getTimeRange.js';\nimport { getData } from '../../core/sceneGraph/sceneGraph.js';\nimport { SkipFormattingValue } from './types.js';\n\nclass UrlTimeRangeMacro {\n  constructor(name, sceneObject) {\n    this.state = { name, type: \"url_variable\" };\n    this._sceneObject = sceneObject;\n  }\n  getValue() {\n    var _a;\n    const timeRange = getTimeRange(this._sceneObject);\n    const urlState = (_a = timeRange.urlSync) == null ? void 0 : _a.getUrlState();\n    return new SkipFormattingValue(urlUtil.toUrlParams(urlState));\n  }\n  getValueText() {\n    return \"\";\n  }\n}\nclass TimeFromAndToMacro {\n  constructor(name, sceneObject) {\n    this.state = { name, type: \"time_macro\" };\n    this._sceneObject = sceneObject;\n  }\n  getValue() {\n    const timeRange = getTimeRange(this._sceneObject);\n    if (this.state.name === \"__from\") {\n      return timeRange.state.value.from.valueOf();\n    } else {\n      return timeRange.state.value.to.valueOf();\n    }\n  }\n  getValueText() {\n    const timeRange = getTimeRange(this._sceneObject);\n    if (this.state.name === \"__from\") {\n      return dateTimeFormat(timeRange.state.value.from, { timeZone: timeRange.getTimeZone() });\n    } else {\n      return dateTimeFormat(timeRange.state.value.to, { timeZone: timeRange.getTimeZone() });\n    }\n  }\n}\nclass TimezoneMacro {\n  constructor(name, sceneObject) {\n    this.state = { name, type: \"time_macro\" };\n    this._sceneObject = sceneObject;\n  }\n  getValue() {\n    const timeRange = getTimeRange(this._sceneObject);\n    const timeZone = timeRange.getTimeZone();\n    if (timeZone === \"browser\") {\n      return Intl.DateTimeFormat().resolvedOptions().timeZone;\n    }\n    return timeZone;\n  }\n  getValueText() {\n    return this.getValue();\n  }\n}\nclass IntervalMacro {\n  constructor(name, sceneObject, match) {\n    this.state = { name, type: \"time_macro\", match };\n    this._sceneObject = sceneObject;\n  }\n  getValue() {\n    var _a;\n    const data = getData(this._sceneObject);\n    if (data) {\n      const request = (_a = data.state.data) == null ? void 0 : _a.request;\n      if (!request) {\n        return this.state.match;\n      }\n      if (this.state.name === \"__interval_ms\") {\n        return request.intervalMs;\n      }\n      return request.interval;\n    }\n    return this.state.match;\n  }\n}\n\nexport { IntervalMacro, TimeFromAndToMacro, TimezoneMacro, UrlTimeRangeMacro };\n//# sourceMappingURL=timeMacros.js.map\n","import { isCustomVariableValue } from '../types.js';\nimport { formatRegistry } from '../interpolation/formatRegistry.js';\nimport { SkipFormattingValue } from './types.js';\nimport { VariableFormatID } from '@grafana/schema';\n\nclass AllVariablesMacro {\n  constructor(name, sceneObject) {\n    this.state = { name, type: \"url_variable\" };\n    this._sceneObject = sceneObject;\n  }\n  getValue() {\n    const allVars = collectAllVariables(this._sceneObject);\n    const format = formatRegistry.get(VariableFormatID.QueryParam);\n    const params = [];\n    for (const name of Object.keys(allVars)) {\n      const variable = allVars[name];\n      const value = variable.getValue();\n      if (!value) {\n        continue;\n      }\n      if (isCustomVariableValue(value)) {\n        params.push(value.formatter(VariableFormatID.QueryParam));\n      } else {\n        params.push(format.formatter(value, [], variable));\n      }\n    }\n    return new SkipFormattingValue(params.join(\"&\"));\n  }\n  getValueText() {\n    return \"\";\n  }\n}\nfunction collectAllVariables(sceneObject, record = {}) {\n  if (sceneObject.state.$variables) {\n    for (const variable of sceneObject.state.$variables.state.variables) {\n      if (variable.state.skipUrlSync) {\n        continue;\n      }\n      if (!record[variable.state.name]) {\n        record[variable.state.name] = variable;\n      }\n    }\n  }\n  if (sceneObject.parent) {\n    collectAllVariables(sceneObject.parent, record);\n  }\n  return record;\n}\n\nexport { AllVariablesMacro };\n//# sourceMappingURL=AllVariablesMacro.js.map\n","import { getFieldDisplayName, formatLabels } from '@grafana/data';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nfunction getTemplateProxyForField(field, frame, frames) {\n  return new Proxy(\n    {},\n    {\n      get: (obj, key) => {\n        if (key === \"name\") {\n          return field.name;\n        }\n        if (key === \"displayName\") {\n          return getFieldDisplayName(field, frame, frames);\n        }\n        if (key === \"labels\" || key === \"formattedLabels\") {\n          if (!field.labels) {\n            return \"\";\n          }\n          return __spreadProps(__spreadValues({}, field.labels), {\n            __values: Object.values(field.labels).sort().join(\", \"),\n            toString: () => {\n              return formatLabels(field.labels, \"\", true);\n            }\n          });\n        }\n        return void 0;\n      }\n    }\n  );\n}\n\nexport { getTemplateProxyForField };\n//# sourceMappingURL=templateProxies.js.map\n","import { getDisplayProcessor, formattedValueToString, FieldType, getFieldDisplayValuesProxy, getFrameDisplayName } from '@grafana/data';\nimport { getFieldAccessor } from '../interpolation/fieldAccessorCache.js';\nimport { getTemplateProxyForField } from './templateProxies.js';\n\nclass ValueMacro {\n  constructor(name, sceneObject, _match, _scopedVars) {\n    this._match = _match;\n    this._scopedVars = _scopedVars;\n    this.state = { name, type: \"__value\" };\n  }\n  getValue(fieldPath) {\n    var _a, _b;\n    const dataContext = (_a = this._scopedVars) == null ? void 0 : _a.__dataContext;\n    if (!dataContext) {\n      return this._match;\n    }\n    const { frame, rowIndex, field, calculatedValue } = dataContext.value;\n    if (calculatedValue) {\n      switch (fieldPath) {\n        case \"numeric\":\n          return calculatedValue.numeric;\n        case \"raw\":\n          return calculatedValue.numeric;\n        case \"time\":\n          return \"\";\n        case \"text\":\n        default:\n          return formattedValueToString(calculatedValue);\n      }\n    }\n    if (rowIndex == null) {\n      return this._match;\n    }\n    if (fieldPath === \"time\") {\n      const timeField = frame.fields.find((f) => f.type === FieldType.time);\n      return timeField ? timeField.values.get(rowIndex) : void 0;\n    }\n    if (!field) {\n      return this._match;\n    }\n    const value = field.values.get(rowIndex);\n    if (fieldPath === \"raw\") {\n      return value;\n    }\n    const displayProcessor = (_b = field.display) != null ? _b : fallbackDisplayProcessor;\n    const result = displayProcessor(value);\n    switch (fieldPath) {\n      case \"numeric\":\n        return result.numeric;\n      case \"text\":\n      default:\n        return formattedValueToString(result);\n    }\n  }\n  getValueText() {\n    return \"\";\n  }\n}\nconst fallbackDisplayProcessor = getDisplayProcessor();\nclass DataMacro {\n  constructor(name, sceneObject, _match, _scopedVars) {\n    this._match = _match;\n    this._scopedVars = _scopedVars;\n    this.state = { name, type: \"__data\" };\n  }\n  getValue(fieldPath) {\n    var _a, _b;\n    const dataContext = (_a = this._scopedVars) == null ? void 0 : _a.__dataContext;\n    if (!dataContext || !fieldPath) {\n      return this._match;\n    }\n    const { frame, rowIndex } = dataContext.value;\n    if (rowIndex === void 0 || fieldPath === void 0) {\n      return this._match;\n    }\n    const obj = {\n      name: frame.name,\n      refId: frame.refId,\n      fields: getFieldDisplayValuesProxy({ frame, rowIndex })\n    };\n    return (_b = getFieldAccessor(fieldPath)(obj)) != null ? _b : \"\";\n  }\n  getValueText() {\n    return \"\";\n  }\n}\nclass SeriesMacro {\n  constructor(name, sceneObject, _match, _scopedVars) {\n    this._match = _match;\n    this._scopedVars = _scopedVars;\n    this.state = { name, type: \"__series\" };\n  }\n  getValue(fieldPath) {\n    var _a;\n    const dataContext = (_a = this._scopedVars) == null ? void 0 : _a.__dataContext;\n    if (!dataContext || !fieldPath) {\n      return this._match;\n    }\n    if (fieldPath !== \"name\") {\n      return this._match;\n    }\n    const { frame, frameIndex } = dataContext.value;\n    return getFrameDisplayName(frame, frameIndex);\n  }\n  getValueText() {\n    return \"\";\n  }\n}\nclass FieldMacro {\n  constructor(name, sceneObject, _match, _scopedVars) {\n    this._match = _match;\n    this._scopedVars = _scopedVars;\n    this.state = { name, type: \"__field\" };\n  }\n  getValue(fieldPath) {\n    var _a, _b;\n    const dataContext = (_a = this._scopedVars) == null ? void 0 : _a.__dataContext;\n    if (!dataContext || !fieldPath) {\n      return this._match;\n    }\n    if (fieldPath === void 0 || fieldPath === \"\") {\n      return this._match;\n    }\n    const { frame, field, data } = dataContext.value;\n    const obj = getTemplateProxyForField(field, frame, data);\n    return (_b = getFieldAccessor(fieldPath)(obj)) != null ? _b : \"\";\n  }\n  getValueText() {\n    return \"\";\n  }\n}\n\nexport { DataMacro, FieldMacro, SeriesMacro, ValueMacro };\n//# sourceMappingURL=dataMacros.js.map\n","import { locationService, config } from '@grafana/runtime';\n\nclass UrlMacro {\n  constructor(name, _) {\n    this.state = { name, type: \"url_macro\" };\n  }\n  getValue(fieldPath) {\n    var _a;\n    const location = locationService.getLocation();\n    const subUrl = (_a = config.appSubUrl) != null ? _a : \"\";\n    switch (fieldPath != null ? fieldPath : \"\") {\n      case \"params\":\n        return new UrlStateFormatter(location.search);\n      case \"path\":\n        return subUrl + location.pathname;\n      case \"\":\n      default:\n        return subUrl + location.pathname + location.search;\n    }\n  }\n  getValueText() {\n    return \"\";\n  }\n}\nclass UrlStateFormatter {\n  constructor(_urlQueryParams) {\n    this._urlQueryParams = _urlQueryParams;\n  }\n  formatter(options) {\n    if (!options) {\n      return this._urlQueryParams;\n    }\n    const params = options.split(\":\");\n    if (params[0] === \"exclude\" && params.length > 1) {\n      const allParams = new URLSearchParams(this._urlQueryParams);\n      for (const param of params[1].split(\",\")) {\n        allParams.delete(param);\n      }\n      return `?${allParams}`;\n    }\n    if (params[0] === \"include\" && params.length > 1) {\n      const allParams = new URLSearchParams(this._urlQueryParams);\n      const includeOnly = params[1].split(\",\");\n      for (const param of allParams.keys()) {\n        if (!includeOnly.includes(param)) {\n          allParams.delete(param);\n        }\n      }\n      return `?${allParams}`;\n    }\n    return this._urlQueryParams;\n  }\n}\n\nexport { UrlMacro };\n//# sourceMappingURL=urlMacros.js.map\n","import { DataLinkBuiltInVars } from '@grafana/data';\nimport { UrlTimeRangeMacro, TimeFromAndToMacro, TimezoneMacro, IntervalMacro } from './timeMacros.js';\nimport { AllVariablesMacro } from './AllVariablesMacro.js';\nimport { ValueMacro, DataMacro, SeriesMacro, FieldMacro } from './dataMacros.js';\nimport { UrlMacro } from './urlMacros.js';\nimport { UserMacro, OrgMacro } from './contextMacros.js';\n\nconst macrosIndex = /* @__PURE__ */ new Map([\n  [DataLinkBuiltInVars.includeVars, AllVariablesMacro],\n  [DataLinkBuiltInVars.keepTime, UrlTimeRangeMacro],\n  [\"__value\", ValueMacro],\n  [\"__data\", DataMacro],\n  [\"__series\", SeriesMacro],\n  [\"__field\", FieldMacro],\n  [\"__url\", UrlMacro],\n  [\"__from\", TimeFromAndToMacro],\n  [\"__to\", TimeFromAndToMacro],\n  [\"__timezone\", TimezoneMacro],\n  [\"__user\", UserMacro],\n  [\"__org\", OrgMacro],\n  [\"__interval\", IntervalMacro],\n  [\"__interval_ms\", IntervalMacro]\n]);\nfunction registerVariableMacro(name, macro) {\n  if (macrosIndex.get(name)) {\n    throw new Error(`Macro already registered ${name}`);\n  }\n  macrosIndex.set(name, macro);\n  return () => {\n    macrosIndex.delete(name);\n  };\n}\n\nexport { macrosIndex, registerVariableMacro };\n//# sourceMappingURL=index.js.map\n","import { config } from '@grafana/runtime';\n\nclass UserMacro {\n  constructor(name, _) {\n    this.state = { name, type: \"user_macro\" };\n  }\n  getValue(fieldPath) {\n    const user = config.bootData.user;\n    switch (fieldPath) {\n      case \"login\":\n        return user.login;\n      case \"email\":\n        return user.email;\n      case \"id\":\n      default:\n        return String(user.id);\n    }\n  }\n  getValueText() {\n    return \"\";\n  }\n}\nclass OrgMacro {\n  constructor(name, _) {\n    this.state = { name, type: \"org_macro\" };\n  }\n  getValue(fieldPath) {\n    const user = config.bootData.user;\n    switch (fieldPath) {\n      case \"name\":\n        return user.orgName;\n      case \"id\":\n      default:\n        return String(user.orgId);\n    }\n  }\n  getValueText() {\n    return \"\";\n  }\n}\n\nexport { OrgMacro, UserMacro };\n//# sourceMappingURL=contextMacros.js.map\n","import { lookupVariable } from '../../variables/lookupVariable.js';\nimport { getTimeRange } from './getTimeRange.js';\nimport { getVariables, getData, getLayout, getDataLayers, interpolate, hasVariableDependencyInLoadingState, findByKey, findByKeyAndType, findObject, findAllObjects, getAncestor, getQueryController } from './sceneGraph.js';\n\nconst sceneGraph = {\n  getVariables,\n  getData,\n  getTimeRange,\n  getLayout,\n  getDataLayers,\n  interpolate,\n  lookupVariable,\n  hasVariableDependencyInLoadingState,\n  findByKey,\n  findByKeyAndType,\n  findObject,\n  findAllObjects,\n  getAncestor,\n  getQueryController\n};\n\nexport { sceneGraph };\n//# sourceMappingURL=index.js.map\n","import { getDataSourceSrv } from '@grafana/runtime';\nimport { runtimeDataSources } from '../querying/RuntimeDataSource.js';\n\nasync function getDataSource(datasource, scopedVars) {\n  if (datasource == null ? void 0 : datasource.uid) {\n    const runtimeDataSource = runtimeDataSources.get(datasource.uid);\n    if (runtimeDataSource) {\n      return runtimeDataSource;\n    }\n  }\n  if (datasource && datasource.query) {\n    return datasource;\n  }\n  return await getDataSourceSrv().get(datasource, scopedVars);\n}\n\nexport { getDataSource };\n//# sourceMappingURL=getDataSource.js.map\n","function writeSceneLog(logger, message, ...rest) {\n  let loggingEnabled = false;\n  if (typeof window !== \"undefined\") {\n    loggingEnabled = localStorage.getItem(\"grafana.debug.scenes\") === \"true\";\n  }\n  if (loggingEnabled) {\n    console.log(`${logger}: `, message, ...rest);\n  }\n}\n\nexport { writeSceneLog };\n//# sourceMappingURL=writeSceneLog.js.map\n","import { DataLinkBuiltInVars } from '@grafana/data';\nimport { sceneGraph } from '../core/sceneGraph/index.js';\nimport { writeSceneLog } from '../utils/writeSceneLog.js';\nimport { VARIABLE_REGEX } from './constants.js';\nimport { safeStringifyValue } from './utils.js';\n\nclass VariableDependencyConfig {\n  constructor(_sceneObject, _options) {\n    this._sceneObject = _sceneObject;\n    this._options = _options;\n    this._dependencies = /* @__PURE__ */ new Set();\n    this._isWaitingForVariables = false;\n    this.scanCount = 0;\n    this._statePaths = _options.statePaths;\n  }\n  hasDependencyOn(name) {\n    return this.getNames().has(name);\n  }\n  variableUpdateCompleted(variable, hasChanged) {\n    const deps = this.getNames();\n    let dependencyChanged = false;\n    if ((deps.has(variable.state.name) || deps.has(DataLinkBuiltInVars.includeVars)) && hasChanged) {\n      dependencyChanged = true;\n    }\n    writeSceneLog(\n      \"VariableDependencyConfig\",\n      \"variableUpdateCompleted\",\n      variable.state.name,\n      dependencyChanged,\n      this._isWaitingForVariables\n    );\n    if (this._options.onAnyVariableChanged) {\n      this._options.onAnyVariableChanged(variable);\n    }\n    if (this._options.onVariableUpdateCompleted && (this._isWaitingForVariables || dependencyChanged)) {\n      this._options.onVariableUpdateCompleted();\n    }\n    if (dependencyChanged) {\n      if (this._options.onReferencedVariableValueChanged) {\n        this._options.onReferencedVariableValueChanged(variable);\n      }\n      if (!this._options.onReferencedVariableValueChanged && !this._options.onVariableUpdateCompleted) {\n        this._sceneObject.forceRender();\n      }\n    }\n  }\n  hasDependencyInLoadingState() {\n    if (sceneGraph.hasVariableDependencyInLoadingState(this._sceneObject)) {\n      this._isWaitingForVariables = true;\n      return true;\n    }\n    this._isWaitingForVariables = false;\n    return false;\n  }\n  getNames() {\n    const prevState = this._state;\n    const newState = this._state = this._sceneObject.state;\n    if (!prevState) {\n      this.scanStateForDependencies(this._state);\n      return this._dependencies;\n    }\n    if (newState !== prevState) {\n      if (this._statePaths) {\n        for (const path of this._statePaths) {\n          if (path === \"*\" || newState[path] !== prevState[path]) {\n            this.scanStateForDependencies(newState);\n            break;\n          }\n        }\n      } else {\n        this.scanStateForDependencies(newState);\n      }\n    }\n    return this._dependencies;\n  }\n  setVariableNames(varNames) {\n    this._options.variableNames = varNames;\n    this.scanStateForDependencies(this._state);\n  }\n  setPaths(paths) {\n    this._statePaths = paths;\n  }\n  scanStateForDependencies(state) {\n    this._dependencies.clear();\n    this.scanCount += 1;\n    if (this._options.variableNames) {\n      for (const name of this._options.variableNames) {\n        this._dependencies.add(name);\n      }\n    }\n    if (this._statePaths) {\n      for (const path of this._statePaths) {\n        if (path === \"*\") {\n          this.extractVariablesFrom(state);\n          break;\n        } else {\n          const value = state[path];\n          if (value) {\n            this.extractVariablesFrom(value);\n          }\n        }\n      }\n    }\n  }\n  extractVariablesFrom(value) {\n    VARIABLE_REGEX.lastIndex = 0;\n    const stringToCheck = typeof value !== \"string\" ? safeStringifyValue(value) : value;\n    const matches = stringToCheck.matchAll(VARIABLE_REGEX);\n    if (!matches) {\n      return;\n    }\n    for (const match of matches) {\n      const [, var1, var2, , var3] = match;\n      const variableName = var1 || var2 || var3;\n      this._dependencies.add(variableName);\n    }\n  }\n}\n\nexport { VariableDependencyConfig };\n//# sourceMappingURL=VariableDependencyConfig.js.map\n","import { sceneGraph } from '../core/sceneGraph/index.js';\nimport { isVariableValueEqual } from './utils.js';\n\nclass VariableValueRecorder {\n  constructor() {\n    this._values = /* @__PURE__ */ new Map();\n  }\n  recordCurrentDependencyValuesForSceneObject(sceneObject) {\n    this.clearValues();\n    if (!sceneObject.variableDependency) {\n      return;\n    }\n    for (const variableName of sceneObject.variableDependency.getNames()) {\n      const variable = sceneGraph.lookupVariable(variableName, sceneObject);\n      if (variable) {\n        this._values.set(variable.state.name, variable.getValue());\n      }\n    }\n  }\n  cloneAndRecordCurrentValuesForSceneObject(sceneObject) {\n    const clone = new VariableValueRecorder();\n    clone.recordCurrentDependencyValuesForSceneObject(sceneObject);\n    return clone;\n  }\n  clearValues() {\n    this._values.clear();\n  }\n  hasValues() {\n    return !!this._values;\n  }\n  recordCurrentValue(variable) {\n    this._values.set(variable.state.name, variable.getValue());\n  }\n  hasRecordedValue(variable) {\n    return this._values.has(variable.state.name);\n  }\n  hasValueChanged(variable) {\n    if (this._values.has(variable.state.name)) {\n      const value = this._values.get(variable.state.name);\n      if (!isVariableValueEqual(value, variable.getValue())) {\n        return true;\n      }\n    }\n    return false;\n  }\n  hasDependenciesChanged(sceneObject) {\n    if (!this._values) {\n      return false;\n    }\n    if (!sceneObject.variableDependency) {\n      return false;\n    }\n    for (const variableName of sceneObject.variableDependency.getNames()) {\n      const variable = sceneGraph.lookupVariable(variableName, sceneObject);\n      if (!variable) {\n        continue;\n      }\n      const name = variable.state.name;\n      if (variable && this._values.has(name)) {\n        const value = this._values.get(name);\n        if (!isVariableValueEqual(value, variable.getValue())) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n}\n\nexport { VariableValueRecorder };\n//# sourceMappingURL=VariableValueRecorder.js.map\n","function isExtraQueryProvider(obj) {\n  return typeof obj === \"object\" && \"getExtraQueries\" in obj;\n}\n\nexport { isExtraQueryProvider };\n//# sourceMappingURL=ExtraQueryProvider.js.map\n","import { of, mergeMap, forkJoin, map } from 'rxjs';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nconst passthroughProcessor = (_, secondary) => of(secondary);\nconst extraQueryProcessingOperator = (processors) => (data) => {\n  return data.pipe(\n    mergeMap(([primary, ...secondaries]) => {\n      const processedSecondaries = secondaries.flatMap((s) => {\n        var _a, _b;\n        return (_b = (_a = processors.get(s.request.requestId)) == null ? void 0 : _a(primary, s)) != null ? _b : of(s);\n      });\n      return forkJoin([of(primary), ...processedSecondaries]);\n    }),\n    map(([primary, ...processedSecondaries]) => {\n      var _a;\n      return __spreadProps(__spreadValues({}, primary), {\n        series: [...primary.series, ...processedSecondaries.flatMap((s) => s.series)],\n        annotations: [...(_a = primary.annotations) != null ? _a : [], ...processedSecondaries.flatMap((s) => {\n          var _a2;\n          return (_a2 = s.annotations) != null ? _a2 : [];\n        })]\n      });\n    })\n  );\n};\n\nexport { extraQueryProcessingOperator, passthroughProcessor };\n//# sourceMappingURL=extraQueryProcessingOperator.js.map\n","var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nfunction filterAnnotations(data, filters) {\n  var _a;\n  if (!Array.isArray(data) || data.length === 0) {\n    return data;\n  }\n  const rows = Array.from({ length: data.length }, () => /* @__PURE__ */ new Set());\n  let frameIdx = 0;\n  for (const frame of data) {\n    for (let index = 0; index < frame.length; index++) {\n      if (rows[frameIdx].has(index)) {\n        continue;\n      }\n      let matching = true;\n      const panelIdField = frame.fields.find((f) => f.name === \"panelId\");\n      const sourceField = frame.fields.find((f) => f.name === \"source\");\n      if (sourceField) {\n        if (panelIdField && sourceField.values[index].type === \"dashboard\") {\n          matching = panelIdField.values[index] === filters.panelId;\n        }\n        const sourceFilter = sourceField.values[index].filter;\n        if (sourceFilter) {\n          const includes = ((_a = sourceFilter.ids) != null ? _a : []).includes(filters.panelId);\n          if (sourceFilter.exclude) {\n            if (includes) {\n              matching = false;\n            }\n          } else if (!includes) {\n            matching = false;\n          }\n        }\n      }\n      if (matching) {\n        rows[frameIdx].add(index);\n      }\n    }\n    frameIdx++;\n  }\n  const processed = [];\n  frameIdx = 0;\n  for (const frame of data) {\n    const frameLength = rows[frameIdx].size;\n    const fields = [];\n    for (const field of frame.fields) {\n      const buffer = [];\n      for (let index = 0; index < frame.length; index++) {\n        if (rows[frameIdx].has(index)) {\n          buffer.push(field.values[index]);\n          continue;\n        }\n      }\n      fields.push(__spreadProps(__spreadValues({}, field), {\n        values: buffer\n      }));\n    }\n    processed.push(__spreadProps(__spreadValues({}, frame), {\n      fields,\n      length: frameLength\n    }));\n    frameIdx++;\n  }\n  return processed;\n}\n\nexport { filterAnnotations };\n//# sourceMappingURL=filterAnnotations.js.map\n","import { isDataRequestEnricher } from '../core/types.js';\n\nfunction getEnrichedDataRequest(sourceRunner) {\n  const root = sourceRunner.getRoot();\n  if (isDataRequestEnricher(root)) {\n    return root.enrichDataRequest(sourceRunner);\n  }\n  return null;\n}\n\nexport { getEnrichedDataRequest };\n//# sourceMappingURL=getEnrichedDataRequest.js.map\n","import { getTemplateSrv, getDataSourceSrv } from '@grafana/runtime';\n\nlet originalGetAdhocFilters = void 0;\nlet allActiveFilterSets = /* @__PURE__ */ new Set();\nfunction patchGetAdhocFilters(filterVar) {\n  filterVar.addActivationHandler(() => {\n    allActiveFilterSets.add(filterVar);\n    return () => allActiveFilterSets.delete(filterVar);\n  });\n  if (originalGetAdhocFilters) {\n    return;\n  }\n  const templateSrv = getTemplateSrv();\n  if (!(templateSrv == null ? void 0 : templateSrv.getAdhocFilters)) {\n    console.log(\"Failed to patch getAdhocFilters\");\n    return;\n  }\n  originalGetAdhocFilters = templateSrv.getAdhocFilters;\n  templateSrv.getAdhocFilters = function getAdhocFiltersScenePatch(dsName) {\n    var _a;\n    if (allActiveFilterSets.size === 0) {\n      return originalGetAdhocFilters.call(templateSrv);\n    }\n    const ds = getDataSourceSrv().getInstanceSettings(dsName);\n    if (!ds) {\n      return [];\n    }\n    for (const filter of allActiveFilterSets.values()) {\n      if (((_a = filter.state.datasource) == null ? void 0 : _a.uid) === ds.uid) {\n        return filter.state.filters;\n      }\n    }\n    return [];\n  }.bind(templateSrv);\n}\nfunction findActiveAdHocFilterVariableByUid(dsUid) {\n  var _a;\n  for (const filter of allActiveFilterSets.values()) {\n    if (((_a = filter.state.datasource) == null ? void 0 : _a.uid) === dsUid) {\n      return filter;\n    }\n  }\n  return void 0;\n}\n\nexport { findActiveAdHocFilterVariableByUid, patchGetAdhocFilters };\n//# sourceMappingURL=patchGetAdhocFilters.js.map\n","import { Observable } from 'rxjs';\nimport { LoadingState } from '@grafana/schema';\nimport { sceneGraph } from '../core/sceneGraph/index.js';\n\nfunction registerQueryWithController(entry) {\n  return (queryStream) => {\n    const queryControler = sceneGraph.getQueryController(entry.origin);\n    if (!queryControler) {\n      return queryStream;\n    }\n    return new Observable((observer) => {\n      if (!entry.cancel) {\n        entry.cancel = () => observer.complete();\n      }\n      queryControler.queryStarted(entry);\n      let markedAsCompleted = false;\n      const sub = queryStream.subscribe({\n        next: (v) => {\n          if (!markedAsCompleted && v.state !== LoadingState.Loading) {\n            markedAsCompleted = true;\n            queryControler.queryCompleted(entry);\n          }\n          observer.next(v);\n        },\n        error: (e) => observer.error(e),\n        complete: () => {\n          observer.complete();\n        }\n      });\n      return () => {\n        sub.unsubscribe();\n        if (!markedAsCompleted) {\n          queryControler.queryCompleted(entry);\n        }\n      };\n    });\n  };\n}\n\nexport { registerQueryWithController };\n//# sourceMappingURL=registerQueryWithController.js.map\n","const allActiveGroupByVariables = /* @__PURE__ */ new Set();\nfunction findActiveGroupByVariablesByUid(dsUid) {\n  var _a;\n  for (const groupByVariable of allActiveGroupByVariables.values()) {\n    if (((_a = groupByVariable.state.datasource) == null ? void 0 : _a.uid) === dsUid) {\n      return groupByVariable;\n    }\n  }\n  return void 0;\n}\n\nexport { allActiveGroupByVariables, findActiveGroupByVariablesByUid };\n//# sourceMappingURL=findActiveGroupByVariablesByUid.js.map\n","function setBaseClassState(sceneObject, newState) {\n  sceneObject.setState(newState);\n}\n\nexport { setBaseClassState };\n//# sourceMappingURL=utils.js.map\n","import { isEqual, isArray } from 'lodash';\nimport { map } from 'rxjs';\nimport { ALL_VARIABLE_VALUE, ALL_VARIABLE_TEXT } from '../constants.js';\nimport { SceneObjectBase } from '../../core/SceneObjectBase.js';\nimport { SceneVariableValueChangedEvent } from '../types.js';\nimport { formatRegistry } from '../interpolation/formatRegistry.js';\nimport { VariableFormatID } from '@grafana/schema';\nimport { setBaseClassState } from '../../utils/utils.js';\n\nclass MultiValueVariable extends SceneObjectBase {\n  constructor() {\n    super(...arguments);\n    this._urlSync = new MultiValueUrlSyncHandler(this);\n  }\n  validateAndUpdate() {\n    return this.getValueOptions({}).pipe(\n      map((options) => {\n        this.updateValueGivenNewOptions(options);\n        return {};\n      })\n    );\n  }\n  onCancel() {\n    this.setStateHelper({ loading: false });\n    const sceneVarSet = this.parent;\n    sceneVarSet == null ? void 0 : sceneVarSet.cancel(this);\n  }\n  updateValueGivenNewOptions(options) {\n    const { value: currentValue, text: currentText } = this.state;\n    const stateUpdate = this.getStateUpdateGivenNewOptions(options, currentValue, currentText);\n    this.interceptStateUpdateAfterValidation(stateUpdate);\n    this.setStateHelper(stateUpdate);\n    if (stateUpdate.value !== currentValue || stateUpdate.text !== currentText || this.hasAllValue()) {\n      this.publishEvent(new SceneVariableValueChangedEvent(this), true);\n    }\n  }\n  getStateUpdateGivenNewOptions(options, currentValue, currentText) {\n    const stateUpdate = {\n      options,\n      loading: false,\n      value: currentValue,\n      text: currentText\n    };\n    if (options.length === 0) {\n      if (this.state.defaultToAll || this.state.includeAll) {\n        stateUpdate.value = ALL_VARIABLE_VALUE;\n        stateUpdate.text = ALL_VARIABLE_TEXT;\n      } else if (this.state.isMulti) {\n        stateUpdate.value = [];\n        stateUpdate.text = [];\n      } else {\n        stateUpdate.value = \"\";\n        stateUpdate.text = \"\";\n      }\n      return stateUpdate;\n    }\n    if (this.hasAllValue()) {\n      if (!this.state.includeAll) {\n        stateUpdate.value = options[0].value;\n        stateUpdate.text = options[0].label;\n        if (this.state.isMulti) {\n          stateUpdate.value = [stateUpdate.value];\n          stateUpdate.text = [stateUpdate.text];\n        }\n      }\n      return stateUpdate;\n    }\n    if (this.state.isMulti) {\n      const currentValues = Array.isArray(currentValue) ? currentValue : [currentValue];\n      const validValues = currentValues.filter((v) => options.find((o) => o.value === v));\n      const validTexts = validValues.map((v) => options.find((o) => o.value === v).label);\n      if (validValues.length === 0) {\n        const defaultState = this.getDefaultMultiState(options);\n        stateUpdate.value = defaultState.value;\n        stateUpdate.text = defaultState.text;\n      } else {\n        if (!isEqual(validValues, currentValue)) {\n          stateUpdate.value = validValues;\n        }\n        if (!isEqual(validTexts, currentText)) {\n          stateUpdate.text = validTexts;\n        }\n      }\n      return stateUpdate;\n    }\n    let matchingOption = findOptionMatchingCurrent(currentValue, currentText, options);\n    if (matchingOption) {\n      stateUpdate.text = matchingOption.label;\n      stateUpdate.value = matchingOption.value;\n    } else {\n      if (this.state.defaultToAll) {\n        stateUpdate.value = ALL_VARIABLE_VALUE;\n        stateUpdate.text = ALL_VARIABLE_TEXT;\n      } else {\n        stateUpdate.value = options[0].value;\n        stateUpdate.text = options[0].label;\n      }\n    }\n    return stateUpdate;\n  }\n  interceptStateUpdateAfterValidation(stateUpdate) {\n    const isAllValueFix = stateUpdate.value === ALL_VARIABLE_VALUE && this.state.text === ALL_VARIABLE_TEXT;\n    if (this.skipNextValidation && stateUpdate.value !== this.state.value && !isAllValueFix) {\n      stateUpdate.value = this.state.value;\n      stateUpdate.text = this.state.text;\n    }\n    this.skipNextValidation = false;\n  }\n  getValue() {\n    if (this.hasAllValue()) {\n      if (this.state.allValue) {\n        return new CustomAllValue(this.state.allValue, this);\n      }\n      return this.state.options.map((x) => x.value);\n    }\n    return this.state.value;\n  }\n  getValueText() {\n    if (this.hasAllValue()) {\n      return ALL_VARIABLE_TEXT;\n    }\n    if (Array.isArray(this.state.text)) {\n      return this.state.text.join(\" + \");\n    }\n    return String(this.state.text);\n  }\n  hasAllValue() {\n    const value = this.state.value;\n    return value === ALL_VARIABLE_VALUE || Array.isArray(value) && value[0] === ALL_VARIABLE_VALUE;\n  }\n  getDefaultMultiState(options) {\n    if (this.state.defaultToAll) {\n      return { value: [ALL_VARIABLE_VALUE], text: [ALL_VARIABLE_TEXT] };\n    } else if (options.length > 0) {\n      return { value: [options[0].value], text: [options[0].label] };\n    } else {\n      return { value: [], text: [] };\n    }\n  }\n  changeValueTo(value, text) {\n    if (value === this.state.value && text === this.state.text) {\n      return;\n    }\n    if (!text) {\n      if (Array.isArray(value)) {\n        text = value.map((v) => this.findLabelTextForValue(v));\n      } else {\n        text = this.findLabelTextForValue(value);\n      }\n    }\n    if (Array.isArray(value)) {\n      if (value.length === 0) {\n        const state = this.getDefaultMultiState(this.state.options);\n        value = state.value;\n        text = state.text;\n      }\n      if (value[value.length - 1] === ALL_VARIABLE_VALUE) {\n        value = [ALL_VARIABLE_VALUE];\n        text = [ALL_VARIABLE_TEXT];\n      } else if (value[0] === ALL_VARIABLE_VALUE && value.length > 1) {\n        value.shift();\n        if (Array.isArray(text)) {\n          text.shift();\n        }\n      }\n    }\n    if (isEqual(value, this.state.value) && isEqual(text, this.state.text)) {\n      return;\n    }\n    this.setStateHelper({ value, text, loading: false });\n    this.publishEvent(new SceneVariableValueChangedEvent(this), true);\n  }\n  findLabelTextForValue(value) {\n    if (value === ALL_VARIABLE_VALUE) {\n      return ALL_VARIABLE_TEXT;\n    }\n    const option = this.state.options.find((x) => x.value === value);\n    if (option) {\n      return option.label;\n    }\n    const optionByLabel = this.state.options.find((x) => x.label === value);\n    if (optionByLabel) {\n      return optionByLabel.label;\n    }\n    return value;\n  }\n  setStateHelper(state) {\n    setBaseClassState(this, state);\n  }\n  getOptionsForSelect() {\n    let options = this.state.options;\n    if (this.state.includeAll) {\n      options = [{ value: ALL_VARIABLE_VALUE, label: ALL_VARIABLE_TEXT }, ...options];\n    }\n    if (!Array.isArray(this.state.value)) {\n      const current = options.find((x) => x.value === this.state.value);\n      if (!current) {\n        options = [{ value: this.state.value, label: String(this.state.text) }, ...options];\n      }\n    }\n    return options;\n  }\n}\nfunction findOptionMatchingCurrent(currentValue, currentText, options) {\n  let textMatch;\n  for (const item of options) {\n    if (item.value === currentValue) {\n      return item;\n    }\n    if (item.label === currentText) {\n      textMatch = item;\n    }\n  }\n  return textMatch;\n}\nclass MultiValueUrlSyncHandler {\n  constructor(_sceneObject) {\n    this._sceneObject = _sceneObject;\n  }\n  getKey() {\n    return `var-${this._sceneObject.state.name}`;\n  }\n  getKeys() {\n    if (this._sceneObject.state.skipUrlSync) {\n      return [];\n    }\n    return [this.getKey()];\n  }\n  getUrlState() {\n    if (this._sceneObject.state.skipUrlSync) {\n      return {};\n    }\n    let urlValue = null;\n    let value = this._sceneObject.state.value;\n    if (Array.isArray(value)) {\n      urlValue = value.map(String);\n    } else if (this._sceneObject.state.isMulti) {\n      urlValue = [String(value)];\n    } else {\n      urlValue = String(value);\n    }\n    return { [this.getKey()]: urlValue };\n  }\n  updateFromUrl(values) {\n    let urlValue = values[this.getKey()];\n    if (urlValue != null) {\n      if (this._sceneObject.state.includeAll) {\n        urlValue = handleLegacyUrlAllValue(urlValue);\n      }\n      if (this._sceneObject.state.allValue && this._sceneObject.state.allValue === urlValue) {\n        urlValue = ALL_VARIABLE_VALUE;\n      }\n      if (!this._sceneObject.isActive) {\n        this._sceneObject.skipNextValidation = true;\n      }\n      this._sceneObject.changeValueTo(urlValue);\n    }\n  }\n}\nfunction handleLegacyUrlAllValue(value) {\n  if (isArray(value) && value[0] === ALL_VARIABLE_TEXT) {\n    return [ALL_VARIABLE_VALUE];\n  } else if (value === ALL_VARIABLE_TEXT) {\n    return ALL_VARIABLE_VALUE;\n  }\n  return value;\n}\nclass CustomAllValue {\n  constructor(_value, _variable) {\n    this._value = _value;\n    this._variable = _variable;\n  }\n  formatter(formatNameOrFn) {\n    if (formatNameOrFn === VariableFormatID.Text) {\n      return ALL_VARIABLE_TEXT;\n    }\n    if (formatNameOrFn === VariableFormatID.PercentEncode) {\n      return formatRegistry.get(VariableFormatID.PercentEncode).formatter(this._value, [], this._variable);\n    }\n    if (formatNameOrFn === VariableFormatID.QueryParam) {\n      return formatRegistry.get(VariableFormatID.QueryParam).formatter(ALL_VARIABLE_TEXT, [], this._variable);\n    }\n    return this._value;\n  }\n}\n\nexport { CustomAllValue, MultiValueUrlSyncHandler, MultiValueVariable };\n//# sourceMappingURL=MultiValueVariable.js.map\n","const Components = {\n  RadioButton: {\n    container: \"data-testid radio-button\"\n  },\n  Breadcrumbs: {\n    breadcrumb: (title) => `data-testid ${title} breadcrumb`\n  },\n  TimePicker: {\n    openButton: \"data-testid TimePicker Open Button\",\n    overlayContent: \"data-testid TimePicker Overlay Content\",\n    fromField: \"data-testid Time Range from field\",\n    toField: \"data-testid Time Range to field\",\n    applyTimeRange: \"data-testid TimePicker submit button\",\n    copyTimeRange: \"data-testid TimePicker copy button\",\n    pasteTimeRange: \"data-testid TimePicker paste button\",\n    calendar: {\n      label: \"data-testid Time Range calendar\",\n      openButton: \"data-testid Open time range calendar\",\n      closeButton: \"data-testid Close time range Calendar\"\n    },\n    absoluteTimeRangeTitle: \"data-testid-absolute-time-range-narrow\"\n  },\n  DataSourcePermissions: {\n    form: () => 'form[name=\"addPermission\"]',\n    roleType: \"Role to add new permission to\",\n    rolePicker: \"Built-in role picker\",\n    permissionLevel: \"Permission Level\"\n  },\n  DateTimePicker: {\n    input: \"data-testid date-time-input\"\n  },\n  DataSource: {\n    TestData: {\n      QueryTab: {\n        scenarioSelectContainer: \"Test Data Query scenario select container\",\n        scenarioSelect: \"Test Data Query scenario select\",\n        max: \"TestData max\",\n        min: \"TestData min\",\n        noise: \"TestData noise\",\n        seriesCount: \"TestData series count\",\n        spread: \"TestData spread\",\n        startValue: \"TestData start value\",\n        drop: \"TestData drop values\"\n      }\n    },\n    DataSourceHttpSettings: {\n      urlInput: \"data-testid Datasource HTTP settings url\"\n    },\n    Jaeger: {\n      traceIDInput: \"Trace ID\"\n    },\n    Prometheus: {\n      configPage: {\n        connectionSettings: \"Data source connection URL\",\n        // aria-label in grafana experimental\n        manageAlerts: \"prometheus-alerts-manager\",\n        // id for switch component\n        scrapeInterval: \"data-testid scrape interval\",\n        queryTimeout: \"data-testid query timeout\",\n        defaultEditor: \"data-testid default editor\",\n        disableMetricLookup: \"disable-metric-lookup\",\n        // id for switch component\n        prometheusType: \"data-testid prometheus type\",\n        prometheusVersion: \"data-testid prometheus version\",\n        cacheLevel: \"data-testid cache level\",\n        incrementalQuerying: \"prometheus-incremental-querying\",\n        // id for switch component\n        queryOverlapWindow: \"data-testid query overlap window\",\n        disableRecordingRules: \"disable-recording-rules\",\n        // id for switch component\n        customQueryParameters: \"data-testid custom query parameters\",\n        httpMethod: \"data-testid http method\",\n        exemplarsAddButton: \"data-testid Add exemplar config button\",\n        internalLinkSwitch: \"data-testid Internal link switch\",\n        codeModeMetricNamesSuggestionLimit: \"data-testid code mode metric names suggestion limit\"\n      },\n      queryEditor: {\n        // kickstart: '', see QueryBuilder queryPatterns below\n        explain: \"data-testid prometheus explain switch wrapper\",\n        editorToggle: \"data-testid QueryEditorModeToggle\",\n        // wrapper for toggle\n        options: \"data-testid prometheus options\",\n        // wrapper for options group\n        legend: \"data-testid prometheus legend wrapper\",\n        // wrapper for multiple compomnents\n        format: \"data-testid prometheus format\",\n        step: \"prometheus-step\",\n        // id for autosize component\n        type: \"data-testid prometheus type\",\n        //wrapper for radio button group\n        exemplars: \"prometheus-exemplars\",\n        // id for editor switch component\n        builder: {\n          // see QueryBuilder below for commented selectors\n          // labelSelect: 'data-testid Select label',\n          // valueSelect: 'data-testid Select value',\n          // matchOperatorSelect: 'data-testid Select match operator',\n          metricSelect: \"data-testid metric select\",\n          hints: \"data-testid prometheus hints\",\n          // wrapper for hints component\n          metricsExplorer: \"data-testid metrics explorer\",\n          queryAdvisor: \"data-testid query advisor\"\n        },\n        code: {\n          queryField: \"data-testid prometheus query field\",\n          metricsCountInfo: \"data-testid metrics count disclaimer\",\n          metricsBrowser: {\n            openButton: \"data-testid open metrics browser\",\n            selectMetric: \"data-testid select a metric\",\n            seriesLimit: \"data-testid series limit\",\n            metricList: \"data-testid metric list\",\n            labelNamesFilter: \"data-testid label names filter\",\n            labelValuesFilter: \"data-testid label values filter\",\n            useQuery: \"data-testid use query\",\n            useAsRateQuery: \"data-testid use as rate query\",\n            validateSelector: \"data-testid validate selector\",\n            clear: \"data-testid clear\"\n          }\n        }\n      },\n      exemplarMarker: \"data-testid Exemplar marker\",\n      variableQueryEditor: {\n        queryType: \"data-testid query type\",\n        labelnames: {\n          metricRegex: \"data-testid label names metric regex\"\n        },\n        labelValues: {\n          labelSelect: \"data-testid label values label select\"\n          // metric select see queryEditor: builder for more context\n          // label select for metric filtering see queryEditor: builder for more context\n        },\n        metricNames: {\n          metricRegex: \"data-testid metric names metric regex\"\n        },\n        varQueryResult: \"data-testid variable query result\",\n        seriesQuery: \"data-testid prometheus series query\",\n        classicQuery: \"data-testid prometheus classic query\"\n      },\n      annotations: {\n        minStep: \"prometheus-annotation-min-step\",\n        // id for autosize input\n        title: \"data-testid prometheus annotation title\",\n        tags: \"data-testid prometheus annotation tags\",\n        text: \"data-testid prometheus annotation text\",\n        seriesValueAsTimestamp: \"data-testid prometheus annotation series value as timestamp\"\n      }\n    }\n  },\n  Menu: {\n    MenuComponent: (title) => `${title} menu`,\n    MenuGroup: (title) => `${title} menu group`,\n    MenuItem: (title) => `${title} menu item`,\n    SubMenu: {\n      container: \"data-testid SubMenu container\",\n      icon: \"data-testid SubMenu icon\"\n    }\n  },\n  Panels: {\n    Panel: {\n      title: (title) => `data-testid Panel header ${title}`,\n      content: \"data-testid panel content\",\n      headerItems: (item) => `data-testid Panel header item ${item}`,\n      menuItems: (item) => `data-testid Panel menu item ${item}`,\n      menu: (title) => `data-testid Panel menu ${title}`,\n      containerByTitle: (title) => `${title} panel`,\n      headerCornerInfo: (mode) => `Panel header ${mode}`,\n      status: (status) => `data-testid Panel status ${status}`,\n      loadingBar: () => `Panel loading bar`,\n      HoverWidget: {\n        container: \"data-testid hover-header-container\",\n        dragIcon: \"data-testid drag-icon\"\n      },\n      PanelDataErrorMessage: \"data-testid Panel data error message\"\n    },\n    Visualization: {\n      Graph: {\n        container: \"Graph container\",\n        VisualizationTab: {\n          legendSection: \"Legend section\"\n        },\n        Legend: {\n          legendItemAlias: (name) => `gpl alias ${name}`,\n          showLegendSwitch: \"gpl show legend\"\n        },\n        xAxis: {\n          labels: () => \"div.flot-x-axis > div.flot-tick-label\"\n        }\n      },\n      BarGauge: {\n        /**\n         * @deprecated use valueV2 from Grafana 8.3 instead\n         */\n        value: \"Bar gauge value\",\n        valueV2: \"data-testid Bar gauge value\"\n      },\n      PieChart: {\n        svgSlice: \"data testid Pie Chart Slice\"\n      },\n      Text: {\n        container: () => \".markdown-html\"\n      },\n      Table: {\n        header: \"table header\",\n        footer: \"table-footer\",\n        body: \"data-testid table body\"\n      }\n    }\n  },\n  VizLegend: {\n    seriesName: (name) => `data-testid VizLegend series ${name}`\n  },\n  Drawer: {\n    General: {\n      title: (title) => `Drawer title ${title}`,\n      expand: \"Drawer expand\",\n      contract: \"Drawer contract\",\n      close: \"data-testid Drawer close\",\n      rcContentWrapper: () => \".rc-drawer-content-wrapper\",\n      subtitle: \"data-testid drawer subtitle\"\n    },\n    DashboardSaveDrawer: {\n      saveButton: \"data-testid Save dashboard drawer button\",\n      saveAsButton: \"data-testid Save as dashboard drawer button\",\n      saveAsTitleInput: \"Save dashboard title field\"\n    }\n  },\n  PanelEditor: {\n    General: {\n      content: \"data-testid Panel editor content\"\n    },\n    OptionsPane: {\n      content: \"data-testid Panel editor option pane content\",\n      select: \"Panel editor option pane select\",\n      fieldLabel: (type) => `${type} field property editor`,\n      fieldInput: (title) => `data-testid Panel editor option pane field input ${title}`\n    },\n    // not sure about the naming *DataPane*\n    DataPane: {\n      content: \"data-testid Panel editor data pane content\"\n    },\n    applyButton: \"data-testid Apply changes and go back to dashboard\",\n    toggleVizPicker: \"data-testid toggle-viz-picker\",\n    toggleVizOptions: \"data-testid toggle-viz-options\",\n    toggleTableView: \"data-testid toggle-table-view\",\n    // [Geomap] Map controls\n    showZoomField: \"Map controls Show zoom control field property editor\",\n    showAttributionField: \"Map controls Show attribution field property editor\",\n    showScaleField: \"Map controls Show scale field property editor\",\n    showMeasureField: \"Map controls Show measure tools field property editor\",\n    showDebugField: \"Map controls Show debug field property editor\",\n    measureButton: \"show measure tools\"\n  },\n  PanelInspector: {\n    Data: {\n      content: \"Panel inspector Data content\"\n    },\n    Stats: {\n      content: \"Panel inspector Stats content\"\n    },\n    Json: {\n      content: \"data-testid Panel inspector Json content\"\n    },\n    Query: {\n      content: \"Panel inspector Query content\",\n      refreshButton: \"Panel inspector Query refresh button\",\n      jsonObjectKeys: () => \".json-formatter-key\"\n    }\n  },\n  Tab: {\n    title: (title) => `data-testid Tab ${title}`,\n    active: () => '[class*=\"-activeTabStyle\"]'\n  },\n  RefreshPicker: {\n    /**\n     * @deprecated use runButtonV2 from Grafana 8.3 instead\n     */\n    runButton: \"RefreshPicker run button\",\n    /**\n     * @deprecated use intervalButtonV2 from Grafana 8.3 instead\n     */\n    intervalButton: \"RefreshPicker interval button\",\n    runButtonV2: \"data-testid RefreshPicker run button\",\n    intervalButtonV2: \"data-testid RefreshPicker interval button\"\n  },\n  QueryTab: {\n    content: \"Query editor tab content\",\n    queryInspectorButton: \"Query inspector button\",\n    queryHistoryButton: \"data-testid query-history-button\",\n    addQuery: \"data-testid query-tab-add-query\",\n    queryGroupTopSection: \"data-testid query group top section\",\n    addExpression: \"data-testid query-tab-add-expression\"\n  },\n  QueryHistory: {\n    queryText: \"Query text\"\n  },\n  QueryEditorRows: {\n    rows: \"Query editor row\"\n  },\n  QueryEditorRow: {\n    actionButton: (title) => `data-testid ${title}`,\n    title: (refId) => `Query editor row title ${refId}`,\n    container: (refId) => `Query editor row ${refId}`\n  },\n  AlertTab: {\n    content: \"data-testid Alert editor tab content\"\n  },\n  AlertRules: {\n    groupToggle: \"data-testid group-collapse-toggle\",\n    toggle: \"data-testid collapse-toggle\",\n    expandedContent: \"data-testid expanded-content\",\n    previewButton: \"data-testid alert-rule preview-button\",\n    ruleNameField: \"data-testid alert-rule name-field\",\n    newFolderButton: \"data-testid alert-rule new-folder-button\",\n    newFolderNameField: \"data-testid alert-rule name-folder-name-field\",\n    newFolderNameCreateButton: \"data-testid alert-rule name-folder-name-create-button\",\n    newEvaluationGroupButton: \"data-testid alert-rule new-evaluation-group-button\",\n    newEvaluationGroupName: \"data-testid alert-rule new-evaluation-group-name\",\n    newEvaluationGroupInterval: \"data-testid alert-rule new-evaluation-group-interval\",\n    newEvaluationGroupCreate: \"data-testid alert-rule new-evaluation-group-create-button\"\n  },\n  Alert: {\n    /**\n     * @deprecated use alertV2 from Grafana 8.3 instead\n     */\n    alert: (severity) => `Alert ${severity}`,\n    alertV2: (severity) => `data-testid Alert ${severity}`\n  },\n  TransformTab: {\n    content: \"data-testid Transform editor tab content\",\n    newTransform: (name) => `data-testid New transform ${name}`,\n    transformationEditor: (name) => `data-testid Transformation editor ${name}`,\n    transformationEditorDebugger: (name) => `data-testid Transformation editor debugger ${name}`\n  },\n  Transforms: {\n    card: (name) => `data-testid New transform ${name}`,\n    disableTransformationButton: \"data-testid Disable transformation button\",\n    Reduce: {\n      modeLabel: \"data-testid Transform mode label\",\n      calculationsLabel: \"data-testid Transform calculations label\"\n    },\n    SpatialOperations: {\n      actionLabel: \"root Action field property editor\",\n      locationLabel: \"root Location Mode field property editor\",\n      location: {\n        autoOption: \"Auto location option\",\n        coords: {\n          option: \"Coords location option\",\n          latitudeFieldLabel: \"root Latitude field field property editor\",\n          longitudeFieldLabel: \"root Longitude field field property editor\"\n        },\n        geohash: {\n          option: \"Geohash location option\",\n          geohashFieldLabel: \"root Geohash field field property editor\"\n        },\n        lookup: {\n          option: \"Lookup location option\",\n          lookupFieldLabel: \"root Lookup field field property editor\",\n          gazetteerFieldLabel: \"root Gazetteer field property editor\"\n        }\n      }\n    },\n    searchInput: \"data-testid search transformations\",\n    noTransformationsMessage: \"data-testid no transformations message\",\n    addTransformationButton: \"data-testid add transformation button\",\n    removeAllTransformationsButton: \"data-testid remove all transformations button\"\n  },\n  NavBar: {\n    Configuration: {\n      button: \"Configuration\"\n    },\n    Toggle: {\n      button: \"data-testid Toggle menu\"\n    },\n    Reporting: {\n      button: \"Reporting\"\n    }\n  },\n  NavMenu: {\n    Menu: \"data-testid navigation mega-menu\",\n    item: \"data-testid Nav menu item\"\n  },\n  NavToolbar: {\n    container: \"data-testid Nav toolbar\",\n    shareDashboard: \"data-testid Share dashboard\",\n    markAsFavorite: \"data-testid Mark as favorite\",\n    editDashboard: {\n      editButton: \"data-testid Edit dashboard button\",\n      saveButton: \"data-testid Save dashboard button\",\n      exitButton: \"data-testid Exit edit mode button\",\n      settingsButton: \"data-testid Dashboard settings\",\n      addRowButton: \"data-testid Add row button\",\n      addLibraryPanelButton: \"data-testid Add a panel from the panel library button\",\n      addVisualizationButton: \"data-testid Add new visualization menu item\",\n      pastePanelButton: \"data-testid Paste panel button\",\n      discardChangesButton: \"data-testid Discard changes button\",\n      discardLibraryPanelButton: \"data-testid Discard library panel button\",\n      unlinkLibraryPanelButton: \"data-testid Unlink library panel button\",\n      saveLibraryPanelButton: \"data-testid Save library panel button\",\n      backToDashboardButton: \"data-testid Back to dashboard button\"\n    }\n  },\n  PageToolbar: {\n    container: () => \".page-toolbar\",\n    item: (tooltip) => `${tooltip}`,\n    itemButton: (title) => `data-testid ${title}`\n  },\n  QueryEditorToolbarItem: {\n    button: (title) => `QueryEditor toolbar item button ${title}`\n  },\n  BackButton: {\n    backArrow: \"data-testid Go Back\"\n  },\n  OptionsGroup: {\n    group: (title) => title ? `data-testid Options group ${title}` : \"data-testid Options group\",\n    toggle: (title) => title ? `data-testid Options group ${title} toggle` : \"data-testid Options group toggle\"\n  },\n  PluginVisualization: {\n    item: (title) => `Plugin visualization item ${title}`,\n    current: () => '[class*=\"-currentVisualizationItem\"]'\n  },\n  Select: {\n    option: \"data-testid Select option\",\n    toggleAllOptions: \"data-testid toggle all options\",\n    input: () => 'input[id*=\"time-options-input\"]',\n    singleValue: () => 'div[class*=\"-singleValue\"]'\n  },\n  FieldConfigEditor: {\n    content: \"Field config editor content\"\n  },\n  OverridesConfigEditor: {\n    content: \"Field overrides editor content\"\n  },\n  FolderPicker: {\n    /**\n     * @deprecated use containerV2 from Grafana 8.3 instead\n     */\n    container: \"Folder picker select container\",\n    containerV2: \"data-testid Folder picker select container\",\n    input: \"data-testid folder-picker-input\"\n  },\n  ReadonlyFolderPicker: {\n    container: \"data-testid Readonly folder picker select container\"\n  },\n  DataSourcePicker: {\n    container: \"data-testid Data source picker select container\",\n    /**\n     * @deprecated use inputV2 instead\n     */\n    input: () => 'input[id=\"data-source-picker\"]',\n    inputV2: \"data-testid Select a data source\",\n    dataSourceList: \"data-testid Data source list dropdown\",\n    advancedModal: {\n      dataSourceList: \"data-testid Data source list\",\n      builtInDataSourceList: \"data-testid Built in data source list\"\n    }\n  },\n  TimeZonePicker: {\n    /**\n     * @deprecated use TimeZonePicker.containerV2 from Grafana 8.3 instead\n     */\n    container: \"Time zone picker select container\",\n    containerV2: \"data-testid Time zone picker select container\",\n    changeTimeSettingsButton: \"data-testid Time zone picker Change time settings button\"\n  },\n  WeekStartPicker: {\n    /**\n     * @deprecated use WeekStartPicker.containerV2 from Grafana 8.3 instead\n     */\n    container: \"Choose starting day of the week\",\n    containerV2: \"data-testid Choose starting day of the week\",\n    placeholder: \"Choose starting day of the week\"\n  },\n  TraceViewer: {\n    spanBar: \"data-testid SpanBar--wrapper\"\n  },\n  QueryField: { container: \"data-testid Query field\" },\n  QueryBuilder: {\n    queryPatterns: \"data-testid Query patterns\",\n    labelSelect: \"data-testid Select label\",\n    inputSelect: \"data-testid Select label-input\",\n    valueSelect: \"data-testid Select value\",\n    matchOperatorSelect: \"data-testid Select match operator\"\n  },\n  ValuePicker: {\n    button: (name) => `data-testid Value picker button ${name}`,\n    select: (name) => `data-testid Value picker select ${name}`\n  },\n  Search: {\n    /**\n     * @deprecated use sectionV2 from Grafana 8.3 instead\n     */\n    section: \"Search section\",\n    sectionV2: \"data-testid Search section\",\n    /**\n     * @deprecated use itemsV2 from Grafana 8.3 instead\n     */\n    items: \"Search items\",\n    itemsV2: \"data-testid Search items\",\n    cards: \"data-testid Search cards\",\n    collapseFolder: (sectionId) => `data-testid Collapse folder ${sectionId}`,\n    expandFolder: (sectionId) => `data-testid Expand folder ${sectionId}`,\n    dashboardItem: (item) => `${Components.Search.dashboardItems} ${item}`,\n    dashboardCard: (item) => `data-testid Search card ${item}`,\n    folderHeader: (folderName) => `data-testid Folder header ${folderName}`,\n    folderContent: (folderName) => `data-testid Folder content ${folderName}`,\n    dashboardItems: \"data-testid Dashboard search item\"\n  },\n  DashboardLinks: {\n    container: \"data-testid Dashboard link container\",\n    dropDown: \"data-testid Dashboard link dropdown\",\n    link: \"data-testid Dashboard link\"\n  },\n  LoadingIndicator: {\n    icon: \"data-testid Loading indicator\"\n  },\n  CallToActionCard: {\n    /**\n     * @deprecated use buttonV2 from Grafana 8.3 instead\n     */\n    button: (name) => `Call to action button ${name}`,\n    buttonV2: (name) => `data-testid Call to action button ${name}`\n  },\n  DataLinksContextMenu: {\n    singleLink: \"data-testid Data link\"\n  },\n  CodeEditor: {\n    container: \"data-testid Code editor container\"\n  },\n  ReactMonacoEditor: {\n    editorLazy: \"data-testid ReactMonacoEditor editorLazy\"\n  },\n  DashboardImportPage: {\n    textarea: \"data-testid-import-dashboard-textarea\",\n    submit: \"data-testid-load-dashboard\"\n  },\n  ImportDashboardForm: {\n    name: \"data-testid-import-dashboard-title\",\n    submit: \"data-testid-import-dashboard-submit\"\n  },\n  PanelAlertTabContent: {\n    content: \"data-testid Unified alert editor tab content\"\n  },\n  VisualizationPreview: {\n    card: (name) => `data-testid suggestion-${name}`\n  },\n  ColorSwatch: {\n    name: `data-testid-colorswatch`\n  },\n  DashboardRow: {\n    title: (title) => `data-testid dashboard-row-title-${title}`\n  },\n  UserProfile: {\n    profileSaveButton: \"data-testid-user-profile-save\",\n    preferencesSaveButton: \"data-testid-shared-prefs-save\",\n    orgsTable: \"data-testid-user-orgs-table\",\n    sessionsTable: \"data-testid-user-sessions-table\",\n    extensionPointTabs: \"data-testid-extension-point-tabs\",\n    extensionPointTab: (tabId) => `data-testid-extension-point-tab-${tabId}`\n  },\n  FileUpload: {\n    inputField: \"data-testid-file-upload-input-field\",\n    fileNameSpan: \"data-testid-file-upload-file-name\"\n  },\n  DebugOverlay: {\n    wrapper: \"debug-overlay\"\n  },\n  OrgRolePicker: {\n    input: \"Role\"\n  },\n  AnalyticsToolbarButton: {\n    button: \"Dashboard insights\"\n  },\n  Variables: {\n    variableOption: \"data-testid variable-option\",\n    variableLinkWrapper: \"data-testid variable-link-wrapper\"\n  },\n  Annotations: {\n    annotationsTypeInput: \"data-testid annotations-type-input\",\n    annotationsChoosePanelInput: \"data-testid choose-panels-input\",\n    editor: {\n      testButton: \"data-testid annotations-test-button\",\n      resultContainer: \"data-testid annotations-query-result-container\"\n    }\n  },\n  Tooltip: {\n    container: \"data-testid tooltip\"\n  },\n  ReturnToPrevious: {\n    buttonGroup: \"data-testid dismissable button group\",\n    backButton: \"data-testid back\",\n    dismissButton: \"data-testid dismiss\"\n  },\n  SQLQueryEditor: {\n    selectColumn: \"data-testid select-column\",\n    selectAggregation: \"data-testid select-aggregation\",\n    selectAlias: \"data-testid select-alias\",\n    filterConjunction: \"data-testid filter-conjunction\",\n    filterField: \"data-testid filter-field\",\n    filterOperator: \"data-testid filter-operator\",\n    headerTableSelector: \"data-testid header-table-selector\",\n    headerFilterSwitch: \"data-testid header-filter-switch\",\n    headerGroupSwitch: \"data-testid header-group-switch\",\n    headerOrderSwitch: \"data-testid header-order-switch\",\n    headerPreviewSwitch: \"data-testid header-preview-switch\"\n  },\n  EntityNotFound: {\n    container: \"data-testid entity-not-found\"\n  }\n};\n\nexport { Components };\n//# sourceMappingURL=components.js.map\n","import { Components } from './components.js';\nimport { Pages } from './pages.js';\n\nconst selectors = {\n  pages: Pages,\n  components: Components\n};\n\nexport { Components, Pages, selectors };\n//# sourceMappingURL=index.js.map\n","import { Components } from './components.js';\n\nconst Pages = {\n  Login: {\n    url: \"/login\",\n    username: \"data-testid Username input field\",\n    password: \"data-testid Password input field\",\n    submit: \"data-testid Login button\",\n    skip: \"data-testid Skip change password button\"\n  },\n  Home: {\n    url: \"/\"\n  },\n  DataSource: {\n    name: \"data-testid Data source settings page name input field\",\n    delete: \"Data source settings page Delete button\",\n    readOnly: \"data-testid Data source settings page read only message\",\n    saveAndTest: \"data-testid Data source settings page Save and Test button\",\n    alert: \"data-testid Data source settings page Alert\"\n  },\n  DataSources: {\n    url: \"/datasources\",\n    dataSources: (dataSourceName) => `Data source list item ${dataSourceName}`\n  },\n  EditDataSource: {\n    url: (dataSourceUid) => `/datasources/edit/${dataSourceUid}`,\n    settings: \"Datasource settings page basic settings\"\n  },\n  AddDataSource: {\n    url: \"/datasources/new\",\n    /** @deprecated Use dataSourcePluginsV2 */\n    dataSourcePlugins: (pluginName) => `Data source plugin item ${pluginName}`,\n    dataSourcePluginsV2: (pluginName) => `Add new data source ${pluginName}`\n  },\n  ConfirmModal: {\n    delete: \"data-testid Confirm Modal Danger Button\"\n  },\n  AddDashboard: {\n    url: \"/dashboard/new\",\n    itemButton: (title) => `data-testid ${title}`,\n    addNewPanel: \"data-testid Add new panel\",\n    addNewRow: \"data-testid Add new row\",\n    addNewPanelLibrary: \"data-testid Add new panel from panel library\"\n  },\n  Dashboard: {\n    url: (uid) => `/d/${uid}`,\n    DashNav: {\n      /**\n       * @deprecated use navV2 from Grafana 8.3 instead\n       */\n      nav: \"Dashboard navigation\",\n      navV2: \"data-testid Dashboard navigation\",\n      publicDashboardTag: \"data-testid public dashboard tag\",\n      shareButton: \"data-testid share-button\",\n      scrollContainer: \"data-testid Dashboard canvas scroll container\",\n      newShareButton: {\n        container: \"data-testid new share button\",\n        shareLink: \"data-testid new share link-button\",\n        arrowMenu: \"data-testid new share button arrow menu\",\n        menu: {\n          container: \"data-testid new share button menu\",\n          shareInternally: \"data-testid new share button share internally\",\n          shareExternally: \"data-testid new share button share externally\",\n          shareSnapshot: \"data-testid new share button share snapshot\"\n        }\n      },\n      NewExportButton: {\n        container: \"data-testid new export button\",\n        arrowMenu: \"data-testid new export button arrow menu\",\n        Menu: {\n          container: \"data-testid new export button menu\",\n          exportAsJson: \"data-testid new export button export as json\"\n        }\n      },\n      playlistControls: {\n        prev: \"data-testid playlist previous dashboard button\",\n        stop: \"data-testid playlist stop dashboard button\",\n        next: \"data-testid playlist next dashboard button\"\n      }\n    },\n    Controls: \"data-testid dashboard controls\",\n    SubMenu: {\n      submenu: \"Dashboard submenu\",\n      submenuItem: \"data-testid template variable\",\n      submenuItemLabels: (item) => `data-testid Dashboard template variables submenu Label ${item}`,\n      submenuItemValueDropDownValueLinkTexts: (item) => `data-testid Dashboard template variables Variable Value DropDown value link text ${item}`,\n      submenuItemValueDropDownDropDown: \"Variable options\",\n      submenuItemValueDropDownOptionTexts: (item) => `data-testid Dashboard template variables Variable Value DropDown option text ${item}`,\n      Annotations: {\n        annotationsWrapper: \"data-testid annotation-wrapper\",\n        annotationLabel: (label) => `data-testid Dashboard annotations submenu Label ${label}`,\n        annotationToggle: (label) => `data-testid Dashboard annotations submenu Toggle ${label}`\n      }\n    },\n    Settings: {\n      Actions: {\n        close: \"data-testid dashboard-settings-close\"\n      },\n      General: {\n        deleteDashBoard: \"data-testid Dashboard settings page delete dashboard button\",\n        sectionItems: (item) => `Dashboard settings section item ${item}`,\n        saveDashBoard: \"Dashboard settings aside actions Save button\",\n        saveAsDashBoard: \"Dashboard settings aside actions Save As button\",\n        /**\n         * @deprecated use components.TimeZonePicker.containerV2 from Grafana 8.3 instead\n         */\n        timezone: \"Time zone picker select container\",\n        title: \"General\"\n      },\n      Annotations: {\n        List: {\n          /**\n           * @deprecated use addAnnotationCTAV2 from Grafana 8.3 instead\n           */\n          addAnnotationCTA: Components.CallToActionCard.button(\"Add annotation query\"),\n          addAnnotationCTAV2: Components.CallToActionCard.buttonV2(\"Add annotation query\"),\n          annotations: \"data-testid list-annotations\"\n        },\n        Settings: {\n          name: \"data-testid Annotations settings name input\"\n        },\n        NewAnnotation: {\n          panelFilterSelect: \"data-testid annotations-panel-filter\",\n          showInLabel: \"data-testid show-in-label\",\n          previewInDashboard: \"data-testid annotations-preview\",\n          delete: \"data-testid annotations-delete\",\n          apply: \"data-testid annotations-apply\",\n          enable: \"data-testid annotation-enable\",\n          hide: \"data-testid annotation-hide\"\n        }\n      },\n      Variables: {\n        List: {\n          /**\n           * @deprecated use addVariableCTAV2 from Grafana 8.3 instead\n           */\n          addVariableCTA: Components.CallToActionCard.button(\"Add variable\"),\n          addVariableCTAV2: Components.CallToActionCard.buttonV2(\"Add variable\"),\n          newButton: \"Variable editor New variable button\",\n          table: \"Variable editor Table\",\n          tableRowNameFields: (variableName) => `Variable editor Table Name field ${variableName}`,\n          tableRowDefinitionFields: (variableName) => `Variable editor Table Definition field ${variableName}`,\n          tableRowArrowUpButtons: (variableName) => `Variable editor Table ArrowUp button ${variableName}`,\n          tableRowArrowDownButtons: (variableName) => `Variable editor Table ArrowDown button ${variableName}`,\n          tableRowDuplicateButtons: (variableName) => `Variable editor Table Duplicate button ${variableName}`,\n          tableRowRemoveButtons: (variableName) => `Variable editor Table Remove button ${variableName}`\n        },\n        Edit: {\n          General: {\n            headerLink: \"Variable editor Header link\",\n            modeLabelNew: \"Variable editor Header mode New\",\n            /**\n             * @deprecated\n             */\n            modeLabelEdit: \"Variable editor Header mode Edit\",\n            generalNameInput: \"Variable editor Form Name field\",\n            generalNameInputV2: \"data-testid Variable editor Form Name field\",\n            generalTypeSelect: \"Variable editor Form Type select\",\n            generalTypeSelectV2: \"data-testid Variable editor Form Type select\",\n            generalLabelInput: \"Variable editor Form Label field\",\n            generalLabelInputV2: \"data-testid Variable editor Form Label field\",\n            generalHideSelect: \"Variable editor Form Hide select\",\n            generalHideSelectV2: \"data-testid Variable editor Form Hide select\",\n            selectionOptionsMultiSwitch: \"data-testid Variable editor Form Multi switch\",\n            selectionOptionsIncludeAllSwitch: \"data-testid Variable editor Form IncludeAll switch\",\n            selectionOptionsCustomAllInput: \"data-testid Variable editor Form IncludeAll field\",\n            previewOfValuesOption: \"data-testid Variable editor Preview of Values option\",\n            submitButton: \"data-testid Variable editor Run Query button\",\n            applyButton: \"data-testid Variable editor Apply button\"\n          },\n          QueryVariable: {\n            queryOptionsDataSourceSelect: Components.DataSourcePicker.inputV2,\n            queryOptionsRefreshSelect: \"Variable editor Form Query Refresh select\",\n            queryOptionsRefreshSelectV2: \"data-testid Variable editor Form Query Refresh select\",\n            queryOptionsRegExInput: \"Variable editor Form Query RegEx field\",\n            queryOptionsRegExInputV2: \"data-testid Variable editor Form Query RegEx field\",\n            queryOptionsSortSelect: \"Variable editor Form Query Sort select\",\n            queryOptionsSortSelectV2: \"data-testid Variable editor Form Query Sort select\",\n            queryOptionsQueryInput: \"data-testid Variable editor Form Default Variable Query Editor textarea\",\n            valueGroupsTagsEnabledSwitch: \"Variable editor Form Query UseTags switch\",\n            valueGroupsTagsTagsQueryInput: \"Variable editor Form Query TagsQuery field\",\n            valueGroupsTagsTagsValuesQueryInput: \"Variable editor Form Query TagsValuesQuery field\"\n          },\n          ConstantVariable: {\n            constantOptionsQueryInput: \"Variable editor Form Constant Query field\",\n            constantOptionsQueryInputV2: \"data-testid Variable editor Form Constant Query field\"\n          },\n          DatasourceVariable: {\n            datasourceSelect: \"data-testid datasource variable datasource type\"\n          },\n          TextBoxVariable: {\n            textBoxOptionsQueryInput: \"Variable editor Form TextBox Query field\",\n            textBoxOptionsQueryInputV2: \"data-testid Variable editor Form TextBox Query field\"\n          },\n          CustomVariable: {\n            customValueInput: \"data-testid custom-variable-input\"\n          },\n          IntervalVariable: {\n            intervalsValueInput: \"data-testid interval variable intervals input\",\n            autoEnabledCheckbox: \"data-testid interval variable auto value checkbox\",\n            stepCountIntervalSelect: \"data-testid interval variable step count input\",\n            minIntervalInput: \"data-testid interval variable mininum interval input\"\n          },\n          GroupByVariable: {\n            dataSourceSelect: Components.DataSourcePicker.inputV2,\n            infoText: \"data-testid group by variable info text\",\n            modeToggle: \"data-testid group by variable mode toggle\"\n          },\n          AdHocFiltersVariable: {\n            datasourceSelect: Components.DataSourcePicker.inputV2,\n            infoText: \"data-testid ad-hoc filters variable info text\",\n            modeToggle: \"data-testid ad-hoc filters variable mode toggle\"\n          }\n        }\n      }\n    },\n    Annotations: {\n      marker: \"data-testid annotation-marker\"\n    },\n    Rows: {\n      Repeated: {\n        ConfigSection: {\n          warningMessage: \"data-testid Repeated rows warning message\"\n        }\n      }\n    }\n  },\n  Dashboards: {\n    url: \"/dashboards\",\n    /**\n     * @deprecated use components.Search.dashboardItem from Grafana 8.3 instead\n     */\n    dashboards: (title) => `Dashboard search item ${title}`\n  },\n  SaveDashboardAsModal: {\n    newName: \"Save dashboard title field\",\n    save: \"Save dashboard button\"\n  },\n  SaveDashboardModal: {\n    save: \"Dashboard settings Save Dashboard Modal Save button\",\n    saveVariables: \"Dashboard settings Save Dashboard Modal Save variables checkbox\",\n    saveTimerange: \"Dashboard settings Save Dashboard Modal Save timerange checkbox\",\n    saveRefresh: \"Dashboard settings Save Dashboard Modal Save refresh checkbox\"\n  },\n  SharePanelModal: {\n    linkToRenderedImage: \"Link to rendered image\"\n  },\n  ShareDashboardModal: {\n    PublicDashboard: {\n      WillBePublicCheckbox: \"data-testid public dashboard will be public checkbox\",\n      LimitedDSCheckbox: \"data-testid public dashboard limited datasources checkbox\",\n      CostIncreaseCheckbox: \"data-testid public dashboard cost may increase checkbox\",\n      PauseSwitch: \"data-testid public dashboard pause switch\",\n      EnableAnnotationsSwitch: \"data-testid public dashboard on off switch for annotations\",\n      CreateButton: \"data-testid public dashboard create button\",\n      DeleteButton: \"data-testid public dashboard delete button\",\n      CopyUrlInput: \"data-testid public dashboard copy url input\",\n      CopyUrlButton: \"data-testid public dashboard copy url button\",\n      SettingsDropdown: \"data-testid public dashboard settings dropdown\",\n      TemplateVariablesWarningAlert: \"data-testid public dashboard disabled template variables alert\",\n      UnsupportedDataSourcesWarningAlert: \"data-testid public dashboard unsupported data sources alert\",\n      NoUpsertPermissionsWarningAlert: \"data-testid public dashboard no upsert permissions alert\",\n      EnableTimeRangeSwitch: \"data-testid public dashboard on off switch for time range\",\n      EmailSharingConfiguration: {\n        Container: \"data-testid email sharing config container\",\n        ShareType: \"data-testid public dashboard share type\",\n        EmailSharingInput: \"data-testid public dashboard email sharing input\",\n        EmailSharingInviteButton: \"data-testid public dashboard email sharing invite button\",\n        EmailSharingList: \"data-testid public dashboard email sharing list\",\n        DeleteEmail: \"data-testid public dashboard delete email button\",\n        ReshareLink: \"data-testid public dashboard reshare link button\"\n      }\n    },\n    SnapshotScene: {\n      url: (key) => `/dashboard/snapshot/${key}`,\n      PublishSnapshot: \"data-testid publish snapshot button\",\n      CopyUrlButton: \"data-testid snapshot copy url button\",\n      CopyUrlInput: \"data-testid snapshot copy url input\"\n    }\n  },\n  ShareDashboardDrawer: {\n    ShareInternally: {\n      container: \"data-testid share internally drawer container\",\n      lockTimeRangeSwitch: \"data-testid share internally lock time range switch\",\n      shortenUrlSwitch: \"data-testid share internally shorten url switch\",\n      copyUrlButton: \"data-testid share internally copy url button\"\n    },\n    ShareExternally: {\n      container: \"data-testid share externally drawer container\",\n      publicAlert: \"data-testid public share alert\",\n      emailSharingAlert: \"data-testid email share alert\",\n      shareTypeSelect: \"data-testid share externally share type select\",\n      Creation: {\n        PublicShare: {\n          createButton: \"data-testid public share dashboard create button\",\n          cancelButton: \"data-testid public share dashboard cancel button\"\n        },\n        EmailShare: {\n          createButton: \"data-testid email share dashboard create button\",\n          cancelButton: \"data-testid email share dashboard cancel button\"\n        },\n        willBePublicCheckbox: \"data-testid share dashboard will be public checkbox\"\n      },\n      Configuration: {\n        enableTimeRangeSwitch: \"data-testid share externally enable time range switch\",\n        enableAnnotationsSwitch: \"data-testid share externally enable annotations switch\",\n        copyUrlButton: \"data-testid share externally copy url button\",\n        revokeAccessButton: \"data-testid share externally revoke access button\",\n        toggleAccessButton: \"data-testid share externally pause or resume access button\"\n      }\n    },\n    ShareSnapshot: {\n      url: (key) => `/dashboard/snapshot/${key}`,\n      container: \"data-testid share snapshot drawer container\",\n      publishSnapshot: \"data-testid share snapshot publish button\",\n      copyUrlButton: \"data-testid share snapshot copy url button\"\n    }\n  },\n  ExportDashboardDrawer: {\n    ExportAsJson: {\n      container: \"data-testid export as json drawer container\",\n      codeEditor: \"data-testid export as json code editor\",\n      exportExternallyToggle: \"data-testid export as json externally switch\",\n      saveToFileButton: \"data-testid export as json save to file button\",\n      copyToClipboardButton: \"data-testid export as json copy to clipboard button\",\n      cancelButton: \"data-testid export as json cancel button\"\n    }\n  },\n  PublicDashboard: {\n    page: \"public-dashboard-page\",\n    NotAvailable: {\n      container: \"public-dashboard-not-available\",\n      title: \"public-dashboard-title\",\n      pausedDescription: \"public-dashboard-paused-description\"\n    },\n    footer: \"public-dashboard-footer\"\n  },\n  PublicDashboardScene: {\n    loadingPage: \"public-dashboard-scene-loading-page\",\n    page: \"public-dashboard-scene-page\",\n    controls: \"public-dashboard-controls\"\n  },\n  RequestViewAccess: {\n    form: \"request-view-access-form\",\n    recipientInput: \"request-view-access-recipient-input\",\n    submitButton: \"request-view-access-submit-button\"\n  },\n  PublicDashboardConfirmAccess: {\n    submitButton: \"data-testid confirm-access-submit-button\"\n  },\n  Explore: {\n    url: \"/explore\",\n    General: {\n      container: \"data-testid Explore\",\n      graph: \"Explore Graph\",\n      table: \"Explore Table\",\n      scrollView: \"data-testid explorer scroll view\"\n    },\n    QueryHistory: {\n      container: \"data-testid QueryHistory\"\n    }\n  },\n  SoloPanel: {\n    url: (page) => `/d-solo/${page}`\n  },\n  PluginsList: {\n    page: \"Plugins list page\",\n    list: \"Plugins list\",\n    listItem: \"Plugins list item\",\n    signatureErrorNotice: \"data-testid Unsigned plugins notice\"\n  },\n  PluginPage: {\n    page: \"Plugin page\",\n    signatureInfo: \"data-testid Plugin signature info\",\n    disabledInfo: \"data-testid Plugin disabled info\"\n  },\n  PlaylistForm: {\n    name: \"Playlist name\",\n    interval: \"Playlist interval\",\n    itemDelete: \"data-testid playlist-form-delete-item\"\n  },\n  BrowseDashboards: {\n    table: {\n      body: \"data-testid browse-dashboards-table\",\n      row: (name) => `data-testid browse dashboards row ${name}`,\n      checkbox: (uid) => `data-testid ${uid} checkbox`\n    },\n    NewFolderForm: {\n      form: \"data-testid new folder form\",\n      nameInput: \"data-testid new-folder-name-input\",\n      createButton: \"data-testid new-folder-create-button\"\n    }\n  },\n  Search: {\n    url: \"/?search=openn\",\n    FolderView: {\n      url: \"/?search=open&layout=folders\"\n    }\n  },\n  PublicDashboards: {\n    ListItem: {\n      linkButton: \"public-dashboard-link-button\",\n      configButton: \"public-dashboard-configuration-button\",\n      trashcanButton: \"public-dashboard-remove-button\",\n      pauseSwitch: \"data-testid public dashboard pause switch\"\n    }\n  },\n  UserListPage: {\n    tabs: {\n      allUsers: \"data-testid all-users-tab\",\n      orgUsers: \"data-testid org-users-tab\",\n      anonUserDevices: \"data-testid anon-user-devices-tab\",\n      publicDashboardsUsers: \"data-testid public-dashboards-users-tab\",\n      users: \"data-testid users-tab\"\n    },\n    org: {\n      url: \"/org/users\"\n    },\n    admin: {\n      url: \"/admin/users\"\n    },\n    publicDashboards: {\n      container: \"data-testid public-dashboards-users-list\"\n    },\n    UserListAdminPage: {\n      container: \"data-testid user-list-admin-page\"\n    },\n    UsersListPage: {\n      container: \"data-testid users-list-page\"\n    },\n    UserAnonListPage: {\n      container: \"data-testid user-anon-list-page\"\n    },\n    UsersListPublicDashboardsPage: {\n      container: \"data-testid users-list-public-dashboards-page\",\n      DashboardsListModal: {\n        listItem: (uid) => `data-testid dashboards-list-item-${uid}`\n      }\n    }\n  },\n  ProfilePage: {\n    url: \"/profile\"\n  }\n};\n\nexport { Pages };\n//# sourceMappingURL=pages.js.map\n","import uFuzzy from '@leeoniya/ufuzzy';\nimport { ALL_VARIABLE_VALUE, ALL_VARIABLE_TEXT } from '../constants.js';\n\nfunction getOptionSearcher(options, includeAll) {\n  const ufuzzy = new uFuzzy();\n  let allOptions = options;\n  const haystack = [];\n  const limit = 1e4;\n  if (includeAll) {\n    allOptions = [{ value: ALL_VARIABLE_VALUE, label: ALL_VARIABLE_TEXT }, ...allOptions];\n  }\n  return (search) => {\n    if (search === \"\") {\n      if (allOptions.length > limit) {\n        return allOptions.slice(0, limit);\n      } else {\n        return allOptions;\n      }\n    }\n    if (haystack.length === 0) {\n      for (let i = 0; i < allOptions.length; i++) {\n        haystack.push(allOptions[i].label);\n      }\n    }\n    const idxs = ufuzzy.filter(haystack, search);\n    const filteredOptions = [];\n    if (idxs) {\n      for (let i = 0; i < idxs.length; i++) {\n        filteredOptions.push(allOptions[idxs[i]]);\n        if (filteredOptions.length > limit) {\n          return filteredOptions;\n        }\n      }\n      return filteredOptions;\n    }\n    if (allOptions.length > limit) {\n      return allOptions.slice(0, limit);\n    }\n    return allOptions;\n  };\n}\n\nexport { getOptionSearcher };\n//# sourceMappingURL=getOptionSearcher.js.map\n","import { isArray } from 'lodash';\nimport React, { useState, useMemo, useEffect } from 'react';\nimport { Select, MultiSelect, useTheme2, getSelectStyles, useStyles2, Checkbox } from '@grafana/ui';\nimport { selectors } from '@grafana/e2e-selectors';\nimport { cx, css } from '@emotion/css';\nimport { getOptionSearcher } from './getOptionSearcher.js';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nconst filterNoOp = () => true;\nfunction toSelectableValue(value, label) {\n  return {\n    value,\n    label: label != null ? label : String(value)\n  };\n}\nfunction VariableValueSelect({ model }) {\n  const { value, text, key, options, includeAll, isReadOnly } = model.useState();\n  const [inputValue, setInputValue] = useState(\"\");\n  const [hasCustomValue, setHasCustomValue] = useState(false);\n  const selectValue = toSelectableValue(value, String(text));\n  const optionSearcher = useMemo(() => getOptionSearcher(options, includeAll), [options, includeAll]);\n  const onInputChange = (value2, { action }) => {\n    if (action === \"input-change\") {\n      setInputValue(value2);\n      if (model.onSearchChange) {\n        model.onSearchChange(value2);\n      }\n      return value2;\n    }\n    return value2;\n  };\n  const filteredOptions = optionSearcher(inputValue);\n  const onOpenMenu = () => {\n    if (hasCustomValue) {\n      setInputValue(String(text));\n    }\n  };\n  const onCloseMenu = () => {\n    setInputValue(\"\");\n  };\n  return /* @__PURE__ */ React.createElement(Select, {\n    id: key,\n    isValidNewOption: (inputValue2) => inputValue2.trim().length > 0,\n    placeholder: \"Select value\",\n    width: \"auto\",\n    disabled: isReadOnly,\n    value: selectValue,\n    inputValue,\n    allowCustomValue: true,\n    virtualized: true,\n    filterOption: filterNoOp,\n    tabSelectsValue: false,\n    onInputChange,\n    onOpenMenu,\n    onCloseMenu,\n    options: filteredOptions,\n    \"data-testid\": selectors.pages.Dashboard.SubMenu.submenuItemValueDropDownValueLinkTexts(`${value}`),\n    onChange: (newValue) => {\n      model.changeValueTo(newValue.value, newValue.label);\n      if (hasCustomValue !== newValue.__isNew__) {\n        setHasCustomValue(newValue.__isNew__);\n      }\n    }\n  });\n}\nfunction VariableValueSelectMulti({ model }) {\n  const { value, options, key, maxVisibleValues, noValueOnClear, includeAll, isReadOnly } = model.useState();\n  const arrayValue = useMemo(() => isArray(value) ? value : [value], [value]);\n  const [uncommittedValue, setUncommittedValue] = useState(arrayValue);\n  const [inputValue, setInputValue] = useState(\"\");\n  const optionSearcher = useMemo(() => getOptionSearcher(options, includeAll), [options, includeAll]);\n  useEffect(() => {\n    setUncommittedValue(arrayValue);\n  }, [arrayValue]);\n  const onInputChange = (value2, { action }) => {\n    if (action === \"input-change\") {\n      setInputValue(value2);\n      if (model.onSearchChange) {\n        model.onSearchChange(value2);\n      }\n      return value2;\n    }\n    if (action === \"input-blur\") {\n      setInputValue(\"\");\n      return \"\";\n    }\n    return inputValue;\n  };\n  const placeholder = options.length > 0 ? \"Select value\" : \"\";\n  const filteredOptions = optionSearcher(inputValue);\n  return /* @__PURE__ */ React.createElement(MultiSelect, {\n    id: key,\n    placeholder,\n    width: \"auto\",\n    inputValue,\n    disabled: isReadOnly,\n    value: uncommittedValue,\n    noMultiValueWrap: true,\n    maxVisibleValues: maxVisibleValues != null ? maxVisibleValues : 5,\n    tabSelectsValue: false,\n    virtualized: true,\n    allowCustomValue: true,\n    options: filteredOptions,\n    closeMenuOnSelect: false,\n    components: { Option: OptionWithCheckbox },\n    isClearable: true,\n    hideSelectedOptions: false,\n    onInputChange,\n    onBlur: () => {\n      model.changeValueTo(uncommittedValue);\n    },\n    filterOption: filterNoOp,\n    \"data-testid\": selectors.pages.Dashboard.SubMenu.submenuItemValueDropDownValueLinkTexts(`${uncommittedValue}`),\n    onChange: (newValue, action) => {\n      if (action.action === \"clear\" && noValueOnClear) {\n        model.changeValueTo([]);\n      }\n      setUncommittedValue(newValue.map((x) => x.value));\n    }\n  });\n}\nconst OptionWithCheckbox = ({\n  children,\n  data,\n  innerProps,\n  innerRef,\n  isFocused,\n  isSelected,\n  renderOptionLabel\n}) => {\n  var _b;\n  const _a = innerProps, rest = __objRest(_a, [\"onMouseMove\", \"onMouseOver\"]);\n  const theme = useTheme2();\n  const selectStyles = getSelectStyles(theme);\n  const optionStyles = useStyles2(getOptionStyles);\n  return /* @__PURE__ */ React.createElement(\"div\", __spreadProps(__spreadValues({\n    ref: innerRef,\n    className: cx(selectStyles.option, isFocused && selectStyles.optionFocused)\n  }, rest), {\n    \"data-testid\": selectors.components.Select.option,\n    title: data.title\n  }), /* @__PURE__ */ React.createElement(\"div\", {\n    className: optionStyles.checkbox\n  }, /* @__PURE__ */ React.createElement(Checkbox, {\n    value: isSelected\n  })), /* @__PURE__ */ React.createElement(\"div\", {\n    className: selectStyles.optionBody,\n    \"data-testid\": selectors.pages.Dashboard.SubMenu.submenuItemValueDropDownOptionTexts(\n      (_b = data.label) != null ? _b : String(data.value)\n    )\n  }, /* @__PURE__ */ React.createElement(\"span\", null, children)));\n};\nOptionWithCheckbox.displayName = \"SelectMenuOptions\";\nconst getOptionStyles = (theme) => ({\n  checkbox: css({\n    marginRight: theme.spacing(2)\n  })\n});\nfunction renderSelectForVariable(model) {\n  if (model.state.isMulti) {\n    return /* @__PURE__ */ React.createElement(VariableValueSelectMulti, {\n      model\n    });\n  } else {\n    return /* @__PURE__ */ React.createElement(VariableValueSelect, {\n      model\n    });\n  }\n}\n\nexport { OptionWithCheckbox, VariableValueSelect, VariableValueSelectMulti, renderSelectForVariable, toSelectableValue };\n//# sourceMappingURL=VariableValueSelect.js.map\n","import { toUrlCommaDelimitedString, unescapeUrlDelimiters } from '../utils.js';\n\nclass GroupByVariableUrlSyncHandler {\n  constructor(_sceneObject) {\n    this._sceneObject = _sceneObject;\n  }\n  getKey() {\n    return `var-${this._sceneObject.state.name}`;\n  }\n  getKeys() {\n    if (this._sceneObject.state.skipUrlSync) {\n      return [];\n    }\n    return [this.getKey()];\n  }\n  getUrlState() {\n    if (this._sceneObject.state.skipUrlSync) {\n      return {};\n    }\n    return { [this.getKey()]: toUrlValues(this._sceneObject.state.value, this._sceneObject.state.text) };\n  }\n  updateFromUrl(values) {\n    let urlValue = values[this.getKey()];\n    if (urlValue != null) {\n      if (!this._sceneObject.isActive) {\n        this._sceneObject.skipNextValidation = true;\n      }\n      const { values: values2, texts } = fromUrlValues(urlValue);\n      this._sceneObject.changeValueTo(values2, texts);\n    }\n  }\n}\nfunction toUrlValues(values, texts) {\n  values = Array.isArray(values) ? values : [values];\n  texts = Array.isArray(texts) ? texts : [texts];\n  return values.map((value, idx) => {\n    if (value === void 0 || value === null) {\n      return \"\";\n    }\n    value = String(value);\n    let text = texts[idx];\n    text = text === void 0 || text === null ? value : String(text);\n    return toUrlCommaDelimitedString(value, text);\n  });\n}\nfunction fromUrlValues(urlValues) {\n  urlValues = Array.isArray(urlValues) ? urlValues : [urlValues];\n  return urlValues.reduce(\n    (acc, urlValue) => {\n      const [value, label] = (urlValue != null ? urlValue : \"\").split(\",\");\n      acc.values.push(unescapeUrlDelimiters(value));\n      acc.texts.push(unescapeUrlDelimiters(label != null ? label : value));\n      return acc;\n    },\n    {\n      values: [],\n      texts: []\n    }\n  );\n}\n\nexport { GroupByVariableUrlSyncHandler };\n//# sourceMappingURL=GroupByVariableUrlSyncHandler.js.map\n","import { isFiltersRequestEnricher } from '../core/types.js';\n\nfunction getEnrichedFiltersRequest(sourceRunner) {\n  const root = sourceRunner.getRoot();\n  if (isFiltersRequestEnricher(root)) {\n    return root.enrichFiltersRequest(sourceRunner);\n  }\n  return null;\n}\n\nexport { getEnrichedFiltersRequest };\n//# sourceMappingURL=getEnrichedFiltersRequest.js.map\n","import React, { useMemo, useState, useEffect } from 'react';\nimport { allActiveGroupByVariables } from './findActiveGroupByVariablesByUid.js';\nimport { sceneGraph } from '../../core/sceneGraph/index.js';\nimport { MultiValueVariable } from '../variants/MultiValueVariable.js';\nimport { map, of, from, mergeMap, take, lastValueFrom } from 'rxjs';\nimport { getDataSource } from '../../utils/getDataSource.js';\nimport { MultiSelect } from '@grafana/ui';\nimport { isArray } from 'lodash';\nimport { getQueriesForVariables } from '../utils.js';\nimport { OptionWithCheckbox } from '../components/VariableValueSelect.js';\nimport { GroupByVariableUrlSyncHandler } from './GroupByVariableUrlSyncHandler.js';\nimport { getOptionSearcher } from '../components/getOptionSearcher.js';\nimport { getEnrichedFiltersRequest } from '../getEnrichedFiltersRequest.js';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nclass GroupByVariable extends MultiValueVariable {\n  constructor(initialState) {\n    super(__spreadProps(__spreadValues({\n      isMulti: true,\n      name: \"\",\n      value: [],\n      text: [],\n      options: [],\n      datasource: null,\n      baseFilters: [],\n      applyMode: \"auto\",\n      layout: \"horizontal\",\n      type: \"groupby\"\n    }, initialState), {\n      noValueOnClear: true\n    }));\n    this.isLazy = true;\n    this._urlSync = new GroupByVariableUrlSyncHandler(this);\n    this._getKeys = async (ds) => {\n      var _a, _b, _c;\n      const override = await ((_b = (_a = this.state).getTagKeysProvider) == null ? void 0 : _b.call(_a, this, null));\n      if (override && override.replace) {\n        return override.values;\n      }\n      if (this.state.defaultOptions) {\n        return this.state.defaultOptions.concat((_c = override == null ? void 0 : override.values) != null ? _c : []);\n      }\n      if (!ds.getTagKeys) {\n        return [];\n      }\n      const queries = getQueriesForVariables(this);\n      const otherFilters = this.state.baseFilters || [];\n      const timeRange = sceneGraph.getTimeRange(this).state.value;\n      let keys = await ds.getTagKeys(__spreadValues({ filters: otherFilters, queries, timeRange }, getEnrichedFiltersRequest(this)));\n      if (override) {\n        keys = keys.concat(override.values);\n      }\n      const tagKeyRegexFilter = this.state.tagKeyRegexFilter;\n      if (tagKeyRegexFilter) {\n        keys = keys.filter((f) => f.text.match(tagKeyRegexFilter));\n      }\n      return keys;\n    };\n    this.addActivationHandler(() => {\n      allActiveGroupByVariables.add(this);\n      return () => allActiveGroupByVariables.delete(this);\n    });\n  }\n  validateAndUpdate() {\n    return this.getValueOptions({}).pipe(\n      map((options) => {\n        this._updateValueGivenNewOptions(options);\n        return {};\n      })\n    );\n  }\n  _updateValueGivenNewOptions(options) {\n    const { value: currentValue, text: currentText } = this.state;\n    const stateUpdate = {\n      options,\n      loading: false,\n      value: currentValue != null ? currentValue : [],\n      text: currentText != null ? currentText : []\n    };\n    this.setState(stateUpdate);\n  }\n  getValueOptions(args) {\n    if (this.state.defaultOptions) {\n      return of(\n        this.state.defaultOptions.map((o) => ({\n          label: o.text,\n          value: String(o.value)\n        }))\n      );\n    }\n    this.setState({ loading: true, error: null });\n    return from(\n      getDataSource(this.state.datasource, {\n        __sceneObject: { text: \"__sceneObject\", value: this }\n      })\n    ).pipe(\n      mergeMap((ds) => {\n        return from(this._getKeys(ds)).pipe(\n          take(1),\n          mergeMap((data) => {\n            const a = data.map((i) => {\n              return {\n                label: i.text,\n                value: i.value ? String(i.value) : i.text\n              };\n            });\n            return of(a);\n          })\n        );\n      })\n    );\n  }\n  getDefaultMultiState(options) {\n    return { value: [], text: [] };\n  }\n}\nGroupByVariable.Component = GroupByVariableRenderer;\nfunction GroupByVariableRenderer({ model }) {\n  const { value, text, key, maxVisibleValues, noValueOnClear, options, includeAll } = model.useState();\n  const values = useMemo(() => {\n    const arrayValue = isArray(value) ? value : [value];\n    const arrayText = isArray(text) ? text : [text];\n    return arrayValue.map((value2, idx) => {\n      var _a;\n      return {\n        value: value2,\n        label: String((_a = arrayText[idx]) != null ? _a : value2)\n      };\n    });\n  }, [value, text]);\n  const [isFetchingOptions, setIsFetchingOptions] = useState(false);\n  const [isOptionsOpen, setIsOptionsOpen] = useState(false);\n  const [inputValue, setInputValue] = useState(\"\");\n  const [uncommittedValue, setUncommittedValue] = useState(values);\n  const optionSearcher = useMemo(() => getOptionSearcher(options, includeAll), [options, includeAll]);\n  useEffect(() => {\n    setUncommittedValue(values);\n  }, [values]);\n  const onInputChange = (value2, { action }) => {\n    if (action === \"input-change\") {\n      setInputValue(value2);\n      if (model.onSearchChange) {\n        model.onSearchChange(value2);\n      }\n      return value2;\n    }\n    if (action === \"input-blur\") {\n      setInputValue(\"\");\n      return \"\";\n    }\n    return inputValue;\n  };\n  const filteredOptions = optionSearcher(inputValue);\n  return /* @__PURE__ */ React.createElement(MultiSelect, {\n    \"data-testid\": `GroupBySelect-${key}`,\n    id: key,\n    placeholder: \"Select value\",\n    width: \"auto\",\n    inputValue,\n    value: uncommittedValue,\n    noMultiValueWrap: true,\n    maxVisibleValues: maxVisibleValues != null ? maxVisibleValues : 5,\n    tabSelectsValue: false,\n    virtualized: true,\n    options: filteredOptions,\n    filterOption: filterNoOp,\n    closeMenuOnSelect: false,\n    isOpen: isOptionsOpen,\n    isClearable: true,\n    hideSelectedOptions: false,\n    isLoading: isFetchingOptions,\n    components: { Option: OptionWithCheckbox },\n    onInputChange,\n    onBlur: () => {\n      model.changeValueTo(\n        uncommittedValue.map((x) => x.value),\n        uncommittedValue.map((x) => x.label)\n      );\n    },\n    onChange: (newValue, action) => {\n      if (action.action === \"clear\" && noValueOnClear) {\n        model.changeValueTo([]);\n      }\n      setUncommittedValue(newValue);\n    },\n    onOpenMenu: async () => {\n      setIsFetchingOptions(true);\n      await lastValueFrom(model.validateAndUpdate());\n      setIsFetchingOptions(false);\n      setIsOptionsOpen(true);\n    },\n    onCloseMenu: () => {\n      setIsOptionsOpen(false);\n    }\n  });\n}\nconst filterNoOp = () => true;\n\nexport { GroupByVariable, GroupByVariableRenderer };\n//# sourceMappingURL=GroupByVariable.js.map\n","import { Tooltip, Icon } from '@grafana/ui';\nimport React from 'react';\n\nfunction LoadingIndicator(props) {\n  return /* @__PURE__ */ React.createElement(Tooltip, {\n    content: \"Cancel query\"\n  }, /* @__PURE__ */ React.createElement(Icon, {\n    className: \"spin-clockwise\",\n    name: \"sync\",\n    size: \"xs\",\n    role: \"button\",\n    onMouseDown: (e) => {\n      props.onCancel(e);\n    }\n  }));\n}\n\nexport { LoadingIndicator };\n//# sourceMappingURL=LoadingIndicator.js.map\n","import React from 'react';\nimport { useStyles2, useTheme2, Tooltip, Icon, IconButton } from '@grafana/ui';\nimport { selectors } from '@grafana/e2e-selectors';\nimport { css } from '@emotion/css';\nimport { LoadingIndicator } from './LoadingIndicator.js';\n\nfunction ControlsLabel(props) {\n  const styles = useStyles2(getStyles);\n  const theme = useTheme2();\n  const isVertical = props.layout === \"vertical\";\n  const loadingIndicator = Boolean(props.isLoading) ? /* @__PURE__ */ React.createElement(\"div\", {\n    style: { marginLeft: theme.spacing(1), marginTop: \"-1px\" },\n    \"aria-label\": selectors.components.LoadingIndicator.icon\n  }, /* @__PURE__ */ React.createElement(LoadingIndicator, {\n    onCancel: (e) => {\n      var _a;\n      e.preventDefault();\n      e.stopPropagation();\n      (_a = props.onCancel) == null ? void 0 : _a.call(props);\n    }\n  })) : null;\n  let errorIndicator = null;\n  if (props.error) {\n    errorIndicator = /* @__PURE__ */ React.createElement(Tooltip, {\n      content: props.error,\n      placement: \"bottom\"\n    }, /* @__PURE__ */ React.createElement(Icon, {\n      className: styles.errorIcon,\n      name: \"exclamation-triangle\"\n    }));\n  }\n  let descriptionIndicator = null;\n  if (props.description) {\n    descriptionIndicator = /* @__PURE__ */ React.createElement(Tooltip, {\n      content: props.description,\n      placement: isVertical ? \"top\" : \"bottom\"\n    }, /* @__PURE__ */ React.createElement(Icon, {\n      className: styles.normalIcon,\n      name: \"info-circle\"\n    }));\n  }\n  const testId = typeof props.label === \"string\" ? selectors.pages.Dashboard.SubMenu.submenuItemLabels(props.label) : \"\";\n  let labelElement;\n  if (isVertical) {\n    labelElement = /* @__PURE__ */ React.createElement(\"label\", {\n      className: styles.verticalLabel,\n      \"data-testid\": testId,\n      htmlFor: props.htmlFor\n    }, props.label, descriptionIndicator, errorIndicator, props.icon && /* @__PURE__ */ React.createElement(Icon, {\n      name: props.icon,\n      className: styles.normalIcon\n    }), loadingIndicator, props.onRemove && /* @__PURE__ */ React.createElement(IconButton, {\n      variant: \"secondary\",\n      size: \"xs\",\n      name: \"times\",\n      onClick: props.onRemove,\n      tooltip: \"Remove\"\n    }));\n  } else {\n    labelElement = /* @__PURE__ */ React.createElement(\"label\", {\n      className: styles.horizontalLabel,\n      \"data-testid\": testId,\n      htmlFor: props.htmlFor\n    }, errorIndicator, props.icon && /* @__PURE__ */ React.createElement(Icon, {\n      name: props.icon,\n      className: styles.normalIcon\n    }), props.label, descriptionIndicator, loadingIndicator);\n  }\n  return labelElement;\n}\nconst getStyles = (theme) => ({\n  horizontalLabel: css({\n    background: theme.isDark ? theme.colors.background.primary : theme.colors.background.secondary,\n    display: `flex`,\n    alignItems: \"center\",\n    padding: theme.spacing(0, 1),\n    fontWeight: theme.typography.fontWeightMedium,\n    fontSize: theme.typography.bodySmall.fontSize,\n    height: theme.spacing(theme.components.height.md),\n    lineHeight: theme.spacing(theme.components.height.md),\n    borderRadius: theme.shape.borderRadius(1),\n    border: `1px solid ${theme.components.input.borderColor}`,\n    position: \"relative\",\n    right: -1,\n    whiteSpace: \"nowrap\",\n    gap: theme.spacing(0.5)\n  }),\n  verticalLabel: css({\n    display: `flex`,\n    alignItems: \"center\",\n    fontWeight: theme.typography.fontWeightMedium,\n    fontSize: theme.typography.bodySmall.fontSize,\n    lineHeight: theme.typography.bodySmall.lineHeight,\n    whiteSpace: \"nowrap\",\n    marginBottom: theme.spacing(0.5),\n    gap: theme.spacing(1)\n  }),\n  errorIcon: css({\n    color: theme.colors.error.text\n  }),\n  normalIcon: css({\n    color: theme.colors.text.secondary\n  })\n});\n\nexport { ControlsLabel };\n//# sourceMappingURL=ControlsLabel.js.map\n","import React, { useState, useMemo } from 'react';\nimport { useStyles2, Select, Field, Button } from '@grafana/ui';\nimport { cx, css } from '@emotion/css';\nimport { ControlsLabel } from '../../utils/ControlsLabel.js';\nimport { getOptionSearcher } from '../components/getOptionSearcher.js';\n\nfunction selectableValueToVariableValueOption(value) {\n  var _a;\n  return {\n    label: (_a = value.label) != null ? _a : String(value.value),\n    value: value.value\n  };\n}\nfunction keyLabelToOption(key, label) {\n  return key !== \"\" ? {\n    value: key,\n    label: label || key\n  } : null;\n}\nconst filterNoOp = () => true;\nfunction AdHocFilterRenderer({ filter, model }) {\n  var _a, _b;\n  const styles = useStyles2(getStyles);\n  const [keys, setKeys] = useState([]);\n  const [values, setValues] = useState([]);\n  const [isKeysLoading, setIsKeysLoading] = useState(false);\n  const [isValuesLoading, setIsValuesLoading] = useState(false);\n  const [isKeysOpen, setIsKeysOpen] = useState(false);\n  const [isValuesOpen, setIsValuesOpen] = useState(false);\n  const [valueInputValue, setValueInputValue] = useState(\"\");\n  const [valueHasCustomValue, setValueHasCustomValue] = useState(false);\n  const keyValue = keyLabelToOption(filter.key, filter.keyLabel);\n  const valueValue = keyLabelToOption(filter.value, filter.valueLabel);\n  const optionSearcher = useMemo(\n    () => getOptionSearcher(values.map(selectableValueToVariableValueOption), void 0),\n    [values]\n  );\n  const onValueInputChange = (value, { action }) => {\n    if (action === \"input-change\") {\n      setValueInputValue(value);\n    }\n    return value;\n  };\n  const filteredValueOptions = optionSearcher(valueInputValue);\n  const valueSelect = /* @__PURE__ */ React.createElement(Select, {\n    virtualized: true,\n    allowCustomValue: true,\n    isValidNewOption: (inputValue) => inputValue.trim().length > 0,\n    allowCreateWhileLoading: true,\n    formatCreateLabel: (inputValue) => `Use custom value: ${inputValue}`,\n    disabled: model.state.readOnly,\n    className: cx(styles.value, isKeysOpen ? styles.widthWhenOpen : void 0),\n    width: \"auto\",\n    value: valueValue,\n    filterOption: filterNoOp,\n    placeholder: \"Select value\",\n    options: filteredValueOptions,\n    inputValue: valueInputValue,\n    onInputChange: onValueInputChange,\n    onChange: (v) => {\n      model._updateFilter(filter, \"value\", v);\n      if (valueHasCustomValue !== v.__isNew__) {\n        setValueHasCustomValue(v.__isNew__);\n      }\n    },\n    isOpen: isValuesOpen && !isValuesLoading,\n    isLoading: isValuesLoading,\n    autoFocus: filter.key !== \"\" && filter.value === \"\",\n    openMenuOnFocus: true,\n    onOpenMenu: async () => {\n      var _a2;\n      setIsValuesLoading(true);\n      setIsValuesOpen(true);\n      const values2 = await model._getValuesFor(filter);\n      setIsValuesLoading(false);\n      setValues(values2);\n      if (valueHasCustomValue) {\n        setValueInputValue((_a2 = valueValue == null ? void 0 : valueValue.label) != null ? _a2 : \"\");\n      }\n    },\n    onCloseMenu: () => {\n      setIsValuesOpen(false);\n      setValueInputValue(\"\");\n    }\n  });\n  const keySelect = /* @__PURE__ */ React.createElement(Select, {\n    key: `${isValuesLoading ? \"loading\" : \"loaded\"}`,\n    disabled: model.state.readOnly,\n    className: cx(styles.key, isKeysOpen ? styles.widthWhenOpen : void 0),\n    width: \"auto\",\n    value: keyValue,\n    placeholder: \"Select label\",\n    options: keys,\n    onChange: (v) => model._updateFilter(filter, \"key\", v),\n    autoFocus: filter.key === \"\",\n    isOpen: isKeysOpen && !isKeysLoading,\n    isLoading: isKeysLoading,\n    onOpenMenu: async () => {\n      setIsKeysOpen(true);\n      setIsKeysLoading(true);\n      const keys2 = await model._getKeys(filter.key);\n      setIsKeysLoading(false);\n      setKeys(keys2);\n    },\n    onCloseMenu: () => {\n      setIsKeysOpen(false);\n    },\n    onBlur: () => {\n      if (filter.key === \"\") {\n        model._removeFilter(filter);\n      }\n    },\n    openMenuOnFocus: true\n  });\n  if (model.state.layout === \"vertical\") {\n    if (filter.key) {\n      const label = /* @__PURE__ */ React.createElement(ControlsLabel, {\n        layout: \"vertical\",\n        label: (_a = filter.key) != null ? _a : \"\",\n        onRemove: () => model._removeFilter(filter)\n      });\n      return /* @__PURE__ */ React.createElement(Field, {\n        label,\n        \"data-testid\": `AdHocFilter-${filter.key}`,\n        className: styles.field\n      }, /* @__PURE__ */ React.createElement(\"div\", {\n        className: styles.wrapper\n      }, /* @__PURE__ */ React.createElement(Select, {\n        className: styles.operator,\n        value: filter.operator,\n        disabled: model.state.readOnly,\n        options: model._getOperators(),\n        width: \"auto\",\n        onChange: (v) => model._updateFilter(filter, \"operator\", v)\n      }), valueSelect));\n    } else {\n      return /* @__PURE__ */ React.createElement(Field, {\n        label: \"Select label\",\n        \"data-testid\": `AdHocFilter-${filter.key}`,\n        className: styles.field\n      }, keySelect);\n    }\n  }\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    className: styles.wrapper,\n    \"data-testid\": `AdHocFilter-${filter.key}`\n  }, keySelect, /* @__PURE__ */ React.createElement(Select, {\n    className: styles.operator,\n    value: filter.operator,\n    disabled: model.state.readOnly,\n    options: model._getOperators(),\n    width: \"auto\",\n    onChange: (v) => model._updateFilter(filter, \"operator\", v)\n  }), valueSelect, /* @__PURE__ */ React.createElement(Button, {\n    variant: \"secondary\",\n    \"aria-label\": \"Remove filter\",\n    title: \"Remove filter\",\n    className: styles.removeButton,\n    icon: \"times\",\n    \"data-testid\": `AdHocFilter-remove-${(_b = filter.key) != null ? _b : \"\"}`,\n    onClick: () => model._removeFilter(filter)\n  }));\n}\nconst getStyles = (theme) => ({\n  field: css({\n    marginBottom: 0\n  }),\n  wrapper: css({\n    display: \"flex\",\n    \"> *\": {\n      \"&:not(:first-child)\": {\n        marginLeft: -1\n      },\n      \"&:first-child\": {\n        borderTopRightRadius: 0,\n        borderBottomRightRadius: 0\n      },\n      \"&:last-child\": {\n        borderTopLeftRadius: 0,\n        borderBottomLeftRadius: 0\n      },\n      \"&:not(:first-child):not(:last-child)\": {\n        borderRadius: 0\n      },\n      position: \"relative\",\n      zIndex: 0,\n      \"&:hover\": {\n        zIndex: 1\n      },\n      \"&:focus-within\": {\n        zIndex: 2\n      }\n    }\n  }),\n  widthWhenOpen: css({\n    minWidth: theme.spacing(16)\n  }),\n  value: css({\n    flexShrink: 1\n  }),\n  key: css({\n    minWidth: \"90px\",\n    flexShrink: 1\n  }),\n  operator: css({\n    flexShrink: 0\n  }),\n  removeButton: css({\n    paddingLeft: theme.spacing(3 / 2),\n    paddingRight: theme.spacing(3 / 2),\n    borderLeft: \"none\",\n    width: theme.spacing(3),\n    marginRight: theme.spacing(1),\n    boxSizing: \"border-box\",\n    position: \"relative\",\n    left: \"1px\"\n  })\n});\n\nexport { AdHocFilterRenderer };\n//# sourceMappingURL=AdHocFilterRenderer.js.map\n","import React from 'react';\nimport { AdHocFilterRenderer } from './AdHocFilterRenderer.js';\nimport { Button } from '@grafana/ui';\n\nfunction AdHocFilterBuilder({ model, addFilterButtonText }) {\n  const { _wip } = model.useState();\n  if (!_wip) {\n    return /* @__PURE__ */ React.createElement(Button, {\n      variant: \"secondary\",\n      icon: \"plus\",\n      title: \"Add filter\",\n      \"aria-label\": \"Add filter\",\n      \"data-testid\": `AdHocFilter-add`,\n      onClick: () => model._addWip()\n    }, addFilterButtonText);\n  }\n  return /* @__PURE__ */ React.createElement(AdHocFilterRenderer, {\n    filter: _wip,\n    model\n  });\n}\n\nexport { AdHocFilterBuilder };\n//# sourceMappingURL=AdHocFilterBuilder.js.map\n","import { isFilterComplete } from './AdHocFiltersVariable.js';\nimport { escapeUrlPipeDelimiters, toUrlCommaDelimitedString, unescapeUrlDelimiters } from '../utils.js';\n\nclass AdHocFiltersVariableUrlSyncHandler {\n  constructor(_variable) {\n    this._variable = _variable;\n  }\n  getKey() {\n    return `var-${this._variable.state.name}`;\n  }\n  getKeys() {\n    return [this.getKey()];\n  }\n  getUrlState() {\n    const filters = this._variable.state.filters;\n    if (filters.length === 0) {\n      return { [this.getKey()]: [\"\"] };\n    }\n    const value = filters.filter(isFilterComplete).map((filter) => toArray(filter).map(escapeUrlPipeDelimiters).join(\"|\"));\n    return { [this.getKey()]: value };\n  }\n  updateFromUrl(values) {\n    const urlValue = values[this.getKey()];\n    if (urlValue == null) {\n      return;\n    }\n    const filters = deserializeUrlToFilters(urlValue);\n    this._variable.setState({ filters });\n  }\n}\nfunction deserializeUrlToFilters(value) {\n  if (Array.isArray(value)) {\n    const values = value;\n    return values.map(toFilter).filter(isFilter);\n  }\n  const filter = toFilter(value);\n  return filter === null ? [] : [filter];\n}\nfunction toArray(filter) {\n  return [\n    toUrlCommaDelimitedString(filter.key, filter.keyLabel),\n    filter.operator,\n    toUrlCommaDelimitedString(filter.value, filter.valueLabel)\n  ];\n}\nfunction toFilter(urlValue) {\n  if (typeof urlValue !== \"string\" || urlValue.length === 0) {\n    return null;\n  }\n  const [key, keyLabel, operator, _operatorLabel, value, valueLabel] = urlValue.split(\"|\").reduce((acc, v) => {\n    const [key2, label] = v.split(\",\");\n    acc.push(key2, label != null ? label : key2);\n    return acc;\n  }, []).map(unescapeUrlDelimiters);\n  return {\n    key,\n    keyLabel,\n    operator,\n    value,\n    valueLabel,\n    condition: \"\"\n  };\n}\nfunction isFilter(filter) {\n  return filter !== null && typeof filter.key === \"string\" && typeof filter.value === \"string\";\n}\n\nexport { AdHocFiltersVariableUrlSyncHandler };\n//# sourceMappingURL=AdHocFiltersVariableUrlSyncHandler.js.map\n","import React from 'react';\nimport { SceneObjectBase } from '../../core/SceneObjectBase.js';\nimport { SceneVariableValueChangedEvent } from '../types.js';\nimport { getQueriesForVariables, renderPrometheusLabelFilters } from '../utils.js';\nimport { patchGetAdhocFilters } from './patchGetAdhocFilters.js';\nimport { useStyles2 } from '@grafana/ui';\nimport { sceneGraph } from '../../core/sceneGraph/index.js';\nimport { AdHocFilterBuilder } from './AdHocFilterBuilder.js';\nimport { AdHocFilterRenderer } from './AdHocFilterRenderer.js';\nimport { getDataSourceSrv } from '@grafana/runtime';\nimport { AdHocFiltersVariableUrlSyncHandler } from './AdHocFiltersVariableUrlSyncHandler.js';\nimport { css } from '@emotion/css';\nimport { getEnrichedFiltersRequest } from '../getEnrichedFiltersRequest.js';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nclass AdHocFiltersVariable extends SceneObjectBase {\n  constructor(state) {\n    var _a, _b;\n    super(__spreadValues({\n      type: \"adhoc\",\n      name: (_a = state.name) != null ? _a : \"Filters\",\n      filters: [],\n      datasource: null,\n      applyMode: \"auto\",\n      filterExpression: (_b = state.filterExpression) != null ? _b : renderExpression(state.expressionBuilder, state.filters)\n    }, state));\n    this._scopedVars = { __sceneObject: { value: this } };\n    this._dataSourceSrv = getDataSourceSrv();\n    this._urlSync = new AdHocFiltersVariableUrlSyncHandler(this);\n    if (this.state.applyMode === \"auto\") {\n      patchGetAdhocFilters(this);\n    }\n  }\n  setState(update) {\n    let filterExpressionChanged = false;\n    if (update.filters && update.filters !== this.state.filters && !update.filterExpression) {\n      update.filterExpression = renderExpression(this.state.expressionBuilder, update.filters);\n      filterExpressionChanged = update.filterExpression !== this.state.filterExpression;\n    }\n    super.setState(update);\n    if (filterExpressionChanged) {\n      this.publishEvent(new SceneVariableValueChangedEvent(this), true);\n    }\n  }\n  getValue() {\n    return this.state.filterExpression;\n  }\n  _updateFilter(filter, prop, { value, label }) {\n    if (value == null) {\n      return;\n    }\n    const { filters, _wip } = this.state;\n    const propLabelKey = `${prop}Label`;\n    if (filter === _wip) {\n      if (prop === \"value\") {\n        this.setState({ filters: [...filters, __spreadProps(__spreadValues({}, _wip), { [prop]: value, [propLabelKey]: label })], _wip: void 0 });\n      } else {\n        this.setState({ _wip: __spreadProps(__spreadValues({}, filter), { [prop]: value, [propLabelKey]: label }) });\n      }\n      return;\n    }\n    const updatedFilters = this.state.filters.map((f) => {\n      if (f === filter) {\n        const updatedFilter = __spreadProps(__spreadValues({}, f), { [prop]: value, [propLabelKey]: label });\n        if (prop === \"key\" && filter[prop] !== value) {\n          updatedFilter.value = \"\";\n          updatedFilter.valueLabel = \"\";\n        }\n        return updatedFilter;\n      }\n      return f;\n    });\n    this.setState({ filters: updatedFilters });\n  }\n  _removeFilter(filter) {\n    if (filter === this.state._wip) {\n      this.setState({ _wip: void 0 });\n      return;\n    }\n    this.setState({ filters: this.state.filters.filter((f) => f !== filter) });\n  }\n  async _getKeys(currentKey) {\n    var _a, _b, _c;\n    const override = await ((_b = (_a = this.state).getTagKeysProvider) == null ? void 0 : _b.call(_a, this, currentKey));\n    if (override && override.replace) {\n      return override.values.map(toSelectableValue);\n    }\n    if (this.state.defaultKeys) {\n      return this.state.defaultKeys.map(toSelectableValue);\n    }\n    const ds = await this._dataSourceSrv.get(this.state.datasource, this._scopedVars);\n    if (!ds || !ds.getTagKeys) {\n      return [];\n    }\n    const otherFilters = this.state.filters.filter((f) => f.key !== currentKey).concat((_c = this.state.baseFilters) != null ? _c : []);\n    const timeRange = sceneGraph.getTimeRange(this).state.value;\n    const queries = this.state.useQueriesAsFilterForOptions ? getQueriesForVariables(this) : void 0;\n    let keys = await ds.getTagKeys(__spreadValues({ filters: otherFilters, queries, timeRange }, getEnrichedFiltersRequest(this)));\n    if (override) {\n      keys = keys.concat(override.values);\n    }\n    const tagKeyRegexFilter = this.state.tagKeyRegexFilter;\n    if (tagKeyRegexFilter) {\n      keys = keys.filter((f) => f.text.match(tagKeyRegexFilter));\n    }\n    return keys.map(toSelectableValue);\n  }\n  async _getValuesFor(filter) {\n    var _a, _b, _c;\n    const override = await ((_b = (_a = this.state).getTagValuesProvider) == null ? void 0 : _b.call(_a, this, filter));\n    if (override && override.replace) {\n      return handleOptionGroups(override.values);\n    }\n    const ds = await this._dataSourceSrv.get(this.state.datasource, this._scopedVars);\n    if (!ds || !ds.getTagValues) {\n      return [];\n    }\n    const otherFilters = this.state.filters.filter((f) => f.key !== filter.key).concat((_c = this.state.baseFilters) != null ? _c : []);\n    const timeRange = sceneGraph.getTimeRange(this).state.value;\n    const queries = this.state.useQueriesAsFilterForOptions ? getQueriesForVariables(this) : void 0;\n    let values = await ds.getTagValues(__spreadValues({\n      key: filter.key,\n      filters: otherFilters,\n      timeRange,\n      queries\n    }, getEnrichedFiltersRequest(this)));\n    if (override) {\n      values = values.concat(override.values);\n    }\n    return handleOptionGroups(values);\n  }\n  _addWip() {\n    this.setState({\n      _wip: { key: \"\", keyLabel: \"\", value: \"\", valueLabel: \"\", operator: \"=\", condition: \"\" }\n    });\n  }\n  _getOperators() {\n    return [\"=\", \"!=\", \"<\", \">\", \"=~\", \"!~\"].map((value) => ({\n      label: value,\n      value\n    }));\n  }\n}\nAdHocFiltersVariable.Component = AdHocFiltersVariableRenderer;\nfunction renderExpression(builder, filters) {\n  return (builder != null ? builder : renderPrometheusLabelFilters)(filters != null ? filters : []);\n}\nfunction AdHocFiltersVariableRenderer({ model }) {\n  const { filters, readOnly, addFilterButtonText } = model.useState();\n  const styles = useStyles2(getStyles);\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    className: styles.wrapper\n  }, filters.map((filter, index) => /* @__PURE__ */ React.createElement(React.Fragment, {\n    key: index\n  }, /* @__PURE__ */ React.createElement(AdHocFilterRenderer, {\n    filter,\n    model\n  }))), !readOnly && /* @__PURE__ */ React.createElement(AdHocFilterBuilder, {\n    model,\n    key: \"'builder\",\n    addFilterButtonText\n  }));\n}\nconst getStyles = (theme) => ({\n  wrapper: css({\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    alignItems: \"flex-end\",\n    columnGap: theme.spacing(2),\n    rowGap: theme.spacing(1)\n  }),\n  filterIcon: css({\n    color: theme.colors.text.secondary,\n    paddingRight: theme.spacing(0.5)\n  })\n});\nfunction toSelectableValue({ text, value }) {\n  return {\n    label: text,\n    value: String(value != null ? value : text)\n  };\n}\nfunction isFilterComplete(filter) {\n  return filter.key !== \"\" && filter.operator !== \"\" && filter.value !== \"\";\n}\nfunction handleOptionGroups(values) {\n  const result = [];\n  const groupedResults = /* @__PURE__ */ new Map();\n  for (const value of values) {\n    const groupLabel = value.group;\n    if (groupLabel) {\n      let group = groupedResults.get(groupLabel);\n      if (!group) {\n        group = [];\n        groupedResults.set(groupLabel, group);\n        result.push({ label: groupLabel, options: group });\n      }\n      group.push(toSelectableValue(value));\n    } else {\n      result.push(toSelectableValue(value));\n    }\n  }\n  return result;\n}\n\nexport { AdHocFiltersVariable, AdHocFiltersVariableRenderer, isFilterComplete, toSelectableValue };\n//# sourceMappingURL=AdHocFiltersVariable.js.map\n","import { merge, mergeAll, filter, map, finalize } from 'rxjs';\n\nclass DataLayersMerger {\n  constructor() {\n    this._resultsMap = /* @__PURE__ */ new Map();\n    this._prevLayers = [];\n  }\n  getMergedStream(layers) {\n    if (areDifferentLayers(layers, this._prevLayers)) {\n      this._resultsMap = /* @__PURE__ */ new Map();\n      this._prevLayers = layers;\n    }\n    const resultStreams = layers.map((l) => l.getResultsStream());\n    const deactivationHandlers = [];\n    for (const layer of layers) {\n      deactivationHandlers.push(layer.activate());\n    }\n    return merge(resultStreams).pipe(\n      mergeAll(),\n      filter((v) => {\n        return this._resultsMap.get(v.origin.state.key) !== v;\n      }),\n      map((v) => {\n        this._resultsMap.set(v.origin.state.key, v);\n        return this._resultsMap.values();\n      }),\n      finalize(() => {\n        deactivationHandlers.forEach((handler) => handler());\n      })\n    );\n  }\n}\nfunction areDifferentLayers(a, b) {\n  if (a.length !== b.length) {\n    return true;\n  }\n  for (let i = 0; i < a.length; i++) {\n    if (a[i] !== b[i]) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport { DataLayersMerger };\n//# sourceMappingURL=DataLayersMerger.js.map\n","import { isEqual, cloneDeep } from 'lodash';\nimport { ReplaySubject, forkJoin } from 'rxjs';\nimport { LoadingState } from '@grafana/schema';\nimport { preProcessPanelData, DataTopic, DataFrameView, rangeUtil } from '@grafana/data';\nimport { getRunRequest, toDataQueryError, isExpressionReference } from '@grafana/runtime';\nimport { SceneObjectBase } from '../core/SceneObjectBase.js';\nimport { sceneGraph } from '../core/sceneGraph/index.js';\nimport { getDataSource } from '../utils/getDataSource.js';\nimport { VariableDependencyConfig } from '../variables/VariableDependencyConfig.js';\nimport { writeSceneLog } from '../utils/writeSceneLog.js';\nimport { VariableValueRecorder } from '../variables/VariableValueRecorder.js';\nimport { emptyPanelData } from '../core/SceneDataNode.js';\nimport { getClosest } from '../core/sceneGraph/utils.js';\nimport { isExtraQueryProvider } from './ExtraQueryProvider.js';\nimport { extraQueryProcessingOperator, passthroughProcessor } from './extraQueryProcessingOperator.js';\nimport { filterAnnotations } from './layers/annotations/filterAnnotations.js';\nimport { getEnrichedDataRequest } from './getEnrichedDataRequest.js';\nimport { findActiveAdHocFilterVariableByUid } from '../variables/adhoc/patchGetAdhocFilters.js';\nimport { registerQueryWithController } from './registerQueryWithController.js';\nimport { findActiveGroupByVariablesByUid } from '../variables/groupby/findActiveGroupByVariablesByUid.js';\nimport { GroupByVariable } from '../variables/groupby/GroupByVariable.js';\nimport { AdHocFiltersVariable, isFilterComplete } from '../variables/adhoc/AdHocFiltersVariable.js';\nimport { DataLayersMerger } from './DataLayersMerger.js';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nlet counter = 100;\nfunction getNextRequestId() {\n  return \"SQR\" + counter++;\n}\nclass SceneQueryRunner extends SceneObjectBase {\n  constructor(initialState) {\n    super(initialState);\n    this._dataLayersMerger = new DataLayersMerger();\n    this._variableValueRecorder = new VariableValueRecorder();\n    this._results = new ReplaySubject(1);\n    this._scopedVars = { __sceneObject: { value: this, text: \"__sceneObject\" } };\n    this._variableDependency = new VariableDependencyConfig(this, {\n      statePaths: [\"queries\", \"datasource\"],\n      onVariableUpdateCompleted: this.onVariableUpdatesCompleted.bind(this),\n      onAnyVariableChanged: this.onAnyVariableChanged.bind(this)\n    });\n    this.onDataReceived = (data) => {\n      const preProcessedData = preProcessPanelData(data, this.state.data);\n      this._resultAnnotations = data.annotations;\n      const dataWithLayersApplied = this._combineDataLayers(preProcessedData);\n      let hasFetchedData = this.state._hasFetchedData;\n      if (!hasFetchedData && preProcessedData.state !== LoadingState.Loading) {\n        hasFetchedData = true;\n      }\n      this.setState({ data: dataWithLayersApplied, _hasFetchedData: hasFetchedData });\n      this._results.next({ origin: this, data: dataWithLayersApplied });\n    };\n    this.addActivationHandler(() => this._onActivate());\n  }\n  getResultsStream() {\n    return this._results;\n  }\n  _onActivate() {\n    const timeRange = sceneGraph.getTimeRange(this);\n    const providers = this.getClosestExtraQueryProviders();\n    for (const provider of providers) {\n      this._subs.add(\n        provider.subscribeToState((n, p) => {\n          if (provider.shouldRerun(p, n)) {\n            this.runQueries();\n          }\n        })\n      );\n    }\n    this.subscribeToTimeRangeChanges(timeRange);\n    if (this.shouldRunQueriesOnActivate()) {\n      this.runQueries();\n    }\n    if (!this._dataLayersSub) {\n      this._handleDataLayers();\n    }\n    return () => this._onDeactivate();\n  }\n  _handleDataLayers() {\n    const dataLayers = sceneGraph.getDataLayers(this);\n    if (dataLayers.length === 0) {\n      return;\n    }\n    this._dataLayersSub = this._dataLayersMerger.getMergedStream(dataLayers).subscribe(this._onLayersReceived.bind(this));\n  }\n  _onLayersReceived(results) {\n    var _a, _b, _c, _d, _e;\n    const timeRange = sceneGraph.getTimeRange(this);\n    const { dataLayerFilter } = this.state;\n    let annotations = [];\n    let alertStates = [];\n    let alertState;\n    for (const result of results) {\n      for (let frame of result.data.series) {\n        if (((_a = frame.meta) == null ? void 0 : _a.dataTopic) === DataTopic.Annotations) {\n          annotations = annotations.concat(frame);\n        }\n        if (((_b = frame.meta) == null ? void 0 : _b.dataTopic) === DataTopic.AlertStates) {\n          alertStates = alertStates.concat(frame);\n        }\n      }\n    }\n    if (dataLayerFilter == null ? void 0 : dataLayerFilter.panelId) {\n      if (annotations.length > 0) {\n        annotations = filterAnnotations(annotations, dataLayerFilter);\n      }\n      if (alertStates.length > 0) {\n        for (const frame of alertStates) {\n          const frameView = new DataFrameView(frame);\n          for (const row of frameView) {\n            if (row.panelId === dataLayerFilter.panelId) {\n              alertState = row;\n              break;\n            }\n          }\n        }\n      }\n    }\n    if (allFramesEmpty(annotations) && allFramesEmpty(this._layerAnnotations) && isEqual(alertState, (_c = this.state.data) == null ? void 0 : _c.alertState)) {\n      return;\n    }\n    this._layerAnnotations = annotations;\n    const baseStateUpdate = this.state.data ? this.state.data : __spreadProps(__spreadValues({}, emptyPanelData), { timeRange: timeRange.state.value });\n    this.setState({\n      data: __spreadProps(__spreadValues({}, baseStateUpdate), {\n        annotations: [...(_d = this._resultAnnotations) != null ? _d : [], ...annotations],\n        alertState: alertState != null ? alertState : (_e = this.state.data) == null ? void 0 : _e.alertState\n      })\n    });\n  }\n  onVariableUpdatesCompleted() {\n    this.runQueries();\n  }\n  onAnyVariableChanged(variable) {\n    if (this._adhocFiltersVar === variable || this._groupByVar === variable) {\n      return;\n    }\n    if (variable instanceof AdHocFiltersVariable && this._isRelevantAutoVariable(variable)) {\n      this.runQueries();\n    }\n    if (variable instanceof GroupByVariable && this._isRelevantAutoVariable(variable)) {\n      this.runQueries();\n    }\n  }\n  _isRelevantAutoVariable(variable) {\n    var _a, _b;\n    const datasource = (_a = this.state.datasource) != null ? _a : findFirstDatasource(this.state.queries);\n    return variable.state.applyMode === \"auto\" && (datasource == null ? void 0 : datasource.uid) === ((_b = variable.state.datasource) == null ? void 0 : _b.uid);\n  }\n  shouldRunQueriesOnActivate() {\n    if (this._variableValueRecorder.hasDependenciesChanged(this)) {\n      writeSceneLog(\n        \"SceneQueryRunner\",\n        \"Variable dependency changed while inactive, shouldRunQueriesOnActivate returns true\"\n      );\n      return true;\n    }\n    if (!this.state.data) {\n      return true;\n    }\n    if (this._isDataTimeRangeStale(this.state.data)) {\n      return true;\n    }\n    return false;\n  }\n  _isDataTimeRangeStale(data) {\n    const timeRange = sceneGraph.getTimeRange(this);\n    const stateTimeRange = timeRange.state.value;\n    const dataTimeRange = data.timeRange;\n    if (stateTimeRange.from.unix() === dataTimeRange.from.unix() && stateTimeRange.to.unix() === dataTimeRange.to.unix()) {\n      return false;\n    }\n    writeSceneLog(\"SceneQueryRunner\", \"Data time range is stale\");\n    return true;\n  }\n  _onDeactivate() {\n    var _a;\n    if (this._querySub) {\n      this._querySub.unsubscribe();\n      this._querySub = void 0;\n    }\n    if (this._dataLayersSub) {\n      this._dataLayersSub.unsubscribe();\n      this._dataLayersSub = void 0;\n    }\n    (_a = this._timeSub) == null ? void 0 : _a.unsubscribe();\n    this._timeSub = void 0;\n    this._timeSubRange = void 0;\n    this._adhocFiltersVar = void 0;\n    this._groupByVar = void 0;\n    this._variableValueRecorder.recordCurrentDependencyValuesForSceneObject(this);\n  }\n  setContainerWidth(width) {\n    if (!this._containerWidth && width > 0) {\n      this._containerWidth = width;\n      if (this.state.maxDataPointsFromWidth && !this.state.maxDataPoints) {\n        setTimeout(() => {\n          if (this.isActive && !this.state._hasFetchedData) {\n            this.runQueries();\n          }\n        }, 0);\n      }\n    } else {\n      if (width > 0) {\n        this._containerWidth = width;\n      }\n    }\n  }\n  isDataReadyToDisplay() {\n    return Boolean(this.state._hasFetchedData);\n  }\n  subscribeToTimeRangeChanges(timeRange) {\n    if (this._timeSubRange === timeRange) {\n      return;\n    }\n    if (this._timeSub) {\n      this._timeSub.unsubscribe();\n    }\n    this._timeSubRange = timeRange;\n    this._timeSub = timeRange.subscribeToState(() => {\n      this.runWithTimeRange(timeRange);\n    });\n  }\n  runQueries() {\n    const timeRange = sceneGraph.getTimeRange(this);\n    this.subscribeToTimeRangeChanges(timeRange);\n    this.runWithTimeRange(timeRange);\n  }\n  getMaxDataPoints() {\n    var _a;\n    if (this.state.maxDataPoints) {\n      return this.state.maxDataPoints;\n    }\n    return this.state.maxDataPointsFromWidth ? (_a = this._containerWidth) != null ? _a : 500 : 500;\n  }\n  cancelQuery() {\n    var _a;\n    (_a = this._querySub) == null ? void 0 : _a.unsubscribe();\n    if (this._dataLayersSub) {\n      this._dataLayersSub.unsubscribe();\n      this._dataLayersSub = void 0;\n    }\n    this.setState({\n      data: __spreadProps(__spreadValues({}, this.state.data), { state: LoadingState.Done })\n    });\n  }\n  async runWithTimeRange(timeRange) {\n    var _a, _b;\n    if (!this.state.maxDataPoints && this.state.maxDataPointsFromWidth && !this._containerWidth) {\n      return;\n    }\n    if (!this._dataLayersSub) {\n      this._handleDataLayers();\n    }\n    (_a = this._querySub) == null ? void 0 : _a.unsubscribe();\n    if (this._variableDependency.hasDependencyInLoadingState()) {\n      writeSceneLog(\"SceneQueryRunner\", \"Variable dependency is in loading state, skipping query execution\");\n      this.setState({ data: __spreadProps(__spreadValues({}, this.state.data), { state: LoadingState.Loading }) });\n      return;\n    }\n    const { queries } = this.state;\n    if (!(queries == null ? void 0 : queries.length)) {\n      this._setNoDataState();\n      return;\n    }\n    try {\n      const datasource = (_b = this.state.datasource) != null ? _b : findFirstDatasource(queries);\n      const ds = await getDataSource(datasource, this._scopedVars);\n      this.findAndSubscribeToAdHocFilters(datasource == null ? void 0 : datasource.uid);\n      const runRequest = getRunRequest();\n      const { primary, secondaries, processors } = this.prepareRequests(timeRange, ds);\n      writeSceneLog(\"SceneQueryRunner\", \"Starting runRequest\", this.state.key);\n      let stream = runRequest(ds, primary);\n      if (secondaries.length > 0) {\n        const secondaryStreams = secondaries.map((r) => runRequest(ds, r));\n        const op = extraQueryProcessingOperator(processors);\n        stream = forkJoin([stream, ...secondaryStreams]).pipe(op);\n      }\n      stream = stream.pipe(\n        registerQueryWithController({\n          type: \"data\",\n          request: primary,\n          origin: this,\n          cancel: () => this.cancelQuery()\n        })\n      );\n      this._querySub = stream.subscribe(this.onDataReceived);\n    } catch (err) {\n      console.error(\"PanelQueryRunner Error\", err);\n      this.onDataReceived(__spreadProps(__spreadValues(__spreadValues({}, emptyPanelData), this.state.data), {\n        state: LoadingState.Error,\n        errors: [toDataQueryError(err)]\n      }));\n    }\n  }\n  clone(withState) {\n    var _a;\n    const clone = super.clone(withState);\n    if (this._resultAnnotations) {\n      clone[\"_resultAnnotations\"] = this._resultAnnotations.map((frame) => __spreadValues({}, frame));\n    }\n    if (this._layerAnnotations) {\n      clone[\"_layerAnnotations\"] = this._layerAnnotations.map((frame) => __spreadValues({}, frame));\n    }\n    clone[\"_variableValueRecorder\"] = this._variableValueRecorder.cloneAndRecordCurrentValuesForSceneObject(this);\n    clone[\"_containerWidth\"] = this._containerWidth;\n    clone[\"_results\"].next({ origin: this, data: (_a = this.state.data) != null ? _a : emptyPanelData });\n    return clone;\n  }\n  prepareRequests(timeRange, ds) {\n    var _a;\n    const { minInterval, queries } = this.state;\n    let request = __spreadValues({\n      app: \"scenes\",\n      requestId: getNextRequestId(),\n      timezone: timeRange.getTimeZone(),\n      range: timeRange.state.value,\n      interval: \"1s\",\n      intervalMs: 1e3,\n      targets: cloneDeep(queries),\n      maxDataPoints: this.getMaxDataPoints(),\n      scopedVars: this._scopedVars,\n      startTime: Date.now(),\n      liveStreaming: this.state.liveStreaming,\n      rangeRaw: {\n        from: timeRange.state.from,\n        to: timeRange.state.to\n      },\n      cacheTimeout: this.state.cacheTimeout,\n      queryCachingTTL: this.state.queryCachingTTL\n    }, getEnrichedDataRequest(this));\n    if (this._adhocFiltersVar) {\n      request.filters = this._adhocFiltersVar.state.filters.filter(isFilterComplete);\n    }\n    if (this._groupByVar) {\n      request.groupByKeys = this._groupByVar.state.value;\n    }\n    request.targets = request.targets.map((query) => {\n      var _a2;\n      if (!query.datasource || query.datasource.uid !== ds.uid && !((_a2 = ds.meta) == null ? void 0 : _a2.mixed) && isExpressionReference && !isExpressionReference(query.datasource)) {\n        query.datasource = ds.getRef();\n      }\n      return query;\n    });\n    const lowerIntervalLimit = minInterval ? minInterval : ds.interval;\n    const norm = rangeUtil.calculateInterval(timeRange.state.value, request.maxDataPoints, lowerIntervalLimit);\n    request.scopedVars = Object.assign({}, request.scopedVars, {\n      __interval: { text: norm.interval, value: norm.interval },\n      __interval_ms: { text: norm.intervalMs.toString(), value: norm.intervalMs }\n    });\n    request.interval = norm.interval;\n    request.intervalMs = norm.intervalMs;\n    const primaryTimeRange = timeRange.state.value;\n    let secondaryRequests = [];\n    let secondaryProcessors = /* @__PURE__ */ new Map();\n    for (const provider of (_a = this.getClosestExtraQueryProviders()) != null ? _a : []) {\n      for (const { req, processor } of provider.getExtraQueries(request)) {\n        const requestId = getNextRequestId();\n        secondaryRequests.push(__spreadProps(__spreadValues({}, req), { requestId }));\n        secondaryProcessors.set(requestId, processor != null ? processor : passthroughProcessor);\n      }\n    }\n    request.range = primaryTimeRange;\n    return { primary: request, secondaries: secondaryRequests, processors: secondaryProcessors };\n  }\n  _combineDataLayers(data) {\n    if (this._layerAnnotations && this._layerAnnotations.length > 0) {\n      data.annotations = (data.annotations || []).concat(this._layerAnnotations);\n    }\n    if (this.state.data && this.state.data.alertState) {\n      data.alertState = this.state.data.alertState;\n    }\n    return data;\n  }\n  _setNoDataState() {\n    if (this.state.data !== emptyPanelData) {\n      this.setState({ data: emptyPanelData });\n    }\n  }\n  getClosestExtraQueryProviders() {\n    const found = /* @__PURE__ */ new Map();\n    if (!this.parent) {\n      return [];\n    }\n    getClosest(this.parent, (s) => {\n      if (isExtraQueryProvider(s) && !found.has(s.constructor)) {\n        found.set(s.constructor, s);\n      }\n      s.forEachChild((child) => {\n        if (isExtraQueryProvider(child) && !found.has(child.constructor)) {\n          found.set(child.constructor, child);\n        }\n      });\n      return null;\n    });\n    return Array.from(found.values());\n  }\n  findAndSubscribeToAdHocFilters(uid) {\n    const filtersVar = findActiveAdHocFilterVariableByUid(uid);\n    if (this._adhocFiltersVar !== filtersVar) {\n      this._adhocFiltersVar = filtersVar;\n      this._updateExplicitVariableDependencies();\n    }\n    const groupByVar = findActiveGroupByVariablesByUid(uid);\n    if (this._groupByVar !== groupByVar) {\n      this._groupByVar = groupByVar;\n      this._updateExplicitVariableDependencies();\n    }\n  }\n  _updateExplicitVariableDependencies() {\n    const explicitDependencies = [];\n    if (this._adhocFiltersVar) {\n      explicitDependencies.push(this._adhocFiltersVar.state.name);\n    }\n    if (this._groupByVar) {\n      explicitDependencies.push(this._groupByVar.state.name);\n    }\n    this._variableDependency.setVariableNames(explicitDependencies);\n  }\n}\nfunction findFirstDatasource(targets) {\n  var _a, _b;\n  return (_b = (_a = targets.find((t) => t.datasource !== null)) == null ? void 0 : _a.datasource) != null ? _b : void 0;\n}\nfunction allFramesEmpty(frames) {\n  if (!frames) {\n    return true;\n  }\n  for (let i = 0; i < frames.length; i++) {\n    if (frames[i].length > 0) {\n      return false;\n    }\n  }\n  return true;\n}\n\nexport { SceneQueryRunner, findFirstDatasource, getNextRequestId };\n//# sourceMappingURL=SceneQueryRunner.js.map\n","import { isEqual } from 'lodash';\nimport { sceneGraph } from '../core/sceneGraph/index.js';\nimport { SceneQueryRunner } from '../querying/SceneQueryRunner.js';\n\nfunction isVariableValueEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n  return isEqual(a, b);\n}\nfunction safeStringifyValue(value) {\n  const getCircularReplacer = () => {\n    const seen = /* @__PURE__ */ new WeakSet();\n    return (_, value2) => {\n      if (typeof value2 === \"object\" && value2 !== null) {\n        if (seen.has(value2)) {\n          return;\n        }\n        seen.add(value2);\n      }\n      return value2;\n    };\n  };\n  try {\n    return JSON.stringify(value, getCircularReplacer());\n  } catch (error) {\n    console.error(error);\n  }\n  return \"\";\n}\nfunction renderPrometheusLabelFilters(filters) {\n  return filters.map((filter) => renderFilter(filter)).join(\",\");\n}\nfunction renderFilter(filter) {\n  let value = \"\";\n  if (filter.operator === \"=~\" || filter.operator === \"!~\\xA8\") {\n    value = escapeLabelValueInRegexSelector(filter.value);\n  } else {\n    value = escapeLabelValueInExactSelector(filter.value);\n  }\n  return `${filter.key}${filter.operator}\"${value}\"`;\n}\nfunction escapeLabelValueInExactSelector(labelValue) {\n  return labelValue.replace(/\\\\/g, \"\\\\\\\\\").replace(/\\n/g, \"\\\\n\").replace(/\"/g, '\\\\\"');\n}\nfunction escapeLabelValueInRegexSelector(labelValue) {\n  return escapeLabelValueInExactSelector(escapeLokiRegexp(labelValue));\n}\nconst RE2_METACHARACTERS = /[*+?()|\\\\.\\[\\]{}^$]/g;\nfunction escapeLokiRegexp(value) {\n  return value.replace(RE2_METACHARACTERS, \"\\\\$&\");\n}\nfunction getQueriesForVariables(sourceObject) {\n  const runners = sceneGraph.findAllObjects(\n    sourceObject.getRoot(),\n    (o) => o instanceof SceneQueryRunner\n  );\n  const applicableRunners = filterOutInactiveRunnerDuplicates(runners).filter((r) => {\n    var _a, _b;\n    return ((_a = r.state.datasource) == null ? void 0 : _a.uid) === ((_b = sourceObject.state.datasource) == null ? void 0 : _b.uid);\n  });\n  if (applicableRunners.length === 0) {\n    return [];\n  }\n  const result = [];\n  applicableRunners.forEach((r) => {\n    result.push(...r.state.queries);\n  });\n  return result;\n}\nfunction filterOutInactiveRunnerDuplicates(runners) {\n  const groupedItems = {};\n  for (const item of runners) {\n    if (item.state.key) {\n      if (!(item.state.key in groupedItems)) {\n        groupedItems[item.state.key] = [];\n      }\n      groupedItems[item.state.key].push(item);\n    }\n  }\n  return Object.values(groupedItems).flatMap((group) => {\n    const activeItems = group.filter((item) => item.isActive);\n    if (activeItems.length === 0 && group.length === 1) {\n      return group;\n    }\n    return activeItems;\n  });\n}\nfunction escapeUrlPipeDelimiters(value) {\n  if (value === null || value === void 0) {\n    return \"\";\n  }\n  return value = /\\|/g[Symbol.replace](value, \"__gfp__\");\n}\nfunction escapeUrlCommaDelimiters(value) {\n  if (value === null || value === void 0) {\n    return \"\";\n  }\n  return /,/g[Symbol.replace](value, \"__gfc__\");\n}\nfunction unescapeUrlDelimiters(value) {\n  if (value === null || value === void 0) {\n    return \"\";\n  }\n  value = /__gfp__/g[Symbol.replace](value, \"|\");\n  value = /__gfc__/g[Symbol.replace](value, \",\");\n  return value;\n}\nfunction toUrlCommaDelimitedString(key, label) {\n  if (!label || key === label) {\n    return escapeUrlCommaDelimiters(key);\n  }\n  return [key, label].map(escapeUrlCommaDelimiters).join(\",\");\n}\n\nexport { escapeLabelValueInExactSelector, escapeLabelValueInRegexSelector, escapeUrlCommaDelimiters, escapeUrlPipeDelimiters, getQueriesForVariables, isVariableValueEqual, renderPrometheusLabelFilters, safeStringifyValue, toUrlCommaDelimitedString, unescapeUrlDelimiters };\n//# sourceMappingURL=utils.js.map\n","const defaultAnnotationTarget = {\n  tags: []\n};\nconst defaultAnnotationPanelFilter = {\n  exclude: false,\n  ids: []\n};\nconst defaultAnnotationContainer = {\n  list: []\n};\nconst defaultAnnotationQuery = {\n  builtIn: 0,\n  enable: true,\n  hide: false\n};\nconst defaultVariableModel = {\n  allowCustomValue: true,\n  includeAll: false,\n  multi: false,\n  options: [],\n  skipUrlSync: false\n};\nvar VariableRefresh = /* @__PURE__ */ ((VariableRefresh2) => {\n  VariableRefresh2[VariableRefresh2[\"never\"] = 0] = \"never\";\n  VariableRefresh2[VariableRefresh2[\"onDashboardLoad\"] = 1] = \"onDashboardLoad\";\n  VariableRefresh2[VariableRefresh2[\"onTimeRangeChanged\"] = 2] = \"onTimeRangeChanged\";\n  return VariableRefresh2;\n})(VariableRefresh || {});\nvar VariableSort = /* @__PURE__ */ ((VariableSort2) => {\n  VariableSort2[VariableSort2[\"alphabeticalAsc\"] = 1] = \"alphabeticalAsc\";\n  VariableSort2[VariableSort2[\"alphabeticalCaseInsensitiveAsc\"] = 5] = \"alphabeticalCaseInsensitiveAsc\";\n  VariableSort2[VariableSort2[\"alphabeticalCaseInsensitiveDesc\"] = 6] = \"alphabeticalCaseInsensitiveDesc\";\n  VariableSort2[VariableSort2[\"alphabeticalDesc\"] = 2] = \"alphabeticalDesc\";\n  VariableSort2[VariableSort2[\"disabled\"] = 0] = \"disabled\";\n  VariableSort2[VariableSort2[\"naturalAsc\"] = 7] = \"naturalAsc\";\n  VariableSort2[VariableSort2[\"naturalDesc\"] = 8] = \"naturalDesc\";\n  VariableSort2[VariableSort2[\"numericalAsc\"] = 3] = \"numericalAsc\";\n  VariableSort2[VariableSort2[\"numericalDesc\"] = 4] = \"numericalDesc\";\n  return VariableSort2;\n})(VariableSort || {});\nconst defaultDashboardLink = {\n  asDropdown: false,\n  includeVars: false,\n  keepTime: false,\n  tags: [],\n  targetBlank: false\n};\nvar FieldColorModeId = /* @__PURE__ */ ((FieldColorModeId2) => {\n  FieldColorModeId2[\"ContinuousBlPu\"] = \"continuous-BlPu\";\n  FieldColorModeId2[\"ContinuousBlYlRd\"] = \"continuous-BlYlRd\";\n  FieldColorModeId2[\"ContinuousBlues\"] = \"continuous-blues\";\n  FieldColorModeId2[\"ContinuousGrYlRd\"] = \"continuous-GrYlRd\";\n  FieldColorModeId2[\"ContinuousGreens\"] = \"continuous-greens\";\n  FieldColorModeId2[\"ContinuousPurples\"] = \"continuous-purples\";\n  FieldColorModeId2[\"ContinuousRdYlGr\"] = \"continuous-RdYlGr\";\n  FieldColorModeId2[\"ContinuousReds\"] = \"continuous-reds\";\n  FieldColorModeId2[\"ContinuousYlBl\"] = \"continuous-YlBl\";\n  FieldColorModeId2[\"ContinuousYlRd\"] = \"continuous-YlRd\";\n  FieldColorModeId2[\"Fixed\"] = \"fixed\";\n  FieldColorModeId2[\"PaletteClassic\"] = \"palette-classic\";\n  FieldColorModeId2[\"PaletteClassicByName\"] = \"palette-classic-by-name\";\n  FieldColorModeId2[\"Shades\"] = \"shades\";\n  FieldColorModeId2[\"Thresholds\"] = \"thresholds\";\n  return FieldColorModeId2;\n})(FieldColorModeId || {});\nconst defaultGridPos = {\n  h: 9,\n  w: 12,\n  x: 0,\n  y: 0\n};\nvar ThresholdsMode = /* @__PURE__ */ ((ThresholdsMode2) => {\n  ThresholdsMode2[\"Absolute\"] = \"absolute\";\n  ThresholdsMode2[\"Percentage\"] = \"percentage\";\n  return ThresholdsMode2;\n})(ThresholdsMode || {});\nconst defaultThresholdsConfig = {\n  steps: []\n};\nvar MappingType = /* @__PURE__ */ ((MappingType2) => {\n  MappingType2[\"RangeToText\"] = \"range\";\n  MappingType2[\"RegexToText\"] = \"regex\";\n  MappingType2[\"SpecialValue\"] = \"special\";\n  MappingType2[\"ValueToText\"] = \"value\";\n  return MappingType2;\n})(MappingType || {});\nvar SpecialValueMatch = /* @__PURE__ */ ((SpecialValueMatch2) => {\n  SpecialValueMatch2[\"Empty\"] = \"empty\";\n  SpecialValueMatch2[\"False\"] = \"false\";\n  SpecialValueMatch2[\"NaN\"] = \"nan\";\n  SpecialValueMatch2[\"Null\"] = \"null\";\n  SpecialValueMatch2[\"NullAndNan\"] = \"null+nan\";\n  SpecialValueMatch2[\"True\"] = \"true\";\n  return SpecialValueMatch2;\n})(SpecialValueMatch || {});\nconst defaultTimePickerConfig = {\n  hidden: false,\n  quick_ranges: [],\n  refresh_intervals: [\"5s\", \"10s\", \"30s\", \"1m\", \"5m\", \"15m\", \"30m\", \"1h\", \"2h\", \"1d\"]\n};\nvar DashboardCursorSync = /* @__PURE__ */ ((DashboardCursorSync2) => {\n  DashboardCursorSync2[DashboardCursorSync2[\"Crosshair\"] = 1] = \"Crosshair\";\n  DashboardCursorSync2[DashboardCursorSync2[\"Off\"] = 0] = \"Off\";\n  DashboardCursorSync2[DashboardCursorSync2[\"Tooltip\"] = 2] = \"Tooltip\";\n  return DashboardCursorSync2;\n})(DashboardCursorSync || {});\nconst defaultDashboardCursorSync = 0 /* Off */;\nconst defaultPanel = {\n  links: [],\n  repeatDirection: \"h\",\n  targets: [],\n  transformations: [],\n  transparent: false\n};\nconst defaultFieldConfigSource = {\n  overrides: []\n};\nconst defaultMatcherConfig = {\n  id: \"\"\n};\nconst defaultFieldConfig = {\n  links: [],\n  mappings: []\n};\nconst defaultRowPanel = {\n  collapsed: false,\n  panels: []\n};\nconst defaultDashboard = {\n  editable: true,\n  fiscalYearStartMonth: 0,\n  graphTooltip: 0 /* Off */,\n  links: [],\n  panels: [],\n  schemaVersion: 41,\n  tags: [],\n  timezone: \"browser\"\n};\n\nexport { DashboardCursorSync, FieldColorModeId, MappingType, SpecialValueMatch, ThresholdsMode, VariableRefresh, VariableSort, defaultAnnotationContainer, defaultAnnotationPanelFilter, defaultAnnotationQuery, defaultAnnotationTarget, defaultDashboard, defaultDashboardCursorSync, defaultDashboardLink, defaultFieldConfig, defaultFieldConfigSource, defaultGridPos, defaultMatcherConfig, defaultPanel, defaultRowPanel, defaultThresholdsConfig, defaultTimePickerConfig, defaultVariableModel };\n//# sourceMappingURL=dashboard_types.gen.mjs.map\n","import { DashboardCursorSync } from '@grafana/schema';\nimport { Observable } from 'rxjs';\nimport { sceneGraph } from '../core/sceneGraph/index.js';\nimport { SceneObjectBase } from '../core/SceneObjectBase.js';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nclass CursorSync extends SceneObjectBase {\n  constructor(state) {\n    super(__spreadProps(__spreadValues({}, state), {\n      sync: state.sync || DashboardCursorSync.Off\n    }));\n    this.getEventsBus = (panel) => {\n      if (!this.parent) {\n        throw new Error(\"EnableCursorSync cannot be used as a standalone scene object\");\n      }\n      return new PanelContextEventBus(this.parent, panel);\n    };\n  }\n  getEventsScope() {\n    if (!this.parent) {\n      throw new Error(\"EnableCursorSync cannot be used as a standalone scene object\");\n    }\n    return this.state.key;\n  }\n}\nclass PanelContextEventBus {\n  constructor(_source, _eventsOrigin) {\n    this._source = _source;\n    this._eventsOrigin = _eventsOrigin;\n  }\n  publish(event) {\n    event.origin = this;\n    this._eventsOrigin.publishEvent(event, true);\n  }\n  getStream(eventType) {\n    return new Observable((observer) => {\n      const handler = (event) => {\n        observer.next(event);\n      };\n      const sub = this._source.subscribeToEvent(eventType, handler);\n      return () => sub.unsubscribe();\n    });\n  }\n  subscribe(eventType, handler) {\n    return this.getStream(eventType).pipe().subscribe(handler);\n  }\n  removeAllListeners() {\n  }\n  newScopedBus(key, filter) {\n    throw new Error(\"For internal use only\");\n  }\n}\nfunction getCursorSyncScope(sceneObject) {\n  return sceneGraph.findObject(sceneObject, (o) => o instanceof CursorSync);\n}\n\nexport { CursorSync, getCursorSyncScope };\n//# sourceMappingURL=CursorSync.js.map\n","export var noop = function () { };\nexport function on(obj) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    if (obj && obj.addEventListener) {\n        obj.addEventListener.apply(obj, args);\n    }\n}\nexport function off(obj) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    if (obj && obj.removeEventListener) {\n        obj.removeEventListener.apply(obj, args);\n    }\n}\nexport var isBrowser = typeof window !== 'undefined';\nexport var isNavigator = typeof navigator !== 'undefined';\n","import { useEffect, useLayoutEffect } from 'react';\nimport { isBrowser } from './misc/util';\nvar useIsomorphicLayoutEffect = isBrowser ? useLayoutEffect : useEffect;\nexport default useIsomorphicLayoutEffect;\n","import { useMemo, useState } from 'react';\nimport useIsomorphicLayoutEffect from './useIsomorphicLayoutEffect';\nimport { isBrowser, noop } from './misc/util';\nvar defaultState = {\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0,\n    top: 0,\n    left: 0,\n    bottom: 0,\n    right: 0,\n};\nfunction useMeasure() {\n    var _a = useState(null), element = _a[0], ref = _a[1];\n    var _b = useState(defaultState), rect = _b[0], setRect = _b[1];\n    var observer = useMemo(function () {\n        return new window.ResizeObserver(function (entries) {\n            if (entries[0]) {\n                var _a = entries[0].contentRect, x = _a.x, y = _a.y, width = _a.width, height = _a.height, top_1 = _a.top, left = _a.left, bottom = _a.bottom, right = _a.right;\n                setRect({ x: x, y: y, width: width, height: height, top: top_1, left: left, bottom: bottom, right: right });\n            }\n        });\n    }, []);\n    useIsomorphicLayoutEffect(function () {\n        if (!element)\n            return;\n        observer.observe(element);\n        return function () {\n            observer.disconnect();\n        };\n    }, [element]);\n    return [ref, rect];\n}\nexport default isBrowser && typeof window.ResizeObserver !== 'undefined'\n    ? useMeasure\n    : (function () { return [noop, defaultState]; });\n","import React, { useMemo, useCallback } from 'react';\nimport { useMeasure } from 'react-use';\nimport { SetPanelAttentionEvent, AlertState, PluginContextProvider } from '@grafana/data';\nimport { getAppEvents } from '@grafana/runtime';\nimport { useStyles2, Tooltip, PanelChrome, Icon, ErrorBoundaryAlert, PanelContextProvider } from '@grafana/ui';\nimport { sceneGraph } from '../../core/sceneGraph/index.js';\nimport { isSceneObject } from '../../core/types.js';\nimport { css, cx } from '@emotion/css';\nimport { debounce } from 'lodash';\n\nfunction VizPanelRenderer({ model }) {\n  var _a;\n  const {\n    title,\n    options,\n    fieldConfig,\n    _pluginLoadError,\n    displayMode,\n    hoverHeader,\n    hoverHeaderOffset,\n    menu,\n    headerActions,\n    titleItems,\n    description\n  } = model.useState();\n  const [ref, { width, height }] = useMeasure();\n  const appEvents = useMemo(() => getAppEvents(), []);\n  const setPanelAttention = useCallback(\n    () => appEvents.publish(new SetPanelAttentionEvent({ panelId: model.state.key })),\n    [model.state.key, appEvents]\n  );\n  const debouncedMouseMove = useMemo(() => debounce(setPanelAttention, 100), [setPanelAttention]);\n  const plugin = model.getPlugin();\n  const { dragClass, dragClassCancel } = getDragClasses(model);\n  const dataObject = sceneGraph.getData(model);\n  const rawData = dataObject.useState();\n  const dataWithFieldConfig = model.applyFieldConfig(rawData.data);\n  const sceneTimeRange = sceneGraph.getTimeRange(model);\n  const timeZone = sceneTimeRange.getTimeZone();\n  const timeRange = model.getTimeRange(dataWithFieldConfig);\n  const titleInterpolated = model.interpolate(title, void 0, \"text\");\n  const alertStateStyles = useStyles2(getAlertStateStyles);\n  if (!plugin) {\n    return /* @__PURE__ */ React.createElement(\"div\", null, \"Loading plugin panel...\");\n  }\n  if (!plugin.panel) {\n    return /* @__PURE__ */ React.createElement(\"div\", null, \"Panel plugin has no panel component\");\n  }\n  const PanelComponent = plugin.panel;\n  if (dataObject && dataObject.setContainerWidth) {\n    dataObject.setContainerWidth(Math.round(width));\n  }\n  let titleItemsElement = [];\n  if (titleItems) {\n    if (Array.isArray(titleItems)) {\n      titleItemsElement = titleItemsElement.concat(\n        titleItems.map((titleItem) => {\n          return /* @__PURE__ */ React.createElement(titleItem.Component, {\n            model: titleItem,\n            key: `${titleItem.state.key}`\n          });\n        })\n      );\n    } else if (isSceneObject(titleItems)) {\n      titleItemsElement.push(/* @__PURE__ */ React.createElement(titleItems.Component, {\n        model: titleItems\n      }));\n    } else {\n      titleItemsElement.push(titleItems);\n    }\n  }\n  if (model.state.$timeRange) {\n    titleItemsElement.push(/* @__PURE__ */ React.createElement(model.state.$timeRange.Component, {\n      model: model.state.$timeRange,\n      key: model.state.key\n    }));\n  }\n  if (dataWithFieldConfig.alertState) {\n    titleItemsElement.push(\n      /* @__PURE__ */ React.createElement(Tooltip, {\n        content: (_a = dataWithFieldConfig.alertState.state) != null ? _a : \"unknown\",\n        key: `alert-states-icon-${model.state.key}`\n      }, /* @__PURE__ */ React.createElement(PanelChrome.TitleItem, {\n        className: cx({\n          [alertStateStyles.ok]: dataWithFieldConfig.alertState.state === AlertState.OK,\n          [alertStateStyles.pending]: dataWithFieldConfig.alertState.state === AlertState.Pending,\n          [alertStateStyles.alerting]: dataWithFieldConfig.alertState.state === AlertState.Alerting\n        })\n      }, /* @__PURE__ */ React.createElement(Icon, {\n        name: dataWithFieldConfig.alertState.state === \"alerting\" ? \"heart-break\" : \"heart\",\n        className: \"panel-alert-icon\",\n        size: \"md\"\n      })))\n    );\n  }\n  let panelMenu;\n  if (menu) {\n    panelMenu = /* @__PURE__ */ React.createElement(menu.Component, {\n      model: menu\n    });\n  }\n  let actionsElement;\n  if (headerActions) {\n    if (Array.isArray(headerActions)) {\n      actionsElement = /* @__PURE__ */ React.createElement(React.Fragment, null, headerActions.map((action) => {\n        return /* @__PURE__ */ React.createElement(action.Component, {\n          model: action,\n          key: `${action.state.key}`\n        });\n      }));\n    } else if (isSceneObject(headerActions)) {\n      actionsElement = /* @__PURE__ */ React.createElement(headerActions.Component, {\n        model: headerActions\n      });\n    } else {\n      actionsElement = headerActions;\n    }\n  }\n  const data = dataWithFieldConfig;\n  const isReadyToRender = dataObject.isDataReadyToDisplay ? dataObject.isDataReadyToDisplay() : true;\n  const context = model.getPanelContext();\n  const panelId = model.getLegacyPanelId();\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    className: relativeWrapper\n  }, /* @__PURE__ */ React.createElement(\"div\", {\n    ref,\n    className: absoluteWrapper,\n    \"data-viz-panel-key\": model.state.key\n  }, width > 0 && height > 0 && /* @__PURE__ */ React.createElement(PanelChrome, {\n    title: titleInterpolated,\n    description: (description == null ? void 0 : description.trim()) ? model.getDescription : void 0,\n    loadingState: data.state,\n    statusMessage: getChromeStatusMessage(data, _pluginLoadError),\n    statusMessageOnClick: model.onStatusMessageClick,\n    width,\n    height,\n    displayMode,\n    hoverHeader,\n    hoverHeaderOffset,\n    titleItems: titleItemsElement,\n    dragClass,\n    actions: actionsElement,\n    dragClassCancel,\n    padding: plugin.noPadding ? \"none\" : \"md\",\n    menu: panelMenu,\n    onCancelQuery: model.onCancelQuery,\n    onFocus: setPanelAttention,\n    onMouseMove: debouncedMouseMove\n  }, (innerWidth, innerHeight) => /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(ErrorBoundaryAlert, {\n    dependencies: [plugin, data]\n  }, /* @__PURE__ */ React.createElement(PluginContextProvider, {\n    meta: plugin.meta\n  }, /* @__PURE__ */ React.createElement(PanelContextProvider, {\n    value: context\n  }, isReadyToRender && /* @__PURE__ */ React.createElement(PanelComponent, {\n    id: panelId,\n    data,\n    title,\n    timeRange,\n    timeZone,\n    options,\n    fieldConfig,\n    transparent: false,\n    width: innerWidth,\n    height: innerHeight,\n    renderCounter: 0,\n    replaceVariables: model.interpolate,\n    onOptionsChange: model.onOptionsChange,\n    onFieldConfigChange: model.onFieldConfigChange,\n    onChangeTimeRange: model.onTimeRangeChange,\n    eventBus: appEvents\n  }))))))));\n}\nfunction getDragClasses(panel) {\n  var _a, _b;\n  const parentLayout = sceneGraph.getLayout(panel);\n  const isDraggable = parentLayout == null ? void 0 : parentLayout.isDraggable();\n  if (!parentLayout || !isDraggable || itemDraggingDisabled(panel, parentLayout)) {\n    return { dragClass: \"\", dragClassCancel: \"\" };\n  }\n  return { dragClass: (_a = parentLayout.getDragClass) == null ? void 0 : _a.call(parentLayout), dragClassCancel: (_b = parentLayout == null ? void 0 : parentLayout.getDragClassCancel) == null ? void 0 : _b.call(parentLayout) };\n}\nfunction itemDraggingDisabled(item, layout) {\n  let ancestor = item.parent;\n  while (ancestor && ancestor !== layout) {\n    if (\"isDraggable\" in ancestor.state && ancestor.state.isDraggable === false) {\n      return true;\n    }\n    ancestor = ancestor.parent;\n  }\n  return false;\n}\nfunction getChromeStatusMessage(data, pluginLoadingError) {\n  if (pluginLoadingError) {\n    return pluginLoadingError;\n  }\n  let message = data.error ? data.error.message : void 0;\n  if (data.errors) {\n    message = data.errors.map((e) => e.message).join(\", \");\n  }\n  return message;\n}\nconst relativeWrapper = css({\n  position: \"relative\",\n  width: \"100%\",\n  height: \"100%\"\n});\nconst absoluteWrapper = css({\n  position: \"absolute\",\n  width: \"100%\",\n  height: \"100%\"\n});\nconst getAlertStateStyles = (theme) => {\n  return {\n    ok: css({\n      color: theme.colors.success.text\n    }),\n    pending: css({\n      color: theme.colors.warning.text\n    }),\n    alerting: css({\n      color: theme.colors.error.text\n    })\n  };\n};\n\nexport { VizPanelRenderer };\n//# sourceMappingURL=VizPanelRenderer.js.map\n","import { isSystemOverrideWithRef, FieldMatcherID, ByNamesMatcherMode, FieldType, getFieldDisplayName, fieldMatchers } from '@grafana/data';\nimport { SeriesVisibilityChangeMode } from '@grafana/ui';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nconst displayOverrideRef = \"hideSeriesFrom\";\nconst isHideSeriesOverride = isSystemOverrideWithRef(displayOverrideRef);\nfunction seriesVisibilityConfigFactory(label, mode, fieldConfig, data) {\n  const { overrides } = fieldConfig;\n  const displayName = label;\n  const currentIndex = overrides.findIndex(isHideSeriesOverride);\n  if (currentIndex < 0) {\n    if (mode === SeriesVisibilityChangeMode.ToggleSelection) {\n      const override3 = createOverride([displayName, ...getNamesOfHiddenFields(overrides, data)]);\n      return __spreadProps(__spreadValues({}, fieldConfig), {\n        overrides: [...fieldConfig.overrides, override3]\n      });\n    }\n    const displayNames = getDisplayNames(data, displayName);\n    const override2 = createOverride(displayNames);\n    return __spreadProps(__spreadValues({}, fieldConfig), {\n      overrides: [...fieldConfig.overrides, override2]\n    });\n  }\n  const overridesCopy = Array.from(overrides);\n  const [current] = overridesCopy.splice(currentIndex, 1);\n  if (mode === SeriesVisibilityChangeMode.ToggleSelection) {\n    let existing = getExistingDisplayNames(current);\n    const nameOfHiddenFields = getNamesOfHiddenFields(overridesCopy, data);\n    if (nameOfHiddenFields.length > 0) {\n      existing = existing.filter((el) => nameOfHiddenFields.indexOf(el) < 0);\n    }\n    if (existing[0] === displayName && existing.length === 1) {\n      return __spreadProps(__spreadValues({}, fieldConfig), {\n        overrides: overridesCopy\n      });\n    }\n    const override2 = createOverride([displayName, ...nameOfHiddenFields]);\n    return __spreadProps(__spreadValues({}, fieldConfig), {\n      overrides: [...overridesCopy, override2]\n    });\n  }\n  const override = createExtendedOverride(current, displayName);\n  if (allFieldsAreExcluded(override, data)) {\n    return __spreadProps(__spreadValues({}, fieldConfig), {\n      overrides: overridesCopy\n    });\n  }\n  return __spreadProps(__spreadValues({}, fieldConfig), {\n    overrides: [...overridesCopy, override]\n  });\n}\nfunction createOverride(names, mode = ByNamesMatcherMode.exclude, property) {\n  property = property != null ? property : {\n    id: \"custom.hideFrom\",\n    value: {\n      viz: true,\n      legend: false,\n      tooltip: false\n    }\n  };\n  return {\n    __systemRef: displayOverrideRef,\n    matcher: {\n      id: FieldMatcherID.byNames,\n      options: {\n        mode,\n        names,\n        prefix: mode === ByNamesMatcherMode.exclude ? \"All except:\" : void 0,\n        readOnly: true\n      }\n    },\n    properties: [\n      __spreadProps(__spreadValues({}, property), {\n        value: {\n          viz: true,\n          legend: false,\n          tooltip: false\n        }\n      })\n    ]\n  };\n}\nconst createExtendedOverride = (current, displayName, mode = ByNamesMatcherMode.exclude) => {\n  const property = current.properties.find((p) => p.id === \"custom.hideFrom\");\n  const existing = getExistingDisplayNames(current);\n  const index = existing.findIndex((name) => name === displayName);\n  if (index < 0) {\n    existing.push(displayName);\n  } else {\n    existing.splice(index, 1);\n  }\n  return createOverride(existing, mode, property);\n};\nconst getExistingDisplayNames = (rule) => {\n  var _a;\n  const names = (_a = rule.matcher.options) == null ? void 0 : _a.names;\n  if (!Array.isArray(names)) {\n    return [];\n  }\n  return [...names];\n};\nconst allFieldsAreExcluded = (override, data) => {\n  return getExistingDisplayNames(override).length === getDisplayNames(data).length;\n};\nconst getDisplayNames = (data, excludeName) => {\n  const unique = /* @__PURE__ */ new Set();\n  for (const frame of data) {\n    for (const field of frame.fields) {\n      if (field.type !== FieldType.number) {\n        continue;\n      }\n      const name = getFieldDisplayName(field, frame, data);\n      if (name === excludeName) {\n        continue;\n      }\n      unique.add(name);\n    }\n  }\n  return Array.from(unique);\n};\nconst getNamesOfHiddenFields = (overrides, data) => {\n  var _a;\n  let names = [];\n  for (const override of overrides) {\n    const property = override.properties.find((p) => p.id === \"custom.hideFrom\");\n    if (property !== void 0 && ((_a = property.value) == null ? void 0 : _a.legend) === true) {\n      const info = fieldMatchers.get(override.matcher.id);\n      const matcher = info.get(override.matcher.options);\n      for (const frame of data) {\n        for (const field of frame.fields) {\n          if (field.type !== FieldType.number) {\n            continue;\n          }\n          const name = getFieldDisplayName(field, frame, data);\n          if (matcher(field, frame, data)) {\n            names.push(name);\n          }\n        }\n      }\n    }\n  }\n  return names;\n};\n\nexport { seriesVisibilityConfigFactory };\n//# sourceMappingURL=seriesVisibilityConfigFactory.js.map\n","import { FieldMatcherID, FieldColorModeId } from '@grafana/data';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nconst changeSeriesColorConfigFactory = (label, color, fieldConfig) => {\n  const { overrides } = fieldConfig;\n  const currentIndex = fieldConfig.overrides.findIndex((override) => {\n    return override.matcher.id === FieldMatcherID.byName && override.matcher.options === label;\n  });\n  if (currentIndex < 0) {\n    return __spreadProps(__spreadValues({}, fieldConfig), {\n      overrides: [...fieldConfig.overrides, createOverride(label, color)]\n    });\n  }\n  const overridesCopy = Array.from(overrides);\n  const existing = overridesCopy[currentIndex];\n  const propertyIndex = existing.properties.findIndex((p) => p.id === \"color\");\n  if (propertyIndex < 0) {\n    overridesCopy[currentIndex] = __spreadProps(__spreadValues({}, existing), {\n      properties: [...existing.properties, createProperty(color)]\n    });\n    return __spreadProps(__spreadValues({}, fieldConfig), {\n      overrides: overridesCopy\n    });\n  }\n  const propertiesCopy = Array.from(existing.properties);\n  propertiesCopy[propertyIndex] = createProperty(color);\n  overridesCopy[currentIndex] = __spreadProps(__spreadValues({}, existing), {\n    properties: propertiesCopy\n  });\n  return __spreadProps(__spreadValues({}, fieldConfig), {\n    overrides: overridesCopy\n  });\n};\nconst createOverride = (label, color) => {\n  return {\n    matcher: {\n      id: FieldMatcherID.byName,\n      options: label\n    },\n    properties: [createProperty(color)]\n  };\n};\nconst createProperty = (color) => {\n  return {\n    id: \"color\",\n    value: {\n      mode: FieldColorModeId.Fixed,\n      fixedColor: color\n    }\n  };\n};\n\nexport { changeSeriesColorConfigFactory };\n//# sourceMappingURL=colorSeriesConfigFactory.js.map\n","import { toUtc, getPanelOptionsWithDefaults, renderMarkdown, applyFieldOverrides, compareArrayValues, compareDataFrameStructures, CoreApp, DashboardCursorSync, PanelPlugin, PluginType } from '@grafana/data';\nimport { getPluginImportUtils, config, getAppEvents } from '@grafana/runtime';\nimport { SceneObjectBase } from '../../core/SceneObjectBase.js';\nimport { sceneGraph } from '../../core/sceneGraph/index.js';\nimport { VizPanelRenderer } from './VizPanelRenderer.js';\nimport { VariableDependencyConfig } from '../../variables/VariableDependencyConfig.js';\nimport { seriesVisibilityConfigFactory } from './seriesVisibilityConfigFactory.js';\nimport { emptyPanelData } from '../../core/SceneDataNode.js';\nimport { changeSeriesColorConfigFactory } from './colorSeriesConfigFactory.js';\nimport { loadPanelPluginSync } from './registerRuntimePanelPlugin.js';\nimport { getCursorSyncScope } from '../../behaviors/CursorSync.js';\nimport { mergeWith, cloneDeep, isArray, merge } from 'lodash';\nimport { UserActionEvent } from '../../core/events.js';\nimport { evaluateTimeRange } from '../../utils/evaluateTimeRange.js';\nimport { LiveNowTimer } from '../../behaviors/LiveNowTimer.js';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nclass VizPanel extends SceneObjectBase {\n  constructor(state) {\n    var _a;\n    super(__spreadValues({\n      options: {},\n      fieldConfig: { defaults: {}, overrides: [] },\n      title: \"Title\",\n      pluginId: \"timeseries\"\n    }, state));\n    this._variableDependency = new VariableDependencyConfig(this, {\n      statePaths: [\"title\", \"options\", \"fieldConfig\"]\n    });\n    this._structureRev = 0;\n    this.onTimeRangeChange = (timeRange) => {\n      const sceneTimeRange = sceneGraph.getTimeRange(this);\n      sceneTimeRange.onTimeRangeChange({\n        raw: {\n          from: toUtc(timeRange.from),\n          to: toUtc(timeRange.to)\n        },\n        from: toUtc(timeRange.from),\n        to: toUtc(timeRange.to)\n      });\n    };\n    this.getTimeRange = (data) => {\n      const liveNowTimer = sceneGraph.findObject(this, (o) => o instanceof LiveNowTimer);\n      const sceneTimeRange = sceneGraph.getTimeRange(this);\n      if (liveNowTimer instanceof LiveNowTimer && liveNowTimer.isEnabled) {\n        return evaluateTimeRange(\n          sceneTimeRange.state.from,\n          sceneTimeRange.state.to,\n          sceneTimeRange.getTimeZone(),\n          sceneTimeRange.state.fiscalYearStartMonth,\n          sceneTimeRange.state.UNSAFE_nowDelay\n        );\n      }\n      const plugin = this.getPlugin();\n      if (plugin && !plugin.meta.skipDataQuery && data && data.timeRange) {\n        return data.timeRange;\n      }\n      return sceneTimeRange.state.value;\n    };\n    this.onTitleChange = (title) => {\n      this.setState({ title });\n    };\n    this.onDescriptionChange = (description) => {\n      this.setState({ description });\n    };\n    this.onDisplayModeChange = (displayMode) => {\n      this.setState({ displayMode });\n    };\n    this.onOptionsChange = (optionsUpdate, replace = false) => {\n      const { fieldConfig, options } = this.state;\n      const nextOptions = replace ? optionsUpdate : mergeWith(cloneDeep(options), optionsUpdate, (_, srcValue) => {\n        if (isArray(srcValue)) {\n          return srcValue;\n        }\n        return;\n      });\n      const withDefaults = getPanelOptionsWithDefaults({\n        plugin: this._plugin,\n        currentOptions: nextOptions,\n        currentFieldConfig: fieldConfig,\n        isAfterPluginChange: false\n      });\n      this.setState({\n        options: withDefaults.options\n      });\n    };\n    this.onFieldConfigChange = (fieldConfigUpdate, replace) => {\n      const { fieldConfig, options } = this.state;\n      const nextFieldConfig = replace ? fieldConfigUpdate : merge(cloneDeep(fieldConfig), fieldConfigUpdate);\n      const withDefaults = getPanelOptionsWithDefaults({\n        plugin: this._plugin,\n        currentOptions: options,\n        currentFieldConfig: nextFieldConfig,\n        isAfterPluginChange: false\n      });\n      this._dataWithFieldConfig = void 0;\n      this.setState({ fieldConfig: withDefaults.fieldConfig });\n    };\n    this.interpolate = (value, scoped, format) => {\n      return sceneGraph.interpolate(this, value, scoped, format);\n    };\n    this.getDescription = () => {\n      this.publishEvent(new UserActionEvent({ origin: this, interaction: \"panel-description-shown\" }), true);\n      const { description } = this.state;\n      if (description) {\n        const markdown = this.interpolate(description);\n        return renderMarkdown(markdown);\n      }\n      return \"\";\n    };\n    this.onCancelQuery = () => {\n      var _a;\n      this.publishEvent(new UserActionEvent({ origin: this, interaction: \"panel-cancel-query-clicked\" }), true);\n      const data = sceneGraph.getData(this);\n      (_a = data.cancelQuery) == null ? void 0 : _a.call(data);\n    };\n    this.onStatusMessageClick = () => {\n      this.publishEvent(new UserActionEvent({ origin: this, interaction: \"panel-status-message-clicked\" }), true);\n    };\n    this._onSeriesColorChange = (label, color) => {\n      this.onFieldConfigChange(changeSeriesColorConfigFactory(label, color, this.state.fieldConfig));\n    };\n    this._onSeriesVisibilityChange = (label, mode) => {\n      if (!this._dataWithFieldConfig) {\n        return;\n      }\n      this.onFieldConfigChange(\n        seriesVisibilityConfigFactory(label, mode, this.state.fieldConfig, this._dataWithFieldConfig.series),\n        true\n      );\n    };\n    this._onInstanceStateChange = (state) => {\n      if (this._panelContext) {\n        this._panelContext = __spreadProps(__spreadValues({}, this._panelContext), {\n          instanceState: state\n        });\n      }\n      this.setState({ _pluginInstanceState: state });\n    };\n    this._onToggleLegendSort = (sortKey) => {\n      const legendOptions = this.state.options.legend;\n      if (!legendOptions) {\n        return;\n      }\n      let sortDesc = legendOptions.sortDesc;\n      let sortBy = legendOptions.sortBy;\n      if (sortKey !== sortBy) {\n        sortDesc = void 0;\n      }\n      if (sortDesc === false) {\n        sortBy = void 0;\n        sortDesc = void 0;\n      } else {\n        sortDesc = !sortDesc;\n        sortBy = sortKey;\n      }\n      this.onOptionsChange(\n        __spreadProps(__spreadValues({}, this.state.options), {\n          legend: __spreadProps(__spreadValues({}, legendOptions), { sortBy, sortDesc })\n        }),\n        true\n      );\n    };\n    this.addActivationHandler(() => {\n      this._onActivate();\n    });\n    (_a = state.menu) == null ? void 0 : _a.addActivationHandler(() => {\n      this.publishEvent(new UserActionEvent({ origin: this, interaction: \"panel-menu-shown\" }), true);\n    });\n  }\n  _onActivate() {\n    if (!this._plugin) {\n      this._loadPlugin(this.state.pluginId);\n    }\n  }\n  async _loadPlugin(pluginId) {\n    const plugin = loadPanelPluginSync(pluginId);\n    if (plugin) {\n      this._pluginLoaded(plugin);\n    } else {\n      const { importPanelPlugin } = getPluginImportUtils();\n      try {\n        const result = await importPanelPlugin(pluginId);\n        this._pluginLoaded(result);\n      } catch (err) {\n        this._pluginLoaded(getPanelPluginNotFound(pluginId));\n        if (err instanceof Error) {\n          this.setState({ _pluginLoadError: err.message });\n        }\n      }\n    }\n  }\n  getLegacyPanelId() {\n    const panelId = parseInt(this.state.key.replace(\"panel-\", \"\"), 10);\n    if (isNaN(panelId)) {\n      return 0;\n    }\n    return panelId;\n  }\n  async _pluginLoaded(plugin) {\n    const { options, fieldConfig, title, pluginVersion, _UNSAFE_customMigrationHandler } = this.state;\n    const panel = {\n      title,\n      options,\n      fieldConfig,\n      id: this.getLegacyPanelId(),\n      type: plugin.meta.id,\n      pluginVersion\n    };\n    const currentVersion = this._getPluginVersion(plugin);\n    _UNSAFE_customMigrationHandler == null ? void 0 : _UNSAFE_customMigrationHandler(panel, plugin);\n    if (plugin.onPanelMigration && currentVersion !== this.state.pluginVersion) {\n      panel.options = await plugin.onPanelMigration(panel);\n    }\n    const withDefaults = getPanelOptionsWithDefaults({\n      plugin,\n      currentOptions: panel.options,\n      currentFieldConfig: panel.fieldConfig,\n      isAfterPluginChange: false\n    });\n    this._plugin = plugin;\n    this.setState({\n      options: withDefaults.options,\n      fieldConfig: withDefaults.fieldConfig,\n      pluginVersion: currentVersion\n    });\n    if (plugin.meta.skipDataQuery) {\n      const sceneTimeRange = sceneGraph.getTimeRange(this);\n      this._subs.add(sceneTimeRange.subscribeToState(() => this.forceRender()));\n    }\n  }\n  _getPluginVersion(plugin) {\n    return plugin && plugin.meta.info.version ? plugin.meta.info.version : config.buildInfo.version;\n  }\n  getPlugin() {\n    return this._plugin;\n  }\n  getPanelContext() {\n    var _a;\n    (_a = this._panelContext) != null ? _a : this._panelContext = this.buildPanelContext();\n    return this._panelContext;\n  }\n  clearFieldConfigCache() {\n    this._dataWithFieldConfig = void 0;\n  }\n  applyFieldConfig(rawData) {\n    var _a, _b, _c, _d;\n    const plugin = this._plugin;\n    if (!plugin || plugin.meta.skipDataQuery || !rawData) {\n      return emptyPanelData;\n    }\n    if (this._prevData === rawData && this._dataWithFieldConfig) {\n      return this._dataWithFieldConfig;\n    }\n    const pluginDataSupport = plugin.dataSupport || { alertStates: false, annotations: false };\n    const fieldConfigRegistry = plugin.fieldConfigRegistry;\n    const prevFrames = (_b = (_a = this._dataWithFieldConfig) == null ? void 0 : _a.series) != null ? _b : [];\n    const newFrames = applyFieldOverrides({\n      data: rawData.series,\n      fieldConfig: this.state.fieldConfig,\n      fieldConfigRegistry,\n      replaceVariables: this.interpolate,\n      theme: config.theme2,\n      timeZone: (_c = rawData.request) == null ? void 0 : _c.timezone\n    });\n    if (!compareArrayValues(newFrames, prevFrames, compareDataFrameStructures)) {\n      this._structureRev++;\n    }\n    this._dataWithFieldConfig = __spreadProps(__spreadValues({}, rawData), {\n      structureRev: this._structureRev,\n      series: newFrames\n    });\n    if (this._dataWithFieldConfig.annotations) {\n      this._dataWithFieldConfig.annotations = applyFieldOverrides({\n        data: this._dataWithFieldConfig.annotations,\n        fieldConfig: {\n          defaults: {},\n          overrides: []\n        },\n        fieldConfigRegistry,\n        replaceVariables: this.interpolate,\n        theme: config.theme2,\n        timeZone: (_d = rawData.request) == null ? void 0 : _d.timezone\n      });\n    }\n    if (!pluginDataSupport.alertStates) {\n      this._dataWithFieldConfig.alertState = void 0;\n    }\n    if (!pluginDataSupport.annotations) {\n      this._dataWithFieldConfig.annotations = void 0;\n    }\n    this._prevData = rawData;\n    return this._dataWithFieldConfig;\n  }\n  buildPanelContext() {\n    const sync = getCursorSyncScope(this);\n    const context = {\n      eventsScope: sync ? sync.getEventsScope() : \"__global_\",\n      eventBus: sync ? sync.getEventsBus(this) : getAppEvents(),\n      app: CoreApp.Unknown,\n      sync: () => {\n        if (sync) {\n          return sync.state.sync;\n        }\n        return DashboardCursorSync.Off;\n      },\n      onSeriesColorChange: this._onSeriesColorChange,\n      onToggleSeriesVisibility: this._onSeriesVisibilityChange,\n      onToggleLegendSort: this._onToggleLegendSort,\n      onInstanceStateChange: this._onInstanceStateChange\n    };\n    if (this.state.extendPanelContext) {\n      this.state.extendPanelContext(this, context);\n    }\n    return context;\n  }\n}\nVizPanel.Component = VizPanelRenderer;\nfunction getPanelPluginNotFound(id) {\n  const plugin = new PanelPlugin(() => null);\n  plugin.meta = {\n    id,\n    name: id,\n    sort: 100,\n    type: PluginType.panel,\n    module: \"\",\n    baseUrl: \"\",\n    info: {\n      author: {\n        name: \"\"\n      },\n      description: \"\",\n      links: [],\n      logos: {\n        large: \"\",\n        small: \"public/img/grafana_icon.svg\"\n      },\n      screenshots: [],\n      updated: \"\",\n      version: \"\"\n    }\n  };\n  return plugin;\n}\n\nexport { VizPanel };\n//# sourceMappingURL=VizPanel.js.map\n","import { VizPanel } from '../components/VizPanel/VizPanel.js';\nimport { SceneObjectBase } from '../core/SceneObjectBase.js';\nimport { sceneGraph } from '../core/sceneGraph/index.js';\n\nconst _LiveNowTimer = class extends SceneObjectBase {\n  constructor({ enabled = false }) {\n    super({ enabled });\n    this.timerId = void 0;\n    this._activationHandler = () => {\n      if (this.state.enabled) {\n        this.enable();\n      }\n      return () => {\n        window.clearInterval(this.timerId);\n        this.timerId = void 0;\n      };\n    };\n    this.addActivationHandler(this._activationHandler);\n  }\n  enable() {\n    window.clearInterval(this.timerId);\n    this.timerId = void 0;\n    this.timerId = window.setInterval(() => {\n      const panels = sceneGraph.findAllObjects(this.getRoot(), (obj) => obj instanceof VizPanel);\n      for (const panel of panels) {\n        panel.forceRender();\n      }\n    }, _LiveNowTimer.REFRESH_RATE);\n    this.setState({ enabled: true });\n  }\n  disable() {\n    window.clearInterval(this.timerId);\n    this.timerId = void 0;\n    this.setState({ enabled: false });\n  }\n  get isEnabled() {\n    return this.state.enabled;\n  }\n};\nlet LiveNowTimer = _LiveNowTimer;\nLiveNowTimer.REFRESH_RATE = 100;\n\nexport { LiveNowTimer };\n//# sourceMappingURL=LiveNowTimer.js.map\n","import { isFetchError } from '@grafana/runtime';\n\nfunction getMessageFromError(err) {\n  if (typeof err === \"string\") {\n    return err;\n  }\n  if (err) {\n    if (err instanceof Error) {\n      return err.message;\n    } else if (isFetchError(err)) {\n      if (err.data && err.data.message) {\n        return err.data.message;\n      } else if (err.statusText) {\n        return err.statusText;\n      }\n    } else if (err.hasOwnProperty(\"message\")) {\n      return err.message;\n    }\n  }\n  return JSON.stringify(err);\n}\n\nexport { getMessageFromError };\n//# sourceMappingURL=getMessageFromError.js.map\n","import { ReplaySubject } from 'rxjs';\nimport { emptyPanelData } from '../../core/SceneDataNode.js';\nimport { SceneObjectBase } from '../../core/SceneObjectBase.js';\nimport { setBaseClassState } from '../../utils/utils.js';\nimport { writeSceneLog } from '../../utils/writeSceneLog.js';\nimport { VariableDependencyConfig } from '../../variables/VariableDependencyConfig.js';\nimport { VariableValueRecorder } from '../../variables/VariableValueRecorder.js';\n\nvar __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nclass SceneDataLayerBase extends SceneObjectBase {\n  constructor(initialState, variableDependencyStatePaths = []) {\n    super(__spreadValues({\n      isEnabled: true\n    }, initialState));\n    this._results = new ReplaySubject(1);\n    this.isDataLayer = true;\n    this._variableValueRecorder = new VariableValueRecorder();\n    this._variableDependency = new VariableDependencyConfig(this, {\n      onVariableUpdateCompleted: this.onVariableUpdateCompleted.bind(this)\n    });\n    this._variableDependency.setPaths(variableDependencyStatePaths);\n    this.addActivationHandler(() => this.onActivate());\n  }\n  onActivate() {\n    if (this.state.isEnabled) {\n      this.onEnable();\n    }\n    if (this.shouldRunLayerOnActivate()) {\n      this.runLayer();\n    }\n    this.subscribeToState((n, p) => {\n      if (!n.isEnabled && this.querySub) {\n        this.querySub.unsubscribe();\n        this.querySub = void 0;\n        this.onDisable();\n        this._results.next({ origin: this, data: emptyPanelData });\n        this.setStateHelper({ data: emptyPanelData });\n      }\n      if (n.isEnabled && !p.isEnabled) {\n        this.onEnable();\n        this.runLayer();\n      }\n    });\n    return () => {\n      this.onDeactivate();\n    };\n  }\n  onDeactivate() {\n    if (this.querySub) {\n      this.querySub.unsubscribe();\n      this.querySub = void 0;\n    }\n    this.onDisable();\n    this._variableValueRecorder.recordCurrentDependencyValuesForSceneObject(this);\n  }\n  onVariableUpdateCompleted() {\n    this.runLayer();\n  }\n  cancelQuery() {\n    if (this.querySub) {\n      this.querySub.unsubscribe();\n      this.querySub = void 0;\n      this.publishResults(emptyPanelData);\n    }\n  }\n  publishResults(data) {\n    if (this.state.isEnabled) {\n      this._results.next({ origin: this, data });\n      this.setStateHelper({ data });\n    }\n  }\n  getResultsStream() {\n    return this._results;\n  }\n  shouldRunLayerOnActivate() {\n    if (this._variableValueRecorder.hasDependenciesChanged(this)) {\n      writeSceneLog(\n        \"SceneDataLayerBase\",\n        \"Variable dependency changed while inactive, shouldRunLayerOnActivate returns true\"\n      );\n      return true;\n    }\n    if (!this.state.data) {\n      return true;\n    }\n    return false;\n  }\n  setStateHelper(state) {\n    setBaseClassState(this, state);\n  }\n}\n\nexport { SceneDataLayerBase };\n//# sourceMappingURL=SceneDataLayerBase.js.map\n","import { css } from '@emotion/css';\nimport { LoadingState } from '@grafana/schema';\nimport { InlineSwitch } from '@grafana/ui';\nimport React from 'react';\nimport { sceneGraph } from '../../core/sceneGraph/index.js';\nimport { SceneObjectBase } from '../../core/SceneObjectBase.js';\nimport { ControlsLabel } from '../../utils/ControlsLabel.js';\n\nclass SceneDataLayerControls extends SceneObjectBase {\n  constructor() {\n    super({});\n  }\n}\nSceneDataLayerControls.Component = SceneDataLayerControlsRenderer;\nfunction SceneDataLayerControlsRenderer({ model }) {\n  const layers = sceneGraph.getDataLayers(model, true);\n  if (layers.length === 0) {\n    return null;\n  }\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, layers.map((layer) => /* @__PURE__ */ React.createElement(layer.Component, {\n    model: layer,\n    key: layer.state.key\n  })));\n}\nfunction DataLayerControlSwitch({ layer }) {\n  var _a, _b;\n  const elementId = `data-layer-${layer.state.key}`;\n  const { data, isEnabled } = layer.useState();\n  const showLoading = Boolean(data && data.state === LoadingState.Loading);\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    className: containerStyle\n  }, /* @__PURE__ */ React.createElement(ControlsLabel, {\n    htmlFor: elementId,\n    isLoading: showLoading,\n    onCancel: () => {\n      var _a2;\n      return (_a2 = layer.cancelQuery) == null ? void 0 : _a2.call(layer);\n    },\n    label: layer.state.name,\n    description: layer.state.description,\n    error: (_b = (_a = layer.state.data) == null ? void 0 : _a.errors) == null ? void 0 : _b[0].message\n  }), /* @__PURE__ */ React.createElement(InlineSwitch, {\n    id: elementId,\n    value: isEnabled,\n    onChange: () => layer.setState({ isEnabled: !isEnabled })\n  }));\n}\nconst containerStyle = css({ display: \"flex\" });\n\nexport { DataLayerControlSwitch, SceneDataLayerControls };\n//# sourceMappingURL=SceneDataLayerControls.js.map\n","export var isArrayLike = (function (x) { return x && typeof x.length === 'number' && typeof x !== 'function'; });\n//# sourceMappingURL=isArrayLike.js.map","export var observable = (function () { return (typeof Symbol === 'function' && Symbol.observable) || '@@observable'; })();\n//# sourceMappingURL=observable.js.map","import { identity } from './identity';\nexport function pipe() {\n    var fns = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        fns[_i] = arguments[_i];\n    }\n    return pipeFromArray(fns);\n}\nexport function pipeFromArray(fns) {\n    if (fns.length === 0) {\n        return identity;\n    }\n    if (fns.length === 1) {\n        return fns[0];\n    }\n    return function piped(input) {\n        return fns.reduce(function (prev, fn) { return fn(prev); }, input);\n    };\n}\n//# sourceMappingURL=pipe.js.map","import { SafeSubscriber, Subscriber } from './Subscriber';\nimport { isSubscription } from './Subscription';\nimport { observable as Symbol_observable } from './symbol/observable';\nimport { pipeFromArray } from './util/pipe';\nimport { config } from './config';\nimport { isFunction } from './util/isFunction';\nimport { errorContext } from './util/errorContext';\nvar Observable = (function () {\n    function Observable(subscribe) {\n        if (subscribe) {\n            this._subscribe = subscribe;\n        }\n    }\n    Observable.prototype.lift = function (operator) {\n        var observable = new Observable();\n        observable.source = this;\n        observable.operator = operator;\n        return observable;\n    };\n    Observable.prototype.subscribe = function (observerOrNext, error, complete) {\n        var _this = this;\n        var subscriber = isSubscriber(observerOrNext) ? observerOrNext : new SafeSubscriber(observerOrNext, error, complete);\n        errorContext(function () {\n            var _a = _this, operator = _a.operator, source = _a.source;\n            subscriber.add(operator\n                ?\n                    operator.call(subscriber, source)\n                : source\n                    ?\n                        _this._subscribe(subscriber)\n                    :\n                        _this._trySubscribe(subscriber));\n        });\n        return subscriber;\n    };\n    Observable.prototype._trySubscribe = function (sink) {\n        try {\n            return this._subscribe(sink);\n        }\n        catch (err) {\n            sink.error(err);\n        }\n    };\n    Observable.prototype.forEach = function (next, promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var subscriber = new SafeSubscriber({\n                next: function (value) {\n                    try {\n                        next(value);\n                    }\n                    catch (err) {\n                        reject(err);\n                        subscriber.unsubscribe();\n                    }\n                },\n                error: reject,\n                complete: resolve,\n            });\n            _this.subscribe(subscriber);\n        });\n    };\n    Observable.prototype._subscribe = function (subscriber) {\n        var _a;\n        return (_a = this.source) === null || _a === void 0 ? void 0 : _a.subscribe(subscriber);\n    };\n    Observable.prototype[Symbol_observable] = function () {\n        return this;\n    };\n    Observable.prototype.pipe = function () {\n        var operations = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            operations[_i] = arguments[_i];\n        }\n        return pipeFromArray(operations)(this);\n    };\n    Observable.prototype.toPromise = function (promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var value;\n            _this.subscribe(function (x) { return (value = x); }, function (err) { return reject(err); }, function () { return resolve(value); });\n        });\n    };\n    Observable.create = function (subscribe) {\n        return new Observable(subscribe);\n    };\n    return Observable;\n}());\nexport { Observable };\nfunction getPromiseCtor(promiseCtor) {\n    var _a;\n    return (_a = promiseCtor !== null && promiseCtor !== void 0 ? promiseCtor : config.Promise) !== null && _a !== void 0 ? _a : Promise;\n}\nfunction isObserver(value) {\n    return value && isFunction(value.next) && isFunction(value.error) && isFunction(value.complete);\n}\nfunction isSubscriber(value) {\n    return (value && value instanceof Subscriber) || (isObserver(value) && isSubscription(value));\n}\n//# sourceMappingURL=Observable.js.map","export function getSymbolIterator() {\n    if (typeof Symbol !== 'function' || !Symbol.iterator) {\n        return '@@iterator';\n    }\n    return Symbol.iterator;\n}\nexport var iterator = getSymbolIterator();\n//# sourceMappingURL=iterator.js.map","import { __asyncValues, __awaiter, __generator, __values } from \"tslib\";\nimport { isArrayLike } from '../util/isArrayLike';\nimport { isPromise } from '../util/isPromise';\nimport { Observable } from '../Observable';\nimport { isInteropObservable } from '../util/isInteropObservable';\nimport { isAsyncIterable } from '../util/isAsyncIterable';\nimport { createInvalidObservableTypeError } from '../util/throwUnobservableError';\nimport { isIterable } from '../util/isIterable';\nimport { isReadableStreamLike, readableStreamLikeToAsyncGenerator } from '../util/isReadableStreamLike';\nimport { isFunction } from '../util/isFunction';\nimport { reportUnhandledError } from '../util/reportUnhandledError';\nimport { observable as Symbol_observable } from '../symbol/observable';\nexport function innerFrom(input) {\n    if (input instanceof Observable) {\n        return input;\n    }\n    if (input != null) {\n        if (isInteropObservable(input)) {\n            return fromInteropObservable(input);\n        }\n        if (isArrayLike(input)) {\n            return fromArrayLike(input);\n        }\n        if (isPromise(input)) {\n            return fromPromise(input);\n        }\n        if (isAsyncIterable(input)) {\n            return fromAsyncIterable(input);\n        }\n        if (isIterable(input)) {\n            return fromIterable(input);\n        }\n        if (isReadableStreamLike(input)) {\n            return fromReadableStreamLike(input);\n        }\n    }\n    throw createInvalidObservableTypeError(input);\n}\nexport function fromInteropObservable(obj) {\n    return new Observable(function (subscriber) {\n        var obs = obj[Symbol_observable]();\n        if (isFunction(obs.subscribe)) {\n            return obs.subscribe(subscriber);\n        }\n        throw new TypeError('Provided object does not correctly implement Symbol.observable');\n    });\n}\nexport function fromArrayLike(array) {\n    return new Observable(function (subscriber) {\n        for (var i = 0; i < array.length && !subscriber.closed; i++) {\n            subscriber.next(array[i]);\n        }\n        subscriber.complete();\n    });\n}\nexport function fromPromise(promise) {\n    return new Observable(function (subscriber) {\n        promise\n            .then(function (value) {\n            if (!subscriber.closed) {\n                subscriber.next(value);\n                subscriber.complete();\n            }\n        }, function (err) { return subscriber.error(err); })\n            .then(null, reportUnhandledError);\n    });\n}\nexport function fromIterable(iterable) {\n    return new Observable(function (subscriber) {\n        var e_1, _a;\n        try {\n            for (var iterable_1 = __values(iterable), iterable_1_1 = iterable_1.next(); !iterable_1_1.done; iterable_1_1 = iterable_1.next()) {\n                var value = iterable_1_1.value;\n                subscriber.next(value);\n                if (subscriber.closed) {\n                    return;\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (iterable_1_1 && !iterable_1_1.done && (_a = iterable_1.return)) _a.call(iterable_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        subscriber.complete();\n    });\n}\nexport function fromAsyncIterable(asyncIterable) {\n    return new Observable(function (subscriber) {\n        process(asyncIterable, subscriber).catch(function (err) { return subscriber.error(err); });\n    });\n}\nexport function fromReadableStreamLike(readableStream) {\n    return fromAsyncIterable(readableStreamLikeToAsyncGenerator(readableStream));\n}\nfunction process(asyncIterable, subscriber) {\n    var asyncIterable_1, asyncIterable_1_1;\n    var e_2, _a;\n    return __awaiter(this, void 0, void 0, function () {\n        var value, e_2_1;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    _b.trys.push([0, 5, 6, 11]);\n                    asyncIterable_1 = __asyncValues(asyncIterable);\n                    _b.label = 1;\n                case 1: return [4, asyncIterable_1.next()];\n                case 2:\n                    if (!(asyncIterable_1_1 = _b.sent(), !asyncIterable_1_1.done)) return [3, 4];\n                    value = asyncIterable_1_1.value;\n                    subscriber.next(value);\n                    if (subscriber.closed) {\n                        return [2];\n                    }\n                    _b.label = 3;\n                case 3: return [3, 1];\n                case 4: return [3, 11];\n                case 5:\n                    e_2_1 = _b.sent();\n                    e_2 = { error: e_2_1 };\n                    return [3, 11];\n                case 6:\n                    _b.trys.push([6, , 9, 10]);\n                    if (!(asyncIterable_1_1 && !asyncIterable_1_1.done && (_a = asyncIterable_1.return))) return [3, 8];\n                    return [4, _a.call(asyncIterable_1)];\n                case 7:\n                    _b.sent();\n                    _b.label = 8;\n                case 8: return [3, 10];\n                case 9:\n                    if (e_2) throw e_2.error;\n                    return [7];\n                case 10: return [7];\n                case 11:\n                    subscriber.complete();\n                    return [2];\n            }\n        });\n    });\n}\n//# sourceMappingURL=innerFrom.js.map","import { observable as Symbol_observable } from '../symbol/observable';\nimport { isFunction } from './isFunction';\nexport function isInteropObservable(input) {\n    return isFunction(input[Symbol_observable]);\n}\n//# sourceMappingURL=isInteropObservable.js.map","import { isFunction } from \"./isFunction\";\nexport function isPromise(value) {\n    return isFunction(value === null || value === void 0 ? void 0 : value.then);\n}\n//# sourceMappingURL=isPromise.js.map","import { isFunction } from './isFunction';\nexport function isAsyncIterable(obj) {\n    return Symbol.asyncIterator && isFunction(obj === null || obj === void 0 ? void 0 : obj[Symbol.asyncIterator]);\n}\n//# sourceMappingURL=isAsyncIterable.js.map","import { iterator as Symbol_iterator } from '../symbol/iterator';\nimport { isFunction } from './isFunction';\nexport function isIterable(input) {\n    return isFunction(input === null || input === void 0 ? void 0 : input[Symbol_iterator]);\n}\n//# sourceMappingURL=isIterable.js.map","import { __asyncGenerator, __await, __generator } from \"tslib\";\nimport { isFunction } from './isFunction';\nexport function readableStreamLikeToAsyncGenerator(readableStream) {\n    return __asyncGenerator(this, arguments, function readableStreamLikeToAsyncGenerator_1() {\n        var reader, _a, value, done;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    reader = readableStream.getReader();\n                    _b.label = 1;\n                case 1:\n                    _b.trys.push([1, , 9, 10]);\n                    _b.label = 2;\n                case 2:\n                    if (!true) return [3, 8];\n                    return [4, __await(reader.read())];\n                case 3:\n                    _a = _b.sent(), value = _a.value, done = _a.done;\n                    if (!done) return [3, 5];\n                    return [4, __await(void 0)];\n                case 4: return [2, _b.sent()];\n                case 5: return [4, __await(value)];\n                case 6: return [4, _b.sent()];\n                case 7:\n                    _b.sent();\n                    return [3, 2];\n                case 8: return [3, 10];\n                case 9:\n                    reader.releaseLock();\n                    return [7];\n                case 10: return [2];\n            }\n        });\n    });\n}\nexport function isReadableStreamLike(obj) {\n    return isFunction(obj === null || obj === void 0 ? void 0 : obj.getReader);\n}\n//# sourceMappingURL=isReadableStreamLike.js.map","export function createInvalidObservableTypeError(input) {\n    return new TypeError(\"You provided \" + (input !== null && typeof input === 'object' ? 'an invalid object' : \"'\" + input + \"'\") + \" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.\");\n}\n//# sourceMappingURL=throwUnobservableError.js.map","import { map } from './map';\nimport { innerFrom } from '../observable/innerFrom';\nimport { operate } from '../util/lift';\nimport { mergeInternals } from './mergeInternals';\nimport { isFunction } from '../util/isFunction';\nexport function mergeMap(project, resultSelector, concurrent) {\n    if (concurrent === void 0) { concurrent = Infinity; }\n    if (isFunction(resultSelector)) {\n        return mergeMap(function (a, i) { return map(function (b, ii) { return resultSelector(a, b, i, ii); })(innerFrom(project(a, i))); }, concurrent);\n    }\n    else if (typeof resultSelector === 'number') {\n        concurrent = resultSelector;\n    }\n    return operate(function (source, subscriber) { return mergeInternals(source, subscriber, project, concurrent); });\n}\n//# sourceMappingURL=mergeMap.js.map","import { innerFrom } from '../observable/innerFrom';\nimport { executeSchedule } from '../util/executeSchedule';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function mergeInternals(source, subscriber, project, concurrent, onBeforeNext, expand, innerSubScheduler, additionalFinalizer) {\n    var buffer = [];\n    var active = 0;\n    var index = 0;\n    var isComplete = false;\n    var checkComplete = function () {\n        if (isComplete && !buffer.length && !active) {\n            subscriber.complete();\n        }\n    };\n    var outerNext = function (value) { return (active < concurrent ? doInnerSub(value) : buffer.push(value)); };\n    var doInnerSub = function (value) {\n        expand && subscriber.next(value);\n        active++;\n        var innerComplete = false;\n        innerFrom(project(value, index++)).subscribe(createOperatorSubscriber(subscriber, function (innerValue) {\n            onBeforeNext === null || onBeforeNext === void 0 ? void 0 : onBeforeNext(innerValue);\n            if (expand) {\n                outerNext(innerValue);\n            }\n            else {\n                subscriber.next(innerValue);\n            }\n        }, function () {\n            innerComplete = true;\n        }, undefined, function () {\n            if (innerComplete) {\n                try {\n                    active--;\n                    var _loop_1 = function () {\n                        var bufferedValue = buffer.shift();\n                        if (innerSubScheduler) {\n                            executeSchedule(subscriber, innerSubScheduler, function () { return doInnerSub(bufferedValue); });\n                        }\n                        else {\n                            doInnerSub(bufferedValue);\n                        }\n                    };\n                    while (buffer.length && active < concurrent) {\n                        _loop_1();\n                    }\n                    checkComplete();\n                }\n                catch (err) {\n                    subscriber.error(err);\n                }\n            }\n        }));\n    };\n    source.subscribe(createOperatorSubscriber(subscriber, outerNext, function () {\n        isComplete = true;\n        checkComplete();\n    }));\n    return function () {\n        additionalFinalizer === null || additionalFinalizer === void 0 ? void 0 : additionalFinalizer();\n    };\n}\n//# sourceMappingURL=mergeInternals.js.map","export function executeSchedule(parentSubscription, scheduler, work, delay, repeat) {\n    if (delay === void 0) { delay = 0; }\n    if (repeat === void 0) { repeat = false; }\n    var scheduleSubscription = scheduler.schedule(function () {\n        work();\n        if (repeat) {\n            parentSubscription.add(this.schedule(null, delay));\n        }\n        else {\n            this.unsubscribe();\n        }\n    }, delay);\n    parentSubscription.add(scheduleSubscription);\n    if (!repeat) {\n        return scheduleSubscription;\n    }\n}\n//# sourceMappingURL=executeSchedule.js.map","import { isString } from 'lodash';\nimport { of } from 'rxjs';\nimport { map, mergeMap } from 'rxjs/operators';\nimport { FieldType, getFieldDisplayName, AnnotationEventFieldSource, standardTransformers } from '@grafana/data';\nimport { config } from '@grafana/runtime';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nconst standardAnnotationSupport = {\n  prepareAnnotation: (json) => {\n    if (isString(json == null ? void 0 : json.query)) {\n      const _a = json, { query } = _a, rest = __objRest(_a, [\"query\"]);\n      return __spreadProps(__spreadValues({}, rest), {\n        target: {\n          refId: \"annotation_query\",\n          query\n        },\n        mappings: {}\n      });\n    }\n    return json;\n  },\n  prepareQuery: (anno) => anno.target,\n  processEvents: (anno, data) => {\n    return getAnnotationsFromData(data, anno.mappings);\n  }\n};\nfunction singleFrameFromPanelData() {\n  return (source) => source.pipe(\n    mergeMap((data) => {\n      if (!(data == null ? void 0 : data.length)) {\n        return of(void 0);\n      }\n      if (data.length === 1) {\n        return of(data[0]);\n      }\n      const ctx = {\n        interpolate: (v) => v\n      };\n      return of(data).pipe(\n        standardTransformers.mergeTransformer.operator({}, ctx),\n        map((d) => d[0])\n      );\n    })\n  );\n}\nconst annotationEventNames = [\n  {\n    key: \"time\",\n    field: (frame) => frame.fields.find((f) => f.type === FieldType.time),\n    placeholder: \"time, or the first time field\"\n  },\n  { key: \"timeEnd\", help: \"When this field is defined, the annotation will be treated as a range\" },\n  {\n    key: \"title\"\n  },\n  {\n    key: \"text\",\n    field: (frame) => frame.fields.find((f) => f.type === FieldType.string),\n    placeholder: \"text, or the first text field\"\n  },\n  { key: \"tags\", split: \",\", help: \"The results will be split on comma (,)\" },\n  {\n    key: \"id\"\n  }\n];\nconst publicDashboardEventNames = [\n  {\n    key: \"color\"\n  },\n  {\n    key: \"isRegion\"\n  },\n  {\n    key: \"source\"\n  }\n];\nconst alertEventAndAnnotationFields = [\n  ...config.publicDashboardAccessToken ? publicDashboardEventNames : [],\n  ...annotationEventNames,\n  { key: \"userId\" },\n  { key: \"login\" },\n  { key: \"email\" },\n  { key: \"prevState\" },\n  { key: \"newState\" },\n  { key: \"data\" },\n  { key: \"panelId\" },\n  { key: \"alertId\" },\n  { key: \"dashboardId\" },\n  { key: \"dashboardUID\" }\n];\nfunction getAnnotationsFromData(data, options) {\n  return of(data).pipe(\n    singleFrameFromPanelData(),\n    map((frame) => {\n      if (!(frame == null ? void 0 : frame.length)) {\n        return [];\n      }\n      let hasTime = false;\n      let hasText = false;\n      const byName = {};\n      for (const f of frame.fields) {\n        const name = getFieldDisplayName(f, frame);\n        byName[name.toLowerCase()] = f;\n      }\n      if (!options) {\n        options = {};\n      }\n      const fields = [];\n      for (const evts of alertEventAndAnnotationFields) {\n        const opt = options[evts.key] || {};\n        if (opt.source === AnnotationEventFieldSource.Skip) {\n          continue;\n        }\n        const setter = { key: evts.key, split: evts.split };\n        if (opt.source === AnnotationEventFieldSource.Text) {\n          setter.text = opt.value;\n        } else {\n          const lower = (opt.value || evts.key).toLowerCase();\n          setter.field = byName[lower];\n          if (!setter.field && evts.field) {\n            setter.field = evts.field(frame);\n          }\n        }\n        if (setter.field || setter.text) {\n          fields.push(setter);\n          if (setter.key === \"time\") {\n            hasTime = true;\n          } else if (setter.key === \"text\") {\n            hasText = true;\n          }\n        }\n      }\n      if (!hasTime || !hasText) {\n        console.error(\"Cannot process annotation fields. No time or text present.\");\n        return [];\n      }\n      const events = [];\n      for (let i = 0; i < frame.length; i++) {\n        const anno = {\n          type: \"default\",\n          color: \"red\"\n        };\n        for (const f of fields) {\n          let v = void 0;\n          if (f.text) {\n            v = f.text;\n          } else if (f.field) {\n            v = f.field.values.get(i);\n            if (v !== void 0 && f.regex) {\n              const match = f.regex.exec(v);\n              if (match) {\n                v = match[1] ? match[1] : match[0];\n              }\n            }\n          }\n          if (v !== null && v !== void 0) {\n            if (f.split && typeof v === \"string\") {\n              v = v.split(\",\");\n            }\n            anno[f.key] = v;\n          }\n        }\n        events.push(anno);\n      }\n      return events;\n    })\n  );\n}\nconst legacyRunner = [\n  \"prometheus\",\n  \"loki\",\n  \"elasticsearch\",\n  \"grafana-opensearch-datasource\"\n];\nfunction shouldUseLegacyRunner(datasource) {\n  const { type } = datasource;\n  return !datasource.annotations || legacyRunner.includes(type);\n}\n\nexport { annotationEventNames, getAnnotationsFromData, publicDashboardEventNames, shouldUseLegacyRunner, singleFrameFromPanelData, standardAnnotationSupport };\n//# sourceMappingURL=standardAnnotationsSupport.js.map\n","import { from, of } from 'rxjs';\nimport { map, mergeMap } from 'rxjs/operators';\nimport { rangeUtil, CoreApp, DataTopic } from '@grafana/data';\nimport { getRunRequest } from '@grafana/runtime';\nimport { shouldUseLegacyRunner, standardAnnotationSupport } from './standardAnnotationsSupport.js';\nimport { LoadingState } from '@grafana/schema';\nimport { getEnrichedDataRequest } from '../../getEnrichedDataRequest.js';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nlet counter = 100;\nfunction getNextRequestId() {\n  return \"AQ\" + counter++;\n}\nfunction executeAnnotationQuery(datasource, timeRange, query, layer) {\n  var _a;\n  if (datasource.annotationQuery && shouldUseLegacyRunner(datasource)) {\n    console.warn(\"Using deprecated annotationQuery method, please upgrade your datasource\");\n    return from(\n      datasource.annotationQuery({\n        range: timeRange.state.value,\n        rangeRaw: timeRange.state.value.raw,\n        annotation: query,\n        dashboard: {}\n      })\n    ).pipe(\n      map((events) => ({\n        state: LoadingState.Done,\n        events\n      }))\n    );\n  }\n  const processor = __spreadValues(__spreadValues({}, standardAnnotationSupport), datasource.annotations);\n  const annotationWithDefaults = __spreadValues(__spreadValues({}, (_a = processor.getDefaultQuery) == null ? void 0 : _a.call(processor)), query);\n  const annotation = processor.prepareAnnotation(annotationWithDefaults);\n  if (!annotation) {\n    return of({\n      state: LoadingState.Done,\n      events: []\n    });\n  }\n  const processedQuery = processor.prepareQuery(annotation);\n  if (!processedQuery) {\n    return of({\n      state: LoadingState.Done,\n      events: []\n    });\n  }\n  const maxDataPoints = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n  const interval = rangeUtil.calculateInterval(timeRange.state.value, maxDataPoints, datasource.interval);\n  const scopedVars = {\n    __interval: { text: interval.interval, value: interval.interval },\n    __interval_ms: { text: interval.intervalMs.toString(), value: interval.intervalMs },\n    __annotation: { text: annotation.name, value: annotation },\n    __sceneObject: { text: \"__sceneObject\", value: layer }\n  };\n  const queryRequest = __spreadValues(__spreadProps(__spreadValues({\n    startTime: Date.now(),\n    requestId: getNextRequestId(),\n    range: timeRange.state.value,\n    maxDataPoints,\n    scopedVars\n  }, interval), {\n    app: CoreApp.Dashboard,\n    timezone: timeRange.getTimeZone(),\n    targets: [\n      __spreadProps(__spreadValues({}, processedQuery), {\n        refId: \"Anno\"\n      })\n    ]\n  }), getEnrichedDataRequest(layer));\n  const runRequest = getRunRequest();\n  return runRequest(datasource, queryRequest).pipe(\n    mergeMap((panelData) => {\n      const data = (panelData == null ? void 0 : panelData.series.length) ? panelData.series : panelData.annotations;\n      if (!(data == null ? void 0 : data.length)) {\n        return of({\n          state: panelData.state,\n          events: []\n        });\n      }\n      data.forEach((frame) => {\n        var _a2;\n        if (!((_a2 = frame.meta) == null ? void 0 : _a2.dataTopic)) {\n          frame.meta = __spreadProps(__spreadValues({}, frame.meta || {}), { dataTopic: DataTopic.Annotations });\n        }\n      });\n      return processor.processEvents(annotation, data).pipe(\n        map((events) => {\n          return {\n            state: panelData.state,\n            events: events || []\n          };\n        })\n      );\n    })\n  );\n}\n\nexport { executeAnnotationQuery };\n//# sourceMappingURL=standardAnnotationQuery.js.map\n","import { config } from '@grafana/runtime';\nimport { cloneDeep, partition, groupBy, map, every, find, head, concat } from 'lodash';\n\nvar __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nfunction postProcessQueryResult(annotation, results) {\n  if (annotation.snapshotData) {\n    annotation = cloneDeep(annotation);\n    delete annotation.snapshotData;\n  }\n  const processed = results.map((item) => {\n    var _a;\n    const processedItem = __spreadValues({}, item);\n    processedItem.source = annotation;\n    processedItem.color = config.theme2.visualization.getColorByName(annotation.iconColor);\n    processedItem.type = annotation.name;\n    processedItem.isRegion = Boolean(processedItem.timeEnd && processedItem.time !== processedItem.timeEnd);\n    switch ((_a = processedItem.newState) == null ? void 0 : _a.toLowerCase()) {\n      case \"pending\":\n        processedItem.color = \"yellow\";\n        break;\n      case \"alerting\":\n        processedItem.color = \"red\";\n        break;\n      case \"ok\":\n        processedItem.color = \"green\";\n        break;\n      case \"normal\":\n        processedItem.color = \"green\";\n        break;\n      case \"no_data\":\n        processedItem.color = \"gray\";\n        break;\n      case \"nodata\":\n        processedItem.color = \"gray\";\n        break;\n    }\n    return processedItem;\n  });\n  return processed;\n}\nfunction dedupAnnotations(annotations) {\n  let dedup = [];\n  const events = partition(annotations, \"id\");\n  const eventsById = groupBy(events[0], \"id\");\n  dedup = map(eventsById, (eventGroup) => {\n    if (eventGroup.length > 1 && !every(eventGroup, isPanelAlert)) {\n      return find(eventGroup, (event) => {\n        return event.eventType !== \"panel-alert\";\n      });\n    } else {\n      return head(eventGroup);\n    }\n  });\n  dedup = concat(dedup, events[1]);\n  return dedup;\n}\nfunction isPanelAlert(event) {\n  return event.eventType === \"panel-alert\";\n}\n\nexport { dedupAnnotations, postProcessQueryResult };\n//# sourceMappingURL=utils.js.map\n","import { arrayToDataFrame, DataTopic } from '@grafana/data';\nimport { LoadingState } from '@grafana/schema';\nimport React from 'react';\nimport { map } from 'rxjs';\nimport { emptyPanelData } from '../../../core/SceneDataNode.js';\nimport { sceneGraph } from '../../../core/sceneGraph/index.js';\nimport { getDataSource } from '../../../utils/getDataSource.js';\nimport { getMessageFromError } from '../../../utils/getMessageFromError.js';\nimport { writeSceneLog } from '../../../utils/writeSceneLog.js';\nimport { registerQueryWithController } from '../../registerQueryWithController.js';\nimport { SceneDataLayerBase } from '../SceneDataLayerBase.js';\nimport { DataLayerControlSwitch } from '../SceneDataLayerControls.js';\nimport { executeAnnotationQuery } from './standardAnnotationQuery.js';\nimport { postProcessQueryResult, dedupAnnotations } from './utils.js';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nclass AnnotationsDataLayer extends SceneDataLayerBase {\n  constructor(initialState) {\n    super(\n      __spreadValues({\n        isEnabled: true\n      }, initialState),\n      [\"query\"]\n    );\n    this._scopedVars = { __sceneObject: { value: this, text: \"__sceneObject\" } };\n  }\n  onEnable() {\n    const timeRange = sceneGraph.getTimeRange(this);\n    this._timeRangeSub = timeRange.subscribeToState(() => {\n      this.runWithTimeRange(timeRange);\n    });\n  }\n  onDisable() {\n    var _a;\n    (_a = this._timeRangeSub) == null ? void 0 : _a.unsubscribe();\n  }\n  runLayer() {\n    writeSceneLog(\"AnnotationsDataLayer\", \"run layer\");\n    const timeRange = sceneGraph.getTimeRange(this);\n    this.runWithTimeRange(timeRange);\n  }\n  async runWithTimeRange(timeRange) {\n    const { query } = this.state;\n    if (this.querySub) {\n      this.querySub.unsubscribe();\n    }\n    if (this._variableDependency.hasDependencyInLoadingState()) {\n      writeSceneLog(\"AnnotationsDataLayer\", \"Variable dependency is in loading state, skipping query execution\");\n      return;\n    }\n    try {\n      const ds = await this.resolveDataSource(query);\n      let stream = executeAnnotationQuery(ds, timeRange, query, this).pipe(\n        registerQueryWithController({\n          type: \"annotations\",\n          origin: this,\n          cancel: () => this.cancelQuery()\n        }),\n        map((events) => {\n          const stateUpdate = this.processEvents(query, events);\n          return stateUpdate;\n        })\n      );\n      this.querySub = stream.subscribe((stateUpdate) => {\n        this.publishResults(stateUpdate);\n      });\n    } catch (e) {\n      this.publishResults(__spreadProps(__spreadValues({}, emptyPanelData), {\n        state: LoadingState.Error,\n        errors: [\n          {\n            message: getMessageFromError(e)\n          }\n        ]\n      }));\n      console.error(\"AnnotationsDataLayer error\", e);\n    }\n  }\n  async resolveDataSource(query) {\n    return await getDataSource(query.datasource || void 0, this._scopedVars);\n  }\n  processEvents(query, events) {\n    let processedEvents = postProcessQueryResult(query, events.events || []);\n    processedEvents = dedupAnnotations(processedEvents);\n    const stateUpdate = __spreadProps(__spreadValues({}, emptyPanelData), { state: events.state });\n    const df = arrayToDataFrame(processedEvents);\n    df.meta = __spreadProps(__spreadValues({}, df.meta), {\n      dataTopic: DataTopic.Annotations\n    });\n    stateUpdate.series = [df];\n    return stateUpdate;\n  }\n}\nAnnotationsDataLayer.Component = AnnotationsDataLayerRenderer;\nfunction AnnotationsDataLayerRenderer({ model }) {\n  const { isHidden } = model.useState();\n  if (isHidden) {\n    return null;\n  }\n  return /* @__PURE__ */ React.createElement(DataLayerControlSwitch, {\n    layer: model\n  });\n}\n\nexport { AnnotationsDataLayer };\n//# sourceMappingURL=AnnotationsDataLayer.js.map\n","import { SceneTimeRangeTransformerBase } from './SceneTimeRangeTransformerBase.js';\nimport { getDefaultTimeRange } from '@grafana/data';\nimport { evaluateTimeRange } from '../utils/evaluateTimeRange.js';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nclass SceneTimeZoneOverride extends SceneTimeRangeTransformerBase {\n  constructor(state) {\n    super(__spreadProps(__spreadValues({}, state), {\n      timeZone: state.timeZone,\n      from: \"now-6h\",\n      to: \"now\",\n      value: getDefaultTimeRange()\n    }));\n  }\n  ancestorTimeRangeChanged(timeRange) {\n    this.setState(__spreadProps(__spreadValues({}, timeRange), {\n      timeZone: this.state.timeZone,\n      value: evaluateTimeRange(\n        timeRange.from,\n        timeRange.to,\n        this.state.timeZone,\n        timeRange.fiscalYearStartMonth,\n        timeRange.UNSAFE_nowDelay\n      )\n    }));\n  }\n  getTimeZone() {\n    return this.state.timeZone;\n  }\n  onTimeZoneChange(timeZone) {\n    this.setState({\n      timeZone,\n      value: evaluateTimeRange(\n        this.state.from,\n        this.state.to,\n        this.state.timeZone,\n        this.getAncestorTimeRange().state.fiscalYearStartMonth,\n        this.state.UNSAFE_nowDelay\n      )\n    });\n  }\n}\n\nexport { SceneTimeZoneOverride };\n//# sourceMappingURL=SceneTimeZoneOverride.js.map\n","import React from 'react';\nimport { ReplaySubject } from 'rxjs';\nimport { emptyPanelData } from '../core/SceneDataNode.js';\nimport { SceneObjectBase } from '../core/SceneObjectBase.js';\nimport { DataLayersMerger } from './DataLayersMerger.js';\nimport { setBaseClassState } from '../utils/utils.js';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nclass SceneDataLayerSetBase extends SceneObjectBase {\n  constructor() {\n    super(...arguments);\n    this.isDataLayer = true;\n    this._results = new ReplaySubject(1);\n    this._dataLayersMerger = new DataLayersMerger();\n  }\n  subscribeToAllLayers(layers) {\n    if (layers.length > 0) {\n      this.querySub = this._dataLayersMerger.getMergedStream(layers).subscribe(this._onLayerUpdateReceived.bind(this));\n    } else {\n      this._results.next({ origin: this, data: emptyPanelData });\n      this.setStateHelper({ data: emptyPanelData });\n    }\n  }\n  _onLayerUpdateReceived(results) {\n    var _a;\n    let series = [];\n    for (const result of results) {\n      if ((_a = result.data) == null ? void 0 : _a.series) {\n        series = series.concat(result.data.series);\n      }\n    }\n    const combinedData = __spreadProps(__spreadValues({}, emptyPanelData), { series });\n    this._results.next({ origin: this, data: combinedData });\n    this.setStateHelper({ data: combinedData });\n  }\n  getResultsStream() {\n    return this._results;\n  }\n  cancelQuery() {\n    var _a;\n    (_a = this.querySub) == null ? void 0 : _a.unsubscribe();\n  }\n  setStateHelper(state) {\n    setBaseClassState(this, state);\n  }\n}\nclass SceneDataLayerSet extends SceneDataLayerSetBase {\n  constructor(state) {\n    var _a, _b;\n    super({\n      name: (_a = state.name) != null ? _a : \"Data layers\",\n      layers: (_b = state.layers) != null ? _b : []\n    });\n    this.addActivationHandler(() => this._onActivate());\n  }\n  _onActivate() {\n    this._subs.add(\n      this.subscribeToState((newState, oldState) => {\n        var _a;\n        if (newState.layers !== oldState.layers) {\n          (_a = this.querySub) == null ? void 0 : _a.unsubscribe();\n          this.subscribeToAllLayers(newState.layers);\n        }\n      })\n    );\n    this.subscribeToAllLayers(this.state.layers);\n    return () => {\n      var _a;\n      (_a = this.querySub) == null ? void 0 : _a.unsubscribe();\n    };\n  }\n}\nSceneDataLayerSet.Component = ({ model }) => {\n  const { layers } = model.useState();\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, layers.map((layer) => /* @__PURE__ */ React.createElement(layer.Component, {\n    model: layer,\n    key: layer.state.key\n  })));\n};\n\nexport { SceneDataLayerSet, SceneDataLayerSetBase };\n//# sourceMappingURL=SceneDataLayerSet.js.map\n","import { DataTopic, transformDataFrame, LoadingState } from '@grafana/data';\nimport { toDataQueryError } from '@grafana/runtime';\nimport { ReplaySubject, forkJoin, map, catchError, of } from 'rxjs';\nimport { sceneGraph } from '../core/sceneGraph/index.js';\nimport { SceneObjectBase } from '../core/SceneObjectBase.js';\nimport { VariableDependencyConfig } from '../variables/VariableDependencyConfig.js';\nimport { SceneDataLayerSet } from './SceneDataLayerSet.js';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nclass SceneDataTransformer extends SceneObjectBase {\n  constructor(state) {\n    super(state);\n    this._results = new ReplaySubject(1);\n    this._variableDependency = new VariableDependencyConfig(\n      this,\n      {\n        statePaths: [\"transformations\"],\n        onReferencedVariableValueChanged: () => this.reprocessTransformations()\n      }\n    );\n    this.addActivationHandler(() => this.activationHandler());\n  }\n  activationHandler() {\n    const sourceData = this.getSourceData();\n    this._subs.add(sourceData.subscribeToState((state) => this.transform(state.data)));\n    if (sourceData.state.data) {\n      this.transform(sourceData.state.data);\n    }\n    return () => {\n      if (this._transformSub) {\n        this._transformSub.unsubscribe();\n      }\n    };\n  }\n  getSourceData() {\n    if (this.state.$data) {\n      if (this.state.$data instanceof SceneDataLayerSet) {\n        throw new Error(\"SceneDataLayerSet can not be used as data provider for SceneDataTransformer.\");\n      }\n      return this.state.$data;\n    }\n    if (!this.parent || !this.parent.parent) {\n      throw new Error(\"SceneDataTransformer must either have $data set on it or have a parent.parent with $data\");\n    }\n    return sceneGraph.getData(this.parent.parent);\n  }\n  setContainerWidth(width) {\n    if (this.state.$data && this.state.$data.setContainerWidth) {\n      this.state.$data.setContainerWidth(width);\n    }\n  }\n  isDataReadyToDisplay() {\n    const dataObject = this.getSourceData();\n    if (dataObject.isDataReadyToDisplay) {\n      return dataObject.isDataReadyToDisplay();\n    }\n    return true;\n  }\n  reprocessTransformations() {\n    this.transform(this.getSourceData().state.data, true);\n  }\n  cancelQuery() {\n    var _a, _b;\n    (_b = (_a = this.getSourceData()).cancelQuery) == null ? void 0 : _b.call(_a);\n  }\n  getResultsStream() {\n    return this._results;\n  }\n  clone(withState) {\n    const clone = super.clone(withState);\n    if (this._prevDataFromSource) {\n      clone[\"_prevDataFromSource\"] = this._prevDataFromSource;\n    }\n    return clone;\n  }\n  haveAlreadyTransformedData(data) {\n    if (!this._prevDataFromSource) {\n      return false;\n    }\n    if (data === this._prevDataFromSource) {\n      return true;\n    }\n    const { series, annotations } = this._prevDataFromSource;\n    if (data.series === series && data.annotations === annotations) {\n      if (this.state.data && data.state !== this.state.data.state) {\n        this.setState({ data: __spreadProps(__spreadValues({}, this.state.data), { state: data.state }) });\n      }\n      return true;\n    }\n    return false;\n  }\n  transform(data, force = false) {\n    var _a;\n    if (this.state.transformations.length === 0 || !data) {\n      this._prevDataFromSource = data;\n      this.setState({ data });\n      if (data) {\n        this._results.next({ origin: this, data });\n      }\n      return;\n    }\n    if (!force && this.haveAlreadyTransformedData(data)) {\n      return;\n    }\n    const seriesTransformations = this.state.transformations.filter((transformation) => {\n      if (\"options\" in transformation || \"topic\" in transformation) {\n        return transformation.topic == null || transformation.topic === DataTopic.Series;\n      }\n      return true;\n    }).map((transformation) => \"operator\" in transformation ? transformation.operator : transformation);\n    const annotationsTransformations = this.state.transformations.filter((transformation) => {\n      if (\"options\" in transformation || \"topic\" in transformation) {\n        return transformation.topic === DataTopic.Annotations;\n      }\n      return false;\n    }).map((transformation) => \"operator\" in transformation ? transformation.operator : transformation);\n    if (this._transformSub) {\n      this._transformSub.unsubscribe();\n    }\n    const ctx = {\n      interpolate: (value) => {\n        var _a2;\n        return sceneGraph.interpolate(this, value, (_a2 = data.request) == null ? void 0 : _a2.scopedVars);\n      }\n    };\n    let streams = [transformDataFrame(seriesTransformations, data.series, ctx)];\n    if (data.annotations && data.annotations.length > 0 && annotationsTransformations.length > 0) {\n      streams.push(transformDataFrame(annotationsTransformations, (_a = data.annotations) != null ? _a : []));\n    }\n    this._transformSub = forkJoin(streams).pipe(\n      map((values) => {\n        const transformedSeries = values[0];\n        const transformedAnnotations = values[1];\n        return __spreadProps(__spreadValues({}, data), {\n          series: transformedSeries,\n          annotations: transformedAnnotations != null ? transformedAnnotations : data.annotations\n        });\n      }),\n      catchError((err) => {\n        var _a2;\n        console.error(\"Error transforming data: \", err);\n        const sourceErr = ((_a2 = this.getSourceData().state.data) == null ? void 0 : _a2.errors) || [];\n        const transformationError = toDataQueryError(err);\n        transformationError.message = `Error transforming data: ${transformationError.message}`;\n        const result = __spreadProps(__spreadValues({}, data), {\n          state: LoadingState.Error,\n          errors: [...sourceErr, transformationError]\n        });\n        return of(result);\n      })\n    ).subscribe((transformedData) => {\n      this.setState({ data: transformedData });\n      this._results.next({ origin: this, data: transformedData });\n      this._prevDataFromSource = data;\n    });\n  }\n}\n\nexport { SceneDataTransformer };\n//# sourceMappingURL=SceneDataTransformer.js.map\n","import React from 'react';\nimport { VariableHide } from '@grafana/data';\nimport { SceneObjectBase, useSceneObjectState } from '../../core/SceneObjectBase.js';\nimport { sceneGraph } from '../../core/sceneGraph/index.js';\nimport { ControlsLabel } from '../../utils/ControlsLabel.js';\nimport { css } from '@emotion/css';\nimport { selectors } from '@grafana/e2e-selectors';\n\nclass VariableValueSelectors extends SceneObjectBase {\n}\nVariableValueSelectors.Component = VariableValueSelectorsRenderer;\nfunction VariableValueSelectorsRenderer({ model }) {\n  const variables = sceneGraph.getVariables(model).useState();\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, variables.variables.map((variable) => /* @__PURE__ */ React.createElement(VariableValueSelectWrapper, {\n    key: variable.state.key,\n    variable,\n    layout: model.state.layout\n  })));\n}\nfunction VariableValueSelectWrapper({ variable, layout, showAlways, hideLabel }) {\n  const state = useSceneObjectState(variable, { shouldActivateOrKeepAlive: true });\n  if (state.hide === VariableHide.hideVariable && !showAlways) {\n    return null;\n  }\n  if (layout === \"vertical\") {\n    return /* @__PURE__ */ React.createElement(\"div\", {\n      className: verticalContainer,\n      \"data-testid\": selectors.pages.Dashboard.SubMenu.submenuItem\n    }, /* @__PURE__ */ React.createElement(VariableLabel, {\n      variable,\n      layout,\n      hideLabel\n    }), /* @__PURE__ */ React.createElement(variable.Component, {\n      model: variable\n    }));\n  }\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    className: containerStyle,\n    \"data-testid\": selectors.pages.Dashboard.SubMenu.submenuItem\n  }, /* @__PURE__ */ React.createElement(VariableLabel, {\n    variable,\n    hideLabel\n  }), /* @__PURE__ */ React.createElement(variable.Component, {\n    model: variable\n  }));\n}\nfunction VariableLabel({ variable, layout, hideLabel }) {\n  var _a, _b;\n  const { state } = variable;\n  if (variable.state.hide === VariableHide.hideLabel || hideLabel) {\n    return null;\n  }\n  const elementId = `var-${state.key}`;\n  const labelOrName = (_a = state.label) != null ? _a : state.name;\n  return /* @__PURE__ */ React.createElement(ControlsLabel, {\n    htmlFor: elementId,\n    isLoading: state.loading,\n    onCancel: () => {\n      var _a2;\n      return (_a2 = variable.onCancel) == null ? void 0 : _a2.call(variable);\n    },\n    label: labelOrName,\n    error: state.error,\n    layout,\n    description: (_b = state.description) != null ? _b : void 0\n  });\n}\nconst containerStyle = css({ display: \"flex\" });\nconst verticalContainer = css({ display: \"flex\", flexDirection: \"column\" });\n\nexport { VariableValueSelectWrapper, VariableValueSelectors };\n//# sourceMappingURL=VariableValueSelectors.js.map\n","import React from 'react';\nimport { SceneObjectBase } from '../../core/SceneObjectBase.js';\nimport { sceneGraph } from '../../core/sceneGraph/index.js';\nimport { VariableValueSelectWrapper } from './VariableValueSelectors.js';\n\nclass VariableValueControl extends SceneObjectBase {\n}\nVariableValueControl.Component = VariableValueControlRenderer;\nfunction VariableValueControlRenderer({ model }) {\n  const variable = sceneGraph.lookupVariable(model.state.variableName, model);\n  if (!variable) {\n    return null;\n  }\n  return /* @__PURE__ */ React.createElement(VariableValueSelectWrapper, {\n    key: variable.state.key,\n    variable,\n    layout: model.state.layout,\n    showAlways: true\n  });\n}\n\nexport { VariableValueControl };\n//# sourceMappingURL=VariableValueControl.js.map\n","import { VariableRefresh } from '@grafana/data';\nimport { sceneGraph } from '../../core/sceneGraph/index.js';\nimport { SceneObjectBase } from '../../core/SceneObjectBase.js';\nimport { writeSceneLog } from '../../utils/writeSceneLog.js';\nimport { SceneVariableValueChangedEvent } from '../types.js';\nimport { VariableValueRecorder } from '../VariableValueRecorder.js';\n\nclass SceneVariableSet extends SceneObjectBase {\n  constructor(state) {\n    super(state);\n    this._variablesThatHaveChanged = /* @__PURE__ */ new Set();\n    this._variablesToUpdate = /* @__PURE__ */ new Set();\n    this._updating = /* @__PURE__ */ new Map();\n    this._variableValueRecorder = new VariableValueRecorder();\n    this._variableDependency = new SceneVariableSetVariableDependencyHandler(\n      this._handleParentVariableUpdatesCompleted.bind(this)\n    );\n    this._onActivate = () => {\n      const timeRange = sceneGraph.getTimeRange(this);\n      this._subs.add(\n        this.subscribeToEvent(SceneVariableValueChangedEvent, (event) => this._handleVariableValueChanged(event.payload))\n      );\n      this._subs.add(\n        timeRange.subscribeToState(() => {\n          this._refreshTimeRangeBasedVariables();\n        })\n      );\n      this._subs.add(this.subscribeToState(this._onStateChanged));\n      this._checkForVariablesThatChangedWhileInactive();\n      for (const variable of this.state.variables) {\n        if (this._variableNeedsUpdate(variable)) {\n          this._variablesToUpdate.add(variable);\n        }\n      }\n      this._updateNextBatch();\n      return this._onDeactivate;\n    };\n    this._onDeactivate = () => {\n      var _a;\n      for (const update of this._updating.values()) {\n        (_a = update.subscription) == null ? void 0 : _a.unsubscribe();\n      }\n      for (const variable of this.state.variables) {\n        if (!this._variablesToUpdate.has(variable) && !this._updating.has(variable)) {\n          this._variableValueRecorder.recordCurrentValue(variable);\n        }\n      }\n      this._variablesToUpdate.clear();\n      this._updating.clear();\n    };\n    this._onStateChanged = (newState, oldState) => {\n      const variablesToUpdateCountStart = this._variablesToUpdate.size;\n      for (const variable of oldState.variables) {\n        if (!newState.variables.includes(variable)) {\n          const updating = this._updating.get(variable);\n          if (updating == null ? void 0 : updating.subscription) {\n            updating.subscription.unsubscribe();\n          }\n          this._updating.delete(variable);\n          this._variablesToUpdate.delete(variable);\n        }\n      }\n      for (const variable of newState.variables) {\n        if (!oldState.variables.includes(variable)) {\n          if (this._variableNeedsUpdate(variable)) {\n            this._variablesToUpdate.add(variable);\n          }\n        }\n      }\n      if (variablesToUpdateCountStart === 0 && this._variablesToUpdate.size > 0) {\n        this._updateNextBatch();\n      }\n    };\n    this.addActivationHandler(this._onActivate);\n  }\n  getByName(name) {\n    return this.state.variables.find((x) => x.state.name === name);\n  }\n  _refreshTimeRangeBasedVariables() {\n    for (const variable of this.state.variables) {\n      if (\"refresh\" in variable.state && variable.state.refresh === VariableRefresh.onTimeRangeChanged) {\n        this._variablesToUpdate.add(variable);\n      }\n    }\n    this._updateNextBatch();\n  }\n  _checkForVariablesThatChangedWhileInactive() {\n    if (!this._variableValueRecorder.hasValues()) {\n      return;\n    }\n    for (const variable of this.state.variables) {\n      if (this._variableValueRecorder.hasValueChanged(variable)) {\n        writeVariableTraceLog(variable, \"Changed while in-active\");\n        this._addDependentVariablesToUpdateQueue(variable);\n      }\n    }\n  }\n  _variableNeedsUpdate(variable) {\n    if (variable.isLazy) {\n      return false;\n    }\n    if (!variable.validateAndUpdate) {\n      return false;\n    }\n    if (this._variableValueRecorder.hasRecordedValue(variable)) {\n      writeVariableTraceLog(variable, \"Skipping updateAndValidate current value valid\");\n      return false;\n    }\n    return true;\n  }\n  _updateNextBatch() {\n    for (const variable of this._variablesToUpdate) {\n      if (!variable.validateAndUpdate) {\n        throw new Error(\"Variable added to variablesToUpdate but does not have validateAndUpdate\");\n      }\n      if (this._updating.has(variable)) {\n        continue;\n      }\n      if (sceneGraph.hasVariableDependencyInLoadingState(variable)) {\n        continue;\n      }\n      const variableToUpdate = {\n        variable\n      };\n      this._updating.set(variable, variableToUpdate);\n      writeVariableTraceLog(variable, \"updateAndValidate started\");\n      variableToUpdate.subscription = variable.validateAndUpdate().subscribe({\n        next: () => this._validateAndUpdateCompleted(variable),\n        complete: () => this._validateAndUpdateCompleted(variable),\n        error: (err) => this._handleVariableError(variable, err)\n      });\n    }\n  }\n  _validateAndUpdateCompleted(variable) {\n    var _a;\n    if (!this._updating.has(variable)) {\n      return;\n    }\n    const update = this._updating.get(variable);\n    (_a = update == null ? void 0 : update.subscription) == null ? void 0 : _a.unsubscribe();\n    this._updating.delete(variable);\n    this._variablesToUpdate.delete(variable);\n    writeVariableTraceLog(variable, \"updateAndValidate completed\");\n    this._notifyDependentSceneObjects(variable);\n    this._updateNextBatch();\n  }\n  cancel(variable) {\n    var _a;\n    const update = this._updating.get(variable);\n    (_a = update == null ? void 0 : update.subscription) == null ? void 0 : _a.unsubscribe();\n    this._updating.delete(variable);\n    this._variablesToUpdate.delete(variable);\n  }\n  _handleVariableError(variable, err) {\n    var _a;\n    const update = this._updating.get(variable);\n    (_a = update == null ? void 0 : update.subscription) == null ? void 0 : _a.unsubscribe();\n    this._updating.delete(variable);\n    this._variablesToUpdate.delete(variable);\n    variable.setState({ loading: false, error: err.message });\n    console.error(\"SceneVariableSet updateAndValidate error\", err);\n    writeVariableTraceLog(variable, \"updateAndValidate error\", err);\n  }\n  _handleVariableValueChanged(variableThatChanged) {\n    this._variablesThatHaveChanged.add(variableThatChanged);\n    this._addDependentVariablesToUpdateQueue(variableThatChanged);\n    if (!this._updating.has(variableThatChanged)) {\n      this._updateNextBatch();\n      this._notifyDependentSceneObjects(variableThatChanged);\n    }\n  }\n  _handleParentVariableUpdatesCompleted(variable, hasChanged) {\n    if (hasChanged) {\n      this._addDependentVariablesToUpdateQueue(variable);\n    }\n    if (this._variablesToUpdate.size > 0 && this._updating.size === 0) {\n      this._updateNextBatch();\n    }\n  }\n  _addDependentVariablesToUpdateQueue(variableThatChanged) {\n    for (const otherVariable of this.state.variables) {\n      if (otherVariable.variableDependency) {\n        if (otherVariable.variableDependency.hasDependencyOn(variableThatChanged.state.name)) {\n          writeVariableTraceLog(otherVariable, \"Added to update queue, dependant variable value changed\");\n          if (this._updating.has(otherVariable) && otherVariable.onCancel) {\n            otherVariable.onCancel();\n          }\n          this._variablesToUpdate.add(otherVariable);\n        }\n      }\n    }\n  }\n  _notifyDependentSceneObjects(variable) {\n    if (!this.parent) {\n      return;\n    }\n    this._traverseSceneAndNotify(this.parent, variable, this._variablesThatHaveChanged.has(variable));\n    this._variablesThatHaveChanged.delete(variable);\n  }\n  _traverseSceneAndNotify(sceneObject, variable, hasChanged) {\n    if (this === sceneObject) {\n      return;\n    }\n    if (!sceneObject.isActive) {\n      return;\n    }\n    if (sceneObject.state.$variables && sceneObject.state.$variables !== this) {\n      const localVar = sceneObject.state.$variables.getByName(variable.state.name);\n      if (localVar) {\n        return;\n      }\n    }\n    if (sceneObject.variableDependency) {\n      sceneObject.variableDependency.variableUpdateCompleted(variable, hasChanged);\n    }\n    sceneObject.forEachChild((child) => this._traverseSceneAndNotify(child, variable, hasChanged));\n  }\n  isVariableLoadingOrWaitingToUpdate(variable) {\n    if (variable.isAncestorLoading && variable.isAncestorLoading()) {\n      return true;\n    }\n    if (this._variablesToUpdate.has(variable) || this._updating.has(variable)) {\n      return true;\n    }\n    return sceneGraph.hasVariableDependencyInLoadingState(variable);\n  }\n}\nfunction writeVariableTraceLog(variable, message, err) {\n  if (err) {\n    writeSceneLog(\"SceneVariableSet\", `Variable[${variable.state.name}]: ${message}`, err);\n  } else {\n    writeSceneLog(\"SceneVariableSet\", `Variable[${variable.state.name}]: ${message}`);\n  }\n}\nclass SceneVariableSetVariableDependencyHandler {\n  constructor(_variableUpdatesCompleted) {\n    this._variableUpdatesCompleted = _variableUpdatesCompleted;\n    this._emptySet = /* @__PURE__ */ new Set();\n  }\n  getNames() {\n    return this._emptySet;\n  }\n  hasDependencyOn(name) {\n    return false;\n  }\n  variableUpdateCompleted(variable, hasChanged) {\n    this._variableUpdatesCompleted(variable, hasChanged);\n  }\n}\n\nexport { SceneVariableSet };\n//# sourceMappingURL=SceneVariableSet.js.map\n","import { SceneObjectBase } from '../../core/SceneObjectBase.js';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nclass ConstantVariable extends SceneObjectBase {\n  constructor(initialState) {\n    super(__spreadProps(__spreadValues({\n      type: \"constant\",\n      value: \"\",\n      name: \"\"\n    }, initialState), {\n      skipUrlSync: true\n    }));\n  }\n  getValue() {\n    return this.state.value;\n  }\n}\n\nexport { ConstantVariable };\n//# sourceMappingURL=ConstantVariable.js.map\n","import { of } from 'rxjs';\nimport { VariableDependencyConfig } from '../VariableDependencyConfig.js';\nimport { renderSelectForVariable } from '../components/VariableValueSelect.js';\nimport { MultiValueVariable } from './MultiValueVariable.js';\nimport { sceneGraph } from '../../core/sceneGraph/index.js';\n\nvar __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nclass CustomVariable extends MultiValueVariable {\n  constructor(initialState) {\n    super(__spreadValues({\n      type: \"custom\",\n      query: \"\",\n      value: \"\",\n      text: \"\",\n      options: [],\n      name: \"\"\n    }, initialState));\n    this._variableDependency = new VariableDependencyConfig(this, {\n      statePaths: [\"query\"]\n    });\n  }\n  getValueOptions(args) {\n    var _a;\n    const interpolated = sceneGraph.interpolate(this, this.state.query);\n    const match = (_a = interpolated.match(/(?:\\\\,|[^,])+/g)) != null ? _a : [];\n    const options = match.map((text) => {\n      var _a2;\n      text = text.replace(/\\\\,/g, \",\");\n      const textMatch = (_a2 = /^(.+)\\s:\\s(.+)$/g.exec(text)) != null ? _a2 : [];\n      if (textMatch.length === 3) {\n        const [, key, value] = textMatch;\n        return { label: key.trim(), value: value.trim() };\n      } else {\n        return { label: text.trim(), value: text.trim() };\n      }\n    });\n    return of(options);\n  }\n}\nCustomVariable.Component = ({ model }) => {\n  return renderSelectForVariable(model);\n};\n\nexport { CustomVariable };\n//# sourceMappingURL=CustomVariable.js.map\n","import { of } from 'rxjs';\nimport { stringToJsRegex } from '@grafana/data';\nimport { getDataSourceSrv } from '@grafana/runtime';\nimport { sceneGraph } from '../../core/sceneGraph/index.js';\nimport { VariableDependencyConfig } from '../VariableDependencyConfig.js';\nimport { renderSelectForVariable } from '../components/VariableValueSelect.js';\nimport { MultiValueVariable } from './MultiValueVariable.js';\n\nvar __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nclass DataSourceVariable extends MultiValueVariable {\n  constructor(initialState) {\n    super(__spreadValues({\n      type: \"datasource\",\n      value: \"\",\n      text: \"\",\n      options: [],\n      name: \"\",\n      regex: \"\",\n      pluginId: \"\"\n    }, initialState));\n    this._variableDependency = new VariableDependencyConfig(this, {\n      statePaths: [\"regex\"]\n    });\n  }\n  getValueOptions(args) {\n    if (!this.state.pluginId) {\n      return of([]);\n    }\n    const dataSources = getDataSourceSrv().getList({ metrics: true, variables: false, pluginId: this.state.pluginId });\n    let regex;\n    if (this.state.regex) {\n      const interpolated = sceneGraph.interpolate(this, this.state.regex, void 0, \"regex\");\n      regex = stringToJsRegex(interpolated);\n    }\n    const options = [];\n    for (let i = 0; i < dataSources.length; i++) {\n      const source = dataSources[i];\n      if (isValid(source, regex)) {\n        options.push({ label: source.name, value: source.uid });\n      }\n      if (this.state.defaultOptionEnabled && isDefault(source, regex)) {\n        options.push({ label: \"default\", value: \"default\" });\n      }\n    }\n    if (options.length === 0) {\n      this.setState({ error: \"No data sources found\" });\n    } else if (this.state.error) {\n      this.setState({ error: null });\n    }\n    return of(options);\n  }\n}\nDataSourceVariable.Component = ({ model }) => {\n  return renderSelectForVariable(model);\n};\nfunction isValid(source, regex) {\n  if (!regex) {\n    return true;\n  }\n  return regex.exec(source.name);\n}\nfunction isDefault(source, regex) {\n  if (!source.isDefault) {\n    return false;\n  }\n  if (!regex) {\n    return true;\n  }\n  return regex.exec(\"default\");\n}\n\nexport { DataSourceVariable };\n//# sourceMappingURL=DataSourceVariable.js.map\n","import { VariableSupportType } from '@grafana/data';\n\nconst hasLegacyVariableSupport = (datasource) => {\n  return Boolean(datasource.metricFindQuery) && !Boolean(datasource.variables);\n};\nconst hasStandardVariableSupport = (datasource) => {\n  if (!datasource.variables) {\n    return false;\n  }\n  if (datasource.variables.getType() !== VariableSupportType.Standard) {\n    return false;\n  }\n  const variableSupport = datasource.variables;\n  return \"toDataQuery\" in variableSupport && Boolean(variableSupport.toDataQuery);\n};\nconst hasCustomVariableSupport = (datasource) => {\n  if (!datasource.variables) {\n    return false;\n  }\n  if (datasource.variables.getType() !== VariableSupportType.Custom) {\n    return false;\n  }\n  const variableSupport = datasource.variables;\n  return \"query\" in variableSupport && \"editor\" in variableSupport && Boolean(variableSupport.query) && Boolean(variableSupport.editor);\n};\n\nexport { hasCustomVariableSupport, hasLegacyVariableSupport, hasStandardVariableSupport };\n//# sourceMappingURL=guards.js.map\n","import { from, mergeMap, of } from 'rxjs';\nimport { LoadingState, getDefaultTimeRange } from '@grafana/data';\nimport { getRunRequest } from '@grafana/runtime';\nimport { hasStandardVariableSupport, hasLegacyVariableSupport, hasCustomVariableSupport } from './guards.js';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nclass StandardQueryRunner {\n  constructor(datasource, _runRequest = getRunRequest()) {\n    this.datasource = datasource;\n    this._runRequest = _runRequest;\n  }\n  getTarget(variable) {\n    if (hasStandardVariableSupport(this.datasource)) {\n      return this.datasource.variables.toDataQuery(ensureVariableQueryModelIsADataQuery(variable));\n    }\n    throw new Error(\"Couldn't create a target with supplied arguments.\");\n  }\n  runRequest(_, request) {\n    if (!hasStandardVariableSupport(this.datasource)) {\n      return getEmptyMetricFindValueObservable();\n    }\n    if (!this.datasource.variables.query) {\n      return this._runRequest(this.datasource, request);\n    }\n    return this._runRequest(this.datasource, request, this.datasource.variables.query.bind(this.datasource.variables));\n  }\n}\nclass LegacyQueryRunner {\n  constructor(datasource) {\n    this.datasource = datasource;\n  }\n  getTarget(variable) {\n    if (hasLegacyVariableSupport(this.datasource)) {\n      return variable.state.query;\n    }\n    throw new Error(\"Couldn't create a target with supplied arguments.\");\n  }\n  runRequest({ variable, searchFilter }, request) {\n    if (!hasLegacyVariableSupport(this.datasource)) {\n      return getEmptyMetricFindValueObservable();\n    }\n    return from(\n      this.datasource.metricFindQuery(variable.state.query, __spreadProps(__spreadValues({}, request), {\n        variable: {\n          name: variable.state.name,\n          type: variable.state.type\n        },\n        searchFilter\n      }))\n    ).pipe(\n      mergeMap((values) => {\n        if (!values || !values.length) {\n          return getEmptyMetricFindValueObservable();\n        }\n        const series = values;\n        return of({ series, state: LoadingState.Done, timeRange: request.range });\n      })\n    );\n  }\n}\nclass CustomQueryRunner {\n  constructor(datasource, _runRequest = getRunRequest()) {\n    this.datasource = datasource;\n    this._runRequest = _runRequest;\n  }\n  getTarget(variable) {\n    if (hasCustomVariableSupport(this.datasource)) {\n      return variable.state.query;\n    }\n    throw new Error(\"Couldn't create a target with supplied arguments.\");\n  }\n  runRequest(_, request) {\n    if (!hasCustomVariableSupport(this.datasource)) {\n      return getEmptyMetricFindValueObservable();\n    }\n    if (!this.datasource.variables.query) {\n      return this._runRequest(this.datasource, request);\n    }\n    return this._runRequest(this.datasource, request, this.datasource.variables.query.bind(this.datasource.variables));\n  }\n}\nfunction getEmptyMetricFindValueObservable() {\n  return of({ state: LoadingState.Done, series: [], timeRange: getDefaultTimeRange() });\n}\nfunction createQueryVariableRunnerFactory(datasource) {\n  if (hasStandardVariableSupport(datasource)) {\n    return new StandardQueryRunner(datasource, getRunRequest());\n  }\n  if (hasLegacyVariableSupport(datasource)) {\n    return new LegacyQueryRunner(datasource);\n  }\n  if (hasCustomVariableSupport(datasource)) {\n    return new CustomQueryRunner(datasource);\n  }\n  throw new Error(`Couldn't create a query runner for datasource ${datasource.type}`);\n}\nlet createQueryVariableRunner = createQueryVariableRunnerFactory;\nfunction ensureVariableQueryModelIsADataQuery(variable) {\n  var _a;\n  const query = (_a = variable.state.query) != null ? _a : \"\";\n  if (typeof query === \"string\") {\n    return { query, refId: `variable-${variable.state.name}` };\n  }\n  if (query.refId == null) {\n    return __spreadProps(__spreadValues({}, query), { refId: `variable-${variable.state.name}` });\n  }\n  return variable.state.query;\n}\n\nexport { createQueryVariableRunner };\n//# sourceMappingURL=createQueryVariableRunner.js.map\n","import { isNumber, uniqBy, sortBy, toLower } from 'lodash';\nimport { stringToJsRegex, VariableSort } from '@grafana/data';\n\nconst metricNamesToVariableValues = (variableRegEx, sort, metricNames) => {\n  var _a, _b, _c, _d, _e, _f;\n  let regex;\n  let options = [];\n  if (variableRegEx) {\n    regex = stringToJsRegex(variableRegEx);\n  }\n  for (let i = 0; i < metricNames.length; i++) {\n    const item = metricNames[i];\n    let text = item.text === void 0 || item.text === null ? item.value : item.text;\n    let value = item.value === void 0 || item.value === null ? item.text : item.value;\n    if (isNumber(value)) {\n      value = value.toString();\n    }\n    if (isNumber(text)) {\n      text = text.toString();\n    }\n    if (regex) {\n      const matches = getAllMatches(value, regex);\n      if (!matches.length) {\n        continue;\n      }\n      const valueGroup = matches.find((m) => m.groups && m.groups.value);\n      const textGroup = matches.find((m) => m.groups && m.groups.text);\n      const firstMatch = matches.find((m) => m.length > 1);\n      const manyMatches = matches.length > 1 && firstMatch;\n      if (valueGroup || textGroup) {\n        value = (_c = (_a = valueGroup == null ? void 0 : valueGroup.groups) == null ? void 0 : _a.value) != null ? _c : (_b = textGroup == null ? void 0 : textGroup.groups) == null ? void 0 : _b.text;\n        text = (_f = (_d = textGroup == null ? void 0 : textGroup.groups) == null ? void 0 : _d.text) != null ? _f : (_e = valueGroup == null ? void 0 : valueGroup.groups) == null ? void 0 : _e.value;\n      } else if (manyMatches) {\n        for (let j = 0; j < matches.length; j++) {\n          const match = matches[j];\n          options.push({ label: match[1], value: match[1] });\n        }\n        continue;\n      } else if (firstMatch) {\n        text = firstMatch[1];\n        value = firstMatch[1];\n      }\n    }\n    options.push({ label: text, value });\n  }\n  options = uniqBy(options, \"value\");\n  return sortVariableValues(options, sort);\n};\nconst getAllMatches = (str, regex) => {\n  const results = [];\n  let matches = null;\n  regex.lastIndex = 0;\n  do {\n    matches = regex.exec(str);\n    if (matches) {\n      results.push(matches);\n    }\n  } while (regex.global && matches && matches[0] !== \"\" && matches[0] !== void 0);\n  return results;\n};\nconst sortVariableValues = (options, sortOrder) => {\n  if (sortOrder === VariableSort.disabled) {\n    return options;\n  }\n  const sortByNumeric = (opt) => {\n    if (!opt.text) {\n      return -1;\n    }\n    const matches = opt.text.match(/.*?(\\d+).*/);\n    if (!matches || matches.length < 2) {\n      return -1;\n    } else {\n      return parseInt(matches[1], 10);\n    }\n  };\n  const sortByNaturalSort = (options2) => {\n    return options2.sort((a, b) => {\n      if (!a.text) {\n        return -1;\n      }\n      if (!b.text) {\n        return 1;\n      }\n      return a.text.localeCompare(b.text, void 0, { numeric: true });\n    });\n  };\n  switch (sortOrder) {\n    case VariableSort.alphabeticalAsc:\n      options = sortBy(options, \"label\");\n      break;\n    case VariableSort.alphabeticalDesc:\n      options = sortBy(options, \"label\").reverse();\n      break;\n    case VariableSort.numericalAsc:\n      options = sortBy(options, sortByNumeric);\n      break;\n    case VariableSort.numericalDesc:\n      options = sortBy(options, sortByNumeric);\n      options = options.reverse();\n      break;\n    case VariableSort.alphabeticalCaseInsensitiveAsc:\n      options = sortBy(options, (opt) => {\n        return toLower(opt.label);\n      });\n      break;\n    case VariableSort.alphabeticalCaseInsensitiveDesc:\n      options = sortBy(options, (opt) => {\n        return toLower(opt.label);\n      });\n      options = options.reverse();\n      break;\n    case (VariableSort.naturalAsc || 7):\n      options = sortByNaturalSort(options);\n      break;\n    case (VariableSort.naturalDesc || 8):\n      options = sortByNaturalSort(options);\n      options = options.reverse();\n      break;\n  }\n  return options;\n};\n\nexport { metricNamesToVariableValues, sortVariableValues };\n//# sourceMappingURL=utils.js.map\n","import { getProcessedDataFrames, getFieldDisplayName, FieldType, isDataFrame } from '@grafana/data';\nimport { map } from 'rxjs';\n\nfunction toMetricFindValues() {\n  return (source) => source.pipe(\n    map((panelData) => {\n      const frames = panelData.series;\n      if (!frames || !frames.length) {\n        return [];\n      }\n      if (areMetricFindValues(frames)) {\n        return frames;\n      }\n      if (frames[0].fields.length === 0) {\n        return [];\n      }\n      const processedDataFrames = getProcessedDataFrames(frames);\n      const metrics = [];\n      let valueIndex = -1;\n      let textIndex = -1;\n      let stringIndex = -1;\n      let expandableIndex = -1;\n      for (const frame of processedDataFrames) {\n        for (let index = 0; index < frame.fields.length; index++) {\n          const field = frame.fields[index];\n          const fieldName = getFieldDisplayName(field, frame, frames).toLowerCase();\n          if (field.type === FieldType.string && stringIndex === -1) {\n            stringIndex = index;\n          }\n          if (fieldName === \"text\" && field.type === FieldType.string && textIndex === -1) {\n            textIndex = index;\n          }\n          if (fieldName === \"value\" && field.type === FieldType.string && valueIndex === -1) {\n            valueIndex = index;\n          }\n          if (fieldName === \"expandable\" && (field.type === FieldType.boolean || field.type === FieldType.number) && expandableIndex === -1) {\n            expandableIndex = index;\n          }\n        }\n      }\n      if (stringIndex === -1) {\n        throw new Error(\"Couldn't find any field of type string in the results.\");\n      }\n      for (const frame of frames) {\n        for (let index = 0; index < frame.length; index++) {\n          const expandable = expandableIndex !== -1 ? frame.fields[expandableIndex].values.get(index) : void 0;\n          const string = frame.fields[stringIndex].values.get(index);\n          const text = textIndex !== -1 ? frame.fields[textIndex].values.get(index) : null;\n          const value = valueIndex !== -1 ? frame.fields[valueIndex].values.get(index) : null;\n          if (valueIndex === -1 && textIndex === -1) {\n            metrics.push({ text: string, value: string, expandable });\n            continue;\n          }\n          if (valueIndex === -1 && textIndex !== -1) {\n            metrics.push({ text, value: text, expandable });\n            continue;\n          }\n          if (valueIndex !== -1 && textIndex === -1) {\n            metrics.push({ text: value, value, expandable });\n            continue;\n          }\n          metrics.push({ text, value, expandable });\n        }\n      }\n      return metrics;\n    })\n  );\n}\nfunction areMetricFindValues(data) {\n  if (!data) {\n    return false;\n  }\n  if (!data.length) {\n    return true;\n  }\n  const firstValue = data[0];\n  if (isDataFrame(firstValue)) {\n    return false;\n  }\n  for (const firstValueKey in firstValue) {\n    if (!firstValue.hasOwnProperty(firstValueKey)) {\n      continue;\n    }\n    if (firstValue[firstValueKey] !== null && typeof firstValue[firstValueKey] !== \"string\" && typeof firstValue[firstValueKey] !== \"number\") {\n      continue;\n    }\n    const key = firstValueKey.toLowerCase();\n    if (key === \"text\" || key === \"value\") {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport { toMetricFindValues };\n//# sourceMappingURL=toMetricFindValues.js.map\n","import { lastValueFrom, of, from, mergeMap, filter, take, throwError, catchError } from 'rxjs';\nimport { v4 } from 'uuid';\nimport { VariableRefresh, VariableSort, LoadingState, CoreApp } from '@grafana/data';\nimport { sceneGraph } from '../../../core/sceneGraph/index.js';\nimport { VariableDependencyConfig } from '../../VariableDependencyConfig.js';\nimport { renderSelectForVariable } from '../../components/VariableValueSelect.js';\nimport { MultiValueVariable } from '../MultiValueVariable.js';\nimport { createQueryVariableRunner } from './createQueryVariableRunner.js';\nimport { metricNamesToVariableValues } from './utils.js';\nimport { toMetricFindValues } from './toMetricFindValues.js';\nimport { getDataSource } from '../../../utils/getDataSource.js';\nimport { safeStringifyValue } from '../../utils.js';\nimport { SEARCH_FILTER_VARIABLE } from '../../constants.js';\nimport { debounce } from 'lodash';\nimport { registerQueryWithController } from '../../../querying/registerQueryWithController.js';\n\nvar __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nclass QueryVariable extends MultiValueVariable {\n  constructor(initialState) {\n    super(__spreadValues({\n      type: \"query\",\n      name: \"\",\n      value: \"\",\n      text: \"\",\n      options: [],\n      datasource: null,\n      regex: \"\",\n      query: { refId: \"A\" },\n      refresh: VariableRefresh.onDashboardLoad,\n      sort: VariableSort.disabled\n    }, initialState));\n    this._variableDependency = new VariableDependencyConfig(this, {\n      statePaths: [\"regex\", \"query\", \"datasource\"]\n    });\n    this.onSearchChange = (searchFilter) => {\n      if (!containsSearchFilter(this.state.query)) {\n        return;\n      }\n      this._updateOptionsBasedOnSearchFilter(searchFilter);\n    };\n    this._updateOptionsBasedOnSearchFilter = debounce(async (searchFilter) => {\n      const result = await lastValueFrom(this.getValueOptions({ searchFilter }));\n      this.setState({ options: result, loading: false });\n    }, 400);\n  }\n  getValueOptions(args) {\n    if (!this.state.query) {\n      return of([]);\n    }\n    this.setState({ loading: true, error: null });\n    return from(\n      getDataSource(this.state.datasource, {\n        __sceneObject: { text: \"__sceneObject\", value: this }\n      })\n    ).pipe(\n      mergeMap((ds) => {\n        const runner = createQueryVariableRunner(ds);\n        const target = runner.getTarget(this);\n        const request = this.getRequest(target, args.searchFilter);\n        return runner.runRequest({ variable: this, searchFilter: args.searchFilter }, request).pipe(\n          registerQueryWithController({\n            type: \"variable\",\n            request,\n            origin: this\n          }),\n          filter((data) => data.state === LoadingState.Done || data.state === LoadingState.Error),\n          take(1),\n          mergeMap((data) => {\n            if (data.state === LoadingState.Error) {\n              return throwError(() => data.error);\n            }\n            return of(data);\n          }),\n          toMetricFindValues(),\n          mergeMap((values) => {\n            let regex = \"\";\n            if (this.state.regex) {\n              regex = sceneGraph.interpolate(this, this.state.regex, void 0, \"regex\");\n            }\n            return of(metricNamesToVariableValues(regex, this.state.sort, values));\n          }),\n          catchError((error) => {\n            if (error.cancelled) {\n              return of([]);\n            }\n            return throwError(() => error);\n          })\n        );\n      })\n    );\n  }\n  getRequest(target, searchFilter) {\n    const scopedVars = {\n      __sceneObject: { text: \"__sceneObject\", value: this }\n    };\n    if (searchFilter) {\n      scopedVars.__searchFilter = { value: searchFilter, text: searchFilter };\n    }\n    const range = sceneGraph.getTimeRange(this).state.value;\n    const request = {\n      app: CoreApp.Dashboard,\n      requestId: v4(),\n      timezone: \"\",\n      range,\n      interval: \"\",\n      intervalMs: 0,\n      targets: [target],\n      scopedVars,\n      startTime: Date.now()\n    };\n    return request;\n  }\n}\nQueryVariable.Component = ({ model }) => {\n  return renderSelectForVariable(model);\n};\nfunction containsSearchFilter(query) {\n  const str = safeStringifyValue(query);\n  return str.indexOf(SEARCH_FILTER_VARIABLE) > -1;\n}\n\nexport { QueryVariable };\n//# sourceMappingURL=QueryVariable.js.map\n","function buildMetricTree(parent, depth) {\n  const chars = [\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\"];\n  const children = [];\n  if (depth > 5) {\n    return [];\n  }\n  for (const letter of chars) {\n    const nodeName = `${parent}${letter}`;\n    children.push({\n      name: nodeName,\n      children: buildMetricTree(nodeName, depth + 1)\n    });\n  }\n  return children;\n}\nfunction queryTree(children, query, queryIndex) {\n  if (queryIndex >= query.length) {\n    return children;\n  }\n  if (query[queryIndex] === \"*\") {\n    return children;\n  }\n  const nodeQuery = query[queryIndex];\n  let result = [];\n  let namesToMatch = [nodeQuery];\n  if (nodeQuery.startsWith(\"{\")) {\n    namesToMatch = nodeQuery.replace(/\\{|\\}/g, \"\").split(\",\");\n  }\n  for (const node of children) {\n    for (const nameToMatch of namesToMatch) {\n      if (nameToMatch.indexOf(\"*\") !== -1) {\n        const pattern = nameToMatch.replace(\"*\", \"\");\n        const regex = new RegExp(`^${pattern}.*`, \"gi\");\n        if (regex.test(node.name)) {\n          result = result.concat(queryTree([node], query, queryIndex + 1));\n        }\n      } else if (node.name === nameToMatch) {\n        result = result.concat(queryTree(node.children, query, queryIndex + 1));\n      }\n    }\n  }\n  return result;\n}\nfunction queryMetricTree(query) {\n  if (query.indexOf(\"value\") === 0) {\n    return [{ name: query, children: [] }];\n  }\n  const children = buildMetricTree(\"\", 0);\n  return queryTree(children, query.split(\".\"), 0);\n}\n\nexport { queryMetricTree };\n//# sourceMappingURL=metricTree.js.map\n","import { Subject, Observable } from 'rxjs';\nimport { sceneGraph } from '../../core/sceneGraph/index.js';\nimport { queryMetricTree } from '../../utils/metricTree.js';\nimport { VariableDependencyConfig } from '../VariableDependencyConfig.js';\nimport { renderSelectForVariable } from '../components/VariableValueSelect.js';\nimport { MultiValueVariable } from './MultiValueVariable.js';\nimport { VariableRefresh } from '@grafana/data';\nimport { getClosest } from '../../core/sceneGraph/utils.js';\nimport { SceneVariableSet } from '../sets/SceneVariableSet.js';\n\nvar __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nclass TestVariable extends MultiValueVariable {\n  constructor(initialState, isLazy = false) {\n    super(__spreadValues({\n      type: \"custom\",\n      name: \"Test\",\n      value: \"Value\",\n      text: \"Text\",\n      query: \"Query\",\n      options: [],\n      refresh: VariableRefresh.onDashboardLoad\n    }, initialState));\n    this.completeUpdate = new Subject();\n    this.isGettingValues = true;\n    this.getValueOptionsCount = 0;\n    this.isLazy = false;\n    this._variableDependency = new VariableDependencyConfig(this, {\n      statePaths: [\"query\"]\n    });\n    this.isLazy = isLazy;\n  }\n  getValueOptions(args) {\n    const { delayMs } = this.state;\n    this.getValueOptionsCount += 1;\n    const queryController = sceneGraph.getQueryController(this);\n    return new Observable((observer) => {\n      const queryEntry = {\n        type: \"variable\",\n        origin: this,\n        cancel: () => observer.complete()\n      };\n      if (queryController) {\n        queryController.queryStarted(queryEntry);\n      }\n      this.setState({ loading: true });\n      if (this.state.throwError) {\n        throw new Error(this.state.throwError);\n      }\n      const interpolatedQuery = sceneGraph.interpolate(this, this.state.query);\n      const options = this.getOptions(interpolatedQuery);\n      const sub = this.completeUpdate.subscribe({\n        next: () => {\n          this.setState({ issuedQuery: interpolatedQuery, options, loading: false });\n          observer.next(options);\n          observer.complete();\n        }\n      });\n      let timeout;\n      if (delayMs) {\n        timeout = window.setTimeout(() => this.signalUpdateCompleted(), delayMs);\n      } else if (delayMs === 0) {\n        this.signalUpdateCompleted();\n      }\n      this.isGettingValues = true;\n      return () => {\n        sub.unsubscribe();\n        window.clearTimeout(timeout);\n        this.isGettingValues = false;\n        if (this.state.loading) {\n          this.setState({ loading: false });\n        }\n        if (queryController) {\n          queryController.queryCompleted(queryEntry);\n        }\n      };\n    });\n  }\n  cancel() {\n    const sceneVarSet = getClosest(this, (s) => s instanceof SceneVariableSet ? s : void 0);\n    sceneVarSet == null ? void 0 : sceneVarSet.cancel(this);\n  }\n  getOptions(interpolatedQuery) {\n    if (this.state.optionsToReturn) {\n      return this.state.optionsToReturn;\n    }\n    return queryMetricTree(interpolatedQuery).map((x) => ({ label: x.name, value: x.name }));\n  }\n  signalUpdateCompleted() {\n    this.completeUpdate.next(1);\n  }\n}\nTestVariable.Component = ({ model }) => {\n  return renderSelectForVariable(model);\n};\n\nexport { TestVariable };\n//# sourceMappingURL=TestVariable.js.map\n","import React, { useCallback } from 'react';\nimport { AutoSizeInput } from '@grafana/ui';\n\nfunction VariableValueInput({ model }) {\n  const { value, key, loading } = model.useState();\n  const onBlur = useCallback(\n    (e) => {\n      model.setValue(e.currentTarget.value);\n    },\n    [model]\n  );\n  const onKeyDown = useCallback(\n    (e) => {\n      if (e.key === \"Enter\") {\n        model.setValue(e.currentTarget.value);\n      }\n    },\n    [model]\n  );\n  return /* @__PURE__ */ React.createElement(AutoSizeInput, {\n    id: key,\n    placeholder: \"Enter value\",\n    minWidth: 15,\n    defaultValue: value,\n    loading,\n    onBlur,\n    onKeyDown\n  });\n}\n\nexport { VariableValueInput };\n//# sourceMappingURL=VariableValueInput.js.map\n","import React from 'react';\nimport { SceneObjectBase } from '../../core/SceneObjectBase.js';\nimport { SceneObjectUrlSyncConfig } from '../../services/SceneObjectUrlSyncConfig.js';\nimport { VariableValueInput } from '../components/VariableValueInput.js';\nimport { SceneVariableValueChangedEvent } from '../types.js';\n\nvar __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nclass TextBoxVariable extends SceneObjectBase {\n  constructor(initialState) {\n    super(__spreadValues({\n      type: \"textbox\",\n      value: \"\",\n      name: \"\"\n    }, initialState));\n    this._urlSync = new SceneObjectUrlSyncConfig(this, { keys: () => [this.getKey()] });\n  }\n  getValue() {\n    return this.state.value;\n  }\n  setValue(newValue) {\n    if (newValue !== this.state.value) {\n      this.setState({ value: newValue });\n      this.publishEvent(new SceneVariableValueChangedEvent(this), true);\n    }\n  }\n  getKey() {\n    return `var-${this.state.name}`;\n  }\n  getUrlState() {\n    return { [this.getKey()]: this.state.value };\n  }\n  updateFromUrl(values) {\n    const update = {};\n    const val = values[this.getKey()];\n    if (typeof val === \"string\") {\n      update.value = val;\n    }\n    this.setState(update);\n  }\n}\nTextBoxVariable.Component = ({ model }) => {\n  return /* @__PURE__ */ React.createElement(VariableValueInput, {\n    model\n  });\n};\n\nexport { TextBoxVariable };\n//# sourceMappingURL=TextBoxVariable.js.map\n","import { SceneObjectBase } from '../../core/SceneObjectBase.js';\nimport { sceneGraph } from '../../core/sceneGraph/index.js';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nclass LocalValueVariable extends SceneObjectBase {\n  constructor(initialState) {\n    super(__spreadProps(__spreadValues({\n      type: \"system\",\n      value: \"\",\n      text: \"\",\n      name: \"\",\n      isMulti: true,\n      includeAll: true\n    }, initialState), {\n      skipUrlSync: true\n    }));\n  }\n  getValue() {\n    return this.state.value;\n  }\n  getValueText() {\n    return this.state.text.toString();\n  }\n  isAncestorLoading() {\n    var _a, _b;\n    const ancestorScope = (_b = (_a = this.parent) == null ? void 0 : _a.parent) == null ? void 0 : _b.parent;\n    if (!ancestorScope) {\n      throw new Error(\"LocalValueVariable requires a parent SceneVariableSet that has an ancestor SceneVariableSet\");\n    }\n    const set = sceneGraph.getVariables(ancestorScope);\n    const parentVar = sceneGraph.lookupVariable(this.state.name, ancestorScope);\n    if (set && parentVar) {\n      return set.isVariableLoadingOrWaitingToUpdate(parentVar);\n    }\n    return false;\n  }\n}\n\nexport { LocalValueVariable };\n//# sourceMappingURL=LocalValueVariable.js.map\n","import { rangeUtil } from '@grafana/data';\nimport { VariableRefresh } from '@grafana/schema';\nimport { Select } from '@grafana/ui';\nimport React from 'react';\nimport { of } from 'rxjs';\nimport { sceneGraph } from '../../core/sceneGraph/index.js';\nimport { SceneObjectBase } from '../../core/SceneObjectBase.js';\nimport { SceneObjectUrlSyncConfig } from '../../services/SceneObjectUrlSyncConfig.js';\nimport { AUTO_VARIABLE_VALUE, AUTO_VARIABLE_TEXT } from '../constants.js';\nimport { SceneVariableValueChangedEvent } from '../types.js';\n\nvar __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nclass IntervalVariable extends SceneObjectBase {\n  constructor(initialState) {\n    super(__spreadValues({\n      type: \"interval\",\n      value: \"\",\n      intervals: [\"1m\", \"10m\", \"30m\", \"1h\", \"6h\", \"12h\", \"1d\", \"7d\", \"14d\", \"30d\"],\n      name: \"\",\n      autoStepCount: 30,\n      autoMinInterval: \"10s\",\n      autoEnabled: false,\n      refresh: VariableRefresh.onTimeRangeChanged\n    }, initialState));\n    this._onChange = (value) => {\n      this.setState({ value: value.value });\n      this.publishEvent(new SceneVariableValueChangedEvent(this), true);\n    };\n    this._urlSync = new SceneObjectUrlSyncConfig(this, { keys: () => [this.getKey()] });\n  }\n  getKey() {\n    return `var-${this.state.name}`;\n  }\n  getUrlState() {\n    return { [this.getKey()]: this.state.value };\n  }\n  updateFromUrl(values) {\n    const update = {};\n    const val = values[this.getKey()];\n    if (typeof val === \"string\") {\n      if (val.startsWith(\"$__auto_interval_\")) {\n        update.value = AUTO_VARIABLE_VALUE;\n      } else {\n        update.value = val;\n      }\n    }\n    this.setState(update);\n  }\n  getOptionsForSelect() {\n    const { value: currentValue, intervals, autoEnabled } = this.state;\n    let options = intervals.map((interval) => ({ value: interval, label: interval }));\n    if (autoEnabled) {\n      options = [{ value: AUTO_VARIABLE_VALUE, label: AUTO_VARIABLE_TEXT }, ...options];\n    }\n    if (currentValue && !options.some((option) => option.value === currentValue)) {\n      options.push({ value: currentValue, label: currentValue });\n    }\n    return options;\n  }\n  getValue() {\n    const { value, autoStepCount, autoMinInterval } = this.state;\n    if (value === AUTO_VARIABLE_VALUE) {\n      return this.getAutoRefreshInteval(autoStepCount, autoMinInterval);\n    }\n    return value;\n  }\n  getAutoRefreshInteval(autoStepCount, minRefreshInterval) {\n    const timeRange = sceneGraph.getTimeRange(this).state.value;\n    const intervalObject = rangeUtil.calculateInterval(timeRange, autoStepCount, minRefreshInterval);\n    return intervalObject.interval;\n  }\n  validateAndUpdate() {\n    const { value, intervals } = this.state;\n    let shouldPublish = false;\n    if (value === AUTO_VARIABLE_VALUE) {\n      shouldPublish = true;\n    } else if (!value && intervals.length > 0) {\n      const firstOption = intervals[0];\n      this.setState({ value: firstOption });\n      shouldPublish = true;\n    }\n    if (shouldPublish) {\n      this.publishEvent(new SceneVariableValueChangedEvent(this), true);\n    }\n    return of({});\n  }\n}\nIntervalVariable.Component = ({ model }) => {\n  const { key, value } = model.useState();\n  return /* @__PURE__ */ React.createElement(Select, {\n    id: key,\n    placeholder: \"Select value\",\n    width: \"auto\",\n    value,\n    tabSelectsValue: false,\n    options: model.getOptionsForSelect(),\n    onChange: model._onChange\n  });\n};\n\nexport { IntervalVariable };\n//# sourceMappingURL=IntervalVariable.js.map\n","import { locationService } from '@grafana/runtime';\nimport { SceneObjectStateChangedEvent } from '../core/events.js';\nimport { writeSceneLog } from '../utils/writeSceneLog.js';\nimport { UniqueUrlKeyMapper } from './UniqueUrlKeyMapper.js';\nimport { syncStateFromUrl, isUrlValueEqual, getUrlState } from './utils.js';\n\nclass UrlSyncManager {\n  constructor() {\n    this._urlKeyMapper = new UniqueUrlKeyMapper();\n    this._stateSub = null;\n    this._locationSub = null;\n    this._ignoreNextLocationUpdate = false;\n    this._onLocationUpdate = (location) => {\n      if (this._ignoreNextLocationUpdate) {\n        this._ignoreNextLocationUpdate = false;\n        return;\n      }\n      if (this._lastPath !== location.pathname) {\n        return;\n      }\n      const urlParams = new URLSearchParams(location.search);\n      this._urlKeyMapper.rebuildIndex(this._sceneRoot);\n      syncStateFromUrl(this._sceneRoot, urlParams, this._urlKeyMapper);\n      this._lastPath = location.pathname;\n    };\n    this._onStateChanged = ({ payload }) => {\n      const changedObject = payload.changedObject;\n      if (changedObject.urlSync) {\n        const newUrlState = changedObject.urlSync.getUrlState();\n        const searchParams = locationService.getSearch();\n        const mappedUpdated = {};\n        this._urlKeyMapper.rebuildIndex(this._sceneRoot);\n        for (const [key, newUrlValue] of Object.entries(newUrlState)) {\n          const uniqueKey = this._urlKeyMapper.getUniqueKey(key, changedObject);\n          const currentUrlValue = searchParams.getAll(uniqueKey);\n          if (!isUrlValueEqual(currentUrlValue, newUrlValue)) {\n            mappedUpdated[uniqueKey] = newUrlValue;\n          }\n        }\n        if (Object.keys(mappedUpdated).length > 0) {\n          this._ignoreNextLocationUpdate = true;\n          locationService.partial(mappedUpdated, true);\n        }\n      }\n    };\n  }\n  initSync(root) {\n    if (!this._locationSub) {\n      writeSceneLog(\"UrlSyncManager\", \"New location listen\");\n      this._locationSub = locationService.getHistory().listen(this._onLocationUpdate);\n    }\n    if (this._stateSub) {\n      writeSceneLog(\"UrlSyncManager\", \"Unregister previous scene state subscription\", this._sceneRoot.state.key);\n      this._stateSub.unsubscribe();\n    }\n    this._sceneRoot = root;\n    this._lastPath = locationService.getLocation().pathname;\n    this._stateSub = root.subscribeToEvent(SceneObjectStateChangedEvent, this._onStateChanged);\n    this.syncFrom(this._sceneRoot);\n  }\n  cleanUp(root) {\n    if (this._sceneRoot !== root) {\n      return;\n    }\n    writeSceneLog(\"UrlSyncManager\", \"Clean up\");\n    if (this._locationSub) {\n      this._locationSub();\n      writeSceneLog(\"UrlSyncManager\", \"Unregister history listen\");\n      this._locationSub = null;\n    }\n    if (this._stateSub) {\n      this._stateSub.unsubscribe();\n      this._stateSub = null;\n      writeSceneLog(\n        \"UrlSyncManager\",\n        \"Root deactived, unsub to state\",\n        \"same key\",\n        this._sceneRoot.state.key === root.state.key\n      );\n    }\n  }\n  syncFrom(sceneObj) {\n    const urlParams = locationService.getSearch();\n    this._urlKeyMapper.rebuildIndex(this._sceneRoot);\n    syncStateFromUrl(sceneObj, urlParams, this._urlKeyMapper);\n  }\n  getUrlState(root) {\n    return getUrlState(root);\n  }\n}\nlet urlSyncManager;\nfunction getUrlSyncManager() {\n  if (!urlSyncManager) {\n    urlSyncManager = new UrlSyncManager();\n  }\n  return urlSyncManager;\n}\n\nexport { UrlSyncManager, getUrlSyncManager };\n//# sourceMappingURL=UrlSyncManager.js.map\n","import { css } from '@emotion/css';\nimport { useStyles2 } from '@grafana/ui';\nimport React from 'react';\nimport { SceneObjectBase } from '../core/SceneObjectBase.js';\nimport { getUrlSyncManager } from '../services/UrlSyncManager.js';\nimport { setWindowGrafanaSceneContext } from '../utils/compatibility/setWindowGrafanaSceneContext.js';\n\nclass EmbeddedScene extends SceneObjectBase {\n  constructor(state) {\n    super(state);\n    this.addActivationHandler(() => {\n      const unsetGlobalScene = setWindowGrafanaSceneContext(this);\n      return () => {\n        unsetGlobalScene();\n        getUrlSyncManager().cleanUp(this);\n      };\n    });\n  }\n  initUrlSync() {\n    getUrlSyncManager().initSync(this);\n  }\n}\nEmbeddedScene.Component = EmbeddedSceneRenderer;\nfunction EmbeddedSceneRenderer({ model }) {\n  const { body, controls } = model.useState();\n  const styles = useStyles2(getStyles);\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    className: styles.container\n  }, controls && /* @__PURE__ */ React.createElement(\"div\", {\n    className: styles.controls\n  }, controls.map((control) => /* @__PURE__ */ React.createElement(control.Component, {\n    key: control.state.key,\n    model: control\n  }))), /* @__PURE__ */ React.createElement(\"div\", {\n    className: styles.body\n  }, /* @__PURE__ */ React.createElement(body.Component, {\n    model: body\n  })));\n}\nconst getStyles = (theme) => {\n  return {\n    container: css({\n      flexGrow: 1,\n      display: \"flex\",\n      gap: theme.spacing(2),\n      minHeight: \"100%\",\n      flexDirection: \"column\"\n    }),\n    body: css({\n      flexGrow: 1,\n      display: \"flex\",\n      gap: theme.spacing(1)\n    }),\n    controls: css({\n      display: \"flex\",\n      gap: theme.spacing(2),\n      alignItems: \"flex-end\",\n      flexWrap: \"wrap\"\n    })\n  };\n};\n\nexport { EmbeddedScene };\n//# sourceMappingURL=EmbeddedScene.js.map\n","import { writeSceneLog } from '../writeSceneLog.js';\n\nfunction setWindowGrafanaSceneContext(activeScene) {\n  const prevScene = window.__grafanaSceneContext;\n  writeSceneLog(\"setWindowGrafanaScene\", \"set window.__grafanaSceneContext\", activeScene);\n  window.__grafanaSceneContext = activeScene;\n  return () => {\n    if (window.__grafanaSceneContext === activeScene) {\n      writeSceneLog(\"setWindowGrafanaScene\", \"restore window.__grafanaSceneContext\", prevScene);\n      window.__grafanaSceneContext = prevScene;\n    }\n  };\n}\n\nexport { setWindowGrafanaSceneContext };\n//# sourceMappingURL=setWindowGrafanaSceneContext.js.map\n","import React, { useEffect } from 'react';\nimport { Menu } from '@grafana/ui';\nimport { SceneObjectBase } from '../../core/SceneObjectBase.js';\nimport { selectors } from '@grafana/e2e-selectors';\n\nclass VizPanelMenu extends SceneObjectBase {\n  addItem(item) {\n    this.setState({\n      items: this.state.items ? [...this.state.items, item] : [item]\n    });\n  }\n  setItems(items) {\n    this.setState({\n      items\n    });\n  }\n}\nVizPanelMenu.Component = VizPanelMenuRenderer;\nfunction VizPanelMenuRenderer({ model }) {\n  const { items = [] } = model.useState();\n  const ref = React.useRef(null);\n  useEffect(() => {\n    if (ref.current) {\n      ref.current.focus();\n    }\n  }, []);\n  const renderItems = (items2) => {\n    return items2.map((item) => {\n      switch (item.type) {\n        case \"divider\":\n          return /* @__PURE__ */ React.createElement(Menu.Divider, {\n            key: item.text\n          });\n        case \"group\":\n          return /* @__PURE__ */ React.createElement(Menu.Group, {\n            key: item.text,\n            label: item.text\n          }, item.subMenu ? renderItems(item.subMenu) : void 0);\n        default:\n          return /* @__PURE__ */ React.createElement(Menu.Item, {\n            key: item.text,\n            label: item.text,\n            icon: item.iconClassName,\n            childItems: item.subMenu ? renderItems(item.subMenu) : void 0,\n            url: item.href,\n            onClick: item.onClick,\n            shortcut: item.shortcut,\n            testId: selectors.components.Panels.Panel.menuItems(item.text)\n          });\n      }\n    });\n  };\n  return /* @__PURE__ */ React.createElement(Menu, {\n    ref\n  }, renderItems(items));\n}\n\nexport { VizPanelMenu };\n//# sourceMappingURL=VizPanelMenu.js.map\n","import React from 'react';\nimport { SceneObjectBase } from '../../../core/SceneObjectBase.js';\nimport { SceneGridLayout } from './SceneGridLayout.js';\nimport { SceneGridRow } from './SceneGridRow.js';\n\nclass SceneGridItem extends SceneObjectBase {\n}\nSceneGridItem.Component = SceneGridItemRenderer;\nfunction SceneGridItemRenderer({ model }) {\n  const { body } = model.useState();\n  const parent = model.parent;\n  if (parent && !isSceneGridLayout(parent) && !isSceneGridRow(parent)) {\n    throw new Error(\"SceneGridItem must be a child of SceneGridLayout or SceneGridRow\");\n  }\n  if (!body) {\n    return null;\n  }\n  return /* @__PURE__ */ React.createElement(body.Component, {\n    model: body\n  });\n}\nfunction isSceneGridRow(child) {\n  return child instanceof SceneGridRow;\n}\nfunction isSceneGridLayout(child) {\n  return child instanceof SceneGridLayout;\n}\n\nexport { SceneGridItem, isSceneGridRow };\n//# sourceMappingURL=SceneGridItem.js.map\n","import { createElement, PureComponent } from 'react';\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\n/**\n * Detect Element Resize.\n * https://github.com/sdecima/javascript-detect-element-resize\n * Sebastian Decima\n *\n * Forked from version 0.5.3; includes the following modifications:\n * 1)Guard against unsafe 'window' and 'document' references (to support SSR).\n * 2)Defer initialization code via a top-level function wrapper (to support SSR).\n * 3) Avoid unnecessary reflows by not measuring size for scroll events bubbling from children.\n * 4) Add nonce for style element.\n **/\n\n// Check `document` and `window` in case of server-side rendering\nvar windowObject = void 0;\nif (typeof window !== 'undefined') {\n  windowObject = window;\n\n  // eslint-disable-next-line no-restricted-globals\n} else if (typeof self !== 'undefined') {\n  // eslint-disable-next-line no-restricted-globals\n  windowObject = self;\n} else {\n  windowObject = global;\n}\n\nvar cancelFrame = null;\nvar requestFrame = null;\n\nvar TIMEOUT_DURATION = 20;\n\nvar clearTimeoutFn = windowObject.clearTimeout;\nvar setTimeoutFn = windowObject.setTimeout;\n\nvar cancelAnimationFrameFn = windowObject.cancelAnimationFrame || windowObject.mozCancelAnimationFrame || windowObject.webkitCancelAnimationFrame;\n\nvar requestAnimationFrameFn = windowObject.requestAnimationFrame || windowObject.mozRequestAnimationFrame || windowObject.webkitRequestAnimationFrame;\n\nif (cancelAnimationFrameFn == null || requestAnimationFrameFn == null) {\n  // For environments that don't support animation frame,\n  // fallback to a setTimeout based approach.\n  cancelFrame = clearTimeoutFn;\n  requestFrame = function requestAnimationFrameViaSetTimeout(callback) {\n    return setTimeoutFn(callback, TIMEOUT_DURATION);\n  };\n} else {\n  // Counter intuitively, environments that support animation frames can be trickier.\n  // Chrome's \"Throttle non-visible cross-origin iframes\" flag can prevent rAFs from being called.\n  // In this case, we should fallback to a setTimeout() implementation.\n  cancelFrame = function cancelFrame(_ref) {\n    var _ref2 = slicedToArray(_ref, 2),\n        animationFrameID = _ref2[0],\n        timeoutID = _ref2[1];\n\n    cancelAnimationFrameFn(animationFrameID);\n    clearTimeoutFn(timeoutID);\n  };\n  requestFrame = function requestAnimationFrameWithSetTimeoutFallback(callback) {\n    var animationFrameID = requestAnimationFrameFn(function animationFrameCallback() {\n      clearTimeoutFn(timeoutID);\n      callback();\n    });\n\n    var timeoutID = setTimeoutFn(function timeoutCallback() {\n      cancelAnimationFrameFn(animationFrameID);\n      callback();\n    }, TIMEOUT_DURATION);\n\n    return [animationFrameID, timeoutID];\n  };\n}\n\nfunction createDetectElementResize(nonce) {\n  var animationKeyframes = void 0;\n  var animationName = void 0;\n  var animationStartEvent = void 0;\n  var animationStyle = void 0;\n  var checkTriggers = void 0;\n  var resetTriggers = void 0;\n  var scrollListener = void 0;\n\n  var attachEvent = typeof document !== 'undefined' && document.attachEvent;\n  if (!attachEvent) {\n    resetTriggers = function resetTriggers(element) {\n      var triggers = element.__resizeTriggers__,\n          expand = triggers.firstElementChild,\n          contract = triggers.lastElementChild,\n          expandChild = expand.firstElementChild;\n      contract.scrollLeft = contract.scrollWidth;\n      contract.scrollTop = contract.scrollHeight;\n      expandChild.style.width = expand.offsetWidth + 1 + 'px';\n      expandChild.style.height = expand.offsetHeight + 1 + 'px';\n      expand.scrollLeft = expand.scrollWidth;\n      expand.scrollTop = expand.scrollHeight;\n    };\n\n    checkTriggers = function checkTriggers(element) {\n      return element.offsetWidth !== element.__resizeLast__.width || element.offsetHeight !== element.__resizeLast__.height;\n    };\n\n    scrollListener = function scrollListener(e) {\n      // Don't measure (which forces) reflow for scrolls that happen inside of children!\n      if (e.target.className && typeof e.target.className.indexOf === 'function' && e.target.className.indexOf('contract-trigger') < 0 && e.target.className.indexOf('expand-trigger') < 0) {\n        return;\n      }\n\n      var element = this;\n      resetTriggers(this);\n      if (this.__resizeRAF__) {\n        cancelFrame(this.__resizeRAF__);\n      }\n      this.__resizeRAF__ = requestFrame(function animationFrame() {\n        if (checkTriggers(element)) {\n          element.__resizeLast__.width = element.offsetWidth;\n          element.__resizeLast__.height = element.offsetHeight;\n          element.__resizeListeners__.forEach(function forEachResizeListener(fn) {\n            fn.call(element, e);\n          });\n        }\n      });\n    };\n\n    /* Detect CSS Animations support to detect element display/re-attach */\n    var animation = false;\n    var keyframeprefix = '';\n    animationStartEvent = 'animationstart';\n    var domPrefixes = 'Webkit Moz O ms'.split(' ');\n    var startEvents = 'webkitAnimationStart animationstart oAnimationStart MSAnimationStart'.split(' ');\n    var pfx = '';\n    {\n      var elm = document.createElement('fakeelement');\n      if (elm.style.animationName !== undefined) {\n        animation = true;\n      }\n\n      if (animation === false) {\n        for (var i = 0; i < domPrefixes.length; i++) {\n          if (elm.style[domPrefixes[i] + 'AnimationName'] !== undefined) {\n            pfx = domPrefixes[i];\n            keyframeprefix = '-' + pfx.toLowerCase() + '-';\n            animationStartEvent = startEvents[i];\n            animation = true;\n            break;\n          }\n        }\n      }\n    }\n\n    animationName = 'resizeanim';\n    animationKeyframes = '@' + keyframeprefix + 'keyframes ' + animationName + ' { from { opacity: 0; } to { opacity: 0; } } ';\n    animationStyle = keyframeprefix + 'animation: 1ms ' + animationName + '; ';\n  }\n\n  var createStyles = function createStyles(doc) {\n    if (!doc.getElementById('detectElementResize')) {\n      //opacity:0 works around a chrome bug https://code.google.com/p/chromium/issues/detail?id=286360\n      var css = (animationKeyframes ? animationKeyframes : '') + '.resize-triggers { ' + (animationStyle ? animationStyle : '') + 'visibility: hidden; opacity: 0; } ' + '.resize-triggers, .resize-triggers > div, .contract-trigger:before { content: \" \"; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',\n          head = doc.head || doc.getElementsByTagName('head')[0],\n          style = doc.createElement('style');\n\n      style.id = 'detectElementResize';\n      style.type = 'text/css';\n\n      if (nonce != null) {\n        style.setAttribute('nonce', nonce);\n      }\n\n      if (style.styleSheet) {\n        style.styleSheet.cssText = css;\n      } else {\n        style.appendChild(doc.createTextNode(css));\n      }\n\n      head.appendChild(style);\n    }\n  };\n\n  var addResizeListener = function addResizeListener(element, fn) {\n    if (attachEvent) {\n      element.attachEvent('onresize', fn);\n    } else {\n      if (!element.__resizeTriggers__) {\n        var doc = element.ownerDocument;\n        var elementStyle = windowObject.getComputedStyle(element);\n        if (elementStyle && elementStyle.position === 'static') {\n          element.style.position = 'relative';\n        }\n        createStyles(doc);\n        element.__resizeLast__ = {};\n        element.__resizeListeners__ = [];\n        (element.__resizeTriggers__ = doc.createElement('div')).className = 'resize-triggers';\n        var expandTrigger = doc.createElement('div');\n        expandTrigger.className = 'expand-trigger';\n        expandTrigger.appendChild(doc.createElement('div'));\n        var contractTrigger = doc.createElement('div');\n        contractTrigger.className = 'contract-trigger';\n        element.__resizeTriggers__.appendChild(expandTrigger);\n        element.__resizeTriggers__.appendChild(contractTrigger);\n        element.appendChild(element.__resizeTriggers__);\n        resetTriggers(element);\n        element.addEventListener('scroll', scrollListener, true);\n\n        /* Listen for a css animation to detect element display/re-attach */\n        if (animationStartEvent) {\n          element.__resizeTriggers__.__animationListener__ = function animationListener(e) {\n            if (e.animationName === animationName) {\n              resetTriggers(element);\n            }\n          };\n          element.__resizeTriggers__.addEventListener(animationStartEvent, element.__resizeTriggers__.__animationListener__);\n        }\n      }\n      element.__resizeListeners__.push(fn);\n    }\n  };\n\n  var removeResizeListener = function removeResizeListener(element, fn) {\n    if (attachEvent) {\n      element.detachEvent('onresize', fn);\n    } else {\n      element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(fn), 1);\n      if (!element.__resizeListeners__.length) {\n        element.removeEventListener('scroll', scrollListener, true);\n        if (element.__resizeTriggers__.__animationListener__) {\n          element.__resizeTriggers__.removeEventListener(animationStartEvent, element.__resizeTriggers__.__animationListener__);\n          element.__resizeTriggers__.__animationListener__ = null;\n        }\n        try {\n          element.__resizeTriggers__ = !element.removeChild(element.__resizeTriggers__);\n        } catch (e) {\n          // Preact compat; see developit/preact-compat/issues/228\n        }\n      }\n    }\n  };\n\n  return {\n    addResizeListener: addResizeListener,\n    removeResizeListener: removeResizeListener\n  };\n}\n\nvar AutoSizer = function (_React$PureComponent) {\n  inherits(AutoSizer, _React$PureComponent);\n\n  function AutoSizer() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    classCallCheck(this, AutoSizer);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = possibleConstructorReturn(this, (_ref = AutoSizer.__proto__ || Object.getPrototypeOf(AutoSizer)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      height: _this.props.defaultHeight || 0,\n      width: _this.props.defaultWidth || 0\n    }, _this._onResize = function () {\n      var _this$props = _this.props,\n          disableHeight = _this$props.disableHeight,\n          disableWidth = _this$props.disableWidth,\n          onResize = _this$props.onResize;\n\n\n      if (_this._parentNode) {\n        // Guard against AutoSizer component being removed from the DOM immediately after being added.\n        // This can result in invalid style values which can result in NaN values if we don't handle them.\n        // See issue #150 for more context.\n\n        var _height = _this._parentNode.offsetHeight || 0;\n        var _width = _this._parentNode.offsetWidth || 0;\n\n        var _style = window.getComputedStyle(_this._parentNode) || {};\n        var paddingLeft = parseInt(_style.paddingLeft, 10) || 0;\n        var paddingRight = parseInt(_style.paddingRight, 10) || 0;\n        var paddingTop = parseInt(_style.paddingTop, 10) || 0;\n        var paddingBottom = parseInt(_style.paddingBottom, 10) || 0;\n\n        var newHeight = _height - paddingTop - paddingBottom;\n        var newWidth = _width - paddingLeft - paddingRight;\n\n        if (!disableHeight && _this.state.height !== newHeight || !disableWidth && _this.state.width !== newWidth) {\n          _this.setState({\n            height: _height - paddingTop - paddingBottom,\n            width: _width - paddingLeft - paddingRight\n          });\n\n          onResize({ height: _height, width: _width });\n        }\n      }\n    }, _this._setRef = function (autoSizer) {\n      _this._autoSizer = autoSizer;\n    }, _temp), possibleConstructorReturn(_this, _ret);\n  }\n\n  createClass(AutoSizer, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var nonce = this.props.nonce;\n\n      if (this._autoSizer && this._autoSizer.parentNode && this._autoSizer.parentNode.ownerDocument && this._autoSizer.parentNode.ownerDocument.defaultView && this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement) {\n        // Delay access of parentNode until mount.\n        // This handles edge-cases where the component has already been unmounted before its ref has been set,\n        // As well as libraries like react-lite which have a slightly different lifecycle.\n        this._parentNode = this._autoSizer.parentNode;\n\n        // Defer requiring resize handler in order to support server-side rendering.\n        // See issue #41\n        this._detectElementResize = createDetectElementResize(nonce);\n        this._detectElementResize.addResizeListener(this._parentNode, this._onResize);\n\n        this._onResize();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this._detectElementResize && this._parentNode) {\n        this._detectElementResize.removeResizeListener(this._parentNode, this._onResize);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          children = _props.children,\n          className = _props.className,\n          disableHeight = _props.disableHeight,\n          disableWidth = _props.disableWidth,\n          style = _props.style;\n      var _state = this.state,\n          height = _state.height,\n          width = _state.width;\n\n      // Outer div should not force width/height since that may prevent containers from shrinking.\n      // Inner component should overflow and use calculated width/height.\n      // See issue #68 for more information.\n\n      var outerStyle = { overflow: 'visible' };\n      var childParams = {};\n\n      // Avoid rendering children before the initial measurements have been collected.\n      // At best this would just be wasting cycles.\n      var bailoutOnChildren = false;\n\n      if (!disableHeight) {\n        if (height === 0) {\n          bailoutOnChildren = true;\n        }\n        outerStyle.height = 0;\n        childParams.height = height;\n      }\n\n      if (!disableWidth) {\n        if (width === 0) {\n          bailoutOnChildren = true;\n        }\n        outerStyle.width = 0;\n        childParams.width = width;\n      }\n\n      return createElement(\n        'div',\n        {\n          className: className,\n          ref: this._setRef,\n          style: _extends({}, outerStyle, style)\n        },\n        !bailoutOnChildren && children(childParams)\n      );\n    }\n  }]);\n  return AutoSizer;\n}(PureComponent);\n\nAutoSizer.defaultProps = {\n  onResize: function onResize() {},\n  disableHeight: false,\n  disableWidth: false,\n  style: {}\n};\n\nexport default AutoSizer;\n","import { useEffect } from 'react';\nvar useEffectOnce = function (effect) {\n    useEffect(effect, []);\n};\nexport default useEffectOnce;\n","import React, { useState, useRef, useImperativeHandle } from 'react';\nimport { useEffectOnce } from 'react-use';\nimport { uniqueId } from 'lodash';\n\nvar __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nfunction useUniqueId() {\n  var _a;\n  const idRefLazy = useRef(void 0);\n  (_a = idRefLazy.current) != null ? _a : idRefLazy.current = uniqueId();\n  return idRefLazy.current;\n}\nconst LazyLoader = React.forwardRef(\n  (_a, ref) => {\n    var _b = _a, { children, onLoad, onChange } = _b, rest = __objRest(_b, [\"children\", \"onLoad\", \"onChange\"]);\n    const id = useUniqueId();\n    const [loaded, setLoaded] = useState(false);\n    const [isInView, setIsInView] = useState(false);\n    const innerRef = useRef(null);\n    useImperativeHandle(ref, () => innerRef.current);\n    useEffectOnce(() => {\n      LazyLoader.addCallback(id, (entry) => {\n        if (!loaded && entry.isIntersecting) {\n          setLoaded(true);\n          onLoad == null ? void 0 : onLoad();\n        }\n        setIsInView(entry.isIntersecting);\n        onChange == null ? void 0 : onChange(entry.isIntersecting);\n      });\n      const wrapperEl = innerRef.current;\n      if (wrapperEl) {\n        LazyLoader.observer.observe(wrapperEl);\n      }\n      return () => {\n        delete LazyLoader.callbacks[id];\n        wrapperEl && LazyLoader.observer.unobserve(wrapperEl);\n        if (Object.keys(LazyLoader.callbacks).length === 0) {\n          LazyLoader.observer.disconnect();\n        }\n      };\n    });\n    return /* @__PURE__ */ React.createElement(\"div\", __spreadValues({\n      id,\n      ref: innerRef\n    }, rest), loaded && (typeof children === \"function\" ? children({ isInView }) : children));\n  }\n);\nLazyLoader.displayName = \"LazyLoader\";\nLazyLoader.callbacks = {};\nLazyLoader.addCallback = (id, c) => LazyLoader.callbacks[id] = c;\nLazyLoader.observer = new IntersectionObserver(\n  (entries) => {\n    for (const entry of entries) {\n      LazyLoader.callbacks[entry.target.id](entry);\n    }\n  },\n  { rootMargin: \"100px\" }\n);\n\nexport { LazyLoader, useUniqueId };\n//# sourceMappingURL=LazyLoader.js.map\n","import React, { useRef, useEffect } from 'react';\nimport ReactGridLayout from 'react-grid-layout';\nimport AutoSizer from 'react-virtualized-auto-sizer';\nimport { GRID_CELL_VMARGIN, GRID_COLUMN_COUNT, GRID_CELL_HEIGHT } from './constants.js';\nimport { LazyLoader } from '../LazyLoader.js';\nimport { useStyles2 } from '@grafana/ui';\nimport { cx, css } from '@emotion/css';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nfunction SceneGridLayoutRenderer({ model }) {\n  const { children, isLazy, isDraggable, isResizable } = model.useState();\n  const ref = useRef(null);\n  useEffect(() => {\n    updateAnimationClass(ref, !!isDraggable);\n  }, [isDraggable]);\n  validateChildrenSize(children);\n  return /* @__PURE__ */ React.createElement(AutoSizer, null, ({ width, height }) => {\n    if (width === 0) {\n      return null;\n    }\n    const layout = model.buildGridLayout(width, height);\n    return /* @__PURE__ */ React.createElement(\"div\", {\n      ref,\n      style: { width: `${width}px`, height: \"100%\", position: \"relative\", zIndex: 1 },\n      className: \"react-grid-layout\"\n    }, /* @__PURE__ */ React.createElement(ReactGridLayout, {\n      width,\n      isDraggable: isDraggable && width > 768,\n      isResizable: isResizable != null ? isResizable : false,\n      containerPadding: [0, 0],\n      useCSSTransforms: true,\n      margin: [GRID_CELL_VMARGIN, GRID_CELL_VMARGIN],\n      cols: GRID_COLUMN_COUNT,\n      rowHeight: GRID_CELL_HEIGHT,\n      draggableHandle: `.grid-drag-handle-${model.state.key}`,\n      draggableCancel: \".grid-drag-cancel\",\n      layout,\n      onDragStart: model.onDragStart,\n      onDragStop: model.onDragStop,\n      onResizeStop: model.onResizeStop,\n      onLayoutChange: model.onLayoutChange,\n      isBounded: false,\n      resizeHandle: /* @__PURE__ */ React.createElement(ResizeHandle, null)\n    }, layout.map((gridItem, index) => /* @__PURE__ */ React.createElement(GridItemWrapper, {\n      key: gridItem.i,\n      grid: model,\n      layoutItem: gridItem,\n      index,\n      isLazy,\n      totalCount: layout.length\n    }))));\n  });\n}\nconst GridItemWrapper = React.forwardRef((props, ref) => {\n  var _b;\n  const _a = props, { grid, layoutItem, index, totalCount, isLazy, style, onLoad, onChange, children } = _a, divProps = __objRest(_a, [\"grid\", \"layoutItem\", \"index\", \"totalCount\", \"isLazy\", \"style\", \"onLoad\", \"onChange\", \"children\"]);\n  const sceneChild = grid.getSceneLayoutChild(layoutItem.i);\n  const className = (_b = sceneChild.getClassName) == null ? void 0 : _b.call(sceneChild);\n  const innerContent = /* @__PURE__ */ React.createElement(sceneChild.Component, {\n    model: sceneChild,\n    key: sceneChild.state.key\n  });\n  if (isLazy) {\n    return /* @__PURE__ */ React.createElement(LazyLoader, __spreadProps(__spreadValues({}, divProps), {\n      key: sceneChild.state.key,\n      \"data-griditem-key\": sceneChild.state.key,\n      className: cx(className, props.className),\n      style,\n      ref\n    }), innerContent, children);\n  }\n  return /* @__PURE__ */ React.createElement(\"div\", __spreadProps(__spreadValues({}, divProps), {\n    ref,\n    key: sceneChild.state.key,\n    \"data-griditem-key\": sceneChild.state.key,\n    className: cx(className, props.className),\n    style\n  }), innerContent, children);\n});\nGridItemWrapper.displayName = \"GridItemWrapper\";\nfunction validateChildrenSize(children) {\n  if (children.some(\n    (c) => c.state.height === void 0 || c.state.width === void 0 || c.state.x === void 0 || c.state.y === void 0\n  )) {\n    throw new Error(\"All children must have a size specified\");\n  }\n}\nfunction updateAnimationClass(ref, isDraggable, retry) {\n  if (ref.current) {\n    if (isDraggable) {\n      ref.current.classList.add(\"react-grid-layout--enable-move-animations\");\n    } else {\n      ref.current.classList.remove(\"react-grid-layout--enable-move-animations\");\n    }\n  } else if (!retry) {\n    setTimeout(() => updateAnimationClass(ref, isDraggable, true), 50);\n  }\n}\nconst ResizeHandle = React.forwardRef((_a, ref) => {\n  var _b = _a, divProps = __objRest(_b, [\"handleAxis\"]);\n  const customCssClass = useStyles2(getResizeHandleStyles);\n  return /* @__PURE__ */ React.createElement(\"div\", __spreadProps(__spreadValues({\n    ref\n  }, divProps), {\n    className: `${customCssClass} scene-resize-handle`\n  }), /* @__PURE__ */ React.createElement(\"svg\", {\n    width: \"16px\",\n    height: \"16px\",\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, /* @__PURE__ */ React.createElement(\"path\", {\n    d: \"M21 15L15 21M21 8L8 21\",\n    stroke: \"currentColor\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })));\n});\nResizeHandle.displayName = \"ResizeHandle\";\nfunction getResizeHandleStyles(theme) {\n  return css({\n    position: \"absolute\",\n    bottom: 0,\n    right: 0,\n    zIndex: 999,\n    padding: theme.spacing(1.5, 0, 0, 1.5),\n    color: theme.colors.border.strong,\n    cursor: \"se-resize\",\n    \"&:hover\": {\n      color: theme.colors.text.link\n    },\n    svg: {\n      display: \"block\"\n    },\n    \".react-resizable-hide &\": {\n      display: \"none\"\n    }\n  });\n}\n\nexport { SceneGridLayoutRenderer };\n//# sourceMappingURL=SceneGridLayoutRenderer.js.map\n","import { GRID_CELL_HEIGHT, GRID_CELL_VMARGIN } from './constants.js';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nfunction fitPanelsInHeight(cells, height) {\n  const visibleHeight = height - GRID_CELL_VMARGIN * 4;\n  const currentGridHeight = Math.max(...cells.map((cell) => cell.h + cell.y));\n  const visibleGridHeight = Math.floor(visibleHeight / (GRID_CELL_HEIGHT + GRID_CELL_VMARGIN));\n  const scaleFactor = currentGridHeight / visibleGridHeight;\n  return cells.map((cell) => {\n    return __spreadProps(__spreadValues({}, cell), {\n      y: Math.round(cell.y / scaleFactor) || 0,\n      h: Math.round(cell.h / scaleFactor) || 1\n    });\n  });\n}\n\nexport { fitPanelsInHeight };\n//# sourceMappingURL=utils.js.map\n","import { SceneObjectBase } from '../../../core/SceneObjectBase.js';\nimport { DEFAULT_PANEL_SPAN } from './constants.js';\nimport { isSceneGridRow } from './SceneGridItem.js';\nimport { SceneGridLayoutRenderer } from './SceneGridLayoutRenderer.js';\nimport { SceneGridRow } from './SceneGridRow.js';\nimport { fitPanelsInHeight } from './utils.js';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nconst _SceneGridLayout = class extends SceneObjectBase {\n  constructor(state) {\n    super(__spreadProps(__spreadValues({}, state), {\n      children: sortChildrenByPosition(state.children)\n    }));\n    this._skipOnLayoutChange = false;\n    this._oldLayout = [];\n    this._loadOldLayout = false;\n    this.onLayoutChange = (layout) => {\n      if (this._skipOnLayoutChange) {\n        this._skipOnLayoutChange = false;\n        return;\n      }\n      if (this._loadOldLayout) {\n        layout = [...this._oldLayout];\n        this._loadOldLayout = false;\n      }\n      for (const item of layout) {\n        const child = this.getSceneLayoutChild(item.i);\n        const nextSize = {\n          x: item.x,\n          y: item.y,\n          width: item.w,\n          height: item.h\n        };\n        if (!isItemSizeEqual(child.state, nextSize)) {\n          child.setState(__spreadValues({}, nextSize));\n        }\n      }\n      this.setState({ children: sortChildrenByPosition(this.state.children) });\n    };\n    this.onResizeStop = (_, o, n) => {\n      const child = this.getSceneLayoutChild(n.i);\n      child.setState({\n        width: n.w,\n        height: n.h\n      });\n    };\n    this.onDragStart = (gridLayout) => {\n      this._oldLayout = [...gridLayout];\n    };\n    this.onDragStop = (gridLayout, o, updatedItem) => {\n      const sceneChild = this.getSceneLayoutChild(updatedItem.i);\n      gridLayout = sortGridLayout(gridLayout);\n      for (let i = 0; i < gridLayout.length; i++) {\n        const gridItem = gridLayout[i];\n        const child = this.getSceneLayoutChild(gridItem.i);\n        const childSize = child.state;\n        if ((childSize == null ? void 0 : childSize.x) !== gridItem.x || (childSize == null ? void 0 : childSize.y) !== gridItem.y) {\n          child.setState({\n            x: gridItem.x,\n            y: gridItem.y\n          });\n        }\n      }\n      const indexOfUpdatedItem = gridLayout.findIndex((item) => item.i === updatedItem.i);\n      let newParent = this.findGridItemSceneParent(gridLayout, indexOfUpdatedItem - 1);\n      let newChildren = this.state.children;\n      if (sceneChild instanceof SceneGridRow && newParent instanceof SceneGridRow) {\n        if (!this.isRowDropValid(gridLayout, updatedItem, indexOfUpdatedItem)) {\n          this._loadOldLayout = true;\n        }\n        newParent = this;\n      }\n      if (newParent !== sceneChild.parent) {\n        newChildren = this.moveChildTo(sceneChild, newParent);\n      }\n      this.setState({ children: sortChildrenByPosition(newChildren) });\n      this._skipOnLayoutChange = true;\n    };\n  }\n  isDraggable() {\n    var _a;\n    return (_a = this.state.isDraggable) != null ? _a : false;\n  }\n  getDragClass() {\n    return `grid-drag-handle-${this.state.key}`;\n  }\n  getDragClassCancel() {\n    return `grid-drag-cancel`;\n  }\n  toggleRow(row) {\n    var _a, _b;\n    const isCollapsed = row.state.isCollapsed;\n    if (!isCollapsed) {\n      row.setState({ isCollapsed: true });\n      this.setState({});\n      return;\n    }\n    const rowChildren = row.state.children;\n    if (rowChildren.length === 0) {\n      row.setState({ isCollapsed: false });\n      this.setState({});\n      return;\n    }\n    const rowY = row.state.y;\n    const firstPanelYPos = (_a = rowChildren[0].state.y) != null ? _a : rowY;\n    const yDiff = firstPanelYPos - (rowY + 1);\n    let yMax = rowY;\n    for (const panel of rowChildren) {\n      const newSize = __spreadValues({}, panel.state);\n      newSize.y = (_b = newSize.y) != null ? _b : rowY;\n      newSize.y -= yDiff;\n      if (newSize.y !== panel.state.y) {\n        panel.setState(newSize);\n      }\n      yMax = Math.max(yMax, Number(newSize.y) + Number(newSize.height));\n    }\n    const pushDownAmount = yMax - rowY - 1;\n    for (const child of this.state.children) {\n      if (child.state.y > rowY) {\n        this.pushChildDown(child, pushDownAmount);\n      }\n      if (isSceneGridRow(child) && child !== row) {\n        for (const rowChild of child.state.children) {\n          if (rowChild.state.y > rowY) {\n            this.pushChildDown(rowChild, pushDownAmount);\n          }\n        }\n      }\n    }\n    row.setState({ isCollapsed: false });\n    this.setState({});\n  }\n  getSceneLayoutChild(key) {\n    for (const child of this.state.children) {\n      if (child.state.key === key) {\n        return child;\n      }\n      if (child instanceof SceneGridRow) {\n        for (const rowChild of child.state.children) {\n          if (rowChild.state.key === key) {\n            return rowChild;\n          }\n        }\n      }\n    }\n    throw new Error(\"Scene layout child not found for GridItem\");\n  }\n  pushChildDown(child, amount) {\n    child.setState({\n      y: child.state.y + amount\n    });\n  }\n  findGridItemSceneParent(layout, startAt) {\n    for (let i = startAt; i >= 0; i--) {\n      const gridItem = layout[i];\n      const sceneChild = this.getSceneLayoutChild(gridItem.i);\n      if (sceneChild instanceof SceneGridRow) {\n        if (sceneChild.state.isCollapsed) {\n          return this;\n        }\n        return sceneChild;\n      }\n    }\n    return this;\n  }\n  isRowDropValid(gridLayout, updatedItem, indexOfUpdatedItem) {\n    if (gridLayout[gridLayout.length - 1].i === updatedItem.i) {\n      return true;\n    }\n    const nextSceneChild = this.getSceneLayoutChild(gridLayout[indexOfUpdatedItem + 1].i);\n    if (nextSceneChild instanceof SceneGridRow) {\n      return true;\n    } else if (nextSceneChild.parent instanceof _SceneGridLayout) {\n      return true;\n    }\n    return false;\n  }\n  moveChildTo(child, target) {\n    const currentParent = child.parent;\n    let rootChildren = this.state.children;\n    const newChild = child.clone({ key: child.state.key });\n    if (currentParent instanceof SceneGridRow) {\n      const newRow = currentParent.clone();\n      newRow.setState({\n        children: newRow.state.children.filter((c) => c.state.key !== child.state.key)\n      });\n      rootChildren = rootChildren.map((c) => c === currentParent ? newRow : c);\n      if (target instanceof SceneGridRow) {\n        const targetRow = target.clone();\n        targetRow.setState({ children: [...targetRow.state.children, newChild] });\n        rootChildren = rootChildren.map((c) => c === target ? targetRow : c);\n      } else {\n        rootChildren = [...rootChildren, newChild];\n      }\n    } else {\n      if (!(target instanceof _SceneGridLayout)) {\n        rootChildren = rootChildren.filter((c) => c.state.key !== child.state.key);\n        const targetRow = target.clone();\n        targetRow.setState({ children: [...targetRow.state.children, newChild] });\n        rootChildren = rootChildren.map((c) => c === target ? targetRow : c);\n      }\n    }\n    return rootChildren;\n  }\n  toGridCell(child) {\n    var _a, _b;\n    const size = child.state;\n    let x = (_a = size.x) != null ? _a : 0;\n    let y = (_b = size.y) != null ? _b : 0;\n    const w = Number.isInteger(Number(size.width)) ? Number(size.width) : DEFAULT_PANEL_SPAN;\n    const h = Number.isInteger(Number(size.height)) ? Number(size.height) : DEFAULT_PANEL_SPAN;\n    let isDraggable = child.state.isDraggable;\n    let isResizable = child.state.isResizable;\n    if (child instanceof SceneGridRow) {\n      isDraggable = child.state.isCollapsed ? true : false;\n      isResizable = false;\n    }\n    return { i: child.state.key, x, y, h, w, isResizable, isDraggable };\n  }\n  buildGridLayout(width, height) {\n    let cells = [];\n    for (const child of this.state.children) {\n      cells.push(this.toGridCell(child));\n      if (child instanceof SceneGridRow && !child.state.isCollapsed) {\n        for (const rowChild of child.state.children) {\n          cells.push(this.toGridCell(rowChild));\n        }\n      }\n    }\n    cells = sortGridLayout(cells);\n    if (this.state.UNSAFE_fitPanels) {\n      cells = fitPanelsInHeight(cells, height);\n    }\n    if (width < 768) {\n      this._skipOnLayoutChange = true;\n      return cells.map((cell) => __spreadProps(__spreadValues({}, cell), { w: 24 }));\n    }\n    this._skipOnLayoutChange = false;\n    return cells;\n  }\n};\nlet SceneGridLayout = _SceneGridLayout;\nSceneGridLayout.Component = SceneGridLayoutRenderer;\nfunction isItemSizeEqual(a, b) {\n  return a.x === b.x && a.y === b.y && a.width === b.width && a.height === b.height;\n}\nfunction sortChildrenByPosition(children) {\n  children.forEach((child) => {\n    if (child instanceof SceneGridRow) {\n      child.setState({ children: sortChildrenByPosition(child.state.children) });\n    }\n  });\n  return [...children].sort((a, b) => {\n    return a.state.y - b.state.y || a.state.x - b.state.x;\n  });\n}\nfunction sortGridLayout(layout) {\n  return [...layout].sort((a, b) => a.y - b.y || a.x - b.x);\n}\n\nexport { SceneGridLayout };\n//# sourceMappingURL=SceneGridLayout.js.map\n","const DEFAULT_PANEL_SPAN = 4;\nconst GRID_CELL_HEIGHT = 30;\nconst GRID_CELL_VMARGIN = 8;\nconst GRID_COLUMN_COUNT = 24;\n\nexport { DEFAULT_PANEL_SPAN, GRID_CELL_HEIGHT, GRID_CELL_VMARGIN, GRID_COLUMN_COUNT };\n//# sourceMappingURL=constants.js.map\n","import { cx, css } from '@emotion/css';\nimport React from 'react';\nimport { useStyles2, Icon } from '@grafana/ui';\nimport { SceneObjectBase } from '../../../core/SceneObjectBase.js';\nimport { SceneGridLayout } from './SceneGridLayout.js';\nimport { GRID_COLUMN_COUNT } from './constants.js';\nimport { sceneGraph } from '../../../core/sceneGraph/index.js';\nimport { selectors } from '@grafana/e2e-selectors';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nclass SceneGridRow extends SceneObjectBase {\n  constructor(state) {\n    super(__spreadProps(__spreadValues({\n      children: state.children || [],\n      isCollapsible: state.isCollapsible || true,\n      title: state.title || \"\"\n    }, state), {\n      x: 0,\n      height: 1,\n      width: GRID_COLUMN_COUNT\n    }));\n    this.onCollapseToggle = () => {\n      if (!this.state.isCollapsible) {\n        return;\n      }\n      this.getGridLayout().toggleRow(this);\n    };\n  }\n  getGridLayout() {\n    const layout = this.parent;\n    if (!layout || !(layout instanceof SceneGridLayout)) {\n      throw new Error(\"SceneGridRow must be a child of SceneGridLayout\");\n    }\n    return layout;\n  }\n  getUrlState() {\n    return { rowc: this.state.isCollapsed ? \"1\" : \"0\" };\n  }\n  updateFromUrl(values) {\n    if (values.rowc == null) {\n      return;\n    }\n    if (values.rowc !== this.getUrlState().rowc) {\n      this.onCollapseToggle();\n    }\n  }\n}\nSceneGridRow.Component = SceneGridRowRenderer;\nfunction SceneGridRowRenderer({ model }) {\n  const styles = useStyles2(getSceneGridRowStyles);\n  const { isCollapsible, isCollapsed, title, actions, children } = model.useState();\n  const layout = model.getGridLayout();\n  const layoutDragClass = layout.getDragClass();\n  const isDraggable = layout.isDraggable();\n  const count = children ? children.length : 0;\n  const panels = count === 1 ? \"panel\" : \"panels\";\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    className: cx(styles.row, isCollapsed && styles.rowCollapsed)\n  }, /* @__PURE__ */ React.createElement(\"div\", {\n    className: styles.rowTitleAndActionsGroup\n  }, /* @__PURE__ */ React.createElement(\"button\", {\n    onClick: model.onCollapseToggle,\n    className: styles.rowTitleButton,\n    \"aria-label\": isCollapsed ? \"Expand row\" : \"Collapse row\",\n    \"data-testid\": selectors.components.DashboardRow.title(sceneGraph.interpolate(model, title, void 0, \"text\"))\n  }, isCollapsible && /* @__PURE__ */ React.createElement(Icon, {\n    name: isCollapsed ? \"angle-right\" : \"angle-down\"\n  }), /* @__PURE__ */ React.createElement(\"span\", {\n    className: styles.rowTitle,\n    role: \"heading\"\n  }, sceneGraph.interpolate(model, title, void 0, \"text\"))), /* @__PURE__ */ React.createElement(\"span\", {\n    className: cx(styles.panelCount, isCollapsed && styles.panelCountCollapsed)\n  }, \"(\", count, \" \", panels, \")\"), actions && /* @__PURE__ */ React.createElement(\"div\", {\n    className: styles.rowActions\n  }, /* @__PURE__ */ React.createElement(actions.Component, {\n    model: actions\n  }))), isDraggable && isCollapsed && /* @__PURE__ */ React.createElement(\"div\", {\n    className: cx(styles.dragHandle, layoutDragClass)\n  }, /* @__PURE__ */ React.createElement(Icon, {\n    name: \"draggabledots\"\n  })));\n}\nconst getSceneGridRowStyles = (theme) => {\n  return {\n    row: css({\n      width: \"100%\",\n      height: \"30px\",\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      gap: theme.spacing(1)\n    }),\n    rowTitleButton: css({\n      display: \"flex\",\n      alignItems: \"center\",\n      cursor: \"pointer\",\n      background: \"transparent\",\n      border: \"none\",\n      gap: theme.spacing(1)\n    }),\n    rowCollapsed: css({\n      borderBottom: `1px solid ${theme.colors.border.weak}`\n    }),\n    rowTitle: css({\n      fontSize: theme.typography.h5.fontSize,\n      fontWeight: theme.typography.fontWeightMedium\n    }),\n    collapsedInfo: css({\n      fontSize: theme.typography.bodySmall.fontSize,\n      color: theme.colors.text.secondary,\n      display: \"flex\",\n      alignItems: \"center\",\n      flexGrow: 1\n    }),\n    rowTitleAndActionsGroup: css({\n      display: \"flex\",\n      \"&:hover, &:focus-within\": {\n        \"& > div\": {\n          opacity: 1\n        }\n      }\n    }),\n    rowActions: css({\n      display: \"flex\",\n      opacity: 0,\n      transition: \"200ms opacity ease-in 200ms\",\n      \"&:hover, &:focus-within\": {\n        opacity: 1\n      }\n    }),\n    dragHandle: css({\n      display: \"flex\",\n      padding: theme.spacing(0, 1),\n      alignItems: \"center\",\n      justifyContent: \"flex-end\",\n      cursor: \"move\",\n      color: theme.colors.text.secondary,\n      \"&:hover\": {\n        color: theme.colors.text.primary\n      }\n    }),\n    panelCount: css({\n      paddingLeft: theme.spacing(2),\n      color: theme.colors.text.secondary,\n      fontStyle: \"italic\",\n      fontSize: theme.typography.size.sm,\n      fontWeight: \"normal\",\n      display: \"none\",\n      lineHeight: \"30px\"\n    }),\n    panelCountCollapsed: css({\n      display: \"inline-block\"\n    })\n  };\n};\n\nexport { SceneGridRow, SceneGridRowRenderer, getSceneGridRowStyles };\n//# sourceMappingURL=SceneGridRow.js.map\n","import { cx, css } from '@emotion/css';\nimport React from 'react';\nimport { useStyles2, ToolbarButton, Icon } from '@grafana/ui';\nimport { SceneObjectBase } from '../core/SceneObjectBase.js';\nimport { getSceneGridRowStyles } from './layout/grid/SceneGridRow.js';\nimport { sceneGraph } from '../core/sceneGraph/index.js';\n\nclass NestedScene extends SceneObjectBase {\n  constructor() {\n    super(...arguments);\n    this.onToggle = () => {\n      this.setState({\n        isCollapsed: !this.state.isCollapsed\n      });\n    };\n    this.onRemove = () => {\n      const parent = this.parent;\n      if (isSceneLayoutItem(parent)) {\n        parent.setState({\n          body: void 0\n        });\n      }\n    };\n  }\n}\nNestedScene.Component = NestedSceneRenderer;\nfunction NestedSceneRenderer({ model }) {\n  const { title, isCollapsed, canCollapse, canRemove, body, controls } = model.useState();\n  const gridRow = useStyles2(getSceneGridRowStyles);\n  const styles = useStyles2(getStyles);\n  const toolbarControls = (controls != null ? controls : []).map((action) => /* @__PURE__ */ React.createElement(action.Component, {\n    key: action.state.key,\n    model: action\n  }));\n  if (canRemove) {\n    toolbarControls.push(\n      /* @__PURE__ */ React.createElement(ToolbarButton, {\n        icon: \"times\",\n        variant: \"default\",\n        onClick: model.onRemove,\n        key: \"remove-button\",\n        \"aria-label\": \"Remove scene\"\n      })\n    );\n  }\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    className: styles.wrapper\n  }, /* @__PURE__ */ React.createElement(\"div\", {\n    className: cx(styles.row, isCollapsed && styles.rowCollapsed)\n  }, /* @__PURE__ */ React.createElement(\"button\", {\n    onClick: model.onToggle,\n    className: gridRow.rowTitleButton,\n    \"aria-label\": isCollapsed ? \"Expand scene\" : \"Collapse scene\"\n  }, canCollapse && /* @__PURE__ */ React.createElement(Icon, {\n    name: isCollapsed ? \"angle-right\" : \"angle-down\"\n  }), /* @__PURE__ */ React.createElement(\"span\", {\n    className: gridRow.rowTitle,\n    role: \"heading\"\n  }, sceneGraph.interpolate(model, title, void 0, \"text\"))), /* @__PURE__ */ React.createElement(\"div\", {\n    className: styles.actions\n  }, toolbarControls)), !isCollapsed && /* @__PURE__ */ React.createElement(body.Component, {\n    model: body\n  }));\n}\nconst getStyles = (theme) => ({\n  wrapper: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    flexGrow: 1,\n    gap: theme.spacing(1)\n  }),\n  row: css({\n    width: \"100%\",\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    gap: theme.spacing(1)\n  }),\n  rowCollapsed: css({\n    borderBottom: `1px solid ${theme.colors.border.weak}`,\n    paddingBottom: theme.spacing(1)\n  }),\n  actions: css({\n    display: \"flex\",\n    alignItems: \"center\",\n    gap: theme.spacing(1),\n    justifyContent: \"flex-end\",\n    flexGrow: 1\n  })\n});\nfunction isSceneLayoutItem(x) {\n  return \"body\" in x.state;\n}\n\nexport { NestedScene, NestedSceneRenderer };\n//# sourceMappingURL=NestedScene.js.map\n","import React from 'react';\nimport { SceneObjectBase } from '../core/SceneObjectBase.js';\nimport { sceneGraph } from '../core/sceneGraph/index.js';\nimport { VariableDependencyConfig } from '../variables/VariableDependencyConfig.js';\nimport { useTheme2 } from '@grafana/ui';\nimport { css } from '@emotion/css';\n\nclass SceneCanvasText extends SceneObjectBase {\n  constructor() {\n    super(...arguments);\n    this._variableDependency = new VariableDependencyConfig(this, { statePaths: [\"text\"] });\n  }\n}\nSceneCanvasText.Component = ({ model }) => {\n  const { text, fontSize = 20, align = \"left\", key, spacing } = model.useState();\n  const theme = useTheme2();\n  const style = css({\n    fontSize,\n    display: \"flex\",\n    flexGrow: 1,\n    alignItems: \"center\",\n    padding: spacing ? theme.spacing(spacing, 0) : void 0,\n    justifyContent: align\n  });\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    className: style,\n    \"data-testid\": key\n  }, sceneGraph.interpolate(model, text));\n};\n\nexport { SceneCanvasText };\n//# sourceMappingURL=SceneCanvasText.js.map\n","import React from 'react';\nimport { ToolbarButton, Input } from '@grafana/ui';\nimport { SceneObjectBase } from '../core/SceneObjectBase.js';\nimport { ControlsLabel } from '../utils/ControlsLabel.js';\n\nclass SceneToolbarButton extends SceneObjectBase {\n}\nSceneToolbarButton.Component = ({ model }) => {\n  const state = model.useState();\n  return /* @__PURE__ */ React.createElement(ToolbarButton, {\n    onClick: state.onClick,\n    icon: state.icon\n  });\n};\nclass SceneToolbarInput extends SceneObjectBase {\n}\nSceneToolbarInput.Component = ({ model }) => {\n  const state = model.useState();\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    style: { display: \"flex\" }\n  }, state.label && /* @__PURE__ */ React.createElement(ControlsLabel, {\n    label: state.label\n  }), /* @__PURE__ */ React.createElement(Input, {\n    defaultValue: state.value,\n    width: 8,\n    onBlur: (evt) => {\n      model.state.onChange(parseInt(evt.currentTarget.value, 10));\n    }\n  }));\n};\n\nexport { SceneToolbarButton, SceneToolbarInput };\n//# sourceMappingURL=SceneToolbarButton.js.map\n","import React from 'react';\nimport { TimeRangePicker } from '@grafana/ui';\nimport { SceneObjectBase } from '../core/SceneObjectBase.js';\nimport { sceneGraph } from '../core/sceneGraph/index.js';\nimport { toUtc } from '@grafana/data';\n\nclass SceneTimePicker extends SceneObjectBase {\n  constructor() {\n    super(...arguments);\n    this.onZoom = () => {\n      const timeRange = sceneGraph.getTimeRange(this);\n      const zoomedTimeRange = getZoomedTimeRange(timeRange.state.value, 2);\n      timeRange.onTimeRangeChange(zoomedTimeRange);\n    };\n    this.onChangeFiscalYearStartMonth = (month) => {\n      const timeRange = sceneGraph.getTimeRange(this);\n      timeRange.setState({ fiscalYearStartMonth: month });\n    };\n    this.onMoveBackward = () => {\n      const timeRange = sceneGraph.getTimeRange(this);\n      const {\n        state: { value: range }\n      } = timeRange;\n      timeRange.onTimeRangeChange(getShiftedTimeRange(TimeRangeDirection.Backward, range, Date.now()));\n    };\n    this.onMoveForward = () => {\n      const timeRange = sceneGraph.getTimeRange(this);\n      const {\n        state: { value: range }\n      } = timeRange;\n      timeRange.onTimeRangeChange(getShiftedTimeRange(TimeRangeDirection.Forward, range, Date.now()));\n    };\n  }\n}\nSceneTimePicker.Component = SceneTimePickerRenderer;\nfunction SceneTimePickerRenderer({ model }) {\n  const { hidePicker, isOnCanvas } = model.useState();\n  const timeRange = sceneGraph.getTimeRange(model);\n  const timeZone = timeRange.getTimeZone();\n  const timeRangeState = timeRange.useState();\n  if (hidePicker) {\n    return null;\n  }\n  return /* @__PURE__ */ React.createElement(TimeRangePicker, {\n    isOnCanvas: isOnCanvas != null ? isOnCanvas : true,\n    value: timeRangeState.value,\n    onChange: timeRange.onTimeRangeChange,\n    timeZone,\n    fiscalYearStartMonth: timeRangeState.fiscalYearStartMonth,\n    onMoveBackward: model.onMoveBackward,\n    onMoveForward: model.onMoveForward,\n    onZoom: model.onZoom,\n    onChangeTimeZone: timeRange.onTimeZoneChange,\n    onChangeFiscalYearStartMonth: model.onChangeFiscalYearStartMonth\n  });\n}\nfunction getZoomedTimeRange(timeRange, factor) {\n  const timespan = timeRange.to.valueOf() - timeRange.from.valueOf();\n  const center = timeRange.to.valueOf() - timespan / 2;\n  const newTimespan = timespan === 0 ? 3e4 : timespan * factor;\n  const to = center + newTimespan / 2;\n  const from = center - newTimespan / 2;\n  return { from: toUtc(from), to: toUtc(to), raw: { from: toUtc(from), to: toUtc(to) } };\n}\nvar TimeRangeDirection = /* @__PURE__ */ ((TimeRangeDirection2) => {\n  TimeRangeDirection2[TimeRangeDirection2[\"Backward\"] = 0] = \"Backward\";\n  TimeRangeDirection2[TimeRangeDirection2[\"Forward\"] = 1] = \"Forward\";\n  return TimeRangeDirection2;\n})(TimeRangeDirection || {});\nfunction getShiftedTimeRange(dir, timeRange, upperLimit) {\n  const oldTo = timeRange.to.valueOf();\n  const oldFrom = timeRange.from.valueOf();\n  const halfSpan = (oldTo - oldFrom) / 2;\n  let fromRaw;\n  let toRaw;\n  if (dir === 0 /* Backward */) {\n    fromRaw = oldFrom - halfSpan;\n    toRaw = oldTo - halfSpan;\n  } else {\n    fromRaw = oldFrom + halfSpan;\n    toRaw = oldTo + halfSpan;\n    if (toRaw > upperLimit && oldTo < upperLimit) {\n      toRaw = upperLimit;\n      fromRaw = oldFrom;\n    }\n  }\n  const from = toUtc(fromRaw);\n  const to = toUtc(toRaw);\n  return {\n    from,\n    to,\n    raw: { from, to }\n  };\n}\n\nexport { SceneTimePicker, TimeRangeDirection, getShiftedTimeRange, getZoomedTimeRange };\n//# sourceMappingURL=SceneTimePicker.js.map\n","import React from 'react';\nimport { rangeUtil } from '@grafana/data';\nimport { config } from '@grafana/runtime';\nimport { RefreshPicker } from '@grafana/ui';\nimport { SceneObjectBase } from '../core/SceneObjectBase.js';\nimport { sceneGraph } from '../core/sceneGraph/index.js';\nimport { SceneObjectUrlSyncConfig } from '../services/SceneObjectUrlSyncConfig.js';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nconst DEFAULT_INTERVALS = [\"5s\", \"10s\", \"30s\", \"1m\", \"5m\", \"15m\", \"30m\", \"1h\", \"2h\", \"1d\"];\nclass SceneRefreshPicker extends SceneObjectBase {\n  constructor(state) {\n    var _a, _b, _c;\n    super(__spreadProps(__spreadValues({\n      refresh: \"\"\n    }, state), {\n      autoValue: void 0,\n      autoEnabled: (_a = state.autoEnabled) != null ? _a : true,\n      autoMinInterval: (_b = state.autoMinInterval) != null ? _b : config.minRefreshInterval,\n      intervals: (_c = state.intervals) != null ? _c : DEFAULT_INTERVALS\n    }));\n    this._urlSync = new SceneObjectUrlSyncConfig(this, { keys: [\"refresh\"] });\n    this.onRefresh = () => {\n      const queryController = sceneGraph.getQueryController(this);\n      if (queryController == null ? void 0 : queryController.state.isRunning) {\n        queryController.cancelAll();\n        return;\n      }\n      const timeRange = sceneGraph.getTimeRange(this);\n      if (this._intervalTimer) {\n        clearInterval(this._intervalTimer);\n      }\n      timeRange.onRefresh();\n      this.setupIntervalTimer();\n    };\n    this.onIntervalChanged = (interval) => {\n      this.setState({ refresh: interval });\n      this.setupIntervalTimer();\n    };\n    this.setupAutoTimeRangeListener = () => {\n      return sceneGraph.getTimeRange(this).subscribeToState((newState, prevState) => {\n        if (newState.from !== prevState.from || newState.to !== prevState.to) {\n          this.setupIntervalTimer();\n        }\n      });\n    };\n    this.calculateAutoRefreshInterval = () => {\n      var _a;\n      const timeRange = sceneGraph.getTimeRange(this);\n      const resolution = (_a = window == null ? void 0 : window.innerWidth) != null ? _a : 2e3;\n      return rangeUtil.calculateInterval(timeRange.state.value, resolution, this.state.autoMinInterval);\n    };\n    this.setupIntervalTimer = () => {\n      var _a;\n      const timeRange = sceneGraph.getTimeRange(this);\n      const { refresh, intervals } = this.state;\n      if (this._intervalTimer || refresh === \"\") {\n        clearInterval(this._intervalTimer);\n      }\n      if (refresh === \"\") {\n        return;\n      }\n      if (refresh !== RefreshPicker.autoOption.value && intervals && !intervals.includes(refresh)) {\n        return;\n      }\n      let intervalMs;\n      (_a = this._autoTimeRangeListener) == null ? void 0 : _a.unsubscribe();\n      if (refresh === RefreshPicker.autoOption.value) {\n        const autoRefreshInterval = this.calculateAutoRefreshInterval();\n        intervalMs = autoRefreshInterval.intervalMs;\n        this._autoTimeRangeListener = this.setupAutoTimeRangeListener();\n        if (autoRefreshInterval.interval !== this.state.autoValue) {\n          this.setState({ autoValue: autoRefreshInterval.interval });\n        }\n      } else {\n        intervalMs = rangeUtil.intervalToMs(refresh);\n      }\n      this._intervalTimer = setInterval(() => {\n        timeRange.onRefresh();\n      }, intervalMs);\n    };\n    this.addActivationHandler(() => {\n      this.setupIntervalTimer();\n      return () => {\n        var _a2;\n        if (this._intervalTimer) {\n          clearInterval(this._intervalTimer);\n        }\n        (_a2 = this._autoTimeRangeListener) == null ? void 0 : _a2.unsubscribe();\n      };\n    });\n  }\n  getUrlState() {\n    return {\n      refresh: this.state.refresh !== \"\" ? this.state.refresh : void 0\n    };\n  }\n  updateFromUrl(values) {\n    const refresh = values.refresh;\n    if (typeof refresh === \"string\") {\n      this.setState({ refresh });\n    } else if (refresh == null) {\n      this.setState({ refresh: \"\" });\n    }\n  }\n}\nSceneRefreshPicker.Component = SceneRefreshPickerRenderer;\nfunction SceneRefreshPickerRenderer({ model }) {\n  var _a;\n  const { refresh, intervals, autoEnabled, autoValue, isOnCanvas, primary, withText } = model.useState();\n  const isRunning = useQueryControllerState(model);\n  let text = refresh === ((_a = RefreshPicker.autoOption) == null ? void 0 : _a.value) ? autoValue : withText ? \"Refresh\" : void 0;\n  let tooltip;\n  let width;\n  if (isRunning) {\n    tooltip = \"Cancel all queries\";\n    if (withText) {\n      text = \"Cancel\";\n    }\n  }\n  if (withText) {\n    width = \"96px\";\n  }\n  return /* @__PURE__ */ React.createElement(RefreshPicker, {\n    showAutoInterval: autoEnabled,\n    value: refresh,\n    intervals,\n    tooltip,\n    width,\n    text,\n    onRefresh: model.onRefresh,\n    primary,\n    onIntervalChanged: model.onIntervalChanged,\n    isLoading: isRunning,\n    isOnCanvas: isOnCanvas != null ? isOnCanvas : true\n  });\n}\nfunction useQueryControllerState(model) {\n  const queryController = sceneGraph.getQueryController(model);\n  if (!queryController) {\n    return false;\n  }\n  return queryController.useState().isRunning;\n}\n\nexport { DEFAULT_INTERVALS, SceneRefreshPicker, SceneRefreshPickerRenderer };\n//# sourceMappingURL=SceneRefreshPicker.js.map\n","const getCompareSeriesRefId = (refId) => `${refId}-compare`;\n\nexport { getCompareSeriesRefId };\n//# sourceMappingURL=getCompareSeriesRefId.js.map\n","import { rangeUtil, dateTime, FieldType } from '@grafana/data';\nimport { config } from '@grafana/runtime';\nimport { useStyles2, ButtonGroup, ToolbarButton, Checkbox, ButtonSelect } from '@grafana/ui';\nimport React from 'react';\nimport { sceneGraph } from '../core/sceneGraph/index.js';\nimport { SceneObjectBase } from '../core/SceneObjectBase.js';\nimport { SceneObjectUrlSyncConfig } from '../services/SceneObjectUrlSyncConfig.js';\nimport { getCompareSeriesRefId } from '../utils/getCompareSeriesRefId.js';\nimport { parseUrlParam } from '../utils/parseUrlParam.js';\nimport { css } from '@emotion/css';\nimport { of } from 'rxjs';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nconst PREVIOUS_PERIOD_VALUE = \"__previousPeriod\";\nconst NO_PERIOD_VALUE = \"__noPeriod\";\nconst PREVIOUS_PERIOD_COMPARE_OPTION = {\n  label: \"Previous period\",\n  value: PREVIOUS_PERIOD_VALUE\n};\nconst NO_COMPARE_OPTION = {\n  label: \"No comparison\",\n  value: NO_PERIOD_VALUE\n};\nconst DEFAULT_COMPARE_OPTIONS = [\n  { label: \"Day before\", value: \"24h\" },\n  { label: \"Week before\", value: \"1w\" },\n  { label: \"Month before\", value: \"1M\" }\n];\nclass SceneTimeRangeCompare extends SceneObjectBase {\n  constructor(state) {\n    super(__spreadValues({ compareOptions: DEFAULT_COMPARE_OPTIONS }, state));\n    this._urlSync = new SceneObjectUrlSyncConfig(this, { keys: [\"compareWith\"] });\n    this._onActivate = () => {\n      const sceneTimeRange = sceneGraph.getTimeRange(this);\n      this.setState({ compareOptions: this.getCompareOptions(sceneTimeRange.state.value) });\n      this._subs.add(\n        sceneTimeRange.subscribeToState((timeRange) => {\n          const compareOptions = this.getCompareOptions(timeRange.value);\n          const stateUpdate = { compareOptions };\n          if (Boolean(this.state.compareWith) && !compareOptions.find(({ value }) => value === this.state.compareWith)) {\n            stateUpdate.compareWith = PREVIOUS_PERIOD_VALUE;\n          }\n          this.setState(stateUpdate);\n        })\n      );\n    };\n    this.getCompareOptions = (timeRange) => {\n      const diffDays = Math.ceil(timeRange.to.diff(timeRange.from));\n      const matchIndex = DEFAULT_COMPARE_OPTIONS.findIndex(({ value }) => {\n        const intervalInMs = rangeUtil.intervalToMs(value);\n        return intervalInMs >= diffDays;\n      });\n      return [\n        NO_COMPARE_OPTION,\n        PREVIOUS_PERIOD_COMPARE_OPTION,\n        ...DEFAULT_COMPARE_OPTIONS.slice(matchIndex).map(({ label, value }) => ({ label, value }))\n      ];\n    };\n    this.onCompareWithChanged = (compareWith) => {\n      if (compareWith === NO_PERIOD_VALUE) {\n        this.onClearCompare();\n      } else {\n        this.setState({ compareWith });\n      }\n    };\n    this.onClearCompare = () => {\n      this.setState({ compareWith: void 0 });\n    };\n    this.addActivationHandler(this._onActivate);\n  }\n  getExtraQueries(request) {\n    const extraQueries = [];\n    const compareRange = this.getCompareTimeRange(request.range);\n    if (!compareRange) {\n      return extraQueries;\n    }\n    const targets = request.targets.filter((query) => query.timeRangeCompare !== false);\n    if (targets.length) {\n      extraQueries.push({\n        req: __spreadProps(__spreadValues({}, request), {\n          targets,\n          range: compareRange\n        }),\n        processor: timeShiftAlignmentProcessor\n      });\n    }\n    return extraQueries;\n  }\n  shouldRerun(prev, next) {\n    return prev.compareWith !== next.compareWith;\n  }\n  getCompareTimeRange(timeRange) {\n    let compareFrom;\n    let compareTo;\n    if (this.state.compareWith) {\n      if (this.state.compareWith === PREVIOUS_PERIOD_VALUE) {\n        const diffMs = timeRange.to.diff(timeRange.from);\n        compareFrom = dateTime(timeRange.from).subtract(diffMs);\n        compareTo = dateTime(timeRange.to).subtract(diffMs);\n      } else {\n        compareFrom = dateTime(timeRange.from).subtract(rangeUtil.intervalToMs(this.state.compareWith));\n        compareTo = dateTime(timeRange.to).subtract(rangeUtil.intervalToMs(this.state.compareWith));\n      }\n      return {\n        from: compareFrom,\n        to: compareTo,\n        raw: {\n          from: compareFrom,\n          to: compareTo\n        }\n      };\n    }\n    return void 0;\n  }\n  getUrlState() {\n    return {\n      compareWith: this.state.compareWith\n    };\n  }\n  updateFromUrl(values) {\n    if (!values.compareWith) {\n      return;\n    }\n    const compareWith = parseUrlParam(values.compareWith);\n    if (compareWith) {\n      const compareOptions = this.getCompareOptions(sceneGraph.getTimeRange(this).state.value);\n      if (compareOptions.find(({ value }) => value === compareWith)) {\n        this.setState({\n          compareWith\n        });\n      } else {\n        this.setState({\n          compareWith: \"__previousPeriod\"\n        });\n      }\n    }\n  }\n}\nSceneTimeRangeCompare.Component = SceneTimeRangeCompareRenderer;\nconst timeShiftAlignmentProcessor = (primary, secondary) => {\n  const diff = secondary.timeRange.from.diff(primary.timeRange.from);\n  secondary.series.forEach((series) => {\n    series.refId = getCompareSeriesRefId(series.refId || \"\");\n    series.meta = __spreadProps(__spreadValues({}, series.meta), {\n      timeCompare: {\n        diffMs: diff,\n        isTimeShiftQuery: true\n      }\n    });\n    series.fields.forEach((field) => {\n      if (field.type === FieldType.time) {\n        field.values = field.values.map((v) => {\n          return diff < 0 ? v - diff : v + diff;\n        });\n      }\n      field.config = __spreadProps(__spreadValues({}, field.config), {\n        color: {\n          mode: \"fixed\",\n          fixedColor: config.theme.palette.gray60\n        }\n      });\n      return field;\n    });\n  });\n  return of(secondary);\n};\nfunction SceneTimeRangeCompareRenderer({ model }) {\n  var _a;\n  const styles = useStyles2(getStyles);\n  const { compareWith, compareOptions } = model.useState();\n  const [previousCompare, setPreviousCompare] = React.useState(compareWith);\n  const previousValue = (_a = compareOptions.find(({ value: value2 }) => value2 === previousCompare)) != null ? _a : PREVIOUS_PERIOD_COMPARE_OPTION;\n  const value = compareOptions.find(({ value: value2 }) => value2 === compareWith);\n  const enabled = Boolean(value);\n  const onClick = () => {\n    if (enabled) {\n      setPreviousCompare(compareWith);\n      model.onClearCompare();\n    } else if (!enabled) {\n      model.onCompareWithChanged(previousValue.value);\n    }\n  };\n  return /* @__PURE__ */ React.createElement(ButtonGroup, null, /* @__PURE__ */ React.createElement(ToolbarButton, {\n    variant: \"canvas\",\n    tooltip: \"Enable time frame comparison\",\n    onClick: (e) => {\n      e.stopPropagation();\n      e.preventDefault();\n      onClick();\n    }\n  }, /* @__PURE__ */ React.createElement(Checkbox, {\n    label: \" \",\n    value: enabled,\n    onClick\n  }), \"Comparison\"), enabled ? /* @__PURE__ */ React.createElement(ButtonSelect, {\n    variant: \"canvas\",\n    value,\n    options: compareOptions,\n    onChange: (v) => {\n      model.onCompareWithChanged(v.value);\n    }\n  }) : /* @__PURE__ */ React.createElement(ToolbarButton, {\n    className: styles.previewButton,\n    disabled: true,\n    variant: \"canvas\",\n    isOpen: false\n  }, previousValue.label));\n}\nfunction getStyles(theme) {\n  return {\n    previewButton: css({\n      \"&:disabled\": {\n        border: `1px solid ${theme.colors.secondary.border}`,\n        color: theme.colors.text.disabled,\n        opacity: 1\n      }\n    })\n  };\n}\n\nexport { DEFAULT_COMPARE_OPTIONS, NO_COMPARE_OPTION, PREVIOUS_PERIOD_COMPARE_OPTION, SceneTimeRangeCompare };\n//# sourceMappingURL=SceneTimeRangeCompare.js.map\n","import React from 'react';\nimport { LoadingState } from '@grafana/data';\nimport { SceneObjectBase } from '../core/SceneObjectBase.js';\nimport { sceneGraph } from '../core/sceneGraph/index.js';\n\nclass SceneByFrameRepeater extends SceneObjectBase {\n  constructor(state) {\n    super(state);\n    this.addActivationHandler(() => {\n      const dataProvider = sceneGraph.getData(this);\n      this._subs.add(\n        dataProvider.subscribeToState((data) => {\n          var _a;\n          if (((_a = data.data) == null ? void 0 : _a.state) === LoadingState.Done) {\n            this.performRepeat(data.data);\n          }\n        })\n      );\n      if (dataProvider.state.data) {\n        this.performRepeat(dataProvider.state.data);\n      }\n    });\n  }\n  performRepeat(data) {\n    const newChildren = [];\n    for (let seriesIndex = 0; seriesIndex < data.series.length; seriesIndex++) {\n      const layoutChild = this.state.getLayoutChild(data, data.series[seriesIndex], seriesIndex);\n      newChildren.push(layoutChild);\n    }\n    this.state.body.setState({ children: newChildren });\n  }\n}\nSceneByFrameRepeater.Component = ({ model }) => {\n  const { body } = model.useState();\n  return /* @__PURE__ */ React.createElement(body.Component, {\n    model: body\n  });\n};\n\nexport { SceneByFrameRepeater };\n//# sourceMappingURL=SceneByFrameRepeater.js.map\n","import React from 'react';\nimport { SceneObjectBase } from '../core/SceneObjectBase.js';\nimport { sceneGraph } from '../core/sceneGraph/index.js';\nimport { VariableDependencyConfig } from '../variables/VariableDependencyConfig.js';\nimport { MultiValueVariable } from '../variables/variants/MultiValueVariable.js';\n\nclass SceneByVariableRepeater extends SceneObjectBase {\n  constructor(state) {\n    super(state);\n    this._variableDependency = new VariableDependencyConfig(\n      this,\n      {\n        variableNames: [this.state.variableName],\n        onVariableUpdateCompleted: () => this.performRepeat()\n      }\n    );\n    this.addActivationHandler(() => this.performRepeat());\n  }\n  performRepeat() {\n    if (this._variableDependency.hasDependencyInLoadingState()) {\n      return;\n    }\n    const variable = sceneGraph.lookupVariable(this.state.variableName, this);\n    if (!(variable instanceof MultiValueVariable)) {\n      console.error(\"SceneByVariableRepeater: variable is not a MultiValueVariable\");\n      return;\n    }\n    const values = getMultiVariableValues(variable);\n    const newChildren = [];\n    for (const option of values) {\n      const layoutChild = this.state.getLayoutChild(option);\n      newChildren.push(layoutChild);\n    }\n    this.state.body.setState({ children: newChildren });\n  }\n}\nSceneByVariableRepeater.Component = ({ model }) => {\n  const { body } = model.useState();\n  return /* @__PURE__ */ React.createElement(body.Component, {\n    model: body\n  });\n};\nfunction getMultiVariableValues(variable) {\n  const { value, text, options } = variable.state;\n  if (variable.hasAllValue()) {\n    return options;\n  }\n  if (Array.isArray(value) && Array.isArray(text)) {\n    return value.map((v, i) => ({ value: v, label: text[i] }));\n  }\n  return [{ value, label: text }];\n}\n\nexport { SceneByVariableRepeater, getMultiVariableValues };\n//# sourceMappingURL=SceneByVariableRepeater.js.map\n","import React from 'react';\nimport { SceneObjectBase } from '../core/SceneObjectBase.js';\n\nconst _SceneControlsSpacer = class extends SceneObjectBase {\n  constructor() {\n    super({});\n  }\n  get Component() {\n    return _SceneControlsSpacer.Component;\n  }\n};\nlet SceneControlsSpacer = _SceneControlsSpacer;\nSceneControlsSpacer.Component = (_props) => {\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    style: { flexGrow: 1 }\n  });\n};\n\nexport { SceneControlsSpacer };\n//# sourceMappingURL=SceneControlsSpacer.js.map\n","import { css } from '@emotion/css';\nimport { config } from '@grafana/runtime';\nimport React, { useMemo } from 'react';\nimport { SceneObjectBase } from '../../core/SceneObjectBase.js';\n\nclass SceneFlexLayout extends SceneObjectBase {\n  toggleDirection() {\n    this.setState({\n      direction: this.state.direction === \"row\" ? \"column\" : \"row\"\n    });\n  }\n  isDraggable() {\n    return false;\n  }\n}\nSceneFlexLayout.Component = SceneFlexLayoutRenderer;\nfunction SceneFlexLayoutRenderer({ model, parentState }) {\n  const { children, isHidden } = model.useState();\n  const style = useLayoutStyle(model.state, parentState);\n  if (isHidden) {\n    return null;\n  }\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    className: style\n  }, children.map((item) => {\n    const Component = item.Component;\n    return /* @__PURE__ */ React.createElement(Component, {\n      key: item.state.key,\n      model: item,\n      parentState: model.state\n    });\n  }));\n}\nclass SceneFlexItem extends SceneObjectBase {\n}\nSceneFlexItem.Component = SceneFlexItemRenderer;\nfunction SceneFlexItemRenderer({ model, parentState }) {\n  if (!parentState) {\n    throw new Error(\"SceneFlexItem must be a child of SceneFlexLayout\");\n  }\n  const { body, isHidden } = model.useState();\n  const style = useLayoutItemStyle(model.state, parentState);\n  if (!body || isHidden) {\n    return null;\n  }\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    className: style\n  }, /* @__PURE__ */ React.createElement(body.Component, {\n    model: body\n  }));\n}\nfunction applyItemStyles(style, state, parentState) {\n  var _a, _b, _c;\n  const parentDirection = (_a = parentState.direction) != null ? _a : \"row\";\n  const { xSizing = \"fill\", ySizing = \"fill\" } = state;\n  style.display = \"flex\";\n  style.position = \"relative\";\n  style.flexDirection = parentDirection;\n  if (parentDirection === \"column\") {\n    if (state.height) {\n      style.height = state.height;\n    } else {\n      style.flexGrow = ySizing === \"fill\" ? 1 : 0;\n    }\n    if (state.width) {\n      style.width = state.width;\n    } else {\n      style.alignSelf = xSizing === \"fill\" ? \"stretch\" : \"flex-start\";\n    }\n  } else {\n    if (state.height) {\n      style.height = state.height;\n    } else {\n      style.alignSelf = ySizing === \"fill\" ? \"stretch\" : \"flex-start\";\n    }\n    if (state.width) {\n      style.width = state.width;\n    } else {\n      style.flexGrow = xSizing === \"fill\" ? 1 : 0;\n    }\n  }\n  style.minWidth = state.minWidth;\n  style.maxWidth = state.maxWidth;\n  style.maxHeight = state.maxHeight;\n  style.minHeight = (_b = state.minHeight) != null ? _b : parentState.minHeight;\n  style.height = (_c = state.height) != null ? _c : parentState.height;\n  return style;\n}\nfunction useLayoutItemStyle(state, parentState) {\n  return useMemo(() => {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j;\n    const theme = config.theme2;\n    const style = applyItemStyles({}, state, parentState);\n    style[theme.breakpoints.down(\"md\")] = {\n      maxWidth: (_b = (_a = state.md) == null ? void 0 : _a.maxWidth) != null ? _b : \"unset\",\n      maxHeight: (_d = (_c = state.md) == null ? void 0 : _c.maxHeight) != null ? _d : \"unset\",\n      height: (_g = (_e = state.md) == null ? void 0 : _e.height) != null ? _g : (_f = parentState.md) == null ? void 0 : _f.height,\n      width: (_j = (_h = state.md) == null ? void 0 : _h.width) != null ? _j : (_i = parentState.md) == null ? void 0 : _i.width\n    };\n    return css(style);\n  }, [state, parentState]);\n}\nfunction useLayoutStyle(state, parentState) {\n  return useMemo(() => {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j;\n    const { direction = \"row\", wrap } = state;\n    const theme = config.theme2;\n    const style = {};\n    if (parentState) {\n      applyItemStyles(style, state, parentState);\n    } else {\n      style.display = \"flex\";\n      style.flexGrow = 1;\n      style.minWidth = state.minWidth;\n      style.minHeight = state.minHeight;\n    }\n    style.flexDirection = direction;\n    style.gap = \"8px\";\n    style.flexWrap = wrap || \"nowrap\";\n    style.alignContent = \"baseline\";\n    style.minWidth = style.minWidth || 0;\n    style.minHeight = style.minHeight || 0;\n    style[theme.breakpoints.down(\"md\")] = {\n      flexDirection: (_b = (_a = state.md) == null ? void 0 : _a.direction) != null ? _b : \"column\",\n      maxWidth: (_d = (_c = state.md) == null ? void 0 : _c.maxWidth) != null ? _d : \"unset\",\n      maxHeight: (_f = (_e = state.md) == null ? void 0 : _e.maxHeight) != null ? _f : \"unset\",\n      height: (_h = (_g = state.md) == null ? void 0 : _g.height) != null ? _h : \"unset\",\n      width: (_j = (_i = state.md) == null ? void 0 : _i.width) != null ? _j : \"unset\"\n    };\n    return css(style);\n  }, [parentState, state]);\n}\n\nexport { SceneFlexItem, SceneFlexLayout };\n//# sourceMappingURL=SceneFlexLayout.js.map\n","import { css } from '@emotion/css';\nimport React, { useMemo } from 'react';\nimport { SceneObjectBase } from '../../../core/SceneObjectBase.js';\nimport { config } from '@grafana/runtime';\nimport { LazyLoader } from '../LazyLoader.js';\n\nvar __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nclass SceneCSSGridLayout extends SceneObjectBase {\n  constructor(state) {\n    var _a, _b;\n    super(__spreadValues({\n      rowGap: 1,\n      columnGap: 1,\n      templateColumns: \"repeat(auto-fit, minmax(400px, 1fr))\",\n      autoRows: (_a = state.autoRows) != null ? _a : `320px`,\n      children: (_b = state.children) != null ? _b : []\n    }, state));\n  }\n  isDraggable() {\n    return false;\n  }\n}\nSceneCSSGridLayout.Component = SceneCSSGridLayoutRenderer;\nfunction SceneCSSGridLayoutRenderer({ model }) {\n  const { children, isHidden, isLazy } = model.useState();\n  const style = useLayoutStyle(model.state);\n  if (isHidden) {\n    return null;\n  }\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    className: style\n  }, children.map((item) => {\n    const Component = item.Component;\n    if (isLazy) {\n      return /* @__PURE__ */ React.createElement(LazyLoader, {\n        key: item.state.key,\n        className: style\n      }, /* @__PURE__ */ React.createElement(Component, {\n        key: item.state.key,\n        model: item,\n        parentState: model.state\n      }));\n    }\n    return /* @__PURE__ */ React.createElement(Component, {\n      key: item.state.key,\n      model: item,\n      parentState: model.state\n    });\n  }));\n}\nclass SceneCSSGridItem extends SceneObjectBase {\n}\nSceneCSSGridItem.Component = SceneCSSGridItemRenderer;\nfunction SceneCSSGridItemRenderer({ model, parentState }) {\n  if (!parentState) {\n    throw new Error(\"SceneCSSGridItem must be a child of SceneCSSGridLayout\");\n  }\n  const { body, isHidden } = model.useState();\n  const style = useItemStyle(model.state);\n  if (!body || isHidden) {\n    return null;\n  }\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    className: style\n  }, /* @__PURE__ */ React.createElement(body.Component, {\n    model: body\n  }));\n}\nfunction useLayoutStyle(state) {\n  return useMemo(() => {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k;\n    const style = {};\n    const theme = config.theme2;\n    style.display = \"grid\";\n    style.gridTemplateColumns = state.templateColumns;\n    style.gridTemplateRows = state.templateRows || \"unset\";\n    style.gridAutoRows = state.autoRows || \"unset\";\n    style.rowGap = theme.spacing((_a = state.rowGap) != null ? _a : 1);\n    style.columnGap = theme.spacing((_b = state.columnGap) != null ? _b : 1);\n    style.justifyItems = state.justifyItems || \"unset\";\n    style.alignItems = state.alignItems || \"unset\";\n    style.justifyContent = state.justifyContent || \"unset\";\n    style.flexGrow = 1;\n    if (state.md) {\n      style[theme.breakpoints.down(\"md\")] = {\n        gridTemplateRows: (_c = state.md) == null ? void 0 : _c.templateRows,\n        gridTemplateColumns: (_d = state.md) == null ? void 0 : _d.templateColumns,\n        rowGap: state.md.rowGap ? theme.spacing((_f = (_e = state.md) == null ? void 0 : _e.rowGap) != null ? _f : 1) : void 0,\n        columnGap: state.md.columnGap ? theme.spacing((_h = (_g = state.md) == null ? void 0 : _g.rowGap) != null ? _h : 1) : void 0,\n        justifyItems: (_i = state.md) == null ? void 0 : _i.justifyItems,\n        alignItems: (_j = state.md) == null ? void 0 : _j.alignItems,\n        justifyContent: (_k = state.md) == null ? void 0 : _k.justifyContent\n      };\n    }\n    return css(style);\n  }, [state]);\n}\nfunction useItemStyle(state) {\n  return useMemo(() => {\n    const style = {};\n    style.gridColumn = state.gridColumn || \"unset\";\n    style.gridRow = state.gridRow || \"unset\";\n    style.position = \"relative\";\n    return css(style);\n  }, [state]);\n}\n\nexport { SceneCSSGridItem, SceneCSSGridLayout };\n//# sourceMappingURL=SceneCSSGridLayout.js.map\n","import { cx, css } from '@emotion/css';\nimport { useStyles2 } from '@grafana/ui';\nimport { clamp, throttle } from 'lodash';\nimport React, { useRef, useCallback, useLayoutEffect } from 'react';\nimport { useUniqueId } from '../LazyLoader.js';\n\nvar __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nconst PIXELS_PER_MS = 0.3;\nconst VERTICAL_KEYS = /* @__PURE__ */ new Set([\"ArrowUp\", \"ArrowDown\"]);\nconst HORIZONTAL_KEYS = /* @__PURE__ */ new Set([\"ArrowLeft\", \"ArrowRight\"]);\nconst propsForDirection = {\n  row: {\n    dim: \"width\",\n    axis: \"clientX\",\n    min: \"minWidth\",\n    max: \"maxWidth\"\n  },\n  column: {\n    dim: \"height\",\n    axis: \"clientY\",\n    min: \"minHeight\",\n    max: \"maxHeight\"\n  }\n};\nfunction Splitter({\n  direction = \"row\",\n  handleSize = 32,\n  initialSize = \"auto\",\n  primaryPaneStyles,\n  secondaryPaneStyles,\n  onDragFinished,\n  children\n}) {\n  const kids = React.Children.toArray(children);\n  const splitterRef = useRef(null);\n  const firstPaneRef = useRef(null);\n  const secondPaneRef = useRef(null);\n  const containerRef = useRef(null);\n  const containerSize = useRef(null);\n  const primarySizeRef = useRef(\"1fr\");\n  const firstPaneMeasurements = useRef(void 0);\n  const savedPos = useRef(void 0);\n  const measurementProp = propsForDirection[direction].dim;\n  const clientAxis = propsForDirection[direction].axis;\n  const minDimProp = propsForDirection[direction].min;\n  const maxDimProp = propsForDirection[direction].max;\n  useResizeObserver(\n    containerRef.current,\n    (entries) => {\n      for (const entry of entries) {\n        if (!entry.target.isSameNode(containerRef.current)) {\n          return;\n        }\n        const curSize = firstPaneRef.current.getBoundingClientRect()[measurementProp];\n        const newDims = measureElement(firstPaneRef.current);\n        splitterRef.current.ariaValueNow = `${clamp(\n          (curSize - newDims[minDimProp]) / (newDims[maxDimProp] - newDims[minDimProp]) * 100,\n          0,\n          100\n        )}`;\n      }\n    },\n    500,\n    [maxDimProp, minDimProp, direction, measurementProp]\n  );\n  const dragStart = useRef(null);\n  const onPointerDown = useCallback(\n    (e) => {\n      primarySizeRef.current = firstPaneRef.current.getBoundingClientRect()[measurementProp];\n      containerSize.current = containerRef.current.getBoundingClientRect()[measurementProp];\n      dragStart.current = e[clientAxis];\n      splitterRef.current.setPointerCapture(e.pointerId);\n      firstPaneMeasurements.current = measureElement(firstPaneRef.current);\n      savedPos.current = void 0;\n    },\n    [measurementProp, clientAxis]\n  );\n  const onPointerMove = useCallback(\n    (e) => {\n      if (dragStart.current !== null && primarySizeRef.current !== \"1fr\") {\n        const diff = e[clientAxis] - dragStart.current;\n        const dims = firstPaneMeasurements.current;\n        const newSize = clamp(primarySizeRef.current + diff, dims[minDimProp], dims[maxDimProp]);\n        const newFlex = newSize / (containerSize.current - handleSize);\n        firstPaneRef.current.style.flexGrow = `${newFlex}`;\n        secondPaneRef.current.style.flexGrow = `${1 - newFlex}`;\n        const ariaValueNow = clamp(\n          (newSize - dims[minDimProp]) / (dims[maxDimProp] - dims[minDimProp]) * 100,\n          0,\n          100\n        );\n        splitterRef.current.ariaValueNow = `${ariaValueNow}`;\n      }\n    },\n    [handleSize, clientAxis, minDimProp, maxDimProp]\n  );\n  const onPointerUp = useCallback(\n    (e) => {\n      e.preventDefault();\n      e.stopPropagation();\n      splitterRef.current.releasePointerCapture(e.pointerId);\n      dragStart.current = null;\n      onDragFinished == null ? void 0 : onDragFinished(parseFloat(firstPaneRef.current.style.flexGrow));\n    },\n    [onDragFinished]\n  );\n  const pressedKeys = useRef(/* @__PURE__ */ new Set());\n  const keysLastHandledAt = useRef(null);\n  const handlePressedKeys = useCallback(\n    (time) => {\n      var _a;\n      const nothingPressed = pressedKeys.current.size === 0;\n      if (nothingPressed) {\n        keysLastHandledAt.current = null;\n        return;\n      } else if (primarySizeRef.current === \"1fr\") {\n        return;\n      }\n      const dt = time - ((_a = keysLastHandledAt.current) != null ? _a : time);\n      const dx = dt * PIXELS_PER_MS;\n      let sizeChange = 0;\n      if (direction === \"row\") {\n        if (pressedKeys.current.has(\"ArrowLeft\")) {\n          sizeChange -= dx;\n        }\n        if (pressedKeys.current.has(\"ArrowRight\")) {\n          sizeChange += dx;\n        }\n      } else {\n        if (pressedKeys.current.has(\"ArrowUp\")) {\n          sizeChange -= dx;\n        }\n        if (pressedKeys.current.has(\"ArrowDown\")) {\n          sizeChange += dx;\n        }\n      }\n      const firstPaneDims = firstPaneMeasurements.current;\n      const curSize = firstPaneRef.current.getBoundingClientRect()[measurementProp];\n      const newSize = clamp(curSize + sizeChange, firstPaneDims[minDimProp], firstPaneDims[maxDimProp]);\n      const newFlex = newSize / (containerSize.current - handleSize);\n      firstPaneRef.current.style.flexGrow = `${newFlex}`;\n      secondPaneRef.current.style.flexGrow = `${1 - newFlex}`;\n      const ariaValueNow = (newSize - firstPaneDims[minDimProp]) / (firstPaneDims[maxDimProp] - firstPaneDims[minDimProp]) * 100;\n      splitterRef.current.ariaValueNow = `${clamp(ariaValueNow, 0, 100)}`;\n      keysLastHandledAt.current = time;\n      window.requestAnimationFrame(handlePressedKeys);\n    },\n    [direction, handleSize, minDimProp, maxDimProp, measurementProp]\n  );\n  const onKeyDown = useCallback(\n    (e) => {\n      if (e.key === \"Enter\") {\n        if (savedPos.current === void 0) {\n          savedPos.current = firstPaneRef.current.style.flexGrow;\n          firstPaneRef.current.style.flexGrow = \"0\";\n          secondPaneRef.current.style.flexGrow = \"1\";\n        } else {\n          firstPaneRef.current.style.flexGrow = savedPos.current;\n          secondPaneRef.current.style.flexGrow = `${1 - parseFloat(savedPos.current)}`;\n          savedPos.current = void 0;\n        }\n        return;\n      } else if (e.key === \"Home\") {\n        firstPaneMeasurements.current = measureElement(firstPaneRef.current);\n        containerSize.current = containerRef.current.getBoundingClientRect()[measurementProp];\n        const newFlex = firstPaneMeasurements.current[minDimProp] / (containerSize.current - handleSize);\n        firstPaneRef.current.style.flexGrow = `${newFlex}`;\n        secondPaneRef.current.style.flexGrow = `${1 - newFlex}`;\n        splitterRef.current.ariaValueNow = \"0\";\n        return;\n      } else if (e.key === \"End\") {\n        firstPaneMeasurements.current = measureElement(firstPaneRef.current);\n        containerSize.current = containerRef.current.getBoundingClientRect()[measurementProp];\n        const newFlex = firstPaneMeasurements.current[maxDimProp] / (containerSize.current - handleSize);\n        firstPaneRef.current.style.flexGrow = `${newFlex}`;\n        secondPaneRef.current.style.flexGrow = `${1 - newFlex}`;\n        splitterRef.current.ariaValueNow = \"100\";\n        return;\n      }\n      if (!(direction === \"column\" && VERTICAL_KEYS.has(e.key) || direction === \"row\" && HORIZONTAL_KEYS.has(e.key)) || pressedKeys.current.has(e.key)) {\n        return;\n      }\n      savedPos.current = void 0;\n      e.preventDefault();\n      e.stopPropagation();\n      primarySizeRef.current = firstPaneRef.current.getBoundingClientRect()[measurementProp];\n      containerSize.current = containerRef.current.getBoundingClientRect()[measurementProp];\n      firstPaneMeasurements.current = measureElement(firstPaneRef.current);\n      const newKey = !pressedKeys.current.has(e.key);\n      if (newKey) {\n        const initiateAnimationLoop = pressedKeys.current.size === 0;\n        pressedKeys.current.add(e.key);\n        if (initiateAnimationLoop) {\n          window.requestAnimationFrame(handlePressedKeys);\n        }\n      }\n    },\n    [direction, handlePressedKeys, handleSize, maxDimProp, measurementProp, minDimProp]\n  );\n  const onKeyUp = useCallback(\n    (e) => {\n      if (direction === \"row\" && !HORIZONTAL_KEYS.has(e.key) || direction === \"column\" && !VERTICAL_KEYS.has(e.key)) {\n        return;\n      }\n      pressedKeys.current.delete(e.key);\n      onDragFinished == null ? void 0 : onDragFinished(parseFloat(firstPaneRef.current.style.flexGrow));\n    },\n    [direction, onDragFinished]\n  );\n  const onDoubleClick = useCallback(() => {\n    firstPaneRef.current.style.flexGrow = \"0.5\";\n    secondPaneRef.current.style.flexGrow = \"0.5\";\n    const dim = measureElement(firstPaneRef.current);\n    firstPaneMeasurements.current = dim;\n    primarySizeRef.current = firstPaneRef.current.getBoundingClientRect()[measurementProp];\n    splitterRef.current.ariaValueNow = `${(primarySizeRef.current - dim[minDimProp]) / (dim[maxDimProp] - dim[minDimProp]) * 100}`;\n  }, [maxDimProp, measurementProp, minDimProp]);\n  const onBlur = useCallback(() => {\n    if (pressedKeys.current.size > 0) {\n      pressedKeys.current.clear();\n      dragStart.current = null;\n      onDragFinished == null ? void 0 : onDragFinished(parseFloat(firstPaneRef.current.style.flexGrow));\n    }\n  }, [onDragFinished]);\n  const styles = useStyles2(getStyles);\n  const id = useUniqueId();\n  const secondAvailable = kids.length === 2;\n  const visibilitySecond = secondAvailable ? \"visible\" : \"hidden\";\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    ref: containerRef,\n    className: styles.container,\n    style: {\n      flexDirection: direction\n    }\n  }, /* @__PURE__ */ React.createElement(\"div\", {\n    ref: firstPaneRef,\n    className: styles.panel,\n    style: __spreadValues({\n      flexGrow: initialSize === \"auto\" ? 0.5 : clamp(initialSize, 0, 1),\n      [minDimProp]: \"min-content\"\n    }, primaryPaneStyles),\n    id: `start-panel-${id}`\n  }, kids[0]), kids[1] && /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(\"div\", {\n    ref: splitterRef,\n    style: { [measurementProp]: `${handleSize}px` },\n    className: cx(styles.handle, { [styles.handleHorizontal]: direction === \"column\" }),\n    onPointerUp,\n    onPointerDown,\n    onPointerMove,\n    onKeyDown,\n    onKeyUp,\n    onDoubleClick,\n    onBlur,\n    role: \"separator\",\n    \"aria-valuemin\": 0,\n    \"aria-valuemax\": 100,\n    \"aria-valuenow\": 50,\n    \"aria-controls\": `start-panel-${id}`,\n    \"aria-label\": \"Pane resize widget\",\n    tabIndex: 0\n  }), /* @__PURE__ */ React.createElement(\"div\", {\n    ref: secondPaneRef,\n    className: styles.panel,\n    style: __spreadValues({\n      flexGrow: initialSize === \"auto\" ? 0.5 : clamp(1 - initialSize, 0, 1),\n      [minDimProp]: \"min-content\",\n      visibility: `${visibilitySecond}`\n    }, secondaryPaneStyles),\n    id: `end-panel-${id}`\n  }, kids[1])));\n}\nfunction getStyles(theme) {\n  return {\n    handle: css({\n      cursor: \"col-resize\",\n      position: \"relative\",\n      flexShrink: 0,\n      userSelect: \"none\",\n      \"&::before\": {\n        content: '\"\"',\n        position: \"absolute\",\n        backgroundColor: theme.colors.primary.main,\n        left: \"50%\",\n        transform: \"translate(-50%)\",\n        top: 0,\n        height: \"100%\",\n        width: \"1px\",\n        opacity: 0,\n        transition: \"opacity ease-in-out 0.2s\"\n      },\n      \"&::after\": {\n        content: '\"\"',\n        width: \"4px\",\n        borderRadius: \"4px\",\n        backgroundColor: theme.colors.border.weak,\n        transition: \"background-color ease-in-out 0.2s\",\n        height: \"50%\",\n        top: \"calc(50% - (50%) / 2)\",\n        transform: \"translateX(-50%)\",\n        position: \"absolute\",\n        left: \"50%\"\n      },\n      \"&:hover, &:focus-visible\": {\n        outline: \"none\",\n        \"&::before\": {\n          opacity: 1\n        },\n        \"&::after\": {\n          backgroundColor: theme.colors.primary.main\n        }\n      }\n    }),\n    handleHorizontal: css({\n      cursor: \"row-resize\",\n      \"&::before\": {\n        left: \"inherit\",\n        transform: \"translateY(-50%)\",\n        top: \"50%\",\n        height: \"1px\",\n        width: \"100%\"\n      },\n      \"&::after\": {\n        width: \"50%\",\n        height: \"4px\",\n        top: \"50%\",\n        transform: \"translateY(-50%)\",\n        left: \"calc(50% - (50%) / 2)\"\n      }\n    }),\n    container: css({\n      display: \"flex\",\n      width: \"100%\",\n      flexGrow: 1,\n      overflow: \"hidden\"\n    }),\n    panel: css({ display: \"flex\", position: \"relative\", flexBasis: 0 })\n  };\n}\nfunction measureElement(ref) {\n  if (ref === null) {\n    return void 0;\n  }\n  const savedBodyOverflow = document.body.style.overflow;\n  const savedWidth = ref.style.width;\n  const savedHeight = ref.style.height;\n  const savedFlex = ref.style.flexGrow;\n  document.body.style.overflow = \"hidden\";\n  ref.style.flexGrow = \"0\";\n  const { width: minWidth, height: minHeight } = ref.getBoundingClientRect();\n  ref.style.flexGrow = \"100\";\n  const { width: maxWidth, height: maxHeight } = ref.getBoundingClientRect();\n  document.body.style.overflow = savedBodyOverflow;\n  ref.style.width = savedWidth;\n  ref.style.height = savedHeight;\n  ref.style.flexGrow = savedFlex;\n  return { minWidth, maxWidth, minHeight, maxHeight };\n}\nfunction useResizeObserver(target, cb, throttleWait = 0, deps) {\n  const throttledCallback = throttle(cb, throttleWait);\n  useLayoutEffect(() => {\n    if (!target) {\n      return;\n    }\n    const resizeObserver = new ResizeObserver(throttledCallback);\n    resizeObserver.observe(target, { box: \"device-pixel-content-box\" });\n    return () => resizeObserver.disconnect();\n  }, deps);\n}\n\nexport { Splitter };\n//# sourceMappingURL=Splitter.js.map\n","import { SceneObjectBase } from '../../../core/SceneObjectBase.js';\nimport { SplitLayoutRenderer } from './SplitLayoutRenderer.js';\n\nclass SplitLayout extends SceneObjectBase {\n  toggleDirection() {\n    this.setState({\n      direction: this.state.direction === \"row\" ? \"column\" : \"row\"\n    });\n  }\n  isDraggable() {\n    return false;\n  }\n}\nSplitLayout.Component = SplitLayoutRenderer;\n\nexport { SplitLayout };\n//# sourceMappingURL=SplitLayout.js.map\n","import React from 'react';\nimport { Splitter } from './Splitter.js';\n\nfunction SplitLayoutRenderer({ model }) {\n  const { primary, secondary, direction, isHidden, initialSize, primaryPaneStyles, secondaryPaneStyles } = model.useState();\n  if (isHidden) {\n    return null;\n  }\n  const Prim = primary.Component;\n  const Sec = secondary == null ? void 0 : secondary.Component;\n  let startSize = secondary ? initialSize : 1;\n  return /* @__PURE__ */ React.createElement(Splitter, {\n    direction,\n    initialSize: startSize != null ? startSize : 0.5,\n    primaryPaneStyles,\n    secondaryPaneStyles\n  }, /* @__PURE__ */ React.createElement(Prim, {\n    key: primary.state.key,\n    model: primary,\n    parentState: model.state\n  }), Sec && secondary && /* @__PURE__ */ React.createElement(Sec, {\n    key: secondary.state.key,\n    model: secondary,\n    parentState: model.state\n  }));\n}\n\nexport { SplitLayoutRenderer };\n//# sourceMappingURL=SplitLayoutRenderer.js.map\n","/**\n * React Router DOM v6.28.0\n *\n * Copyright (c) Remix Software Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { UNSAFE_mapRouteProperties, UNSAFE_logV6DeprecationWarnings, UNSAFE_DataRouterContext, UNSAFE_DataRouterStateContext, Router, UNSAFE_useRoutesImpl, UNSAFE_NavigationContext, useHref, useResolvedPath, useLocation, useNavigate, createPath, UNSAFE_useRouteId, UNSAFE_RouteContext, useMatches, useNavigation, useBlocker } from 'react-router';\nexport { AbortedDeferredError, Await, MemoryRouter, Navigate, NavigationType, Outlet, Route, Router, Routes, UNSAFE_DataRouterContext, UNSAFE_DataRouterStateContext, UNSAFE_LocationContext, UNSAFE_NavigationContext, UNSAFE_RouteContext, UNSAFE_useRouteId, createMemoryRouter, createPath, createRoutesFromChildren, createRoutesFromElements, defer, generatePath, isRouteErrorResponse, json, matchPath, matchRoutes, parsePath, redirect, redirectDocument, renderMatches, replace, resolvePath, useActionData, useAsyncError, useAsyncValue, useBlocker, useHref, useInRouterContext, useLoaderData, useLocation, useMatch, useMatches, useNavigate, useNavigation, useNavigationType, useOutlet, useOutletContext, useParams, useResolvedPath, useRevalidator, useRouteError, useRouteLoaderData, useRoutes } from 'react-router';\nimport { stripBasename, UNSAFE_warning, createRouter, createBrowserHistory, createHashHistory, UNSAFE_ErrorResponseImpl, UNSAFE_invariant, joinPaths, IDLE_FETCHER, matchPath } from '@remix-run/router';\nexport { UNSAFE_ErrorResponseImpl } from '@remix-run/router';\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\n\nconst defaultMethod = \"get\";\nconst defaultEncType = \"application/x-www-form-urlencoded\";\nfunction isHtmlElement(object) {\n  return object != null && typeof object.tagName === \"string\";\n}\nfunction isButtonElement(object) {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"button\";\n}\nfunction isFormElement(object) {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"form\";\n}\nfunction isInputElement(object) {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"input\";\n}\nfunction isModifiedEvent(event) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n}\nfunction shouldProcessLinkClick(event, target) {\n  return event.button === 0 && (\n  // Ignore everything but left clicks\n  !target || target === \"_self\") &&\n  // Let browser handle \"target=_blank\" etc.\n  !isModifiedEvent(event) // Ignore clicks with modifier keys\n  ;\n}\n/**\n * Creates a URLSearchParams object using the given initializer.\n *\n * This is identical to `new URLSearchParams(init)` except it also\n * supports arrays as values in the object form of the initializer\n * instead of just strings. This is convenient when you need multiple\n * values for a given key, but don't want to use an array initializer.\n *\n * For example, instead of:\n *\n *   let searchParams = new URLSearchParams([\n *     ['sort', 'name'],\n *     ['sort', 'price']\n *   ]);\n *\n * you can do:\n *\n *   let searchParams = createSearchParams({\n *     sort: ['name', 'price']\n *   });\n */\nfunction createSearchParams(init) {\n  if (init === void 0) {\n    init = \"\";\n  }\n  return new URLSearchParams(typeof init === \"string\" || Array.isArray(init) || init instanceof URLSearchParams ? init : Object.keys(init).reduce((memo, key) => {\n    let value = init[key];\n    return memo.concat(Array.isArray(value) ? value.map(v => [key, v]) : [[key, value]]);\n  }, []));\n}\nfunction getSearchParamsForLocation(locationSearch, defaultSearchParams) {\n  let searchParams = createSearchParams(locationSearch);\n  if (defaultSearchParams) {\n    // Use `defaultSearchParams.forEach(...)` here instead of iterating of\n    // `defaultSearchParams.keys()` to work-around a bug in Firefox related to\n    // web extensions. Relevant Bugzilla tickets:\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=1414602\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=1023984\n    defaultSearchParams.forEach((_, key) => {\n      if (!searchParams.has(key)) {\n        defaultSearchParams.getAll(key).forEach(value => {\n          searchParams.append(key, value);\n        });\n      }\n    });\n  }\n  return searchParams;\n}\n// One-time check for submitter support\nlet _formDataSupportsSubmitter = null;\nfunction isFormDataSubmitterSupported() {\n  if (_formDataSupportsSubmitter === null) {\n    try {\n      new FormData(document.createElement(\"form\"),\n      // @ts-expect-error if FormData supports the submitter parameter, this will throw\n      0);\n      _formDataSupportsSubmitter = false;\n    } catch (e) {\n      _formDataSupportsSubmitter = true;\n    }\n  }\n  return _formDataSupportsSubmitter;\n}\nconst supportedFormEncTypes = new Set([\"application/x-www-form-urlencoded\", \"multipart/form-data\", \"text/plain\"]);\nfunction getFormEncType(encType) {\n  if (encType != null && !supportedFormEncTypes.has(encType)) {\n    process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(false, \"\\\"\" + encType + \"\\\" is not a valid `encType` for `<Form>`/`<fetcher.Form>` \" + (\"and will default to \\\"\" + defaultEncType + \"\\\"\")) : void 0;\n    return null;\n  }\n  return encType;\n}\nfunction getFormSubmissionInfo(target, basename) {\n  let method;\n  let action;\n  let encType;\n  let formData;\n  let body;\n  if (isFormElement(target)) {\n    // When grabbing the action from the element, it will have had the basename\n    // prefixed to ensure non-JS scenarios work, so strip it since we'll\n    // re-prefix in the router\n    let attr = target.getAttribute(\"action\");\n    action = attr ? stripBasename(attr, basename) : null;\n    method = target.getAttribute(\"method\") || defaultMethod;\n    encType = getFormEncType(target.getAttribute(\"enctype\")) || defaultEncType;\n    formData = new FormData(target);\n  } else if (isButtonElement(target) || isInputElement(target) && (target.type === \"submit\" || target.type === \"image\")) {\n    let form = target.form;\n    if (form == null) {\n      throw new Error(\"Cannot submit a <button> or <input type=\\\"submit\\\"> without a <form>\");\n    }\n    // <button>/<input type=\"submit\"> may override attributes of <form>\n    // When grabbing the action from the element, it will have had the basename\n    // prefixed to ensure non-JS scenarios work, so strip it since we'll\n    // re-prefix in the router\n    let attr = target.getAttribute(\"formaction\") || form.getAttribute(\"action\");\n    action = attr ? stripBasename(attr, basename) : null;\n    method = target.getAttribute(\"formmethod\") || form.getAttribute(\"method\") || defaultMethod;\n    encType = getFormEncType(target.getAttribute(\"formenctype\")) || getFormEncType(form.getAttribute(\"enctype\")) || defaultEncType;\n    // Build a FormData object populated from a form and submitter\n    formData = new FormData(form, target);\n    // If this browser doesn't support the `FormData(el, submitter)` format,\n    // then tack on the submitter value at the end.  This is a lightweight\n    // solution that is not 100% spec compliant.  For complete support in older\n    // browsers, consider using the `formdata-submitter-polyfill` package\n    if (!isFormDataSubmitterSupported()) {\n      let {\n        name,\n        type,\n        value\n      } = target;\n      if (type === \"image\") {\n        let prefix = name ? name + \".\" : \"\";\n        formData.append(prefix + \"x\", \"0\");\n        formData.append(prefix + \"y\", \"0\");\n      } else if (name) {\n        formData.append(name, value);\n      }\n    }\n  } else if (isHtmlElement(target)) {\n    throw new Error(\"Cannot submit element that is not <form>, <button>, or \" + \"<input type=\\\"submit|image\\\">\");\n  } else {\n    method = defaultMethod;\n    action = null;\n    encType = defaultEncType;\n    body = target;\n  }\n  // Send body for <Form encType=\"text/plain\" so we encode it into text\n  if (formData && encType === \"text/plain\") {\n    body = formData;\n    formData = undefined;\n  }\n  return {\n    action,\n    method: method.toLowerCase(),\n    encType,\n    formData,\n    body\n  };\n}\n\nconst _excluded = [\"onClick\", \"relative\", \"reloadDocument\", \"replace\", \"state\", \"target\", \"to\", \"preventScrollReset\", \"viewTransition\"],\n  _excluded2 = [\"aria-current\", \"caseSensitive\", \"className\", \"end\", \"style\", \"to\", \"viewTransition\", \"children\"],\n  _excluded3 = [\"fetcherKey\", \"navigate\", \"reloadDocument\", \"replace\", \"state\", \"method\", \"action\", \"onSubmit\", \"relative\", \"preventScrollReset\", \"viewTransition\"];\n// HEY YOU! DON'T TOUCH THIS VARIABLE!\n//\n// It is replaced with the proper version at build time via a babel plugin in\n// the rollup config.\n//\n// Export a global property onto the window for React Router detection by the\n// Core Web Vitals Technology Report.  This way they can configure the `wappalyzer`\n// to detect and properly classify live websites as being built with React Router:\n// https://github.com/HTTPArchive/wappalyzer/blob/main/src/technologies/r.json\nconst REACT_ROUTER_VERSION = \"6\";\ntry {\n  window.__reactRouterVersion = REACT_ROUTER_VERSION;\n} catch (e) {\n  // no-op\n}\nfunction createBrowserRouter(routes, opts) {\n  return createRouter({\n    basename: opts == null ? void 0 : opts.basename,\n    future: _extends({}, opts == null ? void 0 : opts.future, {\n      v7_prependBasename: true\n    }),\n    history: createBrowserHistory({\n      window: opts == null ? void 0 : opts.window\n    }),\n    hydrationData: (opts == null ? void 0 : opts.hydrationData) || parseHydrationData(),\n    routes,\n    mapRouteProperties: UNSAFE_mapRouteProperties,\n    dataStrategy: opts == null ? void 0 : opts.dataStrategy,\n    patchRoutesOnNavigation: opts == null ? void 0 : opts.patchRoutesOnNavigation,\n    window: opts == null ? void 0 : opts.window\n  }).initialize();\n}\nfunction createHashRouter(routes, opts) {\n  return createRouter({\n    basename: opts == null ? void 0 : opts.basename,\n    future: _extends({}, opts == null ? void 0 : opts.future, {\n      v7_prependBasename: true\n    }),\n    history: createHashHistory({\n      window: opts == null ? void 0 : opts.window\n    }),\n    hydrationData: (opts == null ? void 0 : opts.hydrationData) || parseHydrationData(),\n    routes,\n    mapRouteProperties: UNSAFE_mapRouteProperties,\n    dataStrategy: opts == null ? void 0 : opts.dataStrategy,\n    patchRoutesOnNavigation: opts == null ? void 0 : opts.patchRoutesOnNavigation,\n    window: opts == null ? void 0 : opts.window\n  }).initialize();\n}\nfunction parseHydrationData() {\n  var _window;\n  let state = (_window = window) == null ? void 0 : _window.__staticRouterHydrationData;\n  if (state && state.errors) {\n    state = _extends({}, state, {\n      errors: deserializeErrors(state.errors)\n    });\n  }\n  return state;\n}\nfunction deserializeErrors(errors) {\n  if (!errors) return null;\n  let entries = Object.entries(errors);\n  let serialized = {};\n  for (let [key, val] of entries) {\n    // Hey you!  If you change this, please change the corresponding logic in\n    // serializeErrors in react-router-dom/server.tsx :)\n    if (val && val.__type === \"RouteErrorResponse\") {\n      serialized[key] = new UNSAFE_ErrorResponseImpl(val.status, val.statusText, val.data, val.internal === true);\n    } else if (val && val.__type === \"Error\") {\n      // Attempt to reconstruct the right type of Error (i.e., ReferenceError)\n      if (val.__subType) {\n        let ErrorConstructor = window[val.__subType];\n        if (typeof ErrorConstructor === \"function\") {\n          try {\n            // @ts-expect-error\n            let error = new ErrorConstructor(val.message);\n            // Wipe away the client-side stack trace.  Nothing to fill it in with\n            // because we don't serialize SSR stack traces for security reasons\n            error.stack = \"\";\n            serialized[key] = error;\n          } catch (e) {\n            // no-op - fall through and create a normal Error\n          }\n        }\n      }\n      if (serialized[key] == null) {\n        let error = new Error(val.message);\n        // Wipe away the client-side stack trace.  Nothing to fill it in with\n        // because we don't serialize SSR stack traces for security reasons\n        error.stack = \"\";\n        serialized[key] = error;\n      }\n    } else {\n      serialized[key] = val;\n    }\n  }\n  return serialized;\n}\nconst ViewTransitionContext = /*#__PURE__*/React.createContext({\n  isTransitioning: false\n});\nif (process.env.NODE_ENV !== \"production\") {\n  ViewTransitionContext.displayName = \"ViewTransition\";\n}\nconst FetchersContext = /*#__PURE__*/React.createContext(new Map());\nif (process.env.NODE_ENV !== \"production\") {\n  FetchersContext.displayName = \"Fetchers\";\n}\n//#endregion\n////////////////////////////////////////////////////////////////////////////////\n//#region Components\n////////////////////////////////////////////////////////////////////////////////\n/**\n  Webpack + React 17 fails to compile on any of the following because webpack\n  complains that `startTransition` doesn't exist in `React`:\n  * import { startTransition } from \"react\"\n  * import * as React from from \"react\";\n    \"startTransition\" in React ? React.startTransition(() => setState()) : setState()\n  * import * as React from from \"react\";\n    \"startTransition\" in React ? React[\"startTransition\"](() => setState()) : setState()\n\n  Moving it to a constant such as the following solves the Webpack/React 17 issue:\n  * import * as React from from \"react\";\n    const START_TRANSITION = \"startTransition\";\n    START_TRANSITION in React ? React[START_TRANSITION](() => setState()) : setState()\n\n  However, that introduces webpack/terser minification issues in production builds\n  in React 18 where minification/obfuscation ends up removing the call of\n  React.startTransition entirely from the first half of the ternary.  Grabbing\n  this exported reference once up front resolves that issue.\n\n  See https://github.com/remix-run/react-router/issues/10579\n*/\nconst START_TRANSITION = \"startTransition\";\nconst startTransitionImpl = React[START_TRANSITION];\nconst FLUSH_SYNC = \"flushSync\";\nconst flushSyncImpl = ReactDOM[FLUSH_SYNC];\nconst USE_ID = \"useId\";\nconst useIdImpl = React[USE_ID];\nfunction startTransitionSafe(cb) {\n  if (startTransitionImpl) {\n    startTransitionImpl(cb);\n  } else {\n    cb();\n  }\n}\nfunction flushSyncSafe(cb) {\n  if (flushSyncImpl) {\n    flushSyncImpl(cb);\n  } else {\n    cb();\n  }\n}\nclass Deferred {\n  constructor() {\n    this.status = \"pending\";\n    this.promise = new Promise((resolve, reject) => {\n      this.resolve = value => {\n        if (this.status === \"pending\") {\n          this.status = \"resolved\";\n          resolve(value);\n        }\n      };\n      this.reject = reason => {\n        if (this.status === \"pending\") {\n          this.status = \"rejected\";\n          reject(reason);\n        }\n      };\n    });\n  }\n}\n/**\n * Given a Remix Router instance, render the appropriate UI\n */\nfunction RouterProvider(_ref) {\n  let {\n    fallbackElement,\n    router,\n    future\n  } = _ref;\n  let [state, setStateImpl] = React.useState(router.state);\n  let [pendingState, setPendingState] = React.useState();\n  let [vtContext, setVtContext] = React.useState({\n    isTransitioning: false\n  });\n  let [renderDfd, setRenderDfd] = React.useState();\n  let [transition, setTransition] = React.useState();\n  let [interruption, setInterruption] = React.useState();\n  let fetcherData = React.useRef(new Map());\n  let {\n    v7_startTransition\n  } = future || {};\n  let optInStartTransition = React.useCallback(cb => {\n    if (v7_startTransition) {\n      startTransitionSafe(cb);\n    } else {\n      cb();\n    }\n  }, [v7_startTransition]);\n  let setState = React.useCallback((newState, _ref2) => {\n    let {\n      deletedFetchers,\n      flushSync: flushSync,\n      viewTransitionOpts: viewTransitionOpts\n    } = _ref2;\n    deletedFetchers.forEach(key => fetcherData.current.delete(key));\n    newState.fetchers.forEach((fetcher, key) => {\n      if (fetcher.data !== undefined) {\n        fetcherData.current.set(key, fetcher.data);\n      }\n    });\n    let isViewTransitionUnavailable = router.window == null || router.window.document == null || typeof router.window.document.startViewTransition !== \"function\";\n    // If this isn't a view transition or it's not available in this browser,\n    // just update and be done with it\n    if (!viewTransitionOpts || isViewTransitionUnavailable) {\n      if (flushSync) {\n        flushSyncSafe(() => setStateImpl(newState));\n      } else {\n        optInStartTransition(() => setStateImpl(newState));\n      }\n      return;\n    }\n    // flushSync + startViewTransition\n    if (flushSync) {\n      // Flush through the context to mark DOM elements as transition=ing\n      flushSyncSafe(() => {\n        // Cancel any pending transitions\n        if (transition) {\n          renderDfd && renderDfd.resolve();\n          transition.skipTransition();\n        }\n        setVtContext({\n          isTransitioning: true,\n          flushSync: true,\n          currentLocation: viewTransitionOpts.currentLocation,\n          nextLocation: viewTransitionOpts.nextLocation\n        });\n      });\n      // Update the DOM\n      let t = router.window.document.startViewTransition(() => {\n        flushSyncSafe(() => setStateImpl(newState));\n      });\n      // Clean up after the animation completes\n      t.finished.finally(() => {\n        flushSyncSafe(() => {\n          setRenderDfd(undefined);\n          setTransition(undefined);\n          setPendingState(undefined);\n          setVtContext({\n            isTransitioning: false\n          });\n        });\n      });\n      flushSyncSafe(() => setTransition(t));\n      return;\n    }\n    // startTransition + startViewTransition\n    if (transition) {\n      // Interrupting an in-progress transition, cancel and let everything flush\n      // out, and then kick off a new transition from the interruption state\n      renderDfd && renderDfd.resolve();\n      transition.skipTransition();\n      setInterruption({\n        state: newState,\n        currentLocation: viewTransitionOpts.currentLocation,\n        nextLocation: viewTransitionOpts.nextLocation\n      });\n    } else {\n      // Completed navigation update with opted-in view transitions, let 'er rip\n      setPendingState(newState);\n      setVtContext({\n        isTransitioning: true,\n        flushSync: false,\n        currentLocation: viewTransitionOpts.currentLocation,\n        nextLocation: viewTransitionOpts.nextLocation\n      });\n    }\n  }, [router.window, transition, renderDfd, fetcherData, optInStartTransition]);\n  // Need to use a layout effect here so we are subscribed early enough to\n  // pick up on any render-driven redirects/navigations (useEffect/<Navigate>)\n  React.useLayoutEffect(() => router.subscribe(setState), [router, setState]);\n  // When we start a view transition, create a Deferred we can use for the\n  // eventual \"completed\" render\n  React.useEffect(() => {\n    if (vtContext.isTransitioning && !vtContext.flushSync) {\n      setRenderDfd(new Deferred());\n    }\n  }, [vtContext]);\n  // Once the deferred is created, kick off startViewTransition() to update the\n  // DOM and then wait on the Deferred to resolve (indicating the DOM update has\n  // happened)\n  React.useEffect(() => {\n    if (renderDfd && pendingState && router.window) {\n      let newState = pendingState;\n      let renderPromise = renderDfd.promise;\n      let transition = router.window.document.startViewTransition(async () => {\n        optInStartTransition(() => setStateImpl(newState));\n        await renderPromise;\n      });\n      transition.finished.finally(() => {\n        setRenderDfd(undefined);\n        setTransition(undefined);\n        setPendingState(undefined);\n        setVtContext({\n          isTransitioning: false\n        });\n      });\n      setTransition(transition);\n    }\n  }, [optInStartTransition, pendingState, renderDfd, router.window]);\n  // When the new location finally renders and is committed to the DOM, this\n  // effect will run to resolve the transition\n  React.useEffect(() => {\n    if (renderDfd && pendingState && state.location.key === pendingState.location.key) {\n      renderDfd.resolve();\n    }\n  }, [renderDfd, transition, state.location, pendingState]);\n  // If we get interrupted with a new navigation during a transition, we skip\n  // the active transition, let it cleanup, then kick it off again here\n  React.useEffect(() => {\n    if (!vtContext.isTransitioning && interruption) {\n      setPendingState(interruption.state);\n      setVtContext({\n        isTransitioning: true,\n        flushSync: false,\n        currentLocation: interruption.currentLocation,\n        nextLocation: interruption.nextLocation\n      });\n      setInterruption(undefined);\n    }\n  }, [vtContext.isTransitioning, interruption]);\n  React.useEffect(() => {\n    process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(fallbackElement == null || !router.future.v7_partialHydration, \"`<RouterProvider fallbackElement>` is deprecated when using \" + \"`v7_partialHydration`, use a `HydrateFallback` component instead\") : void 0;\n    // Only log this once on initial mount\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  let navigator = React.useMemo(() => {\n    return {\n      createHref: router.createHref,\n      encodeLocation: router.encodeLocation,\n      go: n => router.navigate(n),\n      push: (to, state, opts) => router.navigate(to, {\n        state,\n        preventScrollReset: opts == null ? void 0 : opts.preventScrollReset\n      }),\n      replace: (to, state, opts) => router.navigate(to, {\n        replace: true,\n        state,\n        preventScrollReset: opts == null ? void 0 : opts.preventScrollReset\n      })\n    };\n  }, [router]);\n  let basename = router.basename || \"/\";\n  let dataRouterContext = React.useMemo(() => ({\n    router,\n    navigator,\n    static: false,\n    basename\n  }), [router, navigator, basename]);\n  let routerFuture = React.useMemo(() => ({\n    v7_relativeSplatPath: router.future.v7_relativeSplatPath\n  }), [router.future.v7_relativeSplatPath]);\n  React.useEffect(() => UNSAFE_logV6DeprecationWarnings(future, router.future), [future, router.future]);\n  // The fragment and {null} here are important!  We need them to keep React 18's\n  // useId happy when we are server-rendering since we may have a <script> here\n  // containing the hydrated server-side staticContext (from StaticRouterProvider).\n  // useId relies on the component tree structure to generate deterministic id's\n  // so we need to ensure it remains the same on the client even though\n  // we don't need the <script> tag\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(UNSAFE_DataRouterContext.Provider, {\n    value: dataRouterContext\n  }, /*#__PURE__*/React.createElement(UNSAFE_DataRouterStateContext.Provider, {\n    value: state\n  }, /*#__PURE__*/React.createElement(FetchersContext.Provider, {\n    value: fetcherData.current\n  }, /*#__PURE__*/React.createElement(ViewTransitionContext.Provider, {\n    value: vtContext\n  }, /*#__PURE__*/React.createElement(Router, {\n    basename: basename,\n    location: state.location,\n    navigationType: state.historyAction,\n    navigator: navigator,\n    future: routerFuture\n  }, state.initialized || router.future.v7_partialHydration ? /*#__PURE__*/React.createElement(MemoizedDataRoutes, {\n    routes: router.routes,\n    future: router.future,\n    state: state\n  }) : fallbackElement))))), null);\n}\n// Memoize to avoid re-renders when updating `ViewTransitionContext`\nconst MemoizedDataRoutes = /*#__PURE__*/React.memo(DataRoutes);\nfunction DataRoutes(_ref3) {\n  let {\n    routes,\n    future,\n    state\n  } = _ref3;\n  return UNSAFE_useRoutesImpl(routes, undefined, state, future);\n}\n/**\n * A `<Router>` for use in web browsers. Provides the cleanest URLs.\n */\nfunction BrowserRouter(_ref4) {\n  let {\n    basename,\n    children,\n    future,\n    window\n  } = _ref4;\n  let historyRef = React.useRef();\n  if (historyRef.current == null) {\n    historyRef.current = createBrowserHistory({\n      window,\n      v5Compat: true\n    });\n  }\n  let history = historyRef.current;\n  let [state, setStateImpl] = React.useState({\n    action: history.action,\n    location: history.location\n  });\n  let {\n    v7_startTransition\n  } = future || {};\n  let setState = React.useCallback(newState => {\n    v7_startTransition && startTransitionImpl ? startTransitionImpl(() => setStateImpl(newState)) : setStateImpl(newState);\n  }, [setStateImpl, v7_startTransition]);\n  React.useLayoutEffect(() => history.listen(setState), [history, setState]);\n  React.useEffect(() => UNSAFE_logV6DeprecationWarnings(future), [future]);\n  return /*#__PURE__*/React.createElement(Router, {\n    basename: basename,\n    children: children,\n    location: state.location,\n    navigationType: state.action,\n    navigator: history,\n    future: future\n  });\n}\n/**\n * A `<Router>` for use in web browsers. Stores the location in the hash\n * portion of the URL so it is not sent to the server.\n */\nfunction HashRouter(_ref5) {\n  let {\n    basename,\n    children,\n    future,\n    window\n  } = _ref5;\n  let historyRef = React.useRef();\n  if (historyRef.current == null) {\n    historyRef.current = createHashHistory({\n      window,\n      v5Compat: true\n    });\n  }\n  let history = historyRef.current;\n  let [state, setStateImpl] = React.useState({\n    action: history.action,\n    location: history.location\n  });\n  let {\n    v7_startTransition\n  } = future || {};\n  let setState = React.useCallback(newState => {\n    v7_startTransition && startTransitionImpl ? startTransitionImpl(() => setStateImpl(newState)) : setStateImpl(newState);\n  }, [setStateImpl, v7_startTransition]);\n  React.useLayoutEffect(() => history.listen(setState), [history, setState]);\n  React.useEffect(() => UNSAFE_logV6DeprecationWarnings(future), [future]);\n  return /*#__PURE__*/React.createElement(Router, {\n    basename: basename,\n    children: children,\n    location: state.location,\n    navigationType: state.action,\n    navigator: history,\n    future: future\n  });\n}\n/**\n * A `<Router>` that accepts a pre-instantiated history object. It's important\n * to note that using your own history object is highly discouraged and may add\n * two versions of the history library to your bundles unless you use the same\n * version of the history library that React Router uses internally.\n */\nfunction HistoryRouter(_ref6) {\n  let {\n    basename,\n    children,\n    future,\n    history\n  } = _ref6;\n  let [state, setStateImpl] = React.useState({\n    action: history.action,\n    location: history.location\n  });\n  let {\n    v7_startTransition\n  } = future || {};\n  let setState = React.useCallback(newState => {\n    v7_startTransition && startTransitionImpl ? startTransitionImpl(() => setStateImpl(newState)) : setStateImpl(newState);\n  }, [setStateImpl, v7_startTransition]);\n  React.useLayoutEffect(() => history.listen(setState), [history, setState]);\n  React.useEffect(() => UNSAFE_logV6DeprecationWarnings(future), [future]);\n  return /*#__PURE__*/React.createElement(Router, {\n    basename: basename,\n    children: children,\n    location: state.location,\n    navigationType: state.action,\n    navigator: history,\n    future: future\n  });\n}\nif (process.env.NODE_ENV !== \"production\") {\n  HistoryRouter.displayName = \"unstable_HistoryRouter\";\n}\nconst isBrowser = typeof window !== \"undefined\" && typeof window.document !== \"undefined\" && typeof window.document.createElement !== \"undefined\";\nconst ABSOLUTE_URL_REGEX = /^(?:[a-z][a-z0-9+.-]*:|\\/\\/)/i;\n/**\n * The public API for rendering a history-aware `<a>`.\n */\nconst Link = /*#__PURE__*/React.forwardRef(function LinkWithRef(_ref7, ref) {\n  let {\n      onClick,\n      relative,\n      reloadDocument,\n      replace,\n      state,\n      target,\n      to,\n      preventScrollReset,\n      viewTransition\n    } = _ref7,\n    rest = _objectWithoutPropertiesLoose(_ref7, _excluded);\n  let {\n    basename\n  } = React.useContext(UNSAFE_NavigationContext);\n  // Rendered into <a href> for absolute URLs\n  let absoluteHref;\n  let isExternal = false;\n  if (typeof to === \"string\" && ABSOLUTE_URL_REGEX.test(to)) {\n    // Render the absolute href server- and client-side\n    absoluteHref = to;\n    // Only check for external origins client-side\n    if (isBrowser) {\n      try {\n        let currentUrl = new URL(window.location.href);\n        let targetUrl = to.startsWith(\"//\") ? new URL(currentUrl.protocol + to) : new URL(to);\n        let path = stripBasename(targetUrl.pathname, basename);\n        if (targetUrl.origin === currentUrl.origin && path != null) {\n          // Strip the protocol/origin/basename for same-origin absolute URLs\n          to = path + targetUrl.search + targetUrl.hash;\n        } else {\n          isExternal = true;\n        }\n      } catch (e) {\n        // We can't do external URL detection without a valid URL\n        process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(false, \"<Link to=\\\"\" + to + \"\\\"> contains an invalid URL which will probably break \" + \"when clicked - please update to a valid URL path.\") : void 0;\n      }\n    }\n  }\n  // Rendered into <a href> for relative URLs\n  let href = useHref(to, {\n    relative\n  });\n  let internalOnClick = useLinkClickHandler(to, {\n    replace,\n    state,\n    target,\n    preventScrollReset,\n    relative,\n    viewTransition\n  });\n  function handleClick(event) {\n    if (onClick) onClick(event);\n    if (!event.defaultPrevented) {\n      internalOnClick(event);\n    }\n  }\n  return (\n    /*#__PURE__*/\n    // eslint-disable-next-line jsx-a11y/anchor-has-content\n    React.createElement(\"a\", _extends({}, rest, {\n      href: absoluteHref || href,\n      onClick: isExternal || reloadDocument ? onClick : handleClick,\n      ref: ref,\n      target: target\n    }))\n  );\n});\nif (process.env.NODE_ENV !== \"production\") {\n  Link.displayName = \"Link\";\n}\n/**\n * A `<Link>` wrapper that knows if it's \"active\" or not.\n */\nconst NavLink = /*#__PURE__*/React.forwardRef(function NavLinkWithRef(_ref8, ref) {\n  let {\n      \"aria-current\": ariaCurrentProp = \"page\",\n      caseSensitive = false,\n      className: classNameProp = \"\",\n      end = false,\n      style: styleProp,\n      to,\n      viewTransition,\n      children\n    } = _ref8,\n    rest = _objectWithoutPropertiesLoose(_ref8, _excluded2);\n  let path = useResolvedPath(to, {\n    relative: rest.relative\n  });\n  let location = useLocation();\n  let routerState = React.useContext(UNSAFE_DataRouterStateContext);\n  let {\n    navigator,\n    basename\n  } = React.useContext(UNSAFE_NavigationContext);\n  let isTransitioning = routerState != null &&\n  // Conditional usage is OK here because the usage of a data router is static\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  useViewTransitionState(path) && viewTransition === true;\n  let toPathname = navigator.encodeLocation ? navigator.encodeLocation(path).pathname : path.pathname;\n  let locationPathname = location.pathname;\n  let nextLocationPathname = routerState && routerState.navigation && routerState.navigation.location ? routerState.navigation.location.pathname : null;\n  if (!caseSensitive) {\n    locationPathname = locationPathname.toLowerCase();\n    nextLocationPathname = nextLocationPathname ? nextLocationPathname.toLowerCase() : null;\n    toPathname = toPathname.toLowerCase();\n  }\n  if (nextLocationPathname && basename) {\n    nextLocationPathname = stripBasename(nextLocationPathname, basename) || nextLocationPathname;\n  }\n  // If the `to` has a trailing slash, look at that exact spot.  Otherwise,\n  // we're looking for a slash _after_ what's in `to`.  For example:\n  //\n  // <NavLink to=\"/users\"> and <NavLink to=\"/users/\">\n  // both want to look for a / at index 6 to match URL `/users/matt`\n  const endSlashPosition = toPathname !== \"/\" && toPathname.endsWith(\"/\") ? toPathname.length - 1 : toPathname.length;\n  let isActive = locationPathname === toPathname || !end && locationPathname.startsWith(toPathname) && locationPathname.charAt(endSlashPosition) === \"/\";\n  let isPending = nextLocationPathname != null && (nextLocationPathname === toPathname || !end && nextLocationPathname.startsWith(toPathname) && nextLocationPathname.charAt(toPathname.length) === \"/\");\n  let renderProps = {\n    isActive,\n    isPending,\n    isTransitioning\n  };\n  let ariaCurrent = isActive ? ariaCurrentProp : undefined;\n  let className;\n  if (typeof classNameProp === \"function\") {\n    className = classNameProp(renderProps);\n  } else {\n    // If the className prop is not a function, we use a default `active`\n    // class for <NavLink />s that are active. In v5 `active` was the default\n    // value for `activeClassName`, but we are removing that API and can still\n    // use the old default behavior for a cleaner upgrade path and keep the\n    // simple styling rules working as they currently do.\n    className = [classNameProp, isActive ? \"active\" : null, isPending ? \"pending\" : null, isTransitioning ? \"transitioning\" : null].filter(Boolean).join(\" \");\n  }\n  let style = typeof styleProp === \"function\" ? styleProp(renderProps) : styleProp;\n  return /*#__PURE__*/React.createElement(Link, _extends({}, rest, {\n    \"aria-current\": ariaCurrent,\n    className: className,\n    ref: ref,\n    style: style,\n    to: to,\n    viewTransition: viewTransition\n  }), typeof children === \"function\" ? children(renderProps) : children);\n});\nif (process.env.NODE_ENV !== \"production\") {\n  NavLink.displayName = \"NavLink\";\n}\n/**\n * A `@remix-run/router`-aware `<form>`. It behaves like a normal form except\n * that the interaction with the server is with `fetch` instead of new document\n * requests, allowing components to add nicer UX to the page as the form is\n * submitted and returns with data.\n */\nconst Form = /*#__PURE__*/React.forwardRef((_ref9, forwardedRef) => {\n  let {\n      fetcherKey,\n      navigate,\n      reloadDocument,\n      replace,\n      state,\n      method = defaultMethod,\n      action,\n      onSubmit,\n      relative,\n      preventScrollReset,\n      viewTransition\n    } = _ref9,\n    props = _objectWithoutPropertiesLoose(_ref9, _excluded3);\n  let submit = useSubmit();\n  let formAction = useFormAction(action, {\n    relative\n  });\n  let formMethod = method.toLowerCase() === \"get\" ? \"get\" : \"post\";\n  let submitHandler = event => {\n    onSubmit && onSubmit(event);\n    if (event.defaultPrevented) return;\n    event.preventDefault();\n    let submitter = event.nativeEvent.submitter;\n    let submitMethod = (submitter == null ? void 0 : submitter.getAttribute(\"formmethod\")) || method;\n    submit(submitter || event.currentTarget, {\n      fetcherKey,\n      method: submitMethod,\n      navigate,\n      replace,\n      state,\n      relative,\n      preventScrollReset,\n      viewTransition\n    });\n  };\n  return /*#__PURE__*/React.createElement(\"form\", _extends({\n    ref: forwardedRef,\n    method: formMethod,\n    action: formAction,\n    onSubmit: reloadDocument ? onSubmit : submitHandler\n  }, props));\n});\nif (process.env.NODE_ENV !== \"production\") {\n  Form.displayName = \"Form\";\n}\n/**\n * This component will emulate the browser's scroll restoration on location\n * changes.\n */\nfunction ScrollRestoration(_ref10) {\n  let {\n    getKey,\n    storageKey\n  } = _ref10;\n  useScrollRestoration({\n    getKey,\n    storageKey\n  });\n  return null;\n}\nif (process.env.NODE_ENV !== \"production\") {\n  ScrollRestoration.displayName = \"ScrollRestoration\";\n}\n//#endregion\n////////////////////////////////////////////////////////////////////////////////\n//#region Hooks\n////////////////////////////////////////////////////////////////////////////////\nvar DataRouterHook;\n(function (DataRouterHook) {\n  DataRouterHook[\"UseScrollRestoration\"] = \"useScrollRestoration\";\n  DataRouterHook[\"UseSubmit\"] = \"useSubmit\";\n  DataRouterHook[\"UseSubmitFetcher\"] = \"useSubmitFetcher\";\n  DataRouterHook[\"UseFetcher\"] = \"useFetcher\";\n  DataRouterHook[\"useViewTransitionState\"] = \"useViewTransitionState\";\n})(DataRouterHook || (DataRouterHook = {}));\nvar DataRouterStateHook;\n(function (DataRouterStateHook) {\n  DataRouterStateHook[\"UseFetcher\"] = \"useFetcher\";\n  DataRouterStateHook[\"UseFetchers\"] = \"useFetchers\";\n  DataRouterStateHook[\"UseScrollRestoration\"] = \"useScrollRestoration\";\n})(DataRouterStateHook || (DataRouterStateHook = {}));\n// Internal hooks\nfunction getDataRouterConsoleError(hookName) {\n  return hookName + \" must be used within a data router.  See https://reactrouter.com/v6/routers/picking-a-router.\";\n}\nfunction useDataRouterContext(hookName) {\n  let ctx = React.useContext(UNSAFE_DataRouterContext);\n  !ctx ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, getDataRouterConsoleError(hookName)) : UNSAFE_invariant(false) : void 0;\n  return ctx;\n}\nfunction useDataRouterState(hookName) {\n  let state = React.useContext(UNSAFE_DataRouterStateContext);\n  !state ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, getDataRouterConsoleError(hookName)) : UNSAFE_invariant(false) : void 0;\n  return state;\n}\n// External hooks\n/**\n * Handles the click behavior for router `<Link>` components. This is useful if\n * you need to create custom `<Link>` components with the same click behavior we\n * use in our exported `<Link>`.\n */\nfunction useLinkClickHandler(to, _temp) {\n  let {\n    target,\n    replace: replaceProp,\n    state,\n    preventScrollReset,\n    relative,\n    viewTransition\n  } = _temp === void 0 ? {} : _temp;\n  let navigate = useNavigate();\n  let location = useLocation();\n  let path = useResolvedPath(to, {\n    relative\n  });\n  return React.useCallback(event => {\n    if (shouldProcessLinkClick(event, target)) {\n      event.preventDefault();\n      // If the URL hasn't changed, a regular <a> will do a replace instead of\n      // a push, so do the same here unless the replace prop is explicitly set\n      let replace = replaceProp !== undefined ? replaceProp : createPath(location) === createPath(path);\n      navigate(to, {\n        replace,\n        state,\n        preventScrollReset,\n        relative,\n        viewTransition\n      });\n    }\n  }, [location, navigate, path, replaceProp, state, target, to, preventScrollReset, relative, viewTransition]);\n}\n/**\n * A convenient wrapper for reading and writing search parameters via the\n * URLSearchParams interface.\n */\nfunction useSearchParams(defaultInit) {\n  process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(typeof URLSearchParams !== \"undefined\", \"You cannot use the `useSearchParams` hook in a browser that does not \" + \"support the URLSearchParams API. If you need to support Internet \" + \"Explorer 11, we recommend you load a polyfill such as \" + \"https://github.com/ungap/url-search-params.\") : void 0;\n  let defaultSearchParamsRef = React.useRef(createSearchParams(defaultInit));\n  let hasSetSearchParamsRef = React.useRef(false);\n  let location = useLocation();\n  let searchParams = React.useMemo(() =>\n  // Only merge in the defaults if we haven't yet called setSearchParams.\n  // Once we call that we want those to take precedence, otherwise you can't\n  // remove a param with setSearchParams({}) if it has an initial value\n  getSearchParamsForLocation(location.search, hasSetSearchParamsRef.current ? null : defaultSearchParamsRef.current), [location.search]);\n  let navigate = useNavigate();\n  let setSearchParams = React.useCallback((nextInit, navigateOptions) => {\n    const newSearchParams = createSearchParams(typeof nextInit === \"function\" ? nextInit(searchParams) : nextInit);\n    hasSetSearchParamsRef.current = true;\n    navigate(\"?\" + newSearchParams, navigateOptions);\n  }, [navigate, searchParams]);\n  return [searchParams, setSearchParams];\n}\nfunction validateClientSideSubmission() {\n  if (typeof document === \"undefined\") {\n    throw new Error(\"You are calling submit during the server render. \" + \"Try calling submit within a `useEffect` or callback instead.\");\n  }\n}\nlet fetcherId = 0;\nlet getUniqueFetcherId = () => \"__\" + String(++fetcherId) + \"__\";\n/**\n * Returns a function that may be used to programmatically submit a form (or\n * some arbitrary data) to the server.\n */\nfunction useSubmit() {\n  let {\n    router\n  } = useDataRouterContext(DataRouterHook.UseSubmit);\n  let {\n    basename\n  } = React.useContext(UNSAFE_NavigationContext);\n  let currentRouteId = UNSAFE_useRouteId();\n  return React.useCallback(function (target, options) {\n    if (options === void 0) {\n      options = {};\n    }\n    validateClientSideSubmission();\n    let {\n      action,\n      method,\n      encType,\n      formData,\n      body\n    } = getFormSubmissionInfo(target, basename);\n    if (options.navigate === false) {\n      let key = options.fetcherKey || getUniqueFetcherId();\n      router.fetch(key, currentRouteId, options.action || action, {\n        preventScrollReset: options.preventScrollReset,\n        formData,\n        body,\n        formMethod: options.method || method,\n        formEncType: options.encType || encType,\n        flushSync: options.flushSync\n      });\n    } else {\n      router.navigate(options.action || action, {\n        preventScrollReset: options.preventScrollReset,\n        formData,\n        body,\n        formMethod: options.method || method,\n        formEncType: options.encType || encType,\n        replace: options.replace,\n        state: options.state,\n        fromRouteId: currentRouteId,\n        flushSync: options.flushSync,\n        viewTransition: options.viewTransition\n      });\n    }\n  }, [router, basename, currentRouteId]);\n}\n// v7: Eventually we should deprecate this entirely in favor of using the\n// router method directly?\nfunction useFormAction(action, _temp2) {\n  let {\n    relative\n  } = _temp2 === void 0 ? {} : _temp2;\n  let {\n    basename\n  } = React.useContext(UNSAFE_NavigationContext);\n  let routeContext = React.useContext(UNSAFE_RouteContext);\n  !routeContext ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"useFormAction must be used inside a RouteContext\") : UNSAFE_invariant(false) : void 0;\n  let [match] = routeContext.matches.slice(-1);\n  // Shallow clone path so we can modify it below, otherwise we modify the\n  // object referenced by useMemo inside useResolvedPath\n  let path = _extends({}, useResolvedPath(action ? action : \".\", {\n    relative\n  }));\n  // If no action was specified, browsers will persist current search params\n  // when determining the path, so match that behavior\n  // https://github.com/remix-run/remix/issues/927\n  let location = useLocation();\n  if (action == null) {\n    // Safe to write to this directly here since if action was undefined, we\n    // would have called useResolvedPath(\".\") which will never include a search\n    path.search = location.search;\n    // When grabbing search params from the URL, remove any included ?index param\n    // since it might not apply to our contextual route.  We add it back based\n    // on match.route.index below\n    let params = new URLSearchParams(path.search);\n    let indexValues = params.getAll(\"index\");\n    let hasNakedIndexParam = indexValues.some(v => v === \"\");\n    if (hasNakedIndexParam) {\n      params.delete(\"index\");\n      indexValues.filter(v => v).forEach(v => params.append(\"index\", v));\n      let qs = params.toString();\n      path.search = qs ? \"?\" + qs : \"\";\n    }\n  }\n  if ((!action || action === \".\") && match.route.index) {\n    path.search = path.search ? path.search.replace(/^\\?/, \"?index&\") : \"?index\";\n  }\n  // If we're operating within a basename, prepend it to the pathname prior\n  // to creating the form action.  If this is a root navigation, then just use\n  // the raw basename which allows the basename to have full control over the\n  // presence of a trailing slash on root actions\n  if (basename !== \"/\") {\n    path.pathname = path.pathname === \"/\" ? basename : joinPaths([basename, path.pathname]);\n  }\n  return createPath(path);\n}\n// TODO: (v7) Change the useFetcher generic default from `any` to `unknown`\n/**\n * Interacts with route loaders and actions without causing a navigation. Great\n * for any interaction that stays on the same page.\n */\nfunction useFetcher(_temp3) {\n  var _route$matches;\n  let {\n    key\n  } = _temp3 === void 0 ? {} : _temp3;\n  let {\n    router\n  } = useDataRouterContext(DataRouterHook.UseFetcher);\n  let state = useDataRouterState(DataRouterStateHook.UseFetcher);\n  let fetcherData = React.useContext(FetchersContext);\n  let route = React.useContext(UNSAFE_RouteContext);\n  let routeId = (_route$matches = route.matches[route.matches.length - 1]) == null ? void 0 : _route$matches.route.id;\n  !fetcherData ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"useFetcher must be used inside a FetchersContext\") : UNSAFE_invariant(false) : void 0;\n  !route ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"useFetcher must be used inside a RouteContext\") : UNSAFE_invariant(false) : void 0;\n  !(routeId != null) ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"useFetcher can only be used on routes that contain a unique \\\"id\\\"\") : UNSAFE_invariant(false) : void 0;\n  // Fetcher key handling\n  // OK to call conditionally to feature detect `useId`\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  let defaultKey = useIdImpl ? useIdImpl() : \"\";\n  let [fetcherKey, setFetcherKey] = React.useState(key || defaultKey);\n  if (key && key !== fetcherKey) {\n    setFetcherKey(key);\n  } else if (!fetcherKey) {\n    // We will only fall through here when `useId` is not available\n    setFetcherKey(getUniqueFetcherId());\n  }\n  // Registration/cleanup\n  React.useEffect(() => {\n    router.getFetcher(fetcherKey);\n    return () => {\n      // Tell the router we've unmounted - if v7_fetcherPersist is enabled this\n      // will not delete immediately but instead queue up a delete after the\n      // fetcher returns to an `idle` state\n      router.deleteFetcher(fetcherKey);\n    };\n  }, [router, fetcherKey]);\n  // Fetcher additions\n  let load = React.useCallback((href, opts) => {\n    !routeId ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"No routeId available for fetcher.load()\") : UNSAFE_invariant(false) : void 0;\n    router.fetch(fetcherKey, routeId, href, opts);\n  }, [fetcherKey, routeId, router]);\n  let submitImpl = useSubmit();\n  let submit = React.useCallback((target, opts) => {\n    submitImpl(target, _extends({}, opts, {\n      navigate: false,\n      fetcherKey\n    }));\n  }, [fetcherKey, submitImpl]);\n  let FetcherForm = React.useMemo(() => {\n    let FetcherForm = /*#__PURE__*/React.forwardRef((props, ref) => {\n      return /*#__PURE__*/React.createElement(Form, _extends({}, props, {\n        navigate: false,\n        fetcherKey: fetcherKey,\n        ref: ref\n      }));\n    });\n    if (process.env.NODE_ENV !== \"production\") {\n      FetcherForm.displayName = \"fetcher.Form\";\n    }\n    return FetcherForm;\n  }, [fetcherKey]);\n  // Exposed FetcherWithComponents\n  let fetcher = state.fetchers.get(fetcherKey) || IDLE_FETCHER;\n  let data = fetcherData.get(fetcherKey);\n  let fetcherWithComponents = React.useMemo(() => _extends({\n    Form: FetcherForm,\n    submit,\n    load\n  }, fetcher, {\n    data\n  }), [FetcherForm, submit, load, fetcher, data]);\n  return fetcherWithComponents;\n}\n/**\n * Provides all fetchers currently on the page. Useful for layouts and parent\n * routes that need to provide pending/optimistic UI regarding the fetch.\n */\nfunction useFetchers() {\n  let state = useDataRouterState(DataRouterStateHook.UseFetchers);\n  return Array.from(state.fetchers.entries()).map(_ref11 => {\n    let [key, fetcher] = _ref11;\n    return _extends({}, fetcher, {\n      key\n    });\n  });\n}\nconst SCROLL_RESTORATION_STORAGE_KEY = \"react-router-scroll-positions\";\nlet savedScrollPositions = {};\n/**\n * When rendered inside a RouterProvider, will restore scroll positions on navigations\n */\nfunction useScrollRestoration(_temp4) {\n  let {\n    getKey,\n    storageKey\n  } = _temp4 === void 0 ? {} : _temp4;\n  let {\n    router\n  } = useDataRouterContext(DataRouterHook.UseScrollRestoration);\n  let {\n    restoreScrollPosition,\n    preventScrollReset\n  } = useDataRouterState(DataRouterStateHook.UseScrollRestoration);\n  let {\n    basename\n  } = React.useContext(UNSAFE_NavigationContext);\n  let location = useLocation();\n  let matches = useMatches();\n  let navigation = useNavigation();\n  // Trigger manual scroll restoration while we're active\n  React.useEffect(() => {\n    window.history.scrollRestoration = \"manual\";\n    return () => {\n      window.history.scrollRestoration = \"auto\";\n    };\n  }, []);\n  // Save positions on pagehide\n  usePageHide(React.useCallback(() => {\n    if (navigation.state === \"idle\") {\n      let key = (getKey ? getKey(location, matches) : null) || location.key;\n      savedScrollPositions[key] = window.scrollY;\n    }\n    try {\n      sessionStorage.setItem(storageKey || SCROLL_RESTORATION_STORAGE_KEY, JSON.stringify(savedScrollPositions));\n    } catch (error) {\n      process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(false, \"Failed to save scroll positions in sessionStorage, <ScrollRestoration /> will not work properly (\" + error + \").\") : void 0;\n    }\n    window.history.scrollRestoration = \"auto\";\n  }, [storageKey, getKey, navigation.state, location, matches]));\n  // Read in any saved scroll locations\n  if (typeof document !== \"undefined\") {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useLayoutEffect(() => {\n      try {\n        let sessionPositions = sessionStorage.getItem(storageKey || SCROLL_RESTORATION_STORAGE_KEY);\n        if (sessionPositions) {\n          savedScrollPositions = JSON.parse(sessionPositions);\n        }\n      } catch (e) {\n        // no-op, use default empty object\n      }\n    }, [storageKey]);\n    // Enable scroll restoration in the router\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useLayoutEffect(() => {\n      let getKeyWithoutBasename = getKey && basename !== \"/\" ? (location, matches) => getKey( // Strip the basename to match useLocation()\n      _extends({}, location, {\n        pathname: stripBasename(location.pathname, basename) || location.pathname\n      }), matches) : getKey;\n      let disableScrollRestoration = router == null ? void 0 : router.enableScrollRestoration(savedScrollPositions, () => window.scrollY, getKeyWithoutBasename);\n      return () => disableScrollRestoration && disableScrollRestoration();\n    }, [router, basename, getKey]);\n    // Restore scrolling when state.restoreScrollPosition changes\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useLayoutEffect(() => {\n      // Explicit false means don't do anything (used for submissions)\n      if (restoreScrollPosition === false) {\n        return;\n      }\n      // been here before, scroll to it\n      if (typeof restoreScrollPosition === \"number\") {\n        window.scrollTo(0, restoreScrollPosition);\n        return;\n      }\n      // try to scroll to the hash\n      if (location.hash) {\n        let el = document.getElementById(decodeURIComponent(location.hash.slice(1)));\n        if (el) {\n          el.scrollIntoView();\n          return;\n        }\n      }\n      // Don't reset if this navigation opted out\n      if (preventScrollReset === true) {\n        return;\n      }\n      // otherwise go to the top on new locations\n      window.scrollTo(0, 0);\n    }, [location, restoreScrollPosition, preventScrollReset]);\n  }\n}\n/**\n * Setup a callback to be fired on the window's `beforeunload` event. This is\n * useful for saving some data to `window.localStorage` just before the page\n * refreshes.\n *\n * Note: The `callback` argument should be a function created with\n * `React.useCallback()`.\n */\nfunction useBeforeUnload(callback, options) {\n  let {\n    capture\n  } = options || {};\n  React.useEffect(() => {\n    let opts = capture != null ? {\n      capture\n    } : undefined;\n    window.addEventListener(\"beforeunload\", callback, opts);\n    return () => {\n      window.removeEventListener(\"beforeunload\", callback, opts);\n    };\n  }, [callback, capture]);\n}\n/**\n * Setup a callback to be fired on the window's `pagehide` event. This is\n * useful for saving some data to `window.localStorage` just before the page\n * refreshes.  This event is better supported than beforeunload across browsers.\n *\n * Note: The `callback` argument should be a function created with\n * `React.useCallback()`.\n */\nfunction usePageHide(callback, options) {\n  let {\n    capture\n  } = options || {};\n  React.useEffect(() => {\n    let opts = capture != null ? {\n      capture\n    } : undefined;\n    window.addEventListener(\"pagehide\", callback, opts);\n    return () => {\n      window.removeEventListener(\"pagehide\", callback, opts);\n    };\n  }, [callback, capture]);\n}\n/**\n * Wrapper around useBlocker to show a window.confirm prompt to users instead\n * of building a custom UI with useBlocker.\n *\n * Warning: This has *a lot of rough edges* and behaves very differently (and\n * very incorrectly in some cases) across browsers if user click addition\n * back/forward navigations while the confirm is open.  Use at your own risk.\n */\nfunction usePrompt(_ref12) {\n  let {\n    when,\n    message\n  } = _ref12;\n  let blocker = useBlocker(when);\n  React.useEffect(() => {\n    if (blocker.state === \"blocked\") {\n      let proceed = window.confirm(message);\n      if (proceed) {\n        // This timeout is needed to avoid a weird \"race\" on POP navigations\n        // between the `window.history` revert navigation and the result of\n        // `window.confirm`\n        setTimeout(blocker.proceed, 0);\n      } else {\n        blocker.reset();\n      }\n    }\n  }, [blocker, message]);\n  React.useEffect(() => {\n    if (blocker.state === \"blocked\" && !when) {\n      blocker.reset();\n    }\n  }, [blocker, when]);\n}\n/**\n * Return a boolean indicating if there is an active view transition to the\n * given href.  You can use this value to render CSS classes or viewTransitionName\n * styles onto your elements\n *\n * @param href The destination href\n * @param [opts.relative] Relative routing type (\"route\" | \"path\")\n */\nfunction useViewTransitionState(to, opts) {\n  if (opts === void 0) {\n    opts = {};\n  }\n  let vtContext = React.useContext(ViewTransitionContext);\n  !(vtContext != null) ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  \" + \"Did you accidentally import `RouterProvider` from `react-router`?\") : UNSAFE_invariant(false) : void 0;\n  let {\n    basename\n  } = useDataRouterContext(DataRouterHook.useViewTransitionState);\n  let path = useResolvedPath(to, {\n    relative: opts.relative\n  });\n  if (!vtContext.isTransitioning) {\n    return false;\n  }\n  let currentPath = stripBasename(vtContext.currentLocation.pathname, basename) || vtContext.currentLocation.pathname;\n  let nextPath = stripBasename(vtContext.nextLocation.pathname, basename) || vtContext.nextLocation.pathname;\n  // Transition is active if we're going to or coming from the indicated\n  // destination.  This ensures that other PUSH navigations that reverse\n  // an indicated transition apply.  I.e., on the list view you have:\n  //\n  //   <NavLink to=\"/details/1\" viewTransition>\n  //\n  // If you click the breadcrumb back to the list view:\n  //\n  //   <NavLink to=\"/list\" viewTransition>\n  //\n  // We should apply the transition because it's indicated as active going\n  // from /list -> /details/1 and therefore should be active on the reverse\n  // (even though this isn't strictly a POP reverse)\n  return matchPath(path.pathname, nextPath) != null || matchPath(path.pathname, currentPath) != null;\n}\n//#endregion\n\nexport { BrowserRouter, Form, HashRouter, Link, NavLink, RouterProvider, ScrollRestoration, FetchersContext as UNSAFE_FetchersContext, ViewTransitionContext as UNSAFE_ViewTransitionContext, useScrollRestoration as UNSAFE_useScrollRestoration, createBrowserRouter, createHashRouter, createSearchParams, HistoryRouter as unstable_HistoryRouter, usePrompt as unstable_usePrompt, useBeforeUnload, useFetcher, useFetchers, useFormAction, useLinkClickHandler, useSearchParams, useSubmit, useViewTransitionState };\n//# sourceMappingURL=index.js.map\n","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport { SceneObjectBase } from '../../core/SceneObjectBase.js';\nimport { renderSceneComponentWithRouteProps } from './utils.js';\n\nclass SceneApp extends SceneObjectBase {\n  enrichDataRequest() {\n    return {\n      app: this.state.name || \"app\"\n    };\n  }\n}\nSceneApp.Component = ({ model }) => {\n  const { pages } = model.useState();\n  return /* @__PURE__ */ React.createElement(Switch, null, pages.map((page) => /* @__PURE__ */ React.createElement(Route, {\n    key: page.state.url,\n    exact: false,\n    path: page.state.url,\n    render: (props) => renderSceneComponentWithRouteProps(page, props)\n  })));\n};\nconst sceneAppCache = /* @__PURE__ */ new Map();\nfunction useSceneApp(factory) {\n  const cachedApp = sceneAppCache.get(factory);\n  if (cachedApp) {\n    return cachedApp;\n  }\n  const newApp = factory();\n  sceneAppCache.set(factory, newApp);\n  return newApp;\n}\n\nexport { SceneApp, useSceneApp };\n//# sourceMappingURL=SceneApp.js.map\n","import React from 'react';\nimport { SceneObjectBase } from '../core/SceneObjectBase.js';\n\nvar __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nclass SceneReactObject extends SceneObjectBase {\n}\nSceneReactObject.Component = ({ model }) => {\n  const { component: Component, props, reactNode } = model.useState();\n  if (Component) {\n    return /* @__PURE__ */ React.createElement(Component, __spreadValues({}, props));\n  }\n  if (reactNode) {\n    return reactNode;\n  }\n  return null;\n};\n\nexport { SceneReactObject };\n//# sourceMappingURL=SceneReactObject.js.map\n","import { css } from '@emotion/css';\nimport { useStyles2, JSONFormatter, Input } from '@grafana/ui';\nimport { isPlainObject, isArray } from 'lodash';\nimport React from 'react';\nimport { isSceneObject } from '../../core/types.js';\n\nfunction DebugDetails({ node }) {\n  const state = node.useState();\n  const styles = useStyles2(getStyles);\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    className: styles.container\n  }, Object.keys(state).map((key) => /* @__PURE__ */ React.createElement(\"div\", {\n    className: styles.row,\n    key\n  }, /* @__PURE__ */ React.createElement(\"div\", {\n    className: styles.keyName\n  }, key), /* @__PURE__ */ React.createElement(\"div\", {\n    className: styles.value\n  }, renderValue(key, state[key], node)))));\n}\nfunction renderValue(key, value, node) {\n  if (value === null) {\n    return \"null\";\n  }\n  switch (typeof value) {\n    case \"number\":\n      return /* @__PURE__ */ React.createElement(Input, {\n        type: \"number\",\n        defaultValue: value,\n        onBlur: (evt) => node.setState({ [key]: evt.currentTarget.valueAsNumber })\n      });\n    case \"string\":\n      return /* @__PURE__ */ React.createElement(Input, {\n        type: \"text\",\n        defaultValue: value,\n        onBlur: (evt) => node.setState({ [key]: evt.currentTarget.value })\n      });\n    case \"object\":\n      if (isSceneObject(value)) {\n        return value.constructor.name;\n      }\n      if (isPlainObject(value) || isArray(value)) {\n        return /* @__PURE__ */ React.createElement(JSONFormatter, {\n          json: value,\n          open: 0\n        });\n      }\n      return String(value);\n    default:\n      return typeof value;\n  }\n}\nfunction getStyles(theme) {\n  return {\n    container: css({\n      flexGrow: 1,\n      display: \"flex\",\n      gap: theme.spacing(0.5),\n      flexDirection: \"column\"\n    }),\n    row: css({\n      display: \"flex\",\n      gap: theme.spacing(2)\n    }),\n    keyName: css({\n      display: \"flex\",\n      flexGrow: \"0\",\n      width: 120,\n      alignItems: \"center\",\n      height: theme.spacing(theme.components.height.md)\n    }),\n    value: css({\n      flexGrow: 1,\n      minHeight: theme.spacing(theme.components.height.md),\n      display: \"flex\",\n      alignItems: \"center\"\n    })\n  };\n}\n\nexport { DebugDetails };\n//# sourceMappingURL=DebugDetails.js.map\n","import { cx, css } from '@emotion/css';\nimport { useStyles2 } from '@grafana/ui';\nimport React from 'react';\n\nfunction DebugTreeNode({ node, selectedObject, onSelect }) {\n  const styles = useStyles2(getStyles);\n  const children = [];\n  const isSelected = node === selectedObject;\n  node.forEachChild((child) => {\n    children.push(\n      /* @__PURE__ */ React.createElement(DebugTreeNode, {\n        node: child,\n        key: child.state.key,\n        selectedObject,\n        onSelect\n      })\n    );\n  });\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    className: styles.container\n  }, /* @__PURE__ */ React.createElement(\"div\", {\n    className: cx(styles.name, isSelected && styles.selected),\n    onClick: () => onSelect(node)\n  }, node.constructor.name), /* @__PURE__ */ React.createElement(\"div\", {\n    className: styles.children\n  }, children));\n}\nfunction getStyles(theme) {\n  return {\n    container: css({\n      flexGrow: 1,\n      display: \"flex\",\n      gap: theme.spacing(0.5),\n      flexDirection: \"column\"\n    }),\n    name: css({\n      flexGrow: 1,\n      display: \"flex\",\n      gap: theme.spacing(1),\n      fontSize: theme.typography.bodySmall.fontSize,\n      cursor: \"pointer\",\n      padding: theme.spacing(0, 1),\n      borderRadius: theme.shape.borderRadius(2),\n      position: \"relative\",\n      \"&:hover\": {\n        background: theme.colors.background.secondary\n      }\n    }),\n    selected: css({\n      \"&::before\": {\n        display: \"block\",\n        content: \"' '\",\n        position: \"absolute\",\n        left: 0,\n        width: 4,\n        bottom: 2,\n        top: 2,\n        borderRadius: theme.shape.radius.default,\n        backgroundImage: theme.colors.gradients.brandVertical\n      }\n    }),\n    children: css({\n      flexGrow: 1,\n      display: \"flex\",\n      flexDirection: \"column\",\n      paddingLeft: theme.spacing(1)\n    })\n  };\n}\n\nexport { DebugTreeNode };\n//# sourceMappingURL=DebugTreeNode.js.map\n","import { css } from '@emotion/css';\nimport { useStyles2, ToolbarButton, Drawer, CustomScrollbar } from '@grafana/ui';\nimport React, { useState } from 'react';\nimport { DebugDetails } from './DebugDetails.js';\nimport { DebugTreeNode } from './DebugTreeNode.js';\n\nfunction SceneDebugger({ scene }) {\n  const styles = useStyles2(getStyles);\n  const [isOpen, setIsOpen] = useState(false);\n  const [selectedObject, setSelectedObject] = useState();\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(ToolbarButton, {\n    variant: \"canvas\",\n    icon: \"bug\",\n    onClick: () => setIsOpen(true)\n  }), isOpen && /* @__PURE__ */ React.createElement(Drawer, {\n    title: \"Scene debugger\",\n    onClose: () => setIsOpen(false),\n    size: \"lg\"\n  }, /* @__PURE__ */ React.createElement(\"div\", {\n    className: styles.panes\n  }, /* @__PURE__ */ React.createElement(\"div\", {\n    className: styles.pane1\n  }, /* @__PURE__ */ React.createElement(\"div\", {\n    className: styles.paneHeading\n  }, \"Scene graph\"), /* @__PURE__ */ React.createElement(CustomScrollbar, {\n    autoHeightMin: \"100%\"\n  }, /* @__PURE__ */ React.createElement(\"div\", {\n    className: styles.treeWrapper\n  }, /* @__PURE__ */ React.createElement(DebugTreeNode, {\n    node: scene,\n    selectedObject,\n    onSelect: setSelectedObject\n  })))), /* @__PURE__ */ React.createElement(\"div\", {\n    className: styles.pane2\n  }, /* @__PURE__ */ React.createElement(\"div\", {\n    className: styles.paneHeading\n  }, \"Object details\"), selectedObject && /* @__PURE__ */ React.createElement(DebugDetails, {\n    node: selectedObject\n  })))));\n}\nfunction getStyles(theme) {\n  return {\n    panes: css({\n      flexGrow: 1,\n      display: \"flex\",\n      height: \"100%\",\n      flexDirection: \"row\",\n      marginTop: theme.spacing(-2)\n    }),\n    pane1: css({\n      flexGrow: 0,\n      display: \"flex\",\n      height: \"100%\",\n      flexDirection: \"column\",\n      borderRight: `1px solid ${theme.colors.border.weak}`\n    }),\n    pane2: css({\n      flexGrow: 1,\n      display: \"flex\",\n      minHeight: \"100%\",\n      flexDirection: \"column\",\n      paddingLeft: theme.spacing(2)\n    }),\n    treeWrapper: css({\n      paddingRight: theme.spacing(2),\n      height: \"100%\",\n      marginLeft: theme.spacing(-1)\n    }),\n    paneHeading: css({\n      padding: theme.spacing(1, 0),\n      fontWeight: theme.typography.fontWeightMedium\n    })\n  };\n}\n\nexport { SceneDebugger };\n//# sourceMappingURL=SceneDebugger.js.map\n","import { PluginPage } from '@grafana/runtime';\nimport React, { useLayoutEffect, useEffect } from 'react';\nimport { SceneDebugger } from '../SceneDebugger/SceneDebugger.js';\nimport { SceneAppPage } from './SceneAppPage.js';\nimport { useAppQueryParams, getUrlWithAppState, renderSceneComponentWithRouteProps } from './utils.js';\n\nfunction SceneAppPageView({ page, routeProps }) {\n  const containerPage = getParentPageIfTab(page);\n  const containerState = containerPage.useState();\n  const params = useAppQueryParams();\n  const scene = page.getScene(routeProps.match);\n  const isInitialized = containerState.initializedScene === scene;\n  useLayoutEffect(() => {\n    if (!isInitialized) {\n      containerPage.initializeScene(scene);\n    }\n  }, [scene, containerPage, isInitialized]);\n  useEffect(() => {\n    return () => containerPage.setState({ initializedScene: void 0 });\n  }, [containerPage]);\n  if (!isInitialized) {\n    return null;\n  }\n  const pageNav = {\n    text: containerState.title,\n    img: containerState.titleImg,\n    icon: containerState.titleIcon,\n    url: getUrlWithAppState(containerState.url, containerState.preserveUrlKeys),\n    hideFromBreadcrumbs: containerState.hideFromBreadcrumbs,\n    parentItem: getParentBreadcrumbs(\n      containerState.getParentPage ? containerState.getParentPage() : containerPage.parent)\n  };\n  if (containerState.tabs) {\n    pageNav.children = containerState.tabs.map((tab) => {\n      return {\n        text: tab.state.title,\n        icon: tab.state.titleIcon,\n        tabSuffix: tab.state.tabSuffix,\n        active: page === tab,\n        url: getUrlWithAppState(tab.state.url, tab.state.preserveUrlKeys),\n        parentItem: pageNav\n      };\n    });\n  }\n  let pageActions = [];\n  if (containerState.controls) {\n    pageActions = containerState.controls.map((control) => /* @__PURE__ */ React.createElement(control.Component, {\n      model: control,\n      key: control.state.key\n    }));\n  }\n  if (params[\"scene-debugger\"]) {\n    pageActions.push(/* @__PURE__ */ React.createElement(SceneDebugger, {\n      scene: containerPage,\n      key: \"scene-debugger\"\n    }));\n  }\n  return /* @__PURE__ */ React.createElement(PluginPage, {\n    pageNav,\n    actions: pageActions,\n    renderTitle: containerState.renderTitle,\n    subTitle: containerState.subTitle\n  }, /* @__PURE__ */ React.createElement(scene.Component, {\n    model: scene\n  }));\n}\nfunction getParentPageIfTab(page) {\n  if (page.parent instanceof SceneAppPage) {\n    return page.parent;\n  }\n  return page;\n}\nfunction getParentBreadcrumbs(parent, params) {\n  if (parent instanceof SceneAppPage) {\n    return {\n      text: parent.state.title,\n      url: getUrlWithAppState(parent.state.url, parent.state.preserveUrlKeys),\n      hideFromBreadcrumbs: parent.state.hideFromBreadcrumbs,\n      parentItem: getParentBreadcrumbs(\n        parent.state.getParentPage ? parent.state.getParentPage() : parent.parent)\n    };\n  }\n  return void 0;\n}\nfunction SceneAppDrilldownViewRender({ drilldown, parent, routeProps }) {\n  return renderSceneComponentWithRouteProps(parent.getDrilldownPage(drilldown, routeProps.match), routeProps);\n}\n\nexport { SceneAppDrilldownViewRender, SceneAppPageView };\n//# sourceMappingURL=SceneAppPageView.js.map\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { SceneObjectBase } from '../../core/SceneObjectBase.js';\nimport { isDataRequestEnricher } from '../../core/types.js';\nimport { getUrlSyncManager } from '../../services/UrlSyncManager.js';\nimport { EmbeddedScene } from '../EmbeddedScene.js';\nimport { SceneFlexLayout, SceneFlexItem } from '../layout/SceneFlexLayout.js';\nimport { SceneReactObject } from '../SceneReactObject.js';\nimport { SceneAppDrilldownViewRender, SceneAppPageView } from './SceneAppPageView.js';\nimport { renderSceneComponentWithRouteProps } from './utils.js';\n\nclass SceneAppPage extends SceneObjectBase {\n  constructor(state) {\n    super(state);\n    this._sceneCache = /* @__PURE__ */ new Map();\n    this._drilldownCache = /* @__PURE__ */ new Map();\n    this.addActivationHandler(() => {\n      return () => getUrlSyncManager().cleanUp(this);\n    });\n  }\n  initializeScene(scene) {\n    this.setState({ initializedScene: scene });\n    getUrlSyncManager().initSync(this);\n  }\n  getScene(routeMatch) {\n    let scene = this._sceneCache.get(routeMatch.url);\n    if (scene) {\n      return scene;\n    }\n    if (!this.state.getScene) {\n      throw new Error(\"Missing getScene on SceneAppPage \" + this.state.title);\n    }\n    scene = this.state.getScene(routeMatch);\n    this._sceneCache.set(routeMatch.url, scene);\n    return scene;\n  }\n  getDrilldownPage(drilldown, routeMatch) {\n    let page = this._drilldownCache.get(routeMatch.url);\n    if (page) {\n      return page;\n    }\n    page = drilldown.getPage(routeMatch, this);\n    this._drilldownCache.set(routeMatch.url, page);\n    return page;\n  }\n  enrichDataRequest(source) {\n    if (this.state.getParentPage) {\n      return this.state.getParentPage().enrichDataRequest(source);\n    }\n    if (!this.parent) {\n      return null;\n    }\n    const root = this.getRoot();\n    if (isDataRequestEnricher(root)) {\n      return root.enrichDataRequest(source);\n    }\n    return null;\n  }\n}\nSceneAppPage.Component = SceneAppPageRenderer;\nfunction SceneAppPageRenderer({ model, routeProps }) {\n  var _a, _b;\n  const { tabs, drilldowns } = model.useState();\n  const routes = [];\n  if (tabs && tabs.length > 0) {\n    for (let tabIndex = 0; tabIndex < tabs.length; tabIndex++) {\n      const tab = tabs[tabIndex];\n      if (tabIndex === 0) {\n        routes.push(\n          /* @__PURE__ */ React.createElement(Route, {\n            exact: true,\n            key: model.state.url,\n            path: (_a = model.state.routePath) != null ? _a : model.state.url,\n            render: (props) => renderSceneComponentWithRouteProps(tab, props)\n          })\n        );\n      }\n      routes.push(\n        /* @__PURE__ */ React.createElement(Route, {\n          exact: true,\n          key: tab.state.url,\n          path: (_b = tab.state.routePath) != null ? _b : tab.state.url,\n          render: (props) => renderSceneComponentWithRouteProps(tab, props)\n        })\n      );\n      if (tab.state.drilldowns) {\n        for (const drilldown of tab.state.drilldowns) {\n          routes.push(\n            /* @__PURE__ */ React.createElement(Route, {\n              exact: false,\n              key: drilldown.routePath,\n              path: drilldown.routePath,\n              render: (props) => /* @__PURE__ */ React.createElement(SceneAppDrilldownViewRender, {\n                drilldown,\n                parent: tab,\n                routeProps: props\n              })\n            })\n          );\n        }\n      }\n    }\n  }\n  if (drilldowns) {\n    for (const drilldown of drilldowns) {\n      routes.push(\n        /* @__PURE__ */ React.createElement(Route, {\n          key: drilldown.routePath,\n          exact: false,\n          path: drilldown.routePath,\n          render: (props) => /* @__PURE__ */ React.createElement(SceneAppDrilldownViewRender, {\n            drilldown,\n            parent: model,\n            routeProps: props\n          })\n        })\n      );\n    }\n  }\n  if (!tabs && isCurrentPageRouteMatch(model, routeProps.match)) {\n    return /* @__PURE__ */ React.createElement(SceneAppPageView, {\n      page: model,\n      routeProps\n    });\n  }\n  routes.push(getFallbackRoute(model, routeProps));\n  return /* @__PURE__ */ React.createElement(Switch, null, routes);\n}\nfunction getFallbackRoute(page, routeProps) {\n  return /* @__PURE__ */ React.createElement(Route, {\n    key: \"fallback route\",\n    render: (props) => {\n      var _a, _b, _c;\n      const fallbackPage = (_c = (_b = (_a = page.state).getFallbackPage) == null ? void 0 : _b.call(_a)) != null ? _c : getDefaultFallbackPage();\n      return /* @__PURE__ */ React.createElement(SceneAppPageView, {\n        page: fallbackPage,\n        routeProps\n      });\n    }\n  });\n}\nfunction isCurrentPageRouteMatch(page, match) {\n  if (!match.isExact) {\n    return false;\n  }\n  if (match.url === page.state.url) {\n    return true;\n  }\n  if (page.parent instanceof SceneAppPage && page.parent.state.tabs[0] === page && page.parent.state.url === match.url) {\n    return true;\n  }\n  return false;\n}\nfunction getDefaultFallbackPage() {\n  return new SceneAppPage({\n    url: \"\",\n    title: \"Not found\",\n    subTitle: \"The url did not match any page\",\n    getScene: () => {\n      return new EmbeddedScene({\n        body: new SceneFlexLayout({\n          direction: \"column\",\n          children: [\n            new SceneFlexItem({\n              body: new SceneReactObject({\n                component: () => {\n                  return /* @__PURE__ */ React.createElement(\"div\", {\n                    \"data-testid\": \"default-fallback-content\"\n                  }, \"If you found your way here using a link then there might be a bug in this application.\");\n                }\n              })\n            })\n          ]\n        })\n      });\n    }\n  });\n}\n\nexport { SceneAppPage };\n//# sourceMappingURL=SceneAppPage.js.map\n","var VisibilityMode = /* @__PURE__ */ ((VisibilityMode2) => {\n  VisibilityMode2[\"Always\"] = \"always\";\n  VisibilityMode2[\"Auto\"] = \"auto\";\n  VisibilityMode2[\"Never\"] = \"never\";\n  return VisibilityMode2;\n})(VisibilityMode || {});\nvar GraphGradientMode = /* @__PURE__ */ ((GraphGradientMode2) => {\n  GraphGradientMode2[\"Hue\"] = \"hue\";\n  GraphGradientMode2[\"None\"] = \"none\";\n  GraphGradientMode2[\"Opacity\"] = \"opacity\";\n  GraphGradientMode2[\"Scheme\"] = \"scheme\";\n  return GraphGradientMode2;\n})(GraphGradientMode || {});\nvar StackingMode = /* @__PURE__ */ ((StackingMode2) => {\n  StackingMode2[\"None\"] = \"none\";\n  StackingMode2[\"Normal\"] = \"normal\";\n  StackingMode2[\"Percent\"] = \"percent\";\n  return StackingMode2;\n})(StackingMode || {});\nvar VizOrientation = /* @__PURE__ */ ((VizOrientation2) => {\n  VizOrientation2[\"Auto\"] = \"auto\";\n  VizOrientation2[\"Horizontal\"] = \"horizontal\";\n  VizOrientation2[\"Vertical\"] = \"vertical\";\n  return VizOrientation2;\n})(VizOrientation || {});\nvar BigValueColorMode = /* @__PURE__ */ ((BigValueColorMode2) => {\n  BigValueColorMode2[\"Background\"] = \"background\";\n  BigValueColorMode2[\"BackgroundSolid\"] = \"background_solid\";\n  BigValueColorMode2[\"None\"] = \"none\";\n  BigValueColorMode2[\"Value\"] = \"value\";\n  return BigValueColorMode2;\n})(BigValueColorMode || {});\nvar BigValueGraphMode = /* @__PURE__ */ ((BigValueGraphMode2) => {\n  BigValueGraphMode2[\"Area\"] = \"area\";\n  BigValueGraphMode2[\"Line\"] = \"line\";\n  BigValueGraphMode2[\"None\"] = \"none\";\n  return BigValueGraphMode2;\n})(BigValueGraphMode || {});\nvar BigValueJustifyMode = /* @__PURE__ */ ((BigValueJustifyMode2) => {\n  BigValueJustifyMode2[\"Auto\"] = \"auto\";\n  BigValueJustifyMode2[\"Center\"] = \"center\";\n  return BigValueJustifyMode2;\n})(BigValueJustifyMode || {});\nvar BigValueTextMode = /* @__PURE__ */ ((BigValueTextMode2) => {\n  BigValueTextMode2[\"Auto\"] = \"auto\";\n  BigValueTextMode2[\"Name\"] = \"name\";\n  BigValueTextMode2[\"None\"] = \"none\";\n  BigValueTextMode2[\"Value\"] = \"value\";\n  BigValueTextMode2[\"ValueAndName\"] = \"value_and_name\";\n  return BigValueTextMode2;\n})(BigValueTextMode || {});\nvar PercentChangeColorMode = /* @__PURE__ */ ((PercentChangeColorMode2) => {\n  PercentChangeColorMode2[\"Inverted\"] = \"inverted\";\n  PercentChangeColorMode2[\"SameAsValue\"] = \"same_as_value\";\n  PercentChangeColorMode2[\"Standard\"] = \"standard\";\n  return PercentChangeColorMode2;\n})(PercentChangeColorMode || {});\nvar TooltipDisplayMode = /* @__PURE__ */ ((TooltipDisplayMode2) => {\n  TooltipDisplayMode2[\"Multi\"] = \"multi\";\n  TooltipDisplayMode2[\"None\"] = \"none\";\n  TooltipDisplayMode2[\"Single\"] = \"single\";\n  return TooltipDisplayMode2;\n})(TooltipDisplayMode || {});\nvar BarGaugeDisplayMode = /* @__PURE__ */ ((BarGaugeDisplayMode2) => {\n  BarGaugeDisplayMode2[\"Basic\"] = \"basic\";\n  BarGaugeDisplayMode2[\"Gradient\"] = \"gradient\";\n  BarGaugeDisplayMode2[\"Lcd\"] = \"lcd\";\n  return BarGaugeDisplayMode2;\n})(BarGaugeDisplayMode || {});\nvar BarGaugeValueMode = /* @__PURE__ */ ((BarGaugeValueMode2) => {\n  BarGaugeValueMode2[\"Color\"] = \"color\";\n  BarGaugeValueMode2[\"Hidden\"] = \"hidden\";\n  BarGaugeValueMode2[\"Text\"] = \"text\";\n  return BarGaugeValueMode2;\n})(BarGaugeValueMode || {});\nvar BarGaugeNamePlacement = /* @__PURE__ */ ((BarGaugeNamePlacement2) => {\n  BarGaugeNamePlacement2[\"Auto\"] = \"auto\";\n  BarGaugeNamePlacement2[\"Hidden\"] = \"hidden\";\n  BarGaugeNamePlacement2[\"Left\"] = \"left\";\n  BarGaugeNamePlacement2[\"Top\"] = \"top\";\n  return BarGaugeNamePlacement2;\n})(BarGaugeNamePlacement || {});\nvar BarGaugeSizing = /* @__PURE__ */ ((BarGaugeSizing2) => {\n  BarGaugeSizing2[\"Auto\"] = \"auto\";\n  BarGaugeSizing2[\"Manual\"] = \"manual\";\n  return BarGaugeSizing2;\n})(BarGaugeSizing || {});\nvar TableCellHeight = /* @__PURE__ */ ((TableCellHeight2) => {\n  TableCellHeight2[\"Auto\"] = \"auto\";\n  TableCellHeight2[\"Lg\"] = \"lg\";\n  TableCellHeight2[\"Md\"] = \"md\";\n  TableCellHeight2[\"Sm\"] = \"sm\";\n  return TableCellHeight2;\n})(TableCellHeight || {});\n\nexport { BigValueColorMode as B, GraphGradientMode as G, PercentChangeColorMode as P, StackingMode as S, TableCellHeight as T, VisibilityMode as V, BigValueGraphMode as a, BigValueJustifyMode as b, BigValueTextMode as c, TooltipDisplayMode as d, BarGaugeSizing as e, BarGaugeDisplayMode as f, BarGaugeNamePlacement as g, BarGaugeValueMode as h, VizOrientation as i };\n","import { i as VizOrientation, V as VisibilityMode, S as StackingMode, G as GraphGradientMode } from '../../../../../common.gen-CZ1M9G8L.js';\n\nconst pluginVersion = \"12.1.0-pre\";\nconst defaultOptions = {\n  barRadius: 0,\n  barWidth: 0.97,\n  fullHighlight: false,\n  groupWidth: 0.7,\n  orientation: VizOrientation.Auto,\n  showValue: VisibilityMode.Auto,\n  stacking: StackingMode.None,\n  xTickLabelRotation: 0,\n  xTickLabelSpacing: 0\n};\nconst defaultFieldConfig = {\n  fillOpacity: 80,\n  gradientMode: GraphGradientMode.None,\n  lineWidth: 1\n};\n\nexport { defaultFieldConfig, defaultOptions, pluginVersion };\n","import { f as BarGaugeDisplayMode, g as BarGaugeNamePlacement, e as BarGaugeSizing, h as BarGaugeValueMode } from '../../../../../common.gen-CZ1M9G8L.js';\n\nconst pluginVersion = \"12.1.0-pre\";\nconst defaultOptions = {\n  displayMode: BarGaugeDisplayMode.Gradient,\n  maxVizHeight: 300,\n  minVizHeight: 16,\n  minVizWidth: 8,\n  namePlacement: BarGaugeNamePlacement.Auto,\n  showUnfilled: true,\n  sizing: BarGaugeSizing.Auto,\n  valueMode: BarGaugeValueMode.Color\n};\n\nexport { defaultOptions, pluginVersion };\n","const pluginVersion = \"12.1.0-pre\";\nconst defaultOptions = {\n  selectedSeries: 0\n};\n\nexport { defaultOptions, pluginVersion };\n","import { e as BarGaugeSizing } from '../../../../../common.gen-CZ1M9G8L.js';\n\nconst pluginVersion = \"12.1.0-pre\";\nconst defaultOptions = {\n  minVizHeight: 75,\n  minVizWidth: 75,\n  showThresholdLabels: false,\n  showThresholdMarkers: true,\n  sizing: BarGaugeSizing.Auto\n};\n\nexport { defaultOptions, pluginVersion };\n","const pluginVersion = \"12.1.0-pre\";\nconst defaultOptions = {\n  layers: []\n};\nconst defaultMapViewConfig = {\n  allLayers: true,\n  id: \"zero\",\n  lat: 0,\n  lon: 0,\n  zoom: 1\n};\nvar TooltipMode = /* @__PURE__ */ ((TooltipMode2) => {\n  TooltipMode2[\"Details\"] = \"details\";\n  TooltipMode2[\"None\"] = \"none\";\n  return TooltipMode2;\n})(TooltipMode || {});\nvar MapCenterID = /* @__PURE__ */ ((MapCenterID2) => {\n  MapCenterID2[\"Coords\"] = \"coords\";\n  MapCenterID2[\"Fit\"] = \"fit\";\n  MapCenterID2[\"Zero\"] = \"zero\";\n  return MapCenterID2;\n})(MapCenterID || {});\n\nexport { MapCenterID, TooltipMode, defaultMapViewConfig, defaultOptions, pluginVersion };\n","import { V as VisibilityMode, d as TooltipDisplayMode } from '../../../../../common.gen-CZ1M9G8L.js';\n\nconst pluginVersion = \"12.1.0-pre\";\nvar HeatmapColorMode = /* @__PURE__ */ ((HeatmapColorMode2) => {\n  HeatmapColorMode2[\"Opacity\"] = \"opacity\";\n  HeatmapColorMode2[\"Scheme\"] = \"scheme\";\n  return HeatmapColorMode2;\n})(HeatmapColorMode || {});\nvar HeatmapColorScale = /* @__PURE__ */ ((HeatmapColorScale2) => {\n  HeatmapColorScale2[\"Exponential\"] = \"exponential\";\n  HeatmapColorScale2[\"Linear\"] = \"linear\";\n  return HeatmapColorScale2;\n})(HeatmapColorScale || {});\nvar HeatmapSelectionMode = /* @__PURE__ */ ((HeatmapSelectionMode2) => {\n  HeatmapSelectionMode2[\"X\"] = \"x\";\n  HeatmapSelectionMode2[\"Xy\"] = \"xy\";\n  HeatmapSelectionMode2[\"Y\"] = \"y\";\n  return HeatmapSelectionMode2;\n})(HeatmapSelectionMode || {});\nconst defaultOptions = {\n  calculate: false,\n  cellGap: 1,\n  cellValues: {},\n  color: {\n    /**\n     * mode:     HeatmapColorMode // TODO: fix after remove when https://github.com/grafana/cuetsy/issues/74 is fixed\n     */\n    scheme: \"Oranges\",\n    fill: \"dark-orange\",\n    /**\n     * scale:    HeatmapColorScale // TODO: fix after remove when https://github.com/grafana/cuetsy/issues/74 is fixed\n     */\n    reverse: false,\n    exponent: 0.5,\n    steps: 64\n  },\n  exemplars: {\n    color: \"rgba(255,0,255,0.7)\"\n  },\n  filterValues: {\n    le: 1e-9\n  },\n  legend: {\n    show: true\n  },\n  selectionMode: \"x\" /* X */,\n  showValue: VisibilityMode.Auto,\n  tooltip: {\n    mode: TooltipDisplayMode.Single,\n    yHistogram: false,\n    showColorScale: false\n  }\n};\n\nexport { HeatmapColorMode, HeatmapColorScale, HeatmapSelectionMode, defaultOptions, pluginVersion };\n","import { G as GraphGradientMode } from '../../../../../common.gen-CZ1M9G8L.js';\n\nconst pluginVersion = \"12.1.0-pre\";\nconst defaultOptions = {\n  bucketCount: 30,\n  bucketOffset: 0\n};\nconst defaultFieldConfig = {\n  fillOpacity: 80,\n  gradientMode: GraphGradientMode.None,\n  lineWidth: 1\n};\n\nexport { defaultFieldConfig, defaultOptions, pluginVersion };\n","const pluginVersion = \"12.1.0-pre\";\nconst defaultOptions = {\n  showImage: true\n};\n\nexport { defaultOptions, pluginVersion };\n","const pluginVersion = \"12.1.0-pre\";\nvar PieChartType = /* @__PURE__ */ ((PieChartType2) => {\n  PieChartType2[\"Donut\"] = \"donut\";\n  PieChartType2[\"Pie\"] = \"pie\";\n  return PieChartType2;\n})(PieChartType || {});\nvar PieChartLabels = /* @__PURE__ */ ((PieChartLabels2) => {\n  PieChartLabels2[\"Name\"] = \"name\";\n  PieChartLabels2[\"Percent\"] = \"percent\";\n  PieChartLabels2[\"Value\"] = \"value\";\n  return PieChartLabels2;\n})(PieChartLabels || {});\nvar PieChartLegendValues = /* @__PURE__ */ ((PieChartLegendValues2) => {\n  PieChartLegendValues2[\"Percent\"] = \"percent\";\n  PieChartLegendValues2[\"Value\"] = \"value\";\n  return PieChartLegendValues2;\n})(PieChartLegendValues || {});\nconst defaultPieChartLegendOptions = {\n  values: []\n};\nconst defaultOptions = {\n  displayLabels: []\n};\n\nexport { PieChartLabels, PieChartLegendValues, PieChartType, defaultOptions, defaultPieChartLegendOptions, pluginVersion };\n","import { B as BigValueColorMode, a as BigValueGraphMode, b as BigValueJustifyMode, P as PercentChangeColorMode, c as BigValueTextMode } from '../../../../../common.gen-CZ1M9G8L.js';\n\nconst pluginVersion = \"12.1.0-pre\";\nconst defaultOptions = {\n  colorMode: BigValueColorMode.Value,\n  graphMode: BigValueGraphMode.Area,\n  justifyMode: BigValueJustifyMode.Auto,\n  percentChangeColorMode: PercentChangeColorMode.Standard,\n  showPercentChange: false,\n  textMode: BigValueTextMode.Auto,\n  wideLayout: true\n};\n\nexport { defaultOptions, pluginVersion };\n","import { V as VisibilityMode } from '../../../../../common.gen-CZ1M9G8L.js';\n\nconst pluginVersion = \"12.1.0-pre\";\nconst defaultOptions = {\n  alignValue: \"left\",\n  mergeValues: true,\n  perPage: 20,\n  rowHeight: 0.9,\n  showValue: VisibilityMode.Auto\n};\nconst defaultFieldConfig = {\n  fillOpacity: 70,\n  lineWidth: 0\n};\n\nexport { defaultFieldConfig, defaultOptions, pluginVersion };\n","import { V as VisibilityMode } from '../../../../../common.gen-CZ1M9G8L.js';\n\nconst pluginVersion = \"12.1.0-pre\";\nconst defaultOptions = {\n  colWidth: 0.9,\n  perPage: 20,\n  rowHeight: 0.9,\n  showValue: VisibilityMode.Auto\n};\nconst defaultFieldConfig = {\n  fillOpacity: 70,\n  lineWidth: 1\n};\n\nexport { defaultFieldConfig, defaultOptions, pluginVersion };\n","import { T as TableCellHeight } from '../../../../../common.gen-CZ1M9G8L.js';\n\nconst pluginVersion = \"12.1.0-pre\";\nconst defaultOptions = {\n  cellHeight: TableCellHeight.Sm,\n  footer: {\n    /**\n     * Controls whether the footer should be shown\n     */\n    show: false,\n    /**\n     * Controls whether the footer should show the total number of rows on Count calculation\n     */\n    countRows: false,\n    /**\n     * Represents the selected calculations\n     */\n    reducer: []\n  },\n  frameIndex: 0,\n  showHeader: true,\n  showTypeIcons: false,\n  sortBy: []\n};\n\nexport { defaultOptions, pluginVersion };\n","const pluginVersion = \"12.1.0-pre\";\nvar TextMode = /* @__PURE__ */ ((TextMode2) => {\n  TextMode2[\"Code\"] = \"code\";\n  TextMode2[\"HTML\"] = \"html\";\n  TextMode2[\"Markdown\"] = \"markdown\";\n  return TextMode2;\n})(TextMode || {});\nvar CodeLanguage = /* @__PURE__ */ ((CodeLanguage2) => {\n  CodeLanguage2[\"Go\"] = \"go\";\n  CodeLanguage2[\"Html\"] = \"html\";\n  CodeLanguage2[\"Json\"] = \"json\";\n  CodeLanguage2[\"Markdown\"] = \"markdown\";\n  CodeLanguage2[\"Plaintext\"] = \"plaintext\";\n  CodeLanguage2[\"Sql\"] = \"sql\";\n  CodeLanguage2[\"Typescript\"] = \"typescript\";\n  CodeLanguage2[\"Xml\"] = \"xml\";\n  CodeLanguage2[\"Yaml\"] = \"yaml\";\n  return CodeLanguage2;\n})(CodeLanguage || {});\nconst defaultCodeLanguage = \"plaintext\" /* Plaintext */;\nconst defaultCodeOptions = {\n  language: \"plaintext\" /* Plaintext */,\n  showLineNumbers: false,\n  showMiniMap: false\n};\nconst defaultOptions = {\n  content: `# Title\n\nFor markdown syntax help: [commonmark.org/help](https://commonmark.org/help/)`,\n  mode: \"markdown\" /* Markdown */\n};\n\nexport { CodeLanguage, TextMode, defaultCodeLanguage, defaultCodeOptions, defaultOptions, pluginVersion };\n","const pluginVersion = \"12.1.0-pre\";\nvar PointShape = /* @__PURE__ */ ((PointShape2) => {\n  PointShape2[\"Circle\"] = \"circle\";\n  PointShape2[\"Square\"] = \"square\";\n  return PointShape2;\n})(PointShape || {});\nvar SeriesMapping = /* @__PURE__ */ ((SeriesMapping2) => {\n  SeriesMapping2[\"Auto\"] = \"auto\";\n  SeriesMapping2[\"Manual\"] = \"manual\";\n  return SeriesMapping2;\n})(SeriesMapping || {});\nvar XYShowMode = /* @__PURE__ */ ((XYShowMode2) => {\n  XYShowMode2[\"Lines\"] = \"lines\";\n  XYShowMode2[\"Points\"] = \"points\";\n  XYShowMode2[\"PointsAndLines\"] = \"points+lines\";\n  return XYShowMode2;\n})(XYShowMode || {});\nconst defaultMatcherConfig = {\n  id: \"\"\n};\nconst defaultFieldConfig = {\n  fillOpacity: 50,\n  show: \"points\" /* Points */\n};\nconst defaultOptions = {\n  series: []\n};\n\nexport { PointShape, SeriesMapping, XYShowMode, defaultFieldConfig, defaultMatcherConfig, defaultOptions, pluginVersion };\n","class StandardFieldConfigOverridesBuilder {\n  constructor() {\n    this._overrides = [];\n  }\n  overrideColor(value) {\n    this._overrides[this._overrides.length - 1].properties.push({ id: \"color\", value });\n    return this;\n  }\n  overrideDecimals(value) {\n    this._overrides[this._overrides.length - 1].properties.push({ id: \"decimals\", value });\n    return this;\n  }\n  overrideDisplayName(value) {\n    this._overrides[this._overrides.length - 1].properties.push({ id: \"displayName\", value });\n    return this;\n  }\n  overrideFilterable(value) {\n    this._overrides[this._overrides.length - 1].properties.push({ id: \"filterable\", value });\n    return this;\n  }\n  overrideLinks(value) {\n    this._overrides[this._overrides.length - 1].properties.push({ id: \"links\", value });\n    return this;\n  }\n  overrideMappings(value) {\n    this._overrides[this._overrides.length - 1].properties.push({ id: \"mappings\", value });\n    return this;\n  }\n  overrideMax(value) {\n    this._overrides[this._overrides.length - 1].properties.push({ id: \"max\", value });\n    return this;\n  }\n  overrideMin(value) {\n    this._overrides[this._overrides.length - 1].properties.push({ id: \"min\", value });\n    return this;\n  }\n  overrideNoValue(value) {\n    this._overrides[this._overrides.length - 1].properties.push({ id: \"noValue\", value });\n    return this;\n  }\n  overrideThresholds(value) {\n    this._overrides[this._overrides.length - 1].properties.push({ id: \"thresholds\", value });\n    return this;\n  }\n  overrideUnit(value) {\n    this._overrides[this._overrides.length - 1].properties.push({ id: \"unit\", value });\n    return this;\n  }\n}\n\nexport { StandardFieldConfigOverridesBuilder };\n//# sourceMappingURL=StandardFieldConfigBuilders.js.map\n","import { FieldMatcherID } from '@grafana/data';\nimport { getCompareSeriesRefId } from '../../utils/getCompareSeriesRefId.js';\nimport { StandardFieldConfigOverridesBuilder } from './StandardFieldConfigBuilders.js';\n\nclass FieldConfigOverridesBuilder extends StandardFieldConfigOverridesBuilder {\n  match(matcher) {\n    this._overrides.push({ matcher, properties: [] });\n    return this;\n  }\n  matchFieldsWithName(name) {\n    this._overrides.push({\n      matcher: {\n        id: FieldMatcherID.byName,\n        options: name\n      },\n      properties: []\n    });\n    return this;\n  }\n  matchFieldsWithNameByRegex(regex) {\n    this._overrides.push({\n      matcher: {\n        id: FieldMatcherID.byRegexp,\n        options: regex\n      },\n      properties: []\n    });\n    return this;\n  }\n  matchFieldsByType(fieldType) {\n    this._overrides.push({\n      matcher: {\n        id: FieldMatcherID.byType,\n        options: fieldType\n      },\n      properties: []\n    });\n    return this;\n  }\n  matchFieldsByQuery(refId) {\n    this._overrides.push({\n      matcher: {\n        id: FieldMatcherID.byFrameRefID,\n        options: refId\n      },\n      properties: []\n    });\n    return this;\n  }\n  matchFieldsByValue(options) {\n    this._overrides.push({\n      matcher: {\n        id: FieldMatcherID.byValue,\n        options\n      },\n      properties: []\n    });\n    return this;\n  }\n  matchComparisonQuery(refId) {\n    return this.matchFieldsByQuery(getCompareSeriesRefId(refId));\n  }\n  overrideCustomFieldConfig(id, value) {\n    const _id = `custom.${String(id)}`;\n    const last = this._overrides[this._overrides.length - 1];\n    last.properties.push({ id: _id, value });\n    return this;\n  }\n  build() {\n    return this._overrides;\n  }\n}\n\nexport { FieldConfigOverridesBuilder };\n//# sourceMappingURL=FieldConfigOverridesBuilder.js.map\n","import { cloneDeep, merge } from 'lodash';\nimport { FieldConfigOverridesBuilder } from './FieldConfigOverridesBuilder.js';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nclass FieldConfigBuilder {\n  constructor(defaultFieldConfig) {\n    this.defaultFieldConfig = defaultFieldConfig;\n    this._fieldConfig = {\n      defaults: {},\n      overrides: []\n    };\n    this._overridesBuilder = new FieldConfigOverridesBuilder();\n    this.setDefaults();\n  }\n  setDefaults() {\n    const fieldConfig = {\n      defaults: {\n        custom: this.defaultFieldConfig ? cloneDeep(this.defaultFieldConfig()) : {}\n      },\n      overrides: []\n    };\n    this._fieldConfig = fieldConfig;\n  }\n  setColor(color) {\n    return this.setFieldConfigDefaults(\"color\", color);\n  }\n  setDecimals(decimals) {\n    return this.setFieldConfigDefaults(\"decimals\", decimals);\n  }\n  setDisplayName(displayName) {\n    return this.setFieldConfigDefaults(\"displayName\", displayName);\n  }\n  setFilterable(filterable) {\n    return this.setFieldConfigDefaults(\"filterable\", filterable);\n  }\n  setLinks(links) {\n    return this.setFieldConfigDefaults(\"links\", links);\n  }\n  setMappings(mappings) {\n    return this.setFieldConfigDefaults(\"mappings\", mappings);\n  }\n  setMax(max) {\n    return this.setFieldConfigDefaults(\"max\", max);\n  }\n  setMin(min) {\n    return this.setFieldConfigDefaults(\"min\", min);\n  }\n  setNoValue(noValue) {\n    return this.setFieldConfigDefaults(\"noValue\", noValue);\n  }\n  setThresholds(thresholds) {\n    return this.setFieldConfigDefaults(\"thresholds\", thresholds);\n  }\n  setUnit(unit) {\n    return this.setFieldConfigDefaults(\"unit\", unit);\n  }\n  setCustomFieldConfig(id, value) {\n    this._fieldConfig.defaults = __spreadProps(__spreadValues({}, this._fieldConfig.defaults), {\n      custom: merge(this._fieldConfig.defaults.custom, { [id]: value })\n    });\n    return this;\n  }\n  setOverrides(builder) {\n    builder(this._overridesBuilder);\n    return this;\n  }\n  setFieldConfigDefaults(key, value) {\n    this._fieldConfig.defaults = __spreadProps(__spreadValues({}, this._fieldConfig.defaults), {\n      [key]: value\n    });\n    return this;\n  }\n  build() {\n    return {\n      defaults: this._fieldConfig.defaults,\n      overrides: this._overridesBuilder.build()\n    };\n  }\n}\n\nexport { FieldConfigBuilder };\n//# sourceMappingURL=FieldConfigBuilder.js.map\n","import { cloneDeep, merge } from 'lodash';\n\nclass PanelOptionsBuilder {\n  constructor(defaultOptions) {\n    this.defaultOptions = defaultOptions;\n    this._options = {};\n    this.setDefaults();\n  }\n  setDefaults() {\n    this._options = this.defaultOptions ? cloneDeep(this.defaultOptions()) : {};\n  }\n  setOption(id, value) {\n    this._options = merge(this._options, { [id]: value });\n    return this;\n  }\n  build() {\n    return this._options;\n  }\n}\n\nexport { PanelOptionsBuilder };\n//# sourceMappingURL=PanelOptionsBuilder.js.map\n","import { VizPanel } from '../../components/VizPanel/VizPanel.js';\nimport { FieldConfigBuilder } from './FieldConfigBuilder.js';\nimport { PanelOptionsBuilder } from './PanelOptionsBuilder.js';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nclass VizPanelBuilder {\n  constructor(pluginId, pluginVersion, defaultOptions, defaultFieldConfig) {\n    this._state = {};\n    this._state.title = \"\";\n    this._state.description = \"\";\n    this._state.displayMode = \"default\";\n    this._state.hoverHeader = false;\n    this._state.pluginId = pluginId;\n    this._state.pluginVersion = pluginVersion;\n    this._fieldConfigBuilder = new FieldConfigBuilder(defaultFieldConfig);\n    this._panelOptionsBuilder = new PanelOptionsBuilder(defaultOptions);\n  }\n  setTitle(title) {\n    this._state.title = title;\n    return this;\n  }\n  setDescription(description) {\n    this._state.description = description;\n    return this;\n  }\n  setDisplayMode(displayMode) {\n    this._state.displayMode = displayMode;\n    return this;\n  }\n  setHoverHeader(hoverHeader) {\n    this._state.hoverHeader = hoverHeader;\n    return this;\n  }\n  setMenu(menu) {\n    this._state.menu = menu;\n    return this;\n  }\n  setHeaderActions(headerActions) {\n    this._state.headerActions = headerActions;\n    return this;\n  }\n  setColor(color) {\n    this._fieldConfigBuilder.setColor(color);\n    return this;\n  }\n  setDecimals(decimals) {\n    this._fieldConfigBuilder.setDecimals(decimals);\n    return this;\n  }\n  setDisplayName(displayName) {\n    this._fieldConfigBuilder.setDisplayName(displayName);\n    return this;\n  }\n  setFilterable(filterable) {\n    this._fieldConfigBuilder.setFilterable(filterable);\n    return this;\n  }\n  setLinks(links) {\n    this._fieldConfigBuilder.setLinks(links);\n    return this;\n  }\n  setMappings(mappings) {\n    this._fieldConfigBuilder.setMappings(mappings);\n    return this;\n  }\n  setMax(max) {\n    this._fieldConfigBuilder.setMax(max);\n    return this;\n  }\n  setMin(min) {\n    this._fieldConfigBuilder.setMin(min);\n    return this;\n  }\n  setNoValue(noValue) {\n    this._fieldConfigBuilder.setNoValue(noValue);\n    return this;\n  }\n  setThresholds(thresholds) {\n    this._fieldConfigBuilder.setThresholds(thresholds);\n    return this;\n  }\n  setUnit(unit) {\n    this._fieldConfigBuilder.setUnit(unit);\n    return this;\n  }\n  setCustomFieldConfig(id, value) {\n    this._fieldConfigBuilder.setCustomFieldConfig(id, value);\n    return this;\n  }\n  setOverrides(builder) {\n    this._fieldConfigBuilder.setOverrides(builder);\n    return this;\n  }\n  setOption(id, value) {\n    this._panelOptionsBuilder.setOption(id, value);\n    return this;\n  }\n  setData(data) {\n    this._state.$data = data;\n    return this;\n  }\n  setTimeRange(timeRange) {\n    this._state.$timeRange = timeRange;\n    return this;\n  }\n  setVariables(variables) {\n    this._state.$variables = variables;\n    return this;\n  }\n  setBehaviors(behaviors) {\n    this._state.$behaviors = behaviors;\n    return this;\n  }\n  build() {\n    const panel = new VizPanel(__spreadProps(__spreadValues({}, this._state), {\n      options: this._panelOptionsBuilder.build(),\n      fieldConfig: this._fieldConfigBuilder.build()\n    }));\n    return panel;\n  }\n}\n\nexport { VizPanelBuilder };\n//# sourceMappingURL=VizPanelBuilder.js.map\n","import { defaultOptions, defaultFieldConfig } from '@grafana/schema/dist/esm/raw/composable/barchart/panelcfg/x/BarChartPanelCfg_types.gen';\nimport { defaultOptions as defaultOptions$1 } from '@grafana/schema/dist/esm/raw/composable/bargauge/panelcfg/x/BarGaugePanelCfg_types.gen';\nimport { defaultOptions as defaultOptions$2 } from '@grafana/schema/dist/esm/raw/composable/datagrid/panelcfg/x/DatagridPanelCfg_types.gen';\nimport { defaultOptions as defaultOptions$3 } from '@grafana/schema/dist/esm/raw/composable/gauge/panelcfg/x/GaugePanelCfg_types.gen';\nimport { defaultOptions as defaultOptions$4 } from '@grafana/schema/dist/esm/raw/composable/geomap/panelcfg/x/GeomapPanelCfg_types.gen';\nimport { defaultOptions as defaultOptions$5 } from '@grafana/schema/dist/esm/raw/composable/heatmap/panelcfg/x/HeatmapPanelCfg_types.gen';\nimport { defaultOptions as defaultOptions$6, defaultFieldConfig as defaultFieldConfig$1 } from '@grafana/schema/dist/esm/raw/composable/histogram/panelcfg/x/HistogramPanelCfg_types.gen';\nimport { defaultOptions as defaultOptions$7 } from '@grafana/schema/dist/esm/raw/composable/news/panelcfg/x/NewsPanelCfg_types.gen';\nimport { defaultOptions as defaultOptions$8 } from '@grafana/schema/dist/esm/raw/composable/piechart/panelcfg/x/PieChartPanelCfg_types.gen';\nimport { defaultOptions as defaultOptions$9 } from '@grafana/schema/dist/esm/raw/composable/stat/panelcfg/x/StatPanelCfg_types.gen';\nimport { defaultOptions as defaultOptions$a, defaultFieldConfig as defaultFieldConfig$2 } from '@grafana/schema/dist/esm/raw/composable/statetimeline/panelcfg/x/StateTimelinePanelCfg_types.gen';\nimport { defaultOptions as defaultOptions$b, defaultFieldConfig as defaultFieldConfig$3 } from '@grafana/schema/dist/esm/raw/composable/statushistory/panelcfg/x/StatusHistoryPanelCfg_types.gen';\nimport { defaultOptions as defaultOptions$c } from '@grafana/schema/dist/esm/raw/composable/table/panelcfg/x/TablePanelCfg_types.gen';\nimport { defaultOptions as defaultOptions$d } from '@grafana/schema/dist/esm/raw/composable/text/panelcfg/x/TextPanelCfg_types.gen';\nimport { defaultOptions as defaultOptions$e, defaultFieldConfig as defaultFieldConfig$4 } from '@grafana/schema/dist/esm/raw/composable/xychart/panelcfg/x/XYChartPanelCfg_types.gen';\nimport { VizPanelBuilder } from './VizPanelBuilder.js';\nimport 'lodash';\nimport '@grafana/data';\n\nconst PanelBuilders = {\n  barchart() {\n    return new VizPanelBuilder(\n      \"barchart\",\n      \"10.0.0\",\n      () => defaultOptions,\n      () => defaultFieldConfig\n    );\n  },\n  bargauge() {\n    return new VizPanelBuilder(\"bargauge\", \"10.0.0\", () => defaultOptions$1);\n  },\n  datagrid() {\n    return new VizPanelBuilder(\"datagrid\", \"10.0.0\", () => defaultOptions$2);\n  },\n  flamegraph() {\n    return new VizPanelBuilder(\"flamegraph\", \"10.0.0\");\n  },\n  gauge() {\n    return new VizPanelBuilder(\"gauge\", \"10.0.0\", () => defaultOptions$3);\n  },\n  geomap() {\n    return new VizPanelBuilder(\"geomap\", \"10.0.0\", () => defaultOptions$4);\n  },\n  heatmap() {\n    return new VizPanelBuilder(\"heatmap\", \"10.0.0\", () => defaultOptions$5);\n  },\n  histogram() {\n    return new VizPanelBuilder(\n      \"histogram\",\n      \"10.0.0\",\n      () => defaultOptions$6,\n      () => defaultFieldConfig$1\n    );\n  },\n  logs() {\n    return new VizPanelBuilder(\"logs\", \"10.0.0\");\n  },\n  news() {\n    return new VizPanelBuilder(\"news\", \"10.0.0\", () => defaultOptions$7);\n  },\n  nodegraph() {\n    return new VizPanelBuilder(\"nodeGraph\", \"10.0.0\");\n  },\n  piechart() {\n    return new VizPanelBuilder(\n      \"piechart\",\n      \"10.0.0\",\n      () => defaultOptions$8\n    );\n  },\n  stat() {\n    return new VizPanelBuilder(\"stat\", \"10.0.0\", () => defaultOptions$9);\n  },\n  statetimeline() {\n    return new VizPanelBuilder(\n      \"state-timeline\",\n      \"10.0.0\",\n      () => defaultOptions$a,\n      () => defaultFieldConfig$2\n    );\n  },\n  statushistory() {\n    return new VizPanelBuilder(\n      \"status-history\",\n      \"10.0.0\",\n      () => defaultOptions$b,\n      () => defaultFieldConfig$3\n    );\n  },\n  table() {\n    return new VizPanelBuilder(\"table\", \"10.0.0\", () => defaultOptions$c);\n  },\n  text() {\n    return new VizPanelBuilder(\"text\", \"10.0.0\", () => defaultOptions$d);\n  },\n  timeseries() {\n    return new VizPanelBuilder(\"timeseries\", \"10.0.0\");\n  },\n  trend() {\n    return new VizPanelBuilder(\"trend\", \"10.0.0\");\n  },\n  traces() {\n    return new VizPanelBuilder(\"traces\", \"10.0.0\");\n  },\n  xychart() {\n    return new VizPanelBuilder(\n      \"xychart\",\n      \"10.0.0\",\n      () => defaultOptions$e,\n      () => defaultFieldConfig$4\n    );\n  }\n};\n\nexport { PanelBuilders };\n//# sourceMappingURL=index.js.map\n","import { defaultOptions, defaultFieldConfig } from '@grafana/schema/dist/esm/raw/composable/barchart/panelcfg/x/BarChartPanelCfg_types.gen';\nimport { defaultOptions as defaultOptions$1 } from '@grafana/schema/dist/esm/raw/composable/bargauge/panelcfg/x/BarGaugePanelCfg_types.gen';\nimport { defaultOptions as defaultOptions$2 } from '@grafana/schema/dist/esm/raw/composable/datagrid/panelcfg/x/DatagridPanelCfg_types.gen';\nimport { defaultOptions as defaultOptions$3 } from '@grafana/schema/dist/esm/raw/composable/gauge/panelcfg/x/GaugePanelCfg_types.gen';\nimport { defaultOptions as defaultOptions$4 } from '@grafana/schema/dist/esm/raw/composable/geomap/panelcfg/x/GeomapPanelCfg_types.gen';\nimport { defaultOptions as defaultOptions$5 } from '@grafana/schema/dist/esm/raw/composable/heatmap/panelcfg/x/HeatmapPanelCfg_types.gen';\nimport { defaultOptions as defaultOptions$6, defaultFieldConfig as defaultFieldConfig$1 } from '@grafana/schema/dist/esm/raw/composable/histogram/panelcfg/x/HistogramPanelCfg_types.gen';\nimport { defaultOptions as defaultOptions$7 } from '@grafana/schema/dist/esm/raw/composable/news/panelcfg/x/NewsPanelCfg_types.gen';\nimport { defaultOptions as defaultOptions$8 } from '@grafana/schema/dist/esm/raw/composable/piechart/panelcfg/x/PieChartPanelCfg_types.gen';\nimport { defaultOptions as defaultOptions$9 } from '@grafana/schema/dist/esm/raw/composable/stat/panelcfg/x/StatPanelCfg_types.gen';\nimport { defaultOptions as defaultOptions$a, defaultFieldConfig as defaultFieldConfig$2 } from '@grafana/schema/dist/esm/raw/composable/statetimeline/panelcfg/x/StateTimelinePanelCfg_types.gen';\nimport { defaultOptions as defaultOptions$b, defaultFieldConfig as defaultFieldConfig$3 } from '@grafana/schema/dist/esm/raw/composable/statushistory/panelcfg/x/StatusHistoryPanelCfg_types.gen';\nimport { defaultOptions as defaultOptions$c } from '@grafana/schema/dist/esm/raw/composable/table/panelcfg/x/TablePanelCfg_types.gen';\nimport { defaultOptions as defaultOptions$d } from '@grafana/schema/dist/esm/raw/composable/text/panelcfg/x/TextPanelCfg_types.gen';\nimport { defaultOptions as defaultOptions$e, defaultFieldConfig as defaultFieldConfig$4 } from '@grafana/schema/dist/esm/raw/composable/xychart/panelcfg/x/XYChartPanelCfg_types.gen';\nimport { VizConfigBuilder } from './VizConfigBuilder.js';\n\nconst VizConfigBuilders = {\n  barchart() {\n    return new VizConfigBuilder(\n      \"barchart\",\n      \"10.0.0\",\n      () => defaultOptions,\n      () => defaultFieldConfig\n    );\n  },\n  bargauge() {\n    return new VizConfigBuilder(\"bargauge\", \"10.0.0\", () => defaultOptions$1);\n  },\n  datagrid() {\n    return new VizConfigBuilder(\"datagrid\", \"10.0.0\", () => defaultOptions$2);\n  },\n  flamegraph() {\n    return new VizConfigBuilder(\"flamegraph\", \"10.0.0\");\n  },\n  gauge() {\n    return new VizConfigBuilder(\"gauge\", \"10.0.0\", () => defaultOptions$3);\n  },\n  geomap() {\n    return new VizConfigBuilder(\"geomap\", \"10.0.0\", () => defaultOptions$4);\n  },\n  heatmap() {\n    return new VizConfigBuilder(\"heatmap\", \"10.0.0\", () => defaultOptions$5);\n  },\n  histogram() {\n    return new VizConfigBuilder(\n      \"histogram\",\n      \"10.0.0\",\n      () => defaultOptions$6,\n      () => defaultFieldConfig$1\n    );\n  },\n  logs() {\n    return new VizConfigBuilder(\"logs\", \"10.0.0\");\n  },\n  news() {\n    return new VizConfigBuilder(\"news\", \"10.0.0\", () => defaultOptions$7);\n  },\n  nodegraph() {\n    return new VizConfigBuilder(\"nodeGraph\", \"10.0.0\");\n  },\n  piechart() {\n    return new VizConfigBuilder(\n      \"piechart\",\n      \"10.0.0\",\n      () => defaultOptions$8\n    );\n  },\n  stat() {\n    return new VizConfigBuilder(\"stat\", \"10.0.0\", () => defaultOptions$9);\n  },\n  statetimeline() {\n    return new VizConfigBuilder(\n      \"state-timeline\",\n      \"10.0.0\",\n      () => defaultOptions$a,\n      () => defaultFieldConfig$2\n    );\n  },\n  statushistory() {\n    return new VizConfigBuilder(\n      \"status-history\",\n      \"10.0.0\",\n      () => defaultOptions$b,\n      () => defaultFieldConfig$3\n    );\n  },\n  table() {\n    return new VizConfigBuilder(\"table\", \"10.0.0\", () => defaultOptions$c);\n  },\n  text() {\n    return new VizConfigBuilder(\"text\", \"10.0.0\", () => defaultOptions$d);\n  },\n  timeseries() {\n    return new VizConfigBuilder(\"timeseries\", \"10.0.0\");\n  },\n  trend() {\n    return new VizConfigBuilder(\"trend\", \"10.0.0\");\n  },\n  traces() {\n    return new VizConfigBuilder(\"traces\", \"10.0.0\");\n  },\n  xychart() {\n    return new VizConfigBuilder(\n      \"xychart\",\n      \"10.0.0\",\n      () => defaultOptions$e,\n      () => defaultFieldConfig$4\n    );\n  }\n};\n\nexport { VizConfigBuilders };\n//# sourceMappingURL=VizConfigBuilders.js.map\n","import { getUrlWithAppState } from './components/SceneApp/utils.js';\nimport { registerRuntimePanelPlugin } from './components/VizPanel/registerRuntimePanelPlugin.js';\nimport { cloneSceneObjectState } from './core/sceneGraph/utils.js';\nimport { registerRuntimeDataSource } from './querying/RuntimeDataSource.js';\nexport { RuntimeDataSource, registerRuntimeDataSource } from './querying/RuntimeDataSource.js';\nimport { syncStateFromSearchParams, getUrlState } from './services/utils.js';\nimport { registerVariableMacro } from './variables/macros/index.js';\nimport { renderPrometheusLabelFilters } from './variables/utils.js';\nimport { isAdHocVariable, isConstantVariable, isCustomVariable, isDataSourceVariable, isIntervalVariable, isQueryVariable, isTextBoxVariable, isGroupByVariable } from './variables/variants/guards.js';\nexport { isDataLayer, isDataRequestEnricher, isFiltersRequestEnricher, isSceneObject } from './core/types.js';\nexport { SceneObjectStateChangedEvent, UserActionEvent } from './core/events.js';\nexport { sceneGraph } from './core/sceneGraph/index.js';\nimport * as index from './behaviors/index.js';\nexport { index as behaviors };\nimport * as index$1 from './querying/layers/index.js';\nexport { index$1 as dataLayers };\nexport { SceneObjectBase, useSceneObjectState } from './core/SceneObjectBase.js';\nexport { SceneDataNode } from './core/SceneDataNode.js';\nexport { SceneTimeRange } from './core/SceneTimeRange.js';\nexport { SceneTimeZoneOverride } from './core/SceneTimeZoneOverride.js';\nexport { SceneQueryRunner } from './querying/SceneQueryRunner.js';\nexport { SceneDataLayerSet, SceneDataLayerSetBase } from './querying/SceneDataLayerSet.js';\nexport { SceneDataLayerBase } from './querying/layers/SceneDataLayerBase.js';\nexport { SceneDataLayerControls } from './querying/layers/SceneDataLayerControls.js';\nexport { SceneDataTransformer } from './querying/SceneDataTransformer.js';\nexport { registerQueryWithController } from './querying/registerQueryWithController.js';\nexport { SceneVariableValueChangedEvent, isCustomVariableValue } from './variables/types.js';\nexport { VariableDependencyConfig } from './variables/VariableDependencyConfig.js';\nexport { formatRegistry } from './variables/interpolation/formatRegistry.js';\nexport { VariableValueSelectWrapper, VariableValueSelectors } from './variables/components/VariableValueSelectors.js';\nexport { VariableValueControl } from './variables/components/VariableValueControl.js';\nexport { SceneVariableSet } from './variables/sets/SceneVariableSet.js';\nexport { ConstantVariable } from './variables/variants/ConstantVariable.js';\nexport { CustomVariable } from './variables/variants/CustomVariable.js';\nexport { DataSourceVariable } from './variables/variants/DataSourceVariable.js';\nexport { QueryVariable } from './variables/variants/query/QueryVariable.js';\nexport { TestVariable } from './variables/variants/TestVariable.js';\nexport { TextBoxVariable } from './variables/variants/TextBoxVariable.js';\nexport { MultiValueVariable } from './variables/variants/MultiValueVariable.js';\nexport { LocalValueVariable } from './variables/variants/LocalValueVariable.js';\nexport { IntervalVariable } from './variables/variants/IntervalVariable.js';\nexport { AdHocFiltersVariable } from './variables/adhoc/AdHocFiltersVariable.js';\nexport { GroupByVariable } from './variables/groupby/GroupByVariable.js';\nexport { UrlSyncManager, getUrlSyncManager } from './services/UrlSyncManager.js';\nexport { SceneObjectUrlSyncConfig } from './services/SceneObjectUrlSyncConfig.js';\nexport { EmbeddedScene } from './components/EmbeddedScene.js';\nexport { VizPanel } from './components/VizPanel/VizPanel.js';\nexport { VizPanelMenu } from './components/VizPanel/VizPanelMenu.js';\nexport { NestedScene } from './components/NestedScene.js';\nexport { SceneCanvasText } from './components/SceneCanvasText.js';\nexport { SceneToolbarButton, SceneToolbarInput } from './components/SceneToolbarButton.js';\nexport { SceneTimePicker } from './components/SceneTimePicker.js';\nexport { SceneRefreshPicker } from './components/SceneRefreshPicker.js';\nexport { SceneTimeRangeTransformerBase } from './core/SceneTimeRangeTransformerBase.js';\nexport { SceneTimeRangeCompare } from './components/SceneTimeRangeCompare.js';\nexport { SceneByFrameRepeater } from './components/SceneByFrameRepeater.js';\nexport { SceneByVariableRepeater } from './components/SceneByVariableRepeater.js';\nexport { SceneControlsSpacer } from './components/SceneControlsSpacer.js';\nexport { SceneFlexItem, SceneFlexLayout } from './components/layout/SceneFlexLayout.js';\nexport { SceneCSSGridItem, SceneCSSGridLayout } from './components/layout/CSSGrid/SceneCSSGridLayout.js';\nexport { SceneGridLayout } from './components/layout/grid/SceneGridLayout.js';\nexport { SceneGridItem } from './components/layout/grid/SceneGridItem.js';\nexport { SceneGridRow } from './components/layout/grid/SceneGridRow.js';\nexport { SplitLayout } from './components/layout/split/SplitLayout.js';\nexport { SceneApp, useSceneApp } from './components/SceneApp/SceneApp.js';\nexport { SceneAppPage } from './components/SceneApp/SceneAppPage.js';\nexport { SceneReactObject } from './components/SceneReactObject.js';\nexport { SceneObjectRef } from './core/SceneObjectRef.js';\nexport { PanelBuilders } from './core/PanelBuilders/index.js';\nexport { FieldConfigBuilder } from './core/PanelBuilders/FieldConfigBuilder.js';\nexport { VizPanelBuilder } from './core/PanelBuilders/VizPanelBuilder.js';\nexport { SceneDebugger } from './components/SceneDebugger/SceneDebugger.js';\nexport { renderSelectForVariable } from './variables/components/VariableValueSelect.js';\nexport { VizConfigBuilder } from './core/PanelBuilders/VizConfigBuilder.js';\nexport { VizConfigBuilders } from './core/PanelBuilders/VizConfigBuilders.js';\nexport { PanelOptionsBuilders } from './core/PanelBuilders/PanelOptionsBuilders.js';\nexport { FieldConfigBuilders } from './core/PanelBuilders/FieldConfigBuilders.js';\nexport { FieldConfigOverridesBuilder } from './core/PanelBuilders/FieldConfigOverridesBuilder.js';\n\nconst sceneUtils = {\n  getUrlWithAppState,\n  registerRuntimePanelPlugin,\n  registerRuntimeDataSource,\n  registerVariableMacro,\n  cloneSceneObjectState,\n  syncStateFromSearchParams,\n  getUrlState,\n  renderPrometheusLabelFilters,\n  isAdHocVariable,\n  isConstantVariable,\n  isCustomVariable,\n  isDataSourceVariable,\n  isIntervalVariable,\n  isQueryVariable,\n  isTextBoxVariable,\n  isGroupByVariable\n};\n\nexport { sceneUtils };\n//# sourceMappingURL=index.js.map\n","function isAdHocVariable(variable) {\n  return variable.state.type === \"adhoc\";\n}\nfunction isConstantVariable(variable) {\n  return variable.state.type === \"constant\";\n}\nfunction isCustomVariable(variable) {\n  return variable.state.type === \"custom\";\n}\nfunction isDataSourceVariable(variable) {\n  return variable.state.type === \"datasource\";\n}\nfunction isIntervalVariable(variable) {\n  return variable.state.type === \"interval\";\n}\nfunction isQueryVariable(variable) {\n  return variable.state.type === \"query\";\n}\nfunction isTextBoxVariable(variable) {\n  return variable.state.type === \"textbox\";\n}\nfunction isGroupByVariable(variable) {\n  return variable.state.type === \"groupby\";\n}\n\nexport { isAdHocVariable, isConstantVariable, isCustomVariable, isDataSourceVariable, isGroupByVariable, isIntervalVariable, isQueryVariable, isTextBoxVariable };\n//# sourceMappingURL=guards.js.map\n","\"use strict\";\r\nmodule.exports = asPromise;\r\n\r\n/**\r\n * Callback as used by {@link util.asPromise}.\r\n * @typedef asPromiseCallback\r\n * @type {function}\r\n * @param {Error|null} error Error, if any\r\n * @param {...*} params Additional arguments\r\n * @returns {undefined}\r\n */\r\n\r\n/**\r\n * Returns a promise from a node-style callback function.\r\n * @memberof util\r\n * @param {asPromiseCallback} fn Function to call\r\n * @param {*} ctx Function context\r\n * @param {...*} params Function arguments\r\n * @returns {Promise<*>} Promisified function\r\n */\r\nfunction asPromise(fn, ctx/*, varargs */) {\r\n    var params  = new Array(arguments.length - 1),\r\n        offset  = 0,\r\n        index   = 2,\r\n        pending = true;\r\n    while (index < arguments.length)\r\n        params[offset++] = arguments[index++];\r\n    return new Promise(function executor(resolve, reject) {\r\n        params[offset] = function callback(err/*, varargs */) {\r\n            if (pending) {\r\n                pending = false;\r\n                if (err)\r\n                    reject(err);\r\n                else {\r\n                    var params = new Array(arguments.length - 1),\r\n                        offset = 0;\r\n                    while (offset < params.length)\r\n                        params[offset++] = arguments[offset];\r\n                    resolve.apply(null, params);\r\n                }\r\n            }\r\n        };\r\n        try {\r\n            fn.apply(ctx || null, params);\r\n        } catch (err) {\r\n            if (pending) {\r\n                pending = false;\r\n                reject(err);\r\n            }\r\n        }\r\n    });\r\n}\r\n","\"use strict\";\r\n\r\n/**\r\n * A minimal base64 implementation for number arrays.\r\n * @memberof util\r\n * @namespace\r\n */\r\nvar base64 = exports;\r\n\r\n/**\r\n * Calculates the byte length of a base64 encoded string.\r\n * @param {string} string Base64 encoded string\r\n * @returns {number} Byte length\r\n */\r\nbase64.length = function length(string) {\r\n    var p = string.length;\r\n    if (!p)\r\n        return 0;\r\n    var n = 0;\r\n    while (--p % 4 > 1 && string.charAt(p) === \"=\")\r\n        ++n;\r\n    return Math.ceil(string.length * 3) / 4 - n;\r\n};\r\n\r\n// Base64 encoding table\r\nvar b64 = new Array(64);\r\n\r\n// Base64 decoding table\r\nvar s64 = new Array(123);\r\n\r\n// 65..90, 97..122, 48..57, 43, 47\r\nfor (var i = 0; i < 64;)\r\n    s64[b64[i] = i < 26 ? i + 65 : i < 52 ? i + 71 : i < 62 ? i - 4 : i - 59 | 43] = i++;\r\n\r\n/**\r\n * Encodes a buffer to a base64 encoded string.\r\n * @param {Uint8Array} buffer Source buffer\r\n * @param {number} start Source start\r\n * @param {number} end Source end\r\n * @returns {string} Base64 encoded string\r\n */\r\nbase64.encode = function encode(buffer, start, end) {\r\n    var parts = null,\r\n        chunk = [];\r\n    var i = 0, // output index\r\n        j = 0, // goto index\r\n        t;     // temporary\r\n    while (start < end) {\r\n        var b = buffer[start++];\r\n        switch (j) {\r\n            case 0:\r\n                chunk[i++] = b64[b >> 2];\r\n                t = (b & 3) << 4;\r\n                j = 1;\r\n                break;\r\n            case 1:\r\n                chunk[i++] = b64[t | b >> 4];\r\n                t = (b & 15) << 2;\r\n                j = 2;\r\n                break;\r\n            case 2:\r\n                chunk[i++] = b64[t | b >> 6];\r\n                chunk[i++] = b64[b & 63];\r\n                j = 0;\r\n                break;\r\n        }\r\n        if (i > 8191) {\r\n            (parts || (parts = [])).push(String.fromCharCode.apply(String, chunk));\r\n            i = 0;\r\n        }\r\n    }\r\n    if (j) {\r\n        chunk[i++] = b64[t];\r\n        chunk[i++] = 61;\r\n        if (j === 1)\r\n            chunk[i++] = 61;\r\n    }\r\n    if (parts) {\r\n        if (i)\r\n            parts.push(String.fromCharCode.apply(String, chunk.slice(0, i)));\r\n        return parts.join(\"\");\r\n    }\r\n    return String.fromCharCode.apply(String, chunk.slice(0, i));\r\n};\r\n\r\nvar invalidEncoding = \"invalid encoding\";\r\n\r\n/**\r\n * Decodes a base64 encoded string to a buffer.\r\n * @param {string} string Source string\r\n * @param {Uint8Array} buffer Destination buffer\r\n * @param {number} offset Destination offset\r\n * @returns {number} Number of bytes written\r\n * @throws {Error} If encoding is invalid\r\n */\r\nbase64.decode = function decode(string, buffer, offset) {\r\n    var start = offset;\r\n    var j = 0, // goto index\r\n        t;     // temporary\r\n    for (var i = 0; i < string.length;) {\r\n        var c = string.charCodeAt(i++);\r\n        if (c === 61 && j > 1)\r\n            break;\r\n        if ((c = s64[c]) === undefined)\r\n            throw Error(invalidEncoding);\r\n        switch (j) {\r\n            case 0:\r\n                t = c;\r\n                j = 1;\r\n                break;\r\n            case 1:\r\n                buffer[offset++] = t << 2 | (c & 48) >> 4;\r\n                t = c;\r\n                j = 2;\r\n                break;\r\n            case 2:\r\n                buffer[offset++] = (t & 15) << 4 | (c & 60) >> 2;\r\n                t = c;\r\n                j = 3;\r\n                break;\r\n            case 3:\r\n                buffer[offset++] = (t & 3) << 6 | c;\r\n                j = 0;\r\n                break;\r\n        }\r\n    }\r\n    if (j === 1)\r\n        throw Error(invalidEncoding);\r\n    return offset - start;\r\n};\r\n\r\n/**\r\n * Tests if the specified string appears to be base64 encoded.\r\n * @param {string} string String to test\r\n * @returns {boolean} `true` if probably base64 encoded, otherwise false\r\n */\r\nbase64.test = function test(string) {\r\n    return /^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(string);\r\n};\r\n","\"use strict\";\r\nmodule.exports = codegen;\r\n\r\n/**\r\n * Begins generating a function.\r\n * @memberof util\r\n * @param {string[]} functionParams Function parameter names\r\n * @param {string} [functionName] Function name if not anonymous\r\n * @returns {Codegen} Appender that appends code to the function's body\r\n */\r\nfunction codegen(functionParams, functionName) {\r\n\r\n    /* istanbul ignore if */\r\n    if (typeof functionParams === \"string\") {\r\n        functionName = functionParams;\r\n        functionParams = undefined;\r\n    }\r\n\r\n    var body = [];\r\n\r\n    /**\r\n     * Appends code to the function's body or finishes generation.\r\n     * @typedef Codegen\r\n     * @type {function}\r\n     * @param {string|Object.<string,*>} [formatStringOrScope] Format string or, to finish the function, an object of additional scope variables, if any\r\n     * @param {...*} [formatParams] Format parameters\r\n     * @returns {Codegen|Function} Itself or the generated function if finished\r\n     * @throws {Error} If format parameter counts do not match\r\n     */\r\n\r\n    function Codegen(formatStringOrScope) {\r\n        // note that explicit array handling below makes this ~50% faster\r\n\r\n        // finish the function\r\n        if (typeof formatStringOrScope !== \"string\") {\r\n            var source = toString();\r\n            if (codegen.verbose)\r\n                console.log(\"codegen: \" + source); // eslint-disable-line no-console\r\n            source = \"return \" + source;\r\n            if (formatStringOrScope) {\r\n                var scopeKeys   = Object.keys(formatStringOrScope),\r\n                    scopeParams = new Array(scopeKeys.length + 1),\r\n                    scopeValues = new Array(scopeKeys.length),\r\n                    scopeOffset = 0;\r\n                while (scopeOffset < scopeKeys.length) {\r\n                    scopeParams[scopeOffset] = scopeKeys[scopeOffset];\r\n                    scopeValues[scopeOffset] = formatStringOrScope[scopeKeys[scopeOffset++]];\r\n                }\r\n                scopeParams[scopeOffset] = source;\r\n                return Function.apply(null, scopeParams).apply(null, scopeValues); // eslint-disable-line no-new-func\r\n            }\r\n            return Function(source)(); // eslint-disable-line no-new-func\r\n        }\r\n\r\n        // otherwise append to body\r\n        var formatParams = new Array(arguments.length - 1),\r\n            formatOffset = 0;\r\n        while (formatOffset < formatParams.length)\r\n            formatParams[formatOffset] = arguments[++formatOffset];\r\n        formatOffset = 0;\r\n        formatStringOrScope = formatStringOrScope.replace(/%([%dfijs])/g, function replace($0, $1) {\r\n            var value = formatParams[formatOffset++];\r\n            switch ($1) {\r\n                case \"d\": case \"f\": return String(Number(value));\r\n                case \"i\": return String(Math.floor(value));\r\n                case \"j\": return JSON.stringify(value);\r\n                case \"s\": return String(value);\r\n            }\r\n            return \"%\";\r\n        });\r\n        if (formatOffset !== formatParams.length)\r\n            throw Error(\"parameter count mismatch\");\r\n        body.push(formatStringOrScope);\r\n        return Codegen;\r\n    }\r\n\r\n    function toString(functionNameOverride) {\r\n        return \"function \" + (functionNameOverride || functionName || \"\") + \"(\" + (functionParams && functionParams.join(\",\") || \"\") + \"){\\n  \" + body.join(\"\\n  \") + \"\\n}\";\r\n    }\r\n\r\n    Codegen.toString = toString;\r\n    return Codegen;\r\n}\r\n\r\n/**\r\n * Begins generating a function.\r\n * @memberof util\r\n * @function codegen\r\n * @param {string} [functionName] Function name if not anonymous\r\n * @returns {Codegen} Appender that appends code to the function's body\r\n * @variation 2\r\n */\r\n\r\n/**\r\n * When set to `true`, codegen will log generated code to console. Useful for debugging.\r\n * @name util.codegen.verbose\r\n * @type {boolean}\r\n */\r\ncodegen.verbose = false;\r\n","\"use strict\";\r\nmodule.exports = EventEmitter;\r\n\r\n/**\r\n * Constructs a new event emitter instance.\r\n * @classdesc A minimal event emitter.\r\n * @memberof util\r\n * @constructor\r\n */\r\nfunction EventEmitter() {\r\n\r\n    /**\r\n     * Registered listeners.\r\n     * @type {Object.<string,*>}\r\n     * @private\r\n     */\r\n    this._listeners = {};\r\n}\r\n\r\n/**\r\n * Registers an event listener.\r\n * @param {string} evt Event name\r\n * @param {function} fn Listener\r\n * @param {*} [ctx] Listener context\r\n * @returns {util.EventEmitter} `this`\r\n */\r\nEventEmitter.prototype.on = function on(evt, fn, ctx) {\r\n    (this._listeners[evt] || (this._listeners[evt] = [])).push({\r\n        fn  : fn,\r\n        ctx : ctx || this\r\n    });\r\n    return this;\r\n};\r\n\r\n/**\r\n * Removes an event listener or any matching listeners if arguments are omitted.\r\n * @param {string} [evt] Event name. Removes all listeners if omitted.\r\n * @param {function} [fn] Listener to remove. Removes all listeners of `evt` if omitted.\r\n * @returns {util.EventEmitter} `this`\r\n */\r\nEventEmitter.prototype.off = function off(evt, fn) {\r\n    if (evt === undefined)\r\n        this._listeners = {};\r\n    else {\r\n        if (fn === undefined)\r\n            this._listeners[evt] = [];\r\n        else {\r\n            var listeners = this._listeners[evt];\r\n            for (var i = 0; i < listeners.length;)\r\n                if (listeners[i].fn === fn)\r\n                    listeners.splice(i, 1);\r\n                else\r\n                    ++i;\r\n        }\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Emits an event by calling its listeners with the specified arguments.\r\n * @param {string} evt Event name\r\n * @param {...*} args Arguments\r\n * @returns {util.EventEmitter} `this`\r\n */\r\nEventEmitter.prototype.emit = function emit(evt) {\r\n    var listeners = this._listeners[evt];\r\n    if (listeners) {\r\n        var args = [],\r\n            i = 1;\r\n        for (; i < arguments.length;)\r\n            args.push(arguments[i++]);\r\n        for (i = 0; i < listeners.length;)\r\n            listeners[i].fn.apply(listeners[i++].ctx, args);\r\n    }\r\n    return this;\r\n};\r\n","\"use strict\";\r\nmodule.exports = fetch;\r\n\r\nvar asPromise = require(\"@protobufjs/aspromise\"),\r\n    inquire   = require(\"@protobufjs/inquire\");\r\n\r\nvar fs = inquire(\"fs\");\r\n\r\n/**\r\n * Node-style callback as used by {@link util.fetch}.\r\n * @typedef FetchCallback\r\n * @type {function}\r\n * @param {?Error} error Error, if any, otherwise `null`\r\n * @param {string} [contents] File contents, if there hasn't been an error\r\n * @returns {undefined}\r\n */\r\n\r\n/**\r\n * Options as used by {@link util.fetch}.\r\n * @typedef FetchOptions\r\n * @type {Object}\r\n * @property {boolean} [binary=false] Whether expecting a binary response\r\n * @property {boolean} [xhr=false] If `true`, forces the use of XMLHttpRequest\r\n */\r\n\r\n/**\r\n * Fetches the contents of a file.\r\n * @memberof util\r\n * @param {string} filename File path or url\r\n * @param {FetchOptions} options Fetch options\r\n * @param {FetchCallback} callback Callback function\r\n * @returns {undefined}\r\n */\r\nfunction fetch(filename, options, callback) {\r\n    if (typeof options === \"function\") {\r\n        callback = options;\r\n        options = {};\r\n    } else if (!options)\r\n        options = {};\r\n\r\n    if (!callback)\r\n        return asPromise(fetch, this, filename, options); // eslint-disable-line no-invalid-this\r\n\r\n    // if a node-like filesystem is present, try it first but fall back to XHR if nothing is found.\r\n    if (!options.xhr && fs && fs.readFile)\r\n        return fs.readFile(filename, function fetchReadFileCallback(err, contents) {\r\n            return err && typeof XMLHttpRequest !== \"undefined\"\r\n                ? fetch.xhr(filename, options, callback)\r\n                : err\r\n                ? callback(err)\r\n                : callback(null, options.binary ? contents : contents.toString(\"utf8\"));\r\n        });\r\n\r\n    // use the XHR version otherwise.\r\n    return fetch.xhr(filename, options, callback);\r\n}\r\n\r\n/**\r\n * Fetches the contents of a file.\r\n * @name util.fetch\r\n * @function\r\n * @param {string} path File path or url\r\n * @param {FetchCallback} callback Callback function\r\n * @returns {undefined}\r\n * @variation 2\r\n */\r\n\r\n/**\r\n * Fetches the contents of a file.\r\n * @name util.fetch\r\n * @function\r\n * @param {string} path File path or url\r\n * @param {FetchOptions} [options] Fetch options\r\n * @returns {Promise<string|Uint8Array>} Promise\r\n * @variation 3\r\n */\r\n\r\n/**/\r\nfetch.xhr = function fetch_xhr(filename, options, callback) {\r\n    var xhr = new XMLHttpRequest();\r\n    xhr.onreadystatechange /* works everywhere */ = function fetchOnReadyStateChange() {\r\n\r\n        if (xhr.readyState !== 4)\r\n            return undefined;\r\n\r\n        // local cors security errors return status 0 / empty string, too. afaik this cannot be\r\n        // reliably distinguished from an actually empty file for security reasons. feel free\r\n        // to send a pull request if you are aware of a solution.\r\n        if (xhr.status !== 0 && xhr.status !== 200)\r\n            return callback(Error(\"status \" + xhr.status));\r\n\r\n        // if binary data is expected, make sure that some sort of array is returned, even if\r\n        // ArrayBuffers are not supported. the binary string fallback, however, is unsafe.\r\n        if (options.binary) {\r\n            var buffer = xhr.response;\r\n            if (!buffer) {\r\n                buffer = [];\r\n                for (var i = 0; i < xhr.responseText.length; ++i)\r\n                    buffer.push(xhr.responseText.charCodeAt(i) & 255);\r\n            }\r\n            return callback(null, typeof Uint8Array !== \"undefined\" ? new Uint8Array(buffer) : buffer);\r\n        }\r\n        return callback(null, xhr.responseText);\r\n    };\r\n\r\n    if (options.binary) {\r\n        // ref: https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/Sending_and_Receiving_Binary_Data#Receiving_binary_data_in_older_browsers\r\n        if (\"overrideMimeType\" in xhr)\r\n            xhr.overrideMimeType(\"text/plain; charset=x-user-defined\");\r\n        xhr.responseType = \"arraybuffer\";\r\n    }\r\n\r\n    xhr.open(\"GET\", filename);\r\n    xhr.send();\r\n};\r\n","\"use strict\";\r\n\r\nmodule.exports = factory(factory);\r\n\r\n/**\r\n * Reads / writes floats / doubles from / to buffers.\r\n * @name util.float\r\n * @namespace\r\n */\r\n\r\n/**\r\n * Writes a 32 bit float to a buffer using little endian byte order.\r\n * @name util.float.writeFloatLE\r\n * @function\r\n * @param {number} val Value to write\r\n * @param {Uint8Array} buf Target buffer\r\n * @param {number} pos Target buffer offset\r\n * @returns {undefined}\r\n */\r\n\r\n/**\r\n * Writes a 32 bit float to a buffer using big endian byte order.\r\n * @name util.float.writeFloatBE\r\n * @function\r\n * @param {number} val Value to write\r\n * @param {Uint8Array} buf Target buffer\r\n * @param {number} pos Target buffer offset\r\n * @returns {undefined}\r\n */\r\n\r\n/**\r\n * Reads a 32 bit float from a buffer using little endian byte order.\r\n * @name util.float.readFloatLE\r\n * @function\r\n * @param {Uint8Array} buf Source buffer\r\n * @param {number} pos Source buffer offset\r\n * @returns {number} Value read\r\n */\r\n\r\n/**\r\n * Reads a 32 bit float from a buffer using big endian byte order.\r\n * @name util.float.readFloatBE\r\n * @function\r\n * @param {Uint8Array} buf Source buffer\r\n * @param {number} pos Source buffer offset\r\n * @returns {number} Value read\r\n */\r\n\r\n/**\r\n * Writes a 64 bit double to a buffer using little endian byte order.\r\n * @name util.float.writeDoubleLE\r\n * @function\r\n * @param {number} val Value to write\r\n * @param {Uint8Array} buf Target buffer\r\n * @param {number} pos Target buffer offset\r\n * @returns {undefined}\r\n */\r\n\r\n/**\r\n * Writes a 64 bit double to a buffer using big endian byte order.\r\n * @name util.float.writeDoubleBE\r\n * @function\r\n * @param {number} val Value to write\r\n * @param {Uint8Array} buf Target buffer\r\n * @param {number} pos Target buffer offset\r\n * @returns {undefined}\r\n */\r\n\r\n/**\r\n * Reads a 64 bit double from a buffer using little endian byte order.\r\n * @name util.float.readDoubleLE\r\n * @function\r\n * @param {Uint8Array} buf Source buffer\r\n * @param {number} pos Source buffer offset\r\n * @returns {number} Value read\r\n */\r\n\r\n/**\r\n * Reads a 64 bit double from a buffer using big endian byte order.\r\n * @name util.float.readDoubleBE\r\n * @function\r\n * @param {Uint8Array} buf Source buffer\r\n * @param {number} pos Source buffer offset\r\n * @returns {number} Value read\r\n */\r\n\r\n// Factory function for the purpose of node-based testing in modified global environments\r\nfunction factory(exports) {\r\n\r\n    // float: typed array\r\n    if (typeof Float32Array !== \"undefined\") (function() {\r\n\r\n        var f32 = new Float32Array([ -0 ]),\r\n            f8b = new Uint8Array(f32.buffer),\r\n            le  = f8b[3] === 128;\r\n\r\n        function writeFloat_f32_cpy(val, buf, pos) {\r\n            f32[0] = val;\r\n            buf[pos    ] = f8b[0];\r\n            buf[pos + 1] = f8b[1];\r\n            buf[pos + 2] = f8b[2];\r\n            buf[pos + 3] = f8b[3];\r\n        }\r\n\r\n        function writeFloat_f32_rev(val, buf, pos) {\r\n            f32[0] = val;\r\n            buf[pos    ] = f8b[3];\r\n            buf[pos + 1] = f8b[2];\r\n            buf[pos + 2] = f8b[1];\r\n            buf[pos + 3] = f8b[0];\r\n        }\r\n\r\n        /* istanbul ignore next */\r\n        exports.writeFloatLE = le ? writeFloat_f32_cpy : writeFloat_f32_rev;\r\n        /* istanbul ignore next */\r\n        exports.writeFloatBE = le ? writeFloat_f32_rev : writeFloat_f32_cpy;\r\n\r\n        function readFloat_f32_cpy(buf, pos) {\r\n            f8b[0] = buf[pos    ];\r\n            f8b[1] = buf[pos + 1];\r\n            f8b[2] = buf[pos + 2];\r\n            f8b[3] = buf[pos + 3];\r\n            return f32[0];\r\n        }\r\n\r\n        function readFloat_f32_rev(buf, pos) {\r\n            f8b[3] = buf[pos    ];\r\n            f8b[2] = buf[pos + 1];\r\n            f8b[1] = buf[pos + 2];\r\n            f8b[0] = buf[pos + 3];\r\n            return f32[0];\r\n        }\r\n\r\n        /* istanbul ignore next */\r\n        exports.readFloatLE = le ? readFloat_f32_cpy : readFloat_f32_rev;\r\n        /* istanbul ignore next */\r\n        exports.readFloatBE = le ? readFloat_f32_rev : readFloat_f32_cpy;\r\n\r\n    // float: ieee754\r\n    })(); else (function() {\r\n\r\n        function writeFloat_ieee754(writeUint, val, buf, pos) {\r\n            var sign = val < 0 ? 1 : 0;\r\n            if (sign)\r\n                val = -val;\r\n            if (val === 0)\r\n                writeUint(1 / val > 0 ? /* positive */ 0 : /* negative 0 */ 2147483648, buf, pos);\r\n            else if (isNaN(val))\r\n                writeUint(2143289344, buf, pos);\r\n            else if (val > 3.4028234663852886e+38) // +-Infinity\r\n                writeUint((sign << 31 | 2139095040) >>> 0, buf, pos);\r\n            else if (val < 1.1754943508222875e-38) // denormal\r\n                writeUint((sign << 31 | Math.round(val / 1.401298464324817e-45)) >>> 0, buf, pos);\r\n            else {\r\n                var exponent = Math.floor(Math.log(val) / Math.LN2),\r\n                    mantissa = Math.round(val * Math.pow(2, -exponent) * 8388608) & 8388607;\r\n                writeUint((sign << 31 | exponent + 127 << 23 | mantissa) >>> 0, buf, pos);\r\n            }\r\n        }\r\n\r\n        exports.writeFloatLE = writeFloat_ieee754.bind(null, writeUintLE);\r\n        exports.writeFloatBE = writeFloat_ieee754.bind(null, writeUintBE);\r\n\r\n        function readFloat_ieee754(readUint, buf, pos) {\r\n            var uint = readUint(buf, pos),\r\n                sign = (uint >> 31) * 2 + 1,\r\n                exponent = uint >>> 23 & 255,\r\n                mantissa = uint & 8388607;\r\n            return exponent === 255\r\n                ? mantissa\r\n                ? NaN\r\n                : sign * Infinity\r\n                : exponent === 0 // denormal\r\n                ? sign * 1.401298464324817e-45 * mantissa\r\n                : sign * Math.pow(2, exponent - 150) * (mantissa + 8388608);\r\n        }\r\n\r\n        exports.readFloatLE = readFloat_ieee754.bind(null, readUintLE);\r\n        exports.readFloatBE = readFloat_ieee754.bind(null, readUintBE);\r\n\r\n    })();\r\n\r\n    // double: typed array\r\n    if (typeof Float64Array !== \"undefined\") (function() {\r\n\r\n        var f64 = new Float64Array([-0]),\r\n            f8b = new Uint8Array(f64.buffer),\r\n            le  = f8b[7] === 128;\r\n\r\n        function writeDouble_f64_cpy(val, buf, pos) {\r\n            f64[0] = val;\r\n            buf[pos    ] = f8b[0];\r\n            buf[pos + 1] = f8b[1];\r\n            buf[pos + 2] = f8b[2];\r\n            buf[pos + 3] = f8b[3];\r\n            buf[pos + 4] = f8b[4];\r\n            buf[pos + 5] = f8b[5];\r\n            buf[pos + 6] = f8b[6];\r\n            buf[pos + 7] = f8b[7];\r\n        }\r\n\r\n        function writeDouble_f64_rev(val, buf, pos) {\r\n            f64[0] = val;\r\n            buf[pos    ] = f8b[7];\r\n            buf[pos + 1] = f8b[6];\r\n            buf[pos + 2] = f8b[5];\r\n            buf[pos + 3] = f8b[4];\r\n            buf[pos + 4] = f8b[3];\r\n            buf[pos + 5] = f8b[2];\r\n            buf[pos + 6] = f8b[1];\r\n            buf[pos + 7] = f8b[0];\r\n        }\r\n\r\n        /* istanbul ignore next */\r\n        exports.writeDoubleLE = le ? writeDouble_f64_cpy : writeDouble_f64_rev;\r\n        /* istanbul ignore next */\r\n        exports.writeDoubleBE = le ? writeDouble_f64_rev : writeDouble_f64_cpy;\r\n\r\n        function readDouble_f64_cpy(buf, pos) {\r\n            f8b[0] = buf[pos    ];\r\n            f8b[1] = buf[pos + 1];\r\n            f8b[2] = buf[pos + 2];\r\n            f8b[3] = buf[pos + 3];\r\n            f8b[4] = buf[pos + 4];\r\n            f8b[5] = buf[pos + 5];\r\n            f8b[6] = buf[pos + 6];\r\n            f8b[7] = buf[pos + 7];\r\n            return f64[0];\r\n        }\r\n\r\n        function readDouble_f64_rev(buf, pos) {\r\n            f8b[7] = buf[pos    ];\r\n            f8b[6] = buf[pos + 1];\r\n            f8b[5] = buf[pos + 2];\r\n            f8b[4] = buf[pos + 3];\r\n            f8b[3] = buf[pos + 4];\r\n            f8b[2] = buf[pos + 5];\r\n            f8b[1] = buf[pos + 6];\r\n            f8b[0] = buf[pos + 7];\r\n            return f64[0];\r\n        }\r\n\r\n        /* istanbul ignore next */\r\n        exports.readDoubleLE = le ? readDouble_f64_cpy : readDouble_f64_rev;\r\n        /* istanbul ignore next */\r\n        exports.readDoubleBE = le ? readDouble_f64_rev : readDouble_f64_cpy;\r\n\r\n    // double: ieee754\r\n    })(); else (function() {\r\n\r\n        function writeDouble_ieee754(writeUint, off0, off1, val, buf, pos) {\r\n            var sign = val < 0 ? 1 : 0;\r\n            if (sign)\r\n                val = -val;\r\n            if (val === 0) {\r\n                writeUint(0, buf, pos + off0);\r\n                writeUint(1 / val > 0 ? /* positive */ 0 : /* negative 0 */ 2147483648, buf, pos + off1);\r\n            } else if (isNaN(val)) {\r\n                writeUint(0, buf, pos + off0);\r\n                writeUint(2146959360, buf, pos + off1);\r\n            } else if (val > 1.7976931348623157e+308) { // +-Infinity\r\n                writeUint(0, buf, pos + off0);\r\n                writeUint((sign << 31 | 2146435072) >>> 0, buf, pos + off1);\r\n            } else {\r\n                var mantissa;\r\n                if (val < 2.2250738585072014e-308) { // denormal\r\n                    mantissa = val / 5e-324;\r\n                    writeUint(mantissa >>> 0, buf, pos + off0);\r\n                    writeUint((sign << 31 | mantissa / 4294967296) >>> 0, buf, pos + off1);\r\n                } else {\r\n                    var exponent = Math.floor(Math.log(val) / Math.LN2);\r\n                    if (exponent === 1024)\r\n                        exponent = 1023;\r\n                    mantissa = val * Math.pow(2, -exponent);\r\n                    writeUint(mantissa * 4503599627370496 >>> 0, buf, pos + off0);\r\n                    writeUint((sign << 31 | exponent + 1023 << 20 | mantissa * 1048576 & 1048575) >>> 0, buf, pos + off1);\r\n                }\r\n            }\r\n        }\r\n\r\n        exports.writeDoubleLE = writeDouble_ieee754.bind(null, writeUintLE, 0, 4);\r\n        exports.writeDoubleBE = writeDouble_ieee754.bind(null, writeUintBE, 4, 0);\r\n\r\n        function readDouble_ieee754(readUint, off0, off1, buf, pos) {\r\n            var lo = readUint(buf, pos + off0),\r\n                hi = readUint(buf, pos + off1);\r\n            var sign = (hi >> 31) * 2 + 1,\r\n                exponent = hi >>> 20 & 2047,\r\n                mantissa = 4294967296 * (hi & 1048575) + lo;\r\n            return exponent === 2047\r\n                ? mantissa\r\n                ? NaN\r\n                : sign * Infinity\r\n                : exponent === 0 // denormal\r\n                ? sign * 5e-324 * mantissa\r\n                : sign * Math.pow(2, exponent - 1075) * (mantissa + 4503599627370496);\r\n        }\r\n\r\n        exports.readDoubleLE = readDouble_ieee754.bind(null, readUintLE, 0, 4);\r\n        exports.readDoubleBE = readDouble_ieee754.bind(null, readUintBE, 4, 0);\r\n\r\n    })();\r\n\r\n    return exports;\r\n}\r\n\r\n// uint helpers\r\n\r\nfunction writeUintLE(val, buf, pos) {\r\n    buf[pos    ] =  val        & 255;\r\n    buf[pos + 1] =  val >>> 8  & 255;\r\n    buf[pos + 2] =  val >>> 16 & 255;\r\n    buf[pos + 3] =  val >>> 24;\r\n}\r\n\r\nfunction writeUintBE(val, buf, pos) {\r\n    buf[pos    ] =  val >>> 24;\r\n    buf[pos + 1] =  val >>> 16 & 255;\r\n    buf[pos + 2] =  val >>> 8  & 255;\r\n    buf[pos + 3] =  val        & 255;\r\n}\r\n\r\nfunction readUintLE(buf, pos) {\r\n    return (buf[pos    ]\r\n          | buf[pos + 1] << 8\r\n          | buf[pos + 2] << 16\r\n          | buf[pos + 3] << 24) >>> 0;\r\n}\r\n\r\nfunction readUintBE(buf, pos) {\r\n    return (buf[pos    ] << 24\r\n          | buf[pos + 1] << 16\r\n          | buf[pos + 2] << 8\r\n          | buf[pos + 3]) >>> 0;\r\n}\r\n","\"use strict\";\r\nmodule.exports = inquire;\r\n\r\n/**\r\n * Requires a module only if available.\r\n * @memberof util\r\n * @param {string} moduleName Module to require\r\n * @returns {?Object} Required module if available and not empty, otherwise `null`\r\n */\r\nfunction inquire(moduleName) {\r\n    try {\r\n        var mod = eval(\"quire\".replace(/^/,\"re\"))(moduleName); // eslint-disable-line no-eval\r\n        if (mod && (mod.length || Object.keys(mod).length))\r\n            return mod;\r\n    } catch (e) {} // eslint-disable-line no-empty\r\n    return null;\r\n}\r\n","\"use strict\";\r\n\r\n/**\r\n * A minimal path module to resolve Unix, Windows and URL paths alike.\r\n * @memberof util\r\n * @namespace\r\n */\r\nvar path = exports;\r\n\r\nvar isAbsolute =\r\n/**\r\n * Tests if the specified path is absolute.\r\n * @param {string} path Path to test\r\n * @returns {boolean} `true` if path is absolute\r\n */\r\npath.isAbsolute = function isAbsolute(path) {\r\n    return /^(?:\\/|\\w+:)/.test(path);\r\n};\r\n\r\nvar normalize =\r\n/**\r\n * Normalizes the specified path.\r\n * @param {string} path Path to normalize\r\n * @returns {string} Normalized path\r\n */\r\npath.normalize = function normalize(path) {\r\n    path = path.replace(/\\\\/g, \"/\")\r\n               .replace(/\\/{2,}/g, \"/\");\r\n    var parts    = path.split(\"/\"),\r\n        absolute = isAbsolute(path),\r\n        prefix   = \"\";\r\n    if (absolute)\r\n        prefix = parts.shift() + \"/\";\r\n    for (var i = 0; i < parts.length;) {\r\n        if (parts[i] === \"..\") {\r\n            if (i > 0 && parts[i - 1] !== \"..\")\r\n                parts.splice(--i, 2);\r\n            else if (absolute)\r\n                parts.splice(i, 1);\r\n            else\r\n                ++i;\r\n        } else if (parts[i] === \".\")\r\n            parts.splice(i, 1);\r\n        else\r\n            ++i;\r\n    }\r\n    return prefix + parts.join(\"/\");\r\n};\r\n\r\n/**\r\n * Resolves the specified include path against the specified origin path.\r\n * @param {string} originPath Path to the origin file\r\n * @param {string} includePath Include path relative to origin path\r\n * @param {boolean} [alreadyNormalized=false] `true` if both paths are already known to be normalized\r\n * @returns {string} Path to the include file\r\n */\r\npath.resolve = function resolve(originPath, includePath, alreadyNormalized) {\r\n    if (!alreadyNormalized)\r\n        includePath = normalize(includePath);\r\n    if (isAbsolute(includePath))\r\n        return includePath;\r\n    if (!alreadyNormalized)\r\n        originPath = normalize(originPath);\r\n    return (originPath = originPath.replace(/(?:\\/|^)[^/]+$/, \"\")).length ? normalize(originPath + \"/\" + includePath) : includePath;\r\n};\r\n","\"use strict\";\r\nmodule.exports = pool;\r\n\r\n/**\r\n * An allocator as used by {@link util.pool}.\r\n * @typedef PoolAllocator\r\n * @type {function}\r\n * @param {number} size Buffer size\r\n * @returns {Uint8Array} Buffer\r\n */\r\n\r\n/**\r\n * A slicer as used by {@link util.pool}.\r\n * @typedef PoolSlicer\r\n * @type {function}\r\n * @param {number} start Start offset\r\n * @param {number} end End offset\r\n * @returns {Uint8Array} Buffer slice\r\n * @this {Uint8Array}\r\n */\r\n\r\n/**\r\n * A general purpose buffer pool.\r\n * @memberof util\r\n * @function\r\n * @param {PoolAllocator} alloc Allocator\r\n * @param {PoolSlicer} slice Slicer\r\n * @param {number} [size=8192] Slab size\r\n * @returns {PoolAllocator} Pooled allocator\r\n */\r\nfunction pool(alloc, slice, size) {\r\n    var SIZE   = size || 8192;\r\n    var MAX    = SIZE >>> 1;\r\n    var slab   = null;\r\n    var offset = SIZE;\r\n    return function pool_alloc(size) {\r\n        if (size < 1 || size > MAX)\r\n            return alloc(size);\r\n        if (offset + size > SIZE) {\r\n            slab = alloc(SIZE);\r\n            offset = 0;\r\n        }\r\n        var buf = slice.call(slab, offset, offset += size);\r\n        if (offset & 7) // align to 32 bit\r\n            offset = (offset | 7) + 1;\r\n        return buf;\r\n    };\r\n}\r\n","\"use strict\";\r\n\r\n/**\r\n * A minimal UTF8 implementation for number arrays.\r\n * @memberof util\r\n * @namespace\r\n */\r\nvar utf8 = exports;\r\n\r\n/**\r\n * Calculates the UTF8 byte length of a string.\r\n * @param {string} string String\r\n * @returns {number} Byte length\r\n */\r\nutf8.length = function utf8_length(string) {\r\n    var len = 0,\r\n        c = 0;\r\n    for (var i = 0; i < string.length; ++i) {\r\n        c = string.charCodeAt(i);\r\n        if (c < 128)\r\n            len += 1;\r\n        else if (c < 2048)\r\n            len += 2;\r\n        else if ((c & 0xFC00) === 0xD800 && (string.charCodeAt(i + 1) & 0xFC00) === 0xDC00) {\r\n            ++i;\r\n            len += 4;\r\n        } else\r\n            len += 3;\r\n    }\r\n    return len;\r\n};\r\n\r\n/**\r\n * Reads UTF8 bytes as a string.\r\n * @param {Uint8Array} buffer Source buffer\r\n * @param {number} start Source start\r\n * @param {number} end Source end\r\n * @returns {string} String read\r\n */\r\nutf8.read = function utf8_read(buffer, start, end) {\r\n    var len = end - start;\r\n    if (len < 1)\r\n        return \"\";\r\n    var parts = null,\r\n        chunk = [],\r\n        i = 0, // char offset\r\n        t;     // temporary\r\n    while (start < end) {\r\n        t = buffer[start++];\r\n        if (t < 128)\r\n            chunk[i++] = t;\r\n        else if (t > 191 && t < 224)\r\n            chunk[i++] = (t & 31) << 6 | buffer[start++] & 63;\r\n        else if (t > 239 && t < 365) {\r\n            t = ((t & 7) << 18 | (buffer[start++] & 63) << 12 | (buffer[start++] & 63) << 6 | buffer[start++] & 63) - 0x10000;\r\n            chunk[i++] = 0xD800 + (t >> 10);\r\n            chunk[i++] = 0xDC00 + (t & 1023);\r\n        } else\r\n            chunk[i++] = (t & 15) << 12 | (buffer[start++] & 63) << 6 | buffer[start++] & 63;\r\n        if (i > 8191) {\r\n            (parts || (parts = [])).push(String.fromCharCode.apply(String, chunk));\r\n            i = 0;\r\n        }\r\n    }\r\n    if (parts) {\r\n        if (i)\r\n            parts.push(String.fromCharCode.apply(String, chunk.slice(0, i)));\r\n        return parts.join(\"\");\r\n    }\r\n    return String.fromCharCode.apply(String, chunk.slice(0, i));\r\n};\r\n\r\n/**\r\n * Writes a string as UTF8 bytes.\r\n * @param {string} string Source string\r\n * @param {Uint8Array} buffer Destination buffer\r\n * @param {number} offset Destination offset\r\n * @returns {number} Bytes written\r\n */\r\nutf8.write = function utf8_write(string, buffer, offset) {\r\n    var start = offset,\r\n        c1, // character 1\r\n        c2; // character 2\r\n    for (var i = 0; i < string.length; ++i) {\r\n        c1 = string.charCodeAt(i);\r\n        if (c1 < 128) {\r\n            buffer[offset++] = c1;\r\n        } else if (c1 < 2048) {\r\n            buffer[offset++] = c1 >> 6       | 192;\r\n            buffer[offset++] = c1       & 63 | 128;\r\n        } else if ((c1 & 0xFC00) === 0xD800 && ((c2 = string.charCodeAt(i + 1)) & 0xFC00) === 0xDC00) {\r\n            c1 = 0x10000 + ((c1 & 0x03FF) << 10) + (c2 & 0x03FF);\r\n            ++i;\r\n            buffer[offset++] = c1 >> 18      | 240;\r\n            buffer[offset++] = c1 >> 12 & 63 | 128;\r\n            buffer[offset++] = c1 >> 6  & 63 | 128;\r\n            buffer[offset++] = c1       & 63 | 128;\r\n        } else {\r\n            buffer[offset++] = c1 >> 12      | 224;\r\n            buffer[offset++] = c1 >> 6  & 63 | 128;\r\n            buffer[offset++] = c1       & 63 | 128;\r\n        }\r\n    }\r\n    return offset - start;\r\n};\r\n","/* MIT license */\n/* eslint-disable no-mixed-operators */\nconst cssKeywords = require('color-name');\n\n// NOTE: conversions should only return primitive values (i.e. arrays, or\n//       values that give correct `typeof` results).\n//       do not use box values types (i.e. Number(), String(), etc.)\n\nconst reverseKeywords = {};\nfor (const key of Object.keys(cssKeywords)) {\n\treverseKeywords[cssKeywords[key]] = key;\n}\n\nconst convert = {\n\trgb: {channels: 3, labels: 'rgb'},\n\thsl: {channels: 3, labels: 'hsl'},\n\thsv: {channels: 3, labels: 'hsv'},\n\thwb: {channels: 3, labels: 'hwb'},\n\tcmyk: {channels: 4, labels: 'cmyk'},\n\txyz: {channels: 3, labels: 'xyz'},\n\tlab: {channels: 3, labels: 'lab'},\n\tlch: {channels: 3, labels: 'lch'},\n\thex: {channels: 1, labels: ['hex']},\n\tkeyword: {channels: 1, labels: ['keyword']},\n\tansi16: {channels: 1, labels: ['ansi16']},\n\tansi256: {channels: 1, labels: ['ansi256']},\n\thcg: {channels: 3, labels: ['h', 'c', 'g']},\n\tapple: {channels: 3, labels: ['r16', 'g16', 'b16']},\n\tgray: {channels: 1, labels: ['gray']}\n};\n\nmodule.exports = convert;\n\n// Hide .channels and .labels properties\nfor (const model of Object.keys(convert)) {\n\tif (!('channels' in convert[model])) {\n\t\tthrow new Error('missing channels property: ' + model);\n\t}\n\n\tif (!('labels' in convert[model])) {\n\t\tthrow new Error('missing channel labels property: ' + model);\n\t}\n\n\tif (convert[model].labels.length !== convert[model].channels) {\n\t\tthrow new Error('channel and label counts mismatch: ' + model);\n\t}\n\n\tconst {channels, labels} = convert[model];\n\tdelete convert[model].channels;\n\tdelete convert[model].labels;\n\tObject.defineProperty(convert[model], 'channels', {value: channels});\n\tObject.defineProperty(convert[model], 'labels', {value: labels});\n}\n\nconvert.rgb.hsl = function (rgb) {\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\tconst min = Math.min(r, g, b);\n\tconst max = Math.max(r, g, b);\n\tconst delta = max - min;\n\tlet h;\n\tlet s;\n\n\tif (max === min) {\n\t\th = 0;\n\t} else if (r === max) {\n\t\th = (g - b) / delta;\n\t} else if (g === max) {\n\t\th = 2 + (b - r) / delta;\n\t} else if (b === max) {\n\t\th = 4 + (r - g) / delta;\n\t}\n\n\th = Math.min(h * 60, 360);\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tconst l = (min + max) / 2;\n\n\tif (max === min) {\n\t\ts = 0;\n\t} else if (l <= 0.5) {\n\t\ts = delta / (max + min);\n\t} else {\n\t\ts = delta / (2 - max - min);\n\t}\n\n\treturn [h, s * 100, l * 100];\n};\n\nconvert.rgb.hsv = function (rgb) {\n\tlet rdif;\n\tlet gdif;\n\tlet bdif;\n\tlet h;\n\tlet s;\n\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\tconst v = Math.max(r, g, b);\n\tconst diff = v - Math.min(r, g, b);\n\tconst diffc = function (c) {\n\t\treturn (v - c) / 6 / diff + 1 / 2;\n\t};\n\n\tif (diff === 0) {\n\t\th = 0;\n\t\ts = 0;\n\t} else {\n\t\ts = diff / v;\n\t\trdif = diffc(r);\n\t\tgdif = diffc(g);\n\t\tbdif = diffc(b);\n\n\t\tif (r === v) {\n\t\t\th = bdif - gdif;\n\t\t} else if (g === v) {\n\t\t\th = (1 / 3) + rdif - bdif;\n\t\t} else if (b === v) {\n\t\t\th = (2 / 3) + gdif - rdif;\n\t\t}\n\n\t\tif (h < 0) {\n\t\t\th += 1;\n\t\t} else if (h > 1) {\n\t\t\th -= 1;\n\t\t}\n\t}\n\n\treturn [\n\t\th * 360,\n\t\ts * 100,\n\t\tv * 100\n\t];\n};\n\nconvert.rgb.hwb = function (rgb) {\n\tconst r = rgb[0];\n\tconst g = rgb[1];\n\tlet b = rgb[2];\n\tconst h = convert.rgb.hsl(rgb)[0];\n\tconst w = 1 / 255 * Math.min(r, Math.min(g, b));\n\n\tb = 1 - 1 / 255 * Math.max(r, Math.max(g, b));\n\n\treturn [h, w * 100, b * 100];\n};\n\nconvert.rgb.cmyk = function (rgb) {\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\n\tconst k = Math.min(1 - r, 1 - g, 1 - b);\n\tconst c = (1 - r - k) / (1 - k) || 0;\n\tconst m = (1 - g - k) / (1 - k) || 0;\n\tconst y = (1 - b - k) / (1 - k) || 0;\n\n\treturn [c * 100, m * 100, y * 100, k * 100];\n};\n\nfunction comparativeDistance(x, y) {\n\t/*\n\t\tSee https://en.m.wikipedia.org/wiki/Euclidean_distance#Squared_Euclidean_distance\n\t*/\n\treturn (\n\t\t((x[0] - y[0]) ** 2) +\n\t\t((x[1] - y[1]) ** 2) +\n\t\t((x[2] - y[2]) ** 2)\n\t);\n}\n\nconvert.rgb.keyword = function (rgb) {\n\tconst reversed = reverseKeywords[rgb];\n\tif (reversed) {\n\t\treturn reversed;\n\t}\n\n\tlet currentClosestDistance = Infinity;\n\tlet currentClosestKeyword;\n\n\tfor (const keyword of Object.keys(cssKeywords)) {\n\t\tconst value = cssKeywords[keyword];\n\n\t\t// Compute comparative distance\n\t\tconst distance = comparativeDistance(rgb, value);\n\n\t\t// Check if its less, if so set as closest\n\t\tif (distance < currentClosestDistance) {\n\t\t\tcurrentClosestDistance = distance;\n\t\t\tcurrentClosestKeyword = keyword;\n\t\t}\n\t}\n\n\treturn currentClosestKeyword;\n};\n\nconvert.keyword.rgb = function (keyword) {\n\treturn cssKeywords[keyword];\n};\n\nconvert.rgb.xyz = function (rgb) {\n\tlet r = rgb[0] / 255;\n\tlet g = rgb[1] / 255;\n\tlet b = rgb[2] / 255;\n\n\t// Assume sRGB\n\tr = r > 0.04045 ? (((r + 0.055) / 1.055) ** 2.4) : (r / 12.92);\n\tg = g > 0.04045 ? (((g + 0.055) / 1.055) ** 2.4) : (g / 12.92);\n\tb = b > 0.04045 ? (((b + 0.055) / 1.055) ** 2.4) : (b / 12.92);\n\n\tconst x = (r * 0.4124) + (g * 0.3576) + (b * 0.1805);\n\tconst y = (r * 0.2126) + (g * 0.7152) + (b * 0.0722);\n\tconst z = (r * 0.0193) + (g * 0.1192) + (b * 0.9505);\n\n\treturn [x * 100, y * 100, z * 100];\n};\n\nconvert.rgb.lab = function (rgb) {\n\tconst xyz = convert.rgb.xyz(rgb);\n\tlet x = xyz[0];\n\tlet y = xyz[1];\n\tlet z = xyz[2];\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > 0.008856 ? (x ** (1 / 3)) : (7.787 * x) + (16 / 116);\n\ty = y > 0.008856 ? (y ** (1 / 3)) : (7.787 * y) + (16 / 116);\n\tz = z > 0.008856 ? (z ** (1 / 3)) : (7.787 * z) + (16 / 116);\n\n\tconst l = (116 * y) - 16;\n\tconst a = 500 * (x - y);\n\tconst b = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.hsl.rgb = function (hsl) {\n\tconst h = hsl[0] / 360;\n\tconst s = hsl[1] / 100;\n\tconst l = hsl[2] / 100;\n\tlet t2;\n\tlet t3;\n\tlet val;\n\n\tif (s === 0) {\n\t\tval = l * 255;\n\t\treturn [val, val, val];\n\t}\n\n\tif (l < 0.5) {\n\t\tt2 = l * (1 + s);\n\t} else {\n\t\tt2 = l + s - l * s;\n\t}\n\n\tconst t1 = 2 * l - t2;\n\n\tconst rgb = [0, 0, 0];\n\tfor (let i = 0; i < 3; i++) {\n\t\tt3 = h + 1 / 3 * -(i - 1);\n\t\tif (t3 < 0) {\n\t\t\tt3++;\n\t\t}\n\n\t\tif (t3 > 1) {\n\t\t\tt3--;\n\t\t}\n\n\t\tif (6 * t3 < 1) {\n\t\t\tval = t1 + (t2 - t1) * 6 * t3;\n\t\t} else if (2 * t3 < 1) {\n\t\t\tval = t2;\n\t\t} else if (3 * t3 < 2) {\n\t\t\tval = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\n\t\t} else {\n\t\t\tval = t1;\n\t\t}\n\n\t\trgb[i] = val * 255;\n\t}\n\n\treturn rgb;\n};\n\nconvert.hsl.hsv = function (hsl) {\n\tconst h = hsl[0];\n\tlet s = hsl[1] / 100;\n\tlet l = hsl[2] / 100;\n\tlet smin = s;\n\tconst lmin = Math.max(l, 0.01);\n\n\tl *= 2;\n\ts *= (l <= 1) ? l : 2 - l;\n\tsmin *= lmin <= 1 ? lmin : 2 - lmin;\n\tconst v = (l + s) / 2;\n\tconst sv = l === 0 ? (2 * smin) / (lmin + smin) : (2 * s) / (l + s);\n\n\treturn [h, sv * 100, v * 100];\n};\n\nconvert.hsv.rgb = function (hsv) {\n\tconst h = hsv[0] / 60;\n\tconst s = hsv[1] / 100;\n\tlet v = hsv[2] / 100;\n\tconst hi = Math.floor(h) % 6;\n\n\tconst f = h - Math.floor(h);\n\tconst p = 255 * v * (1 - s);\n\tconst q = 255 * v * (1 - (s * f));\n\tconst t = 255 * v * (1 - (s * (1 - f)));\n\tv *= 255;\n\n\tswitch (hi) {\n\t\tcase 0:\n\t\t\treturn [v, t, p];\n\t\tcase 1:\n\t\t\treturn [q, v, p];\n\t\tcase 2:\n\t\t\treturn [p, v, t];\n\t\tcase 3:\n\t\t\treturn [p, q, v];\n\t\tcase 4:\n\t\t\treturn [t, p, v];\n\t\tcase 5:\n\t\t\treturn [v, p, q];\n\t}\n};\n\nconvert.hsv.hsl = function (hsv) {\n\tconst h = hsv[0];\n\tconst s = hsv[1] / 100;\n\tconst v = hsv[2] / 100;\n\tconst vmin = Math.max(v, 0.01);\n\tlet sl;\n\tlet l;\n\n\tl = (2 - s) * v;\n\tconst lmin = (2 - s) * vmin;\n\tsl = s * vmin;\n\tsl /= (lmin <= 1) ? lmin : 2 - lmin;\n\tsl = sl || 0;\n\tl /= 2;\n\n\treturn [h, sl * 100, l * 100];\n};\n\n// http://dev.w3.org/csswg/css-color/#hwb-to-rgb\nconvert.hwb.rgb = function (hwb) {\n\tconst h = hwb[0] / 360;\n\tlet wh = hwb[1] / 100;\n\tlet bl = hwb[2] / 100;\n\tconst ratio = wh + bl;\n\tlet f;\n\n\t// Wh + bl cant be > 1\n\tif (ratio > 1) {\n\t\twh /= ratio;\n\t\tbl /= ratio;\n\t}\n\n\tconst i = Math.floor(6 * h);\n\tconst v = 1 - bl;\n\tf = 6 * h - i;\n\n\tif ((i & 0x01) !== 0) {\n\t\tf = 1 - f;\n\t}\n\n\tconst n = wh + f * (v - wh); // Linear interpolation\n\n\tlet r;\n\tlet g;\n\tlet b;\n\t/* eslint-disable max-statements-per-line,no-multi-spaces */\n\tswitch (i) {\n\t\tdefault:\n\t\tcase 6:\n\t\tcase 0: r = v;  g = n;  b = wh; break;\n\t\tcase 1: r = n;  g = v;  b = wh; break;\n\t\tcase 2: r = wh; g = v;  b = n; break;\n\t\tcase 3: r = wh; g = n;  b = v; break;\n\t\tcase 4: r = n;  g = wh; b = v; break;\n\t\tcase 5: r = v;  g = wh; b = n; break;\n\t}\n\t/* eslint-enable max-statements-per-line,no-multi-spaces */\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.cmyk.rgb = function (cmyk) {\n\tconst c = cmyk[0] / 100;\n\tconst m = cmyk[1] / 100;\n\tconst y = cmyk[2] / 100;\n\tconst k = cmyk[3] / 100;\n\n\tconst r = 1 - Math.min(1, c * (1 - k) + k);\n\tconst g = 1 - Math.min(1, m * (1 - k) + k);\n\tconst b = 1 - Math.min(1, y * (1 - k) + k);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.rgb = function (xyz) {\n\tconst x = xyz[0] / 100;\n\tconst y = xyz[1] / 100;\n\tconst z = xyz[2] / 100;\n\tlet r;\n\tlet g;\n\tlet b;\n\n\tr = (x * 3.2406) + (y * -1.5372) + (z * -0.4986);\n\tg = (x * -0.9689) + (y * 1.8758) + (z * 0.0415);\n\tb = (x * 0.0557) + (y * -0.2040) + (z * 1.0570);\n\n\t// Assume sRGB\n\tr = r > 0.0031308\n\t\t? ((1.055 * (r ** (1.0 / 2.4))) - 0.055)\n\t\t: r * 12.92;\n\n\tg = g > 0.0031308\n\t\t? ((1.055 * (g ** (1.0 / 2.4))) - 0.055)\n\t\t: g * 12.92;\n\n\tb = b > 0.0031308\n\t\t? ((1.055 * (b ** (1.0 / 2.4))) - 0.055)\n\t\t: b * 12.92;\n\n\tr = Math.min(Math.max(0, r), 1);\n\tg = Math.min(Math.max(0, g), 1);\n\tb = Math.min(Math.max(0, b), 1);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.lab = function (xyz) {\n\tlet x = xyz[0];\n\tlet y = xyz[1];\n\tlet z = xyz[2];\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > 0.008856 ? (x ** (1 / 3)) : (7.787 * x) + (16 / 116);\n\ty = y > 0.008856 ? (y ** (1 / 3)) : (7.787 * y) + (16 / 116);\n\tz = z > 0.008856 ? (z ** (1 / 3)) : (7.787 * z) + (16 / 116);\n\n\tconst l = (116 * y) - 16;\n\tconst a = 500 * (x - y);\n\tconst b = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.lab.xyz = function (lab) {\n\tconst l = lab[0];\n\tconst a = lab[1];\n\tconst b = lab[2];\n\tlet x;\n\tlet y;\n\tlet z;\n\n\ty = (l + 16) / 116;\n\tx = a / 500 + y;\n\tz = y - b / 200;\n\n\tconst y2 = y ** 3;\n\tconst x2 = x ** 3;\n\tconst z2 = z ** 3;\n\ty = y2 > 0.008856 ? y2 : (y - 16 / 116) / 7.787;\n\tx = x2 > 0.008856 ? x2 : (x - 16 / 116) / 7.787;\n\tz = z2 > 0.008856 ? z2 : (z - 16 / 116) / 7.787;\n\n\tx *= 95.047;\n\ty *= 100;\n\tz *= 108.883;\n\n\treturn [x, y, z];\n};\n\nconvert.lab.lch = function (lab) {\n\tconst l = lab[0];\n\tconst a = lab[1];\n\tconst b = lab[2];\n\tlet h;\n\n\tconst hr = Math.atan2(b, a);\n\th = hr * 360 / 2 / Math.PI;\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tconst c = Math.sqrt(a * a + b * b);\n\n\treturn [l, c, h];\n};\n\nconvert.lch.lab = function (lch) {\n\tconst l = lch[0];\n\tconst c = lch[1];\n\tconst h = lch[2];\n\n\tconst hr = h / 360 * 2 * Math.PI;\n\tconst a = c * Math.cos(hr);\n\tconst b = c * Math.sin(hr);\n\n\treturn [l, a, b];\n};\n\nconvert.rgb.ansi16 = function (args, saturation = null) {\n\tconst [r, g, b] = args;\n\tlet value = saturation === null ? convert.rgb.hsv(args)[2] : saturation; // Hsv -> ansi16 optimization\n\n\tvalue = Math.round(value / 50);\n\n\tif (value === 0) {\n\t\treturn 30;\n\t}\n\n\tlet ansi = 30\n\t\t+ ((Math.round(b / 255) << 2)\n\t\t| (Math.round(g / 255) << 1)\n\t\t| Math.round(r / 255));\n\n\tif (value === 2) {\n\t\tansi += 60;\n\t}\n\n\treturn ansi;\n};\n\nconvert.hsv.ansi16 = function (args) {\n\t// Optimization here; we already know the value and don't need to get\n\t// it converted for us.\n\treturn convert.rgb.ansi16(convert.hsv.rgb(args), args[2]);\n};\n\nconvert.rgb.ansi256 = function (args) {\n\tconst r = args[0];\n\tconst g = args[1];\n\tconst b = args[2];\n\n\t// We use the extended greyscale palette here, with the exception of\n\t// black and white. normal palette only has 4 greyscale shades.\n\tif (r === g && g === b) {\n\t\tif (r < 8) {\n\t\t\treturn 16;\n\t\t}\n\n\t\tif (r > 248) {\n\t\t\treturn 231;\n\t\t}\n\n\t\treturn Math.round(((r - 8) / 247) * 24) + 232;\n\t}\n\n\tconst ansi = 16\n\t\t+ (36 * Math.round(r / 255 * 5))\n\t\t+ (6 * Math.round(g / 255 * 5))\n\t\t+ Math.round(b / 255 * 5);\n\n\treturn ansi;\n};\n\nconvert.ansi16.rgb = function (args) {\n\tlet color = args % 10;\n\n\t// Handle greyscale\n\tif (color === 0 || color === 7) {\n\t\tif (args > 50) {\n\t\t\tcolor += 3.5;\n\t\t}\n\n\t\tcolor = color / 10.5 * 255;\n\n\t\treturn [color, color, color];\n\t}\n\n\tconst mult = (~~(args > 50) + 1) * 0.5;\n\tconst r = ((color & 1) * mult) * 255;\n\tconst g = (((color >> 1) & 1) * mult) * 255;\n\tconst b = (((color >> 2) & 1) * mult) * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.ansi256.rgb = function (args) {\n\t// Handle greyscale\n\tif (args >= 232) {\n\t\tconst c = (args - 232) * 10 + 8;\n\t\treturn [c, c, c];\n\t}\n\n\targs -= 16;\n\n\tlet rem;\n\tconst r = Math.floor(args / 36) / 5 * 255;\n\tconst g = Math.floor((rem = args % 36) / 6) / 5 * 255;\n\tconst b = (rem % 6) / 5 * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hex = function (args) {\n\tconst integer = ((Math.round(args[0]) & 0xFF) << 16)\n\t\t+ ((Math.round(args[1]) & 0xFF) << 8)\n\t\t+ (Math.round(args[2]) & 0xFF);\n\n\tconst string = integer.toString(16).toUpperCase();\n\treturn '000000'.substring(string.length) + string;\n};\n\nconvert.hex.rgb = function (args) {\n\tconst match = args.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);\n\tif (!match) {\n\t\treturn [0, 0, 0];\n\t}\n\n\tlet colorString = match[0];\n\n\tif (match[0].length === 3) {\n\t\tcolorString = colorString.split('').map(char => {\n\t\t\treturn char + char;\n\t\t}).join('');\n\t}\n\n\tconst integer = parseInt(colorString, 16);\n\tconst r = (integer >> 16) & 0xFF;\n\tconst g = (integer >> 8) & 0xFF;\n\tconst b = integer & 0xFF;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hcg = function (rgb) {\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\tconst max = Math.max(Math.max(r, g), b);\n\tconst min = Math.min(Math.min(r, g), b);\n\tconst chroma = (max - min);\n\tlet grayscale;\n\tlet hue;\n\n\tif (chroma < 1) {\n\t\tgrayscale = min / (1 - chroma);\n\t} else {\n\t\tgrayscale = 0;\n\t}\n\n\tif (chroma <= 0) {\n\t\thue = 0;\n\t} else\n\tif (max === r) {\n\t\thue = ((g - b) / chroma) % 6;\n\t} else\n\tif (max === g) {\n\t\thue = 2 + (b - r) / chroma;\n\t} else {\n\t\thue = 4 + (r - g) / chroma;\n\t}\n\n\thue /= 6;\n\thue %= 1;\n\n\treturn [hue * 360, chroma * 100, grayscale * 100];\n};\n\nconvert.hsl.hcg = function (hsl) {\n\tconst s = hsl[1] / 100;\n\tconst l = hsl[2] / 100;\n\n\tconst c = l < 0.5 ? (2.0 * s * l) : (2.0 * s * (1.0 - l));\n\n\tlet f = 0;\n\tif (c < 1.0) {\n\t\tf = (l - 0.5 * c) / (1.0 - c);\n\t}\n\n\treturn [hsl[0], c * 100, f * 100];\n};\n\nconvert.hsv.hcg = function (hsv) {\n\tconst s = hsv[1] / 100;\n\tconst v = hsv[2] / 100;\n\n\tconst c = s * v;\n\tlet f = 0;\n\n\tif (c < 1.0) {\n\t\tf = (v - c) / (1 - c);\n\t}\n\n\treturn [hsv[0], c * 100, f * 100];\n};\n\nconvert.hcg.rgb = function (hcg) {\n\tconst h = hcg[0] / 360;\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\n\tif (c === 0.0) {\n\t\treturn [g * 255, g * 255, g * 255];\n\t}\n\n\tconst pure = [0, 0, 0];\n\tconst hi = (h % 1) * 6;\n\tconst v = hi % 1;\n\tconst w = 1 - v;\n\tlet mg = 0;\n\n\t/* eslint-disable max-statements-per-line */\n\tswitch (Math.floor(hi)) {\n\t\tcase 0:\n\t\t\tpure[0] = 1; pure[1] = v; pure[2] = 0; break;\n\t\tcase 1:\n\t\t\tpure[0] = w; pure[1] = 1; pure[2] = 0; break;\n\t\tcase 2:\n\t\t\tpure[0] = 0; pure[1] = 1; pure[2] = v; break;\n\t\tcase 3:\n\t\t\tpure[0] = 0; pure[1] = w; pure[2] = 1; break;\n\t\tcase 4:\n\t\t\tpure[0] = v; pure[1] = 0; pure[2] = 1; break;\n\t\tdefault:\n\t\t\tpure[0] = 1; pure[1] = 0; pure[2] = w;\n\t}\n\t/* eslint-enable max-statements-per-line */\n\n\tmg = (1.0 - c) * g;\n\n\treturn [\n\t\t(c * pure[0] + mg) * 255,\n\t\t(c * pure[1] + mg) * 255,\n\t\t(c * pure[2] + mg) * 255\n\t];\n};\n\nconvert.hcg.hsv = function (hcg) {\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\n\tconst v = c + g * (1.0 - c);\n\tlet f = 0;\n\n\tif (v > 0.0) {\n\t\tf = c / v;\n\t}\n\n\treturn [hcg[0], f * 100, v * 100];\n};\n\nconvert.hcg.hsl = function (hcg) {\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\n\tconst l = g * (1.0 - c) + 0.5 * c;\n\tlet s = 0;\n\n\tif (l > 0.0 && l < 0.5) {\n\t\ts = c / (2 * l);\n\t} else\n\tif (l >= 0.5 && l < 1.0) {\n\t\ts = c / (2 * (1 - l));\n\t}\n\n\treturn [hcg[0], s * 100, l * 100];\n};\n\nconvert.hcg.hwb = function (hcg) {\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\tconst v = c + g * (1.0 - c);\n\treturn [hcg[0], (v - c) * 100, (1 - v) * 100];\n};\n\nconvert.hwb.hcg = function (hwb) {\n\tconst w = hwb[1] / 100;\n\tconst b = hwb[2] / 100;\n\tconst v = 1 - b;\n\tconst c = v - w;\n\tlet g = 0;\n\n\tif (c < 1) {\n\t\tg = (v - c) / (1 - c);\n\t}\n\n\treturn [hwb[0], c * 100, g * 100];\n};\n\nconvert.apple.rgb = function (apple) {\n\treturn [(apple[0] / 65535) * 255, (apple[1] / 65535) * 255, (apple[2] / 65535) * 255];\n};\n\nconvert.rgb.apple = function (rgb) {\n\treturn [(rgb[0] / 255) * 65535, (rgb[1] / 255) * 65535, (rgb[2] / 255) * 65535];\n};\n\nconvert.gray.rgb = function (args) {\n\treturn [args[0] / 100 * 255, args[0] / 100 * 255, args[0] / 100 * 255];\n};\n\nconvert.gray.hsl = function (args) {\n\treturn [0, 0, args[0]];\n};\n\nconvert.gray.hsv = convert.gray.hsl;\n\nconvert.gray.hwb = function (gray) {\n\treturn [0, 100, gray[0]];\n};\n\nconvert.gray.cmyk = function (gray) {\n\treturn [0, 0, 0, gray[0]];\n};\n\nconvert.gray.lab = function (gray) {\n\treturn [gray[0], 0, 0];\n};\n\nconvert.gray.hex = function (gray) {\n\tconst val = Math.round(gray[0] / 100 * 255) & 0xFF;\n\tconst integer = (val << 16) + (val << 8) + val;\n\n\tconst string = integer.toString(16).toUpperCase();\n\treturn '000000'.substring(string.length) + string;\n};\n\nconvert.rgb.gray = function (rgb) {\n\tconst val = (rgb[0] + rgb[1] + rgb[2]) / 3;\n\treturn [val / 255 * 100];\n};\n","const conversions = require('./conversions');\nconst route = require('./route');\n\nconst convert = {};\n\nconst models = Object.keys(conversions);\n\nfunction wrapRaw(fn) {\n\tconst wrappedFn = function (...args) {\n\t\tconst arg0 = args[0];\n\t\tif (arg0 === undefined || arg0 === null) {\n\t\t\treturn arg0;\n\t\t}\n\n\t\tif (arg0.length > 1) {\n\t\t\targs = arg0;\n\t\t}\n\n\t\treturn fn(args);\n\t};\n\n\t// Preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nfunction wrapRounded(fn) {\n\tconst wrappedFn = function (...args) {\n\t\tconst arg0 = args[0];\n\n\t\tif (arg0 === undefined || arg0 === null) {\n\t\t\treturn arg0;\n\t\t}\n\n\t\tif (arg0.length > 1) {\n\t\t\targs = arg0;\n\t\t}\n\n\t\tconst result = fn(args);\n\n\t\t// We're assuming the result is an array here.\n\t\t// see notice in conversions.js; don't use box types\n\t\t// in conversion functions.\n\t\tif (typeof result === 'object') {\n\t\t\tfor (let len = result.length, i = 0; i < len; i++) {\n\t\t\t\tresult[i] = Math.round(result[i]);\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t};\n\n\t// Preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nmodels.forEach(fromModel => {\n\tconvert[fromModel] = {};\n\n\tObject.defineProperty(convert[fromModel], 'channels', {value: conversions[fromModel].channels});\n\tObject.defineProperty(convert[fromModel], 'labels', {value: conversions[fromModel].labels});\n\n\tconst routes = route(fromModel);\n\tconst routeModels = Object.keys(routes);\n\n\trouteModels.forEach(toModel => {\n\t\tconst fn = routes[toModel];\n\n\t\tconvert[fromModel][toModel] = wrapRounded(fn);\n\t\tconvert[fromModel][toModel].raw = wrapRaw(fn);\n\t});\n});\n\nmodule.exports = convert;\n","const conversions = require('./conversions');\n\n/*\n\tThis function routes a model to all other models.\n\n\tall functions that are routed have a property `.conversion` attached\n\tto the returned synthetic function. This property is an array\n\tof strings, each with the steps in between the 'from' and 'to'\n\tcolor models (inclusive).\n\n\tconversions that are not possible simply are not included.\n*/\n\nfunction buildGraph() {\n\tconst graph = {};\n\t// https://jsperf.com/object-keys-vs-for-in-with-closure/3\n\tconst models = Object.keys(conversions);\n\n\tfor (let len = models.length, i = 0; i < len; i++) {\n\t\tgraph[models[i]] = {\n\t\t\t// http://jsperf.com/1-vs-infinity\n\t\t\t// micro-opt, but this is simple.\n\t\t\tdistance: -1,\n\t\t\tparent: null\n\t\t};\n\t}\n\n\treturn graph;\n}\n\n// https://en.wikipedia.org/wiki/Breadth-first_search\nfunction deriveBFS(fromModel) {\n\tconst graph = buildGraph();\n\tconst queue = [fromModel]; // Unshift -> queue -> pop\n\n\tgraph[fromModel].distance = 0;\n\n\twhile (queue.length) {\n\t\tconst current = queue.pop();\n\t\tconst adjacents = Object.keys(conversions[current]);\n\n\t\tfor (let len = adjacents.length, i = 0; i < len; i++) {\n\t\t\tconst adjacent = adjacents[i];\n\t\t\tconst node = graph[adjacent];\n\n\t\t\tif (node.distance === -1) {\n\t\t\t\tnode.distance = graph[current].distance + 1;\n\t\t\t\tnode.parent = current;\n\t\t\t\tqueue.unshift(adjacent);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn graph;\n}\n\nfunction link(from, to) {\n\treturn function (args) {\n\t\treturn to(from(args));\n\t};\n}\n\nfunction wrapConversion(toModel, graph) {\n\tconst path = [graph[toModel].parent, toModel];\n\tlet fn = conversions[graph[toModel].parent][toModel];\n\n\tlet cur = graph[toModel].parent;\n\twhile (graph[cur].parent) {\n\t\tpath.unshift(graph[cur].parent);\n\t\tfn = link(conversions[graph[cur].parent][cur], fn);\n\t\tcur = graph[cur].parent;\n\t}\n\n\tfn.conversion = path;\n\treturn fn;\n}\n\nmodule.exports = function (fromModel) {\n\tconst graph = deriveBFS(fromModel);\n\tconst conversion = {};\n\n\tconst models = Object.keys(graph);\n\tfor (let len = models.length, i = 0; i < len; i++) {\n\t\tconst toModel = models[i];\n\t\tconst node = graph[toModel];\n\n\t\tif (node.parent === null) {\n\t\t\t// No possible conversion, or this node is the source model.\n\t\t\tcontinue;\n\t\t}\n\n\t\tconversion[toModel] = wrapConversion(toModel, graph);\n\t}\n\n\treturn conversion;\n};\n\n","'use strict'\r\n\r\nmodule.exports = {\r\n\t\"aliceblue\": [240, 248, 255],\r\n\t\"antiquewhite\": [250, 235, 215],\r\n\t\"aqua\": [0, 255, 255],\r\n\t\"aquamarine\": [127, 255, 212],\r\n\t\"azure\": [240, 255, 255],\r\n\t\"beige\": [245, 245, 220],\r\n\t\"bisque\": [255, 228, 196],\r\n\t\"black\": [0, 0, 0],\r\n\t\"blanchedalmond\": [255, 235, 205],\r\n\t\"blue\": [0, 0, 255],\r\n\t\"blueviolet\": [138, 43, 226],\r\n\t\"brown\": [165, 42, 42],\r\n\t\"burlywood\": [222, 184, 135],\r\n\t\"cadetblue\": [95, 158, 160],\r\n\t\"chartreuse\": [127, 255, 0],\r\n\t\"chocolate\": [210, 105, 30],\r\n\t\"coral\": [255, 127, 80],\r\n\t\"cornflowerblue\": [100, 149, 237],\r\n\t\"cornsilk\": [255, 248, 220],\r\n\t\"crimson\": [220, 20, 60],\r\n\t\"cyan\": [0, 255, 255],\r\n\t\"darkblue\": [0, 0, 139],\r\n\t\"darkcyan\": [0, 139, 139],\r\n\t\"darkgoldenrod\": [184, 134, 11],\r\n\t\"darkgray\": [169, 169, 169],\r\n\t\"darkgreen\": [0, 100, 0],\r\n\t\"darkgrey\": [169, 169, 169],\r\n\t\"darkkhaki\": [189, 183, 107],\r\n\t\"darkmagenta\": [139, 0, 139],\r\n\t\"darkolivegreen\": [85, 107, 47],\r\n\t\"darkorange\": [255, 140, 0],\r\n\t\"darkorchid\": [153, 50, 204],\r\n\t\"darkred\": [139, 0, 0],\r\n\t\"darksalmon\": [233, 150, 122],\r\n\t\"darkseagreen\": [143, 188, 143],\r\n\t\"darkslateblue\": [72, 61, 139],\r\n\t\"darkslategray\": [47, 79, 79],\r\n\t\"darkslategrey\": [47, 79, 79],\r\n\t\"darkturquoise\": [0, 206, 209],\r\n\t\"darkviolet\": [148, 0, 211],\r\n\t\"deeppink\": [255, 20, 147],\r\n\t\"deepskyblue\": [0, 191, 255],\r\n\t\"dimgray\": [105, 105, 105],\r\n\t\"dimgrey\": [105, 105, 105],\r\n\t\"dodgerblue\": [30, 144, 255],\r\n\t\"firebrick\": [178, 34, 34],\r\n\t\"floralwhite\": [255, 250, 240],\r\n\t\"forestgreen\": [34, 139, 34],\r\n\t\"fuchsia\": [255, 0, 255],\r\n\t\"gainsboro\": [220, 220, 220],\r\n\t\"ghostwhite\": [248, 248, 255],\r\n\t\"gold\": [255, 215, 0],\r\n\t\"goldenrod\": [218, 165, 32],\r\n\t\"gray\": [128, 128, 128],\r\n\t\"green\": [0, 128, 0],\r\n\t\"greenyellow\": [173, 255, 47],\r\n\t\"grey\": [128, 128, 128],\r\n\t\"honeydew\": [240, 255, 240],\r\n\t\"hotpink\": [255, 105, 180],\r\n\t\"indianred\": [205, 92, 92],\r\n\t\"indigo\": [75, 0, 130],\r\n\t\"ivory\": [255, 255, 240],\r\n\t\"khaki\": [240, 230, 140],\r\n\t\"lavender\": [230, 230, 250],\r\n\t\"lavenderblush\": [255, 240, 245],\r\n\t\"lawngreen\": [124, 252, 0],\r\n\t\"lemonchiffon\": [255, 250, 205],\r\n\t\"lightblue\": [173, 216, 230],\r\n\t\"lightcoral\": [240, 128, 128],\r\n\t\"lightcyan\": [224, 255, 255],\r\n\t\"lightgoldenrodyellow\": [250, 250, 210],\r\n\t\"lightgray\": [211, 211, 211],\r\n\t\"lightgreen\": [144, 238, 144],\r\n\t\"lightgrey\": [211, 211, 211],\r\n\t\"lightpink\": [255, 182, 193],\r\n\t\"lightsalmon\": [255, 160, 122],\r\n\t\"lightseagreen\": [32, 178, 170],\r\n\t\"lightskyblue\": [135, 206, 250],\r\n\t\"lightslategray\": [119, 136, 153],\r\n\t\"lightslategrey\": [119, 136, 153],\r\n\t\"lightsteelblue\": [176, 196, 222],\r\n\t\"lightyellow\": [255, 255, 224],\r\n\t\"lime\": [0, 255, 0],\r\n\t\"limegreen\": [50, 205, 50],\r\n\t\"linen\": [250, 240, 230],\r\n\t\"magenta\": [255, 0, 255],\r\n\t\"maroon\": [128, 0, 0],\r\n\t\"mediumaquamarine\": [102, 205, 170],\r\n\t\"mediumblue\": [0, 0, 205],\r\n\t\"mediumorchid\": [186, 85, 211],\r\n\t\"mediumpurple\": [147, 112, 219],\r\n\t\"mediumseagreen\": [60, 179, 113],\r\n\t\"mediumslateblue\": [123, 104, 238],\r\n\t\"mediumspringgreen\": [0, 250, 154],\r\n\t\"mediumturquoise\": [72, 209, 204],\r\n\t\"mediumvioletred\": [199, 21, 133],\r\n\t\"midnightblue\": [25, 25, 112],\r\n\t\"mintcream\": [245, 255, 250],\r\n\t\"mistyrose\": [255, 228, 225],\r\n\t\"moccasin\": [255, 228, 181],\r\n\t\"navajowhite\": [255, 222, 173],\r\n\t\"navy\": [0, 0, 128],\r\n\t\"oldlace\": [253, 245, 230],\r\n\t\"olive\": [128, 128, 0],\r\n\t\"olivedrab\": [107, 142, 35],\r\n\t\"orange\": [255, 165, 0],\r\n\t\"orangered\": [255, 69, 0],\r\n\t\"orchid\": [218, 112, 214],\r\n\t\"palegoldenrod\": [238, 232, 170],\r\n\t\"palegreen\": [152, 251, 152],\r\n\t\"paleturquoise\": [175, 238, 238],\r\n\t\"palevioletred\": [219, 112, 147],\r\n\t\"papayawhip\": [255, 239, 213],\r\n\t\"peachpuff\": [255, 218, 185],\r\n\t\"peru\": [205, 133, 63],\r\n\t\"pink\": [255, 192, 203],\r\n\t\"plum\": [221, 160, 221],\r\n\t\"powderblue\": [176, 224, 230],\r\n\t\"purple\": [128, 0, 128],\r\n\t\"rebeccapurple\": [102, 51, 153],\r\n\t\"red\": [255, 0, 0],\r\n\t\"rosybrown\": [188, 143, 143],\r\n\t\"royalblue\": [65, 105, 225],\r\n\t\"saddlebrown\": [139, 69, 19],\r\n\t\"salmon\": [250, 128, 114],\r\n\t\"sandybrown\": [244, 164, 96],\r\n\t\"seagreen\": [46, 139, 87],\r\n\t\"seashell\": [255, 245, 238],\r\n\t\"sienna\": [160, 82, 45],\r\n\t\"silver\": [192, 192, 192],\r\n\t\"skyblue\": [135, 206, 235],\r\n\t\"slateblue\": [106, 90, 205],\r\n\t\"slategray\": [112, 128, 144],\r\n\t\"slategrey\": [112, 128, 144],\r\n\t\"snow\": [255, 250, 250],\r\n\t\"springgreen\": [0, 255, 127],\r\n\t\"steelblue\": [70, 130, 180],\r\n\t\"tan\": [210, 180, 140],\r\n\t\"teal\": [0, 128, 128],\r\n\t\"thistle\": [216, 191, 216],\r\n\t\"tomato\": [255, 99, 71],\r\n\t\"turquoise\": [64, 224, 208],\r\n\t\"violet\": [238, 130, 238],\r\n\t\"wheat\": [245, 222, 179],\r\n\t\"white\": [255, 255, 255],\r\n\t\"whitesmoke\": [245, 245, 245],\r\n\t\"yellow\": [255, 255, 0],\r\n\t\"yellowgreen\": [154, 205, 50]\r\n};\r\n","/* MIT license */\nvar colorNames = require('color-name');\nvar swizzle = require('simple-swizzle');\nvar hasOwnProperty = Object.hasOwnProperty;\n\nvar reverseNames = Object.create(null);\n\n// create a list of reverse color names\nfor (var name in colorNames) {\n\tif (hasOwnProperty.call(colorNames, name)) {\n\t\treverseNames[colorNames[name]] = name;\n\t}\n}\n\nvar cs = module.exports = {\n\tto: {},\n\tget: {}\n};\n\ncs.get = function (string) {\n\tvar prefix = string.substring(0, 3).toLowerCase();\n\tvar val;\n\tvar model;\n\tswitch (prefix) {\n\t\tcase 'hsl':\n\t\t\tval = cs.get.hsl(string);\n\t\t\tmodel = 'hsl';\n\t\t\tbreak;\n\t\tcase 'hwb':\n\t\t\tval = cs.get.hwb(string);\n\t\t\tmodel = 'hwb';\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tval = cs.get.rgb(string);\n\t\t\tmodel = 'rgb';\n\t\t\tbreak;\n\t}\n\n\tif (!val) {\n\t\treturn null;\n\t}\n\n\treturn {model: model, value: val};\n};\n\ncs.get.rgb = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tvar abbr = /^#([a-f0-9]{3,4})$/i;\n\tvar hex = /^#([a-f0-9]{6})([a-f0-9]{2})?$/i;\n\tvar rgba = /^rgba?\\(\\s*([+-]?\\d+)(?=[\\s,])\\s*(?:,\\s*)?([+-]?\\d+)(?=[\\s,])\\s*(?:,\\s*)?([+-]?\\d+)\\s*(?:[,|\\/]\\s*([+-]?[\\d\\.]+)(%?)\\s*)?\\)$/;\n\tvar per = /^rgba?\\(\\s*([+-]?[\\d\\.]+)\\%\\s*,?\\s*([+-]?[\\d\\.]+)\\%\\s*,?\\s*([+-]?[\\d\\.]+)\\%\\s*(?:[,|\\/]\\s*([+-]?[\\d\\.]+)(%?)\\s*)?\\)$/;\n\tvar keyword = /^(\\w+)$/;\n\n\tvar rgb = [0, 0, 0, 1];\n\tvar match;\n\tvar i;\n\tvar hexAlpha;\n\n\tif (match = string.match(hex)) {\n\t\thexAlpha = match[2];\n\t\tmatch = match[1];\n\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\t// https://jsperf.com/slice-vs-substr-vs-substring-methods-long-string/19\n\t\t\tvar i2 = i * 2;\n\t\t\trgb[i] = parseInt(match.slice(i2, i2 + 2), 16);\n\t\t}\n\n\t\tif (hexAlpha) {\n\t\t\trgb[3] = parseInt(hexAlpha, 16) / 255;\n\t\t}\n\t} else if (match = string.match(abbr)) {\n\t\tmatch = match[1];\n\t\thexAlpha = match[3];\n\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = parseInt(match[i] + match[i], 16);\n\t\t}\n\n\t\tif (hexAlpha) {\n\t\t\trgb[3] = parseInt(hexAlpha + hexAlpha, 16) / 255;\n\t\t}\n\t} else if (match = string.match(rgba)) {\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = parseInt(match[i + 1], 0);\n\t\t}\n\n\t\tif (match[4]) {\n\t\t\tif (match[5]) {\n\t\t\t\trgb[3] = parseFloat(match[4]) * 0.01;\n\t\t\t} else {\n\t\t\t\trgb[3] = parseFloat(match[4]);\n\t\t\t}\n\t\t}\n\t} else if (match = string.match(per)) {\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = Math.round(parseFloat(match[i + 1]) * 2.55);\n\t\t}\n\n\t\tif (match[4]) {\n\t\t\tif (match[5]) {\n\t\t\t\trgb[3] = parseFloat(match[4]) * 0.01;\n\t\t\t} else {\n\t\t\t\trgb[3] = parseFloat(match[4]);\n\t\t\t}\n\t\t}\n\t} else if (match = string.match(keyword)) {\n\t\tif (match[1] === 'transparent') {\n\t\t\treturn [0, 0, 0, 0];\n\t\t}\n\n\t\tif (!hasOwnProperty.call(colorNames, match[1])) {\n\t\t\treturn null;\n\t\t}\n\n\t\trgb = colorNames[match[1]];\n\t\trgb[3] = 1;\n\n\t\treturn rgb;\n\t} else {\n\t\treturn null;\n\t}\n\n\tfor (i = 0; i < 3; i++) {\n\t\trgb[i] = clamp(rgb[i], 0, 255);\n\t}\n\trgb[3] = clamp(rgb[3], 0, 1);\n\n\treturn rgb;\n};\n\ncs.get.hsl = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tvar hsl = /^hsla?\\(\\s*([+-]?(?:\\d{0,3}\\.)?\\d+)(?:deg)?\\s*,?\\s*([+-]?[\\d\\.]+)%\\s*,?\\s*([+-]?[\\d\\.]+)%\\s*(?:[,|\\/]\\s*([+-]?(?=\\.\\d|\\d)(?:0|[1-9]\\d*)?(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)\\s*)?\\)$/;\n\tvar match = string.match(hsl);\n\n\tif (match) {\n\t\tvar alpha = parseFloat(match[4]);\n\t\tvar h = ((parseFloat(match[1]) % 360) + 360) % 360;\n\t\tvar s = clamp(parseFloat(match[2]), 0, 100);\n\t\tvar l = clamp(parseFloat(match[3]), 0, 100);\n\t\tvar a = clamp(isNaN(alpha) ? 1 : alpha, 0, 1);\n\n\t\treturn [h, s, l, a];\n\t}\n\n\treturn null;\n};\n\ncs.get.hwb = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tvar hwb = /^hwb\\(\\s*([+-]?\\d{0,3}(?:\\.\\d+)?)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?(?=\\.\\d|\\d)(?:0|[1-9]\\d*)?(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)\\s*)?\\)$/;\n\tvar match = string.match(hwb);\n\n\tif (match) {\n\t\tvar alpha = parseFloat(match[4]);\n\t\tvar h = ((parseFloat(match[1]) % 360) + 360) % 360;\n\t\tvar w = clamp(parseFloat(match[2]), 0, 100);\n\t\tvar b = clamp(parseFloat(match[3]), 0, 100);\n\t\tvar a = clamp(isNaN(alpha) ? 1 : alpha, 0, 1);\n\t\treturn [h, w, b, a];\n\t}\n\n\treturn null;\n};\n\ncs.to.hex = function () {\n\tvar rgba = swizzle(arguments);\n\n\treturn (\n\t\t'#' +\n\t\thexDouble(rgba[0]) +\n\t\thexDouble(rgba[1]) +\n\t\thexDouble(rgba[2]) +\n\t\t(rgba[3] < 1\n\t\t\t? (hexDouble(Math.round(rgba[3] * 255)))\n\t\t\t: '')\n\t);\n};\n\ncs.to.rgb = function () {\n\tvar rgba = swizzle(arguments);\n\n\treturn rgba.length < 4 || rgba[3] === 1\n\t\t? 'rgb(' + Math.round(rgba[0]) + ', ' + Math.round(rgba[1]) + ', ' + Math.round(rgba[2]) + ')'\n\t\t: 'rgba(' + Math.round(rgba[0]) + ', ' + Math.round(rgba[1]) + ', ' + Math.round(rgba[2]) + ', ' + rgba[3] + ')';\n};\n\ncs.to.rgb.percent = function () {\n\tvar rgba = swizzle(arguments);\n\n\tvar r = Math.round(rgba[0] / 255 * 100);\n\tvar g = Math.round(rgba[1] / 255 * 100);\n\tvar b = Math.round(rgba[2] / 255 * 100);\n\n\treturn rgba.length < 4 || rgba[3] === 1\n\t\t? 'rgb(' + r + '%, ' + g + '%, ' + b + '%)'\n\t\t: 'rgba(' + r + '%, ' + g + '%, ' + b + '%, ' + rgba[3] + ')';\n};\n\ncs.to.hsl = function () {\n\tvar hsla = swizzle(arguments);\n\treturn hsla.length < 4 || hsla[3] === 1\n\t\t? 'hsl(' + hsla[0] + ', ' + hsla[1] + '%, ' + hsla[2] + '%)'\n\t\t: 'hsla(' + hsla[0] + ', ' + hsla[1] + '%, ' + hsla[2] + '%, ' + hsla[3] + ')';\n};\n\n// hwb is a bit different than rgb(a) & hsl(a) since there is no alpha specific syntax\n// (hwb have alpha optional & 1 is default value)\ncs.to.hwb = function () {\n\tvar hwba = swizzle(arguments);\n\n\tvar a = '';\n\tif (hwba.length >= 4 && hwba[3] !== 1) {\n\t\ta = ', ' + hwba[3];\n\t}\n\n\treturn 'hwb(' + hwba[0] + ', ' + hwba[1] + '%, ' + hwba[2] + '%' + a + ')';\n};\n\ncs.to.keyword = function (rgb) {\n\treturn reverseNames[rgb.slice(0, 3)];\n};\n\n// helpers\nfunction clamp(num, min, max) {\n\treturn Math.min(Math.max(min, num), max);\n}\n\nfunction hexDouble(num) {\n\tvar str = Math.round(num).toString(16).toUpperCase();\n\treturn (str.length < 2) ? '0' + str : str;\n}\n","const colorString = require('color-string');\nconst convert = require('color-convert');\n\nconst skippedModels = [\n\t// To be honest, I don't really feel like keyword belongs in color convert, but eh.\n\t'keyword',\n\n\t// Gray conflicts with some method names, and has its own method defined.\n\t'gray',\n\n\t// Shouldn't really be in color-convert either...\n\t'hex',\n];\n\nconst hashedModelKeys = {};\nfor (const model of Object.keys(convert)) {\n\thashedModelKeys[[...convert[model].labels].sort().join('')] = model;\n}\n\nconst limiters = {};\n\nfunction Color(object, model) {\n\tif (!(this instanceof Color)) {\n\t\treturn new Color(object, model);\n\t}\n\n\tif (model && model in skippedModels) {\n\t\tmodel = null;\n\t}\n\n\tif (model && !(model in convert)) {\n\t\tthrow new Error('Unknown model: ' + model);\n\t}\n\n\tlet i;\n\tlet channels;\n\n\tif (object == null) { // eslint-disable-line no-eq-null,eqeqeq\n\t\tthis.model = 'rgb';\n\t\tthis.color = [0, 0, 0];\n\t\tthis.valpha = 1;\n\t} else if (object instanceof Color) {\n\t\tthis.model = object.model;\n\t\tthis.color = [...object.color];\n\t\tthis.valpha = object.valpha;\n\t} else if (typeof object === 'string') {\n\t\tconst result = colorString.get(object);\n\t\tif (result === null) {\n\t\t\tthrow new Error('Unable to parse color from string: ' + object);\n\t\t}\n\n\t\tthis.model = result.model;\n\t\tchannels = convert[this.model].channels;\n\t\tthis.color = result.value.slice(0, channels);\n\t\tthis.valpha = typeof result.value[channels] === 'number' ? result.value[channels] : 1;\n\t} else if (object.length > 0) {\n\t\tthis.model = model || 'rgb';\n\t\tchannels = convert[this.model].channels;\n\t\tconst newArray = Array.prototype.slice.call(object, 0, channels);\n\t\tthis.color = zeroArray(newArray, channels);\n\t\tthis.valpha = typeof object[channels] === 'number' ? object[channels] : 1;\n\t} else if (typeof object === 'number') {\n\t\t// This is always RGB - can be converted later on.\n\t\tthis.model = 'rgb';\n\t\tthis.color = [\n\t\t\t(object >> 16) & 0xFF,\n\t\t\t(object >> 8) & 0xFF,\n\t\t\tobject & 0xFF,\n\t\t];\n\t\tthis.valpha = 1;\n\t} else {\n\t\tthis.valpha = 1;\n\n\t\tconst keys = Object.keys(object);\n\t\tif ('alpha' in object) {\n\t\t\tkeys.splice(keys.indexOf('alpha'), 1);\n\t\t\tthis.valpha = typeof object.alpha === 'number' ? object.alpha : 0;\n\t\t}\n\n\t\tconst hashedKeys = keys.sort().join('');\n\t\tif (!(hashedKeys in hashedModelKeys)) {\n\t\t\tthrow new Error('Unable to parse color from object: ' + JSON.stringify(object));\n\t\t}\n\n\t\tthis.model = hashedModelKeys[hashedKeys];\n\n\t\tconst {labels} = convert[this.model];\n\t\tconst color = [];\n\t\tfor (i = 0; i < labels.length; i++) {\n\t\t\tcolor.push(object[labels[i]]);\n\t\t}\n\n\t\tthis.color = zeroArray(color);\n\t}\n\n\t// Perform limitations (clamping, etc.)\n\tif (limiters[this.model]) {\n\t\tchannels = convert[this.model].channels;\n\t\tfor (i = 0; i < channels; i++) {\n\t\t\tconst limit = limiters[this.model][i];\n\t\t\tif (limit) {\n\t\t\t\tthis.color[i] = limit(this.color[i]);\n\t\t\t}\n\t\t}\n\t}\n\n\tthis.valpha = Math.max(0, Math.min(1, this.valpha));\n\n\tif (Object.freeze) {\n\t\tObject.freeze(this);\n\t}\n}\n\nColor.prototype = {\n\ttoString() {\n\t\treturn this.string();\n\t},\n\n\ttoJSON() {\n\t\treturn this[this.model]();\n\t},\n\n\tstring(places) {\n\t\tlet self = this.model in colorString.to ? this : this.rgb();\n\t\tself = self.round(typeof places === 'number' ? places : 1);\n\t\tconst args = self.valpha === 1 ? self.color : [...self.color, this.valpha];\n\t\treturn colorString.to[self.model](args);\n\t},\n\n\tpercentString(places) {\n\t\tconst self = this.rgb().round(typeof places === 'number' ? places : 1);\n\t\tconst args = self.valpha === 1 ? self.color : [...self.color, this.valpha];\n\t\treturn colorString.to.rgb.percent(args);\n\t},\n\n\tarray() {\n\t\treturn this.valpha === 1 ? [...this.color] : [...this.color, this.valpha];\n\t},\n\n\tobject() {\n\t\tconst result = {};\n\t\tconst {channels} = convert[this.model];\n\t\tconst {labels} = convert[this.model];\n\n\t\tfor (let i = 0; i < channels; i++) {\n\t\t\tresult[labels[i]] = this.color[i];\n\t\t}\n\n\t\tif (this.valpha !== 1) {\n\t\t\tresult.alpha = this.valpha;\n\t\t}\n\n\t\treturn result;\n\t},\n\n\tunitArray() {\n\t\tconst rgb = this.rgb().color;\n\t\trgb[0] /= 255;\n\t\trgb[1] /= 255;\n\t\trgb[2] /= 255;\n\n\t\tif (this.valpha !== 1) {\n\t\t\trgb.push(this.valpha);\n\t\t}\n\n\t\treturn rgb;\n\t},\n\n\tunitObject() {\n\t\tconst rgb = this.rgb().object();\n\t\trgb.r /= 255;\n\t\trgb.g /= 255;\n\t\trgb.b /= 255;\n\n\t\tif (this.valpha !== 1) {\n\t\t\trgb.alpha = this.valpha;\n\t\t}\n\n\t\treturn rgb;\n\t},\n\n\tround(places) {\n\t\tplaces = Math.max(places || 0, 0);\n\t\treturn new Color([...this.color.map(roundToPlace(places)), this.valpha], this.model);\n\t},\n\n\talpha(value) {\n\t\tif (value !== undefined) {\n\t\t\treturn new Color([...this.color, Math.max(0, Math.min(1, value))], this.model);\n\t\t}\n\n\t\treturn this.valpha;\n\t},\n\n\t// Rgb\n\tred: getset('rgb', 0, maxfn(255)),\n\tgreen: getset('rgb', 1, maxfn(255)),\n\tblue: getset('rgb', 2, maxfn(255)),\n\n\thue: getset(['hsl', 'hsv', 'hsl', 'hwb', 'hcg'], 0, value => ((value % 360) + 360) % 360),\n\n\tsaturationl: getset('hsl', 1, maxfn(100)),\n\tlightness: getset('hsl', 2, maxfn(100)),\n\n\tsaturationv: getset('hsv', 1, maxfn(100)),\n\tvalue: getset('hsv', 2, maxfn(100)),\n\n\tchroma: getset('hcg', 1, maxfn(100)),\n\tgray: getset('hcg', 2, maxfn(100)),\n\n\twhite: getset('hwb', 1, maxfn(100)),\n\twblack: getset('hwb', 2, maxfn(100)),\n\n\tcyan: getset('cmyk', 0, maxfn(100)),\n\tmagenta: getset('cmyk', 1, maxfn(100)),\n\tyellow: getset('cmyk', 2, maxfn(100)),\n\tblack: getset('cmyk', 3, maxfn(100)),\n\n\tx: getset('xyz', 0, maxfn(95.047)),\n\ty: getset('xyz', 1, maxfn(100)),\n\tz: getset('xyz', 2, maxfn(108.833)),\n\n\tl: getset('lab', 0, maxfn(100)),\n\ta: getset('lab', 1),\n\tb: getset('lab', 2),\n\n\tkeyword(value) {\n\t\tif (value !== undefined) {\n\t\t\treturn new Color(value);\n\t\t}\n\n\t\treturn convert[this.model].keyword(this.color);\n\t},\n\n\thex(value) {\n\t\tif (value !== undefined) {\n\t\t\treturn new Color(value);\n\t\t}\n\n\t\treturn colorString.to.hex(this.rgb().round().color);\n\t},\n\n\thexa(value) {\n\t\tif (value !== undefined) {\n\t\t\treturn new Color(value);\n\t\t}\n\n\t\tconst rgbArray = this.rgb().round().color;\n\n\t\tlet alphaHex = Math.round(this.valpha * 255).toString(16).toUpperCase();\n\t\tif (alphaHex.length === 1) {\n\t\t\talphaHex = '0' + alphaHex;\n\t\t}\n\n\t\treturn colorString.to.hex(rgbArray) + alphaHex;\n\t},\n\n\trgbNumber() {\n\t\tconst rgb = this.rgb().color;\n\t\treturn ((rgb[0] & 0xFF) << 16) | ((rgb[1] & 0xFF) << 8) | (rgb[2] & 0xFF);\n\t},\n\n\tluminosity() {\n\t\t// http://www.w3.org/TR/WCAG20/#relativeluminancedef\n\t\tconst rgb = this.rgb().color;\n\n\t\tconst lum = [];\n\t\tfor (const [i, element] of rgb.entries()) {\n\t\t\tconst chan = element / 255;\n\t\t\tlum[i] = (chan <= 0.04045) ? chan / 12.92 : ((chan + 0.055) / 1.055) ** 2.4;\n\t\t}\n\n\t\treturn 0.2126 * lum[0] + 0.7152 * lum[1] + 0.0722 * lum[2];\n\t},\n\n\tcontrast(color2) {\n\t\t// http://www.w3.org/TR/WCAG20/#contrast-ratiodef\n\t\tconst lum1 = this.luminosity();\n\t\tconst lum2 = color2.luminosity();\n\n\t\tif (lum1 > lum2) {\n\t\t\treturn (lum1 + 0.05) / (lum2 + 0.05);\n\t\t}\n\n\t\treturn (lum2 + 0.05) / (lum1 + 0.05);\n\t},\n\n\tlevel(color2) {\n\t\t// https://www.w3.org/TR/WCAG/#contrast-enhanced\n\t\tconst contrastRatio = this.contrast(color2);\n\t\tif (contrastRatio >= 7) {\n\t\t\treturn 'AAA';\n\t\t}\n\n\t\treturn (contrastRatio >= 4.5) ? 'AA' : '';\n\t},\n\n\tisDark() {\n\t\t// YIQ equation from http://24ways.org/2010/calculating-color-contrast\n\t\tconst rgb = this.rgb().color;\n\t\tconst yiq = (rgb[0] * 2126 + rgb[1] * 7152 + rgb[2] * 722) / 10000;\n\t\treturn yiq < 128;\n\t},\n\n\tisLight() {\n\t\treturn !this.isDark();\n\t},\n\n\tnegate() {\n\t\tconst rgb = this.rgb();\n\t\tfor (let i = 0; i < 3; i++) {\n\t\t\trgb.color[i] = 255 - rgb.color[i];\n\t\t}\n\n\t\treturn rgb;\n\t},\n\n\tlighten(ratio) {\n\t\tconst hsl = this.hsl();\n\t\thsl.color[2] += hsl.color[2] * ratio;\n\t\treturn hsl;\n\t},\n\n\tdarken(ratio) {\n\t\tconst hsl = this.hsl();\n\t\thsl.color[2] -= hsl.color[2] * ratio;\n\t\treturn hsl;\n\t},\n\n\tsaturate(ratio) {\n\t\tconst hsl = this.hsl();\n\t\thsl.color[1] += hsl.color[1] * ratio;\n\t\treturn hsl;\n\t},\n\n\tdesaturate(ratio) {\n\t\tconst hsl = this.hsl();\n\t\thsl.color[1] -= hsl.color[1] * ratio;\n\t\treturn hsl;\n\t},\n\n\twhiten(ratio) {\n\t\tconst hwb = this.hwb();\n\t\thwb.color[1] += hwb.color[1] * ratio;\n\t\treturn hwb;\n\t},\n\n\tblacken(ratio) {\n\t\tconst hwb = this.hwb();\n\t\thwb.color[2] += hwb.color[2] * ratio;\n\t\treturn hwb;\n\t},\n\n\tgrayscale() {\n\t\t// http://en.wikipedia.org/wiki/Grayscale#Converting_color_to_grayscale\n\t\tconst rgb = this.rgb().color;\n\t\tconst value = rgb[0] * 0.3 + rgb[1] * 0.59 + rgb[2] * 0.11;\n\t\treturn Color.rgb(value, value, value);\n\t},\n\n\tfade(ratio) {\n\t\treturn this.alpha(this.valpha - (this.valpha * ratio));\n\t},\n\n\topaquer(ratio) {\n\t\treturn this.alpha(this.valpha + (this.valpha * ratio));\n\t},\n\n\trotate(degrees) {\n\t\tconst hsl = this.hsl();\n\t\tlet hue = hsl.color[0];\n\t\thue = (hue + degrees) % 360;\n\t\thue = hue < 0 ? 360 + hue : hue;\n\t\thsl.color[0] = hue;\n\t\treturn hsl;\n\t},\n\n\tmix(mixinColor, weight) {\n\t\t// Ported from sass implementation in C\n\t\t// https://github.com/sass/libsass/blob/0e6b4a2850092356aa3ece07c6b249f0221caced/functions.cpp#L209\n\t\tif (!mixinColor || !mixinColor.rgb) {\n\t\t\tthrow new Error('Argument to \"mix\" was not a Color instance, but rather an instance of ' + typeof mixinColor);\n\t\t}\n\n\t\tconst color1 = mixinColor.rgb();\n\t\tconst color2 = this.rgb();\n\t\tconst p = weight === undefined ? 0.5 : weight;\n\n\t\tconst w = 2 * p - 1;\n\t\tconst a = color1.alpha() - color2.alpha();\n\n\t\tconst w1 = (((w * a === -1) ? w : (w + a) / (1 + w * a)) + 1) / 2;\n\t\tconst w2 = 1 - w1;\n\n\t\treturn Color.rgb(\n\t\t\tw1 * color1.red() + w2 * color2.red(),\n\t\t\tw1 * color1.green() + w2 * color2.green(),\n\t\t\tw1 * color1.blue() + w2 * color2.blue(),\n\t\t\tcolor1.alpha() * p + color2.alpha() * (1 - p));\n\t},\n};\n\n// Model conversion methods and static constructors\nfor (const model of Object.keys(convert)) {\n\tif (skippedModels.includes(model)) {\n\t\tcontinue;\n\t}\n\n\tconst {channels} = convert[model];\n\n\t// Conversion methods\n\tColor.prototype[model] = function (...args) {\n\t\tif (this.model === model) {\n\t\t\treturn new Color(this);\n\t\t}\n\n\t\tif (args.length > 0) {\n\t\t\treturn new Color(args, model);\n\t\t}\n\n\t\treturn new Color([...assertArray(convert[this.model][model].raw(this.color)), this.valpha], model);\n\t};\n\n\t// 'static' construction methods\n\tColor[model] = function (...args) {\n\t\tlet color = args[0];\n\t\tif (typeof color === 'number') {\n\t\t\tcolor = zeroArray(args, channels);\n\t\t}\n\n\t\treturn new Color(color, model);\n\t};\n}\n\nfunction roundTo(number, places) {\n\treturn Number(number.toFixed(places));\n}\n\nfunction roundToPlace(places) {\n\treturn function (number) {\n\t\treturn roundTo(number, places);\n\t};\n}\n\nfunction getset(model, channel, modifier) {\n\tmodel = Array.isArray(model) ? model : [model];\n\n\tfor (const m of model) {\n\t\t(limiters[m] || (limiters[m] = []))[channel] = modifier;\n\t}\n\n\tmodel = model[0];\n\n\treturn function (value) {\n\t\tlet result;\n\n\t\tif (value !== undefined) {\n\t\t\tif (modifier) {\n\t\t\t\tvalue = modifier(value);\n\t\t\t}\n\n\t\t\tresult = this[model]();\n\t\t\tresult.color[channel] = value;\n\t\t\treturn result;\n\t\t}\n\n\t\tresult = this[model]().color[channel];\n\t\tif (modifier) {\n\t\t\tresult = modifier(result);\n\t\t}\n\n\t\treturn result;\n\t};\n}\n\nfunction maxfn(max) {\n\treturn function (v) {\n\t\treturn Math.max(0, Math.min(max, v));\n\t};\n}\n\nfunction assertArray(value) {\n\treturn Array.isArray(value) ? value : [value];\n}\n\nfunction zeroArray(array, length) {\n\tfor (let i = 0; i < length; i++) {\n\t\tif (typeof array[i] !== 'number') {\n\t\t\tarray[i] = 0;\n\t\t}\n\t}\n\n\treturn array;\n}\n\nmodule.exports = Color;\n","(function(a,b){if(\"function\"==typeof define&&define.amd)define([],b);else if(\"undefined\"!=typeof exports)b();else{b(),a.FileSaver={exports:{}}.exports}})(this,function(){\"use strict\";function b(a,b){return\"undefined\"==typeof b?b={autoBom:!1}:\"object\"!=typeof b&&(console.warn(\"Deprecated: Expected third argument to be a object\"),b={autoBom:!b}),b.autoBom&&/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(a.type)?new Blob([\"\\uFEFF\",a],{type:a.type}):a}function c(a,b,c){var d=new XMLHttpRequest;d.open(\"GET\",a),d.responseType=\"blob\",d.onload=function(){g(d.response,b,c)},d.onerror=function(){console.error(\"could not download file\")},d.send()}function d(a){var b=new XMLHttpRequest;b.open(\"HEAD\",a,!1);try{b.send()}catch(a){}return 200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent(\"click\"))}catch(c){var b=document.createEvent(\"MouseEvents\");b.initMouseEvent(\"click\",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var f=\"object\"==typeof window&&window.window===window?window:\"object\"==typeof self&&self.self===self?self:\"object\"==typeof global&&global.global===global?global:void 0,a=f.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),g=f.saveAs||(\"object\"!=typeof window||window!==f?function(){}:\"download\"in HTMLAnchorElement.prototype&&!a?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement(\"a\");g=g||b.name||\"download\",j.download=g,j.rel=\"noopener\",\"string\"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target=\"_blank\")):(j.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(j.href)},4E4),setTimeout(function(){e(j)},0))}:\"msSaveOrOpenBlob\"in navigator?function(f,g,h){if(g=g||f.name||\"download\",\"string\"!=typeof f)navigator.msSaveOrOpenBlob(b(f,h),g);else if(d(f))c(f,g,h);else{var i=document.createElement(\"a\");i.href=f,i.target=\"_blank\",setTimeout(function(){e(i)})}}:function(b,d,e,g){if(g=g||open(\"\",\"_blank\"),g&&(g.document.title=g.document.body.innerText=\"downloading...\"),\"string\"==typeof b)return c(b,d,e);var h=\"application/octet-stream\"===b.type,i=/constructor/i.test(f.HTMLElement)||f.safari,j=/CriOS\\/[\\d]+/.test(navigator.userAgent);if((j||h&&i||a)&&\"undefined\"!=typeof FileReader){var k=new FileReader;k.onloadend=function(){var a=k.result;a=j?a:a.replace(/^data:[^;]*;/,\"data:attachment/file;\"),g?g.location.href=a:location=a,g=null},k.readAsDataURL(b)}else{var l=f.URL||f.webkitURL,m=l.createObjectURL(b);g?g.location=m:location.href=m,g=null,setTimeout(function(){l.revokeObjectURL(m)},4E4)}});f.saveAs=g.saveAs=g,\"undefined\"!=typeof module&&(module.exports=g)});\n\n//# sourceMappingURL=FileSaver.min.js.map","/**\n * Lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright JS Foundation and other contributors <https://js.foundation/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    asyncTag = '[object AsyncFunction]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    nullTag = '[object Null]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    proxyTag = '[object Proxy]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    undefinedTag = '[object Undefined]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols,\n    nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeKeys = overArg(Object.keys, Object);\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\n/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\n/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = isEqual;\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bigint: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","// light library entry point.\r\n\r\n\"use strict\";\r\nmodule.exports = require(\"./src/index-light\");","\"use strict\";\r\n/**\r\n * Runtime message from/to plain object converters.\r\n * @namespace\r\n */\r\nvar converter = exports;\r\n\r\nvar Enum = require(\"./enum\"),\r\n    util = require(\"./util\");\r\n\r\n/**\r\n * Generates a partial value fromObject conveter.\r\n * @param {Codegen} gen Codegen instance\r\n * @param {Field} field Reflected field\r\n * @param {number} fieldIndex Field index\r\n * @param {string} prop Property reference\r\n * @returns {Codegen} Codegen instance\r\n * @ignore\r\n */\r\nfunction genValuePartial_fromObject(gen, field, fieldIndex, prop) {\r\n    var defaultAlreadyEmitted = false;\r\n    /* eslint-disable no-unexpected-multiline, block-scoped-var, no-redeclare */\r\n    if (field.resolvedType) {\r\n        if (field.resolvedType instanceof Enum) { gen\r\n            (\"switch(d%s){\", prop);\r\n            for (var values = field.resolvedType.values, keys = Object.keys(values), i = 0; i < keys.length; ++i) {\r\n                // enum unknown values passthrough\r\n                if (values[keys[i]] === field.typeDefault && !defaultAlreadyEmitted) { gen\r\n                    (\"default:\")\r\n                        (\"if(typeof(d%s)===\\\"number\\\"){m%s=d%s;break}\", prop, prop, prop);\r\n                    if (!field.repeated) gen // fallback to default value only for\r\n                                             // arrays, to avoid leaving holes.\r\n                        (\"break\");           // for non-repeated fields, just ignore\r\n                    defaultAlreadyEmitted = true;\r\n                }\r\n                gen\r\n                (\"case%j:\", keys[i])\r\n                (\"case %i:\", values[keys[i]])\r\n                    (\"m%s=%j\", prop, values[keys[i]])\r\n                    (\"break\");\r\n            } gen\r\n            (\"}\");\r\n        } else gen\r\n            (\"if(typeof d%s!==\\\"object\\\")\", prop)\r\n                (\"throw TypeError(%j)\", field.fullName + \": object expected\")\r\n            (\"m%s=types[%i].fromObject(d%s)\", prop, fieldIndex, prop);\r\n    } else {\r\n        var isUnsigned = false;\r\n        switch (field.type) {\r\n            case \"double\":\r\n            case \"float\": gen\r\n                (\"m%s=Number(d%s)\", prop, prop); // also catches \"NaN\", \"Infinity\"\r\n                break;\r\n            case \"uint32\":\r\n            case \"fixed32\": gen\r\n                (\"m%s=d%s>>>0\", prop, prop);\r\n                break;\r\n            case \"int32\":\r\n            case \"sint32\":\r\n            case \"sfixed32\": gen\r\n                (\"m%s=d%s|0\", prop, prop);\r\n                break;\r\n            case \"uint64\":\r\n                isUnsigned = true;\r\n                // eslint-disable-next-line no-fallthrough\r\n            case \"int64\":\r\n            case \"sint64\":\r\n            case \"fixed64\":\r\n            case \"sfixed64\": gen\r\n                (\"if(util.Long)\")\r\n                    (\"(m%s=util.Long.fromValue(d%s)).unsigned=%j\", prop, prop, isUnsigned)\r\n                (\"else if(typeof d%s===\\\"string\\\")\", prop)\r\n                    (\"m%s=parseInt(d%s,10)\", prop, prop)\r\n                (\"else if(typeof d%s===\\\"number\\\")\", prop)\r\n                    (\"m%s=d%s\", prop, prop)\r\n                (\"else if(typeof d%s===\\\"object\\\")\", prop)\r\n                    (\"m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)\", prop, prop, prop, isUnsigned ? \"true\" : \"\");\r\n                break;\r\n            case \"bytes\": gen\r\n                (\"if(typeof d%s===\\\"string\\\")\", prop)\r\n                    (\"util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)\", prop, prop, prop)\r\n                (\"else if(d%s.length >= 0)\", prop)\r\n                    (\"m%s=d%s\", prop, prop);\r\n                break;\r\n            case \"string\": gen\r\n                (\"m%s=String(d%s)\", prop, prop);\r\n                break;\r\n            case \"bool\": gen\r\n                (\"m%s=Boolean(d%s)\", prop, prop);\r\n                break;\r\n            /* default: gen\r\n                (\"m%s=d%s\", prop, prop);\r\n                break; */\r\n        }\r\n    }\r\n    return gen;\r\n    /* eslint-enable no-unexpected-multiline, block-scoped-var, no-redeclare */\r\n}\r\n\r\n/**\r\n * Generates a plain object to runtime message converter specific to the specified message type.\r\n * @param {Type} mtype Message type\r\n * @returns {Codegen} Codegen instance\r\n */\r\nconverter.fromObject = function fromObject(mtype) {\r\n    /* eslint-disable no-unexpected-multiline, block-scoped-var, no-redeclare */\r\n    var fields = mtype.fieldsArray;\r\n    var gen = util.codegen([\"d\"], mtype.name + \"$fromObject\")\r\n    (\"if(d instanceof this.ctor)\")\r\n        (\"return d\");\r\n    if (!fields.length) return gen\r\n    (\"return new this.ctor\");\r\n    gen\r\n    (\"var m=new this.ctor\");\r\n    for (var i = 0; i < fields.length; ++i) {\r\n        var field  = fields[i].resolve(),\r\n            prop   = util.safeProp(field.name);\r\n\r\n        // Map fields\r\n        if (field.map) { gen\r\n    (\"if(d%s){\", prop)\r\n        (\"if(typeof d%s!==\\\"object\\\")\", prop)\r\n            (\"throw TypeError(%j)\", field.fullName + \": object expected\")\r\n        (\"m%s={}\", prop)\r\n        (\"for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){\", prop);\r\n            genValuePartial_fromObject(gen, field, /* not sorted */ i, prop + \"[ks[i]]\")\r\n        (\"}\")\r\n    (\"}\");\r\n\r\n        // Repeated fields\r\n        } else if (field.repeated) { gen\r\n    (\"if(d%s){\", prop)\r\n        (\"if(!Array.isArray(d%s))\", prop)\r\n            (\"throw TypeError(%j)\", field.fullName + \": array expected\")\r\n        (\"m%s=[]\", prop)\r\n        (\"for(var i=0;i<d%s.length;++i){\", prop);\r\n            genValuePartial_fromObject(gen, field, /* not sorted */ i, prop + \"[i]\")\r\n        (\"}\")\r\n    (\"}\");\r\n\r\n        // Non-repeated fields\r\n        } else {\r\n            if (!(field.resolvedType instanceof Enum)) gen // no need to test for null/undefined if an enum (uses switch)\r\n    (\"if(d%s!=null){\", prop); // !== undefined && !== null\r\n        genValuePartial_fromObject(gen, field, /* not sorted */ i, prop);\r\n            if (!(field.resolvedType instanceof Enum)) gen\r\n    (\"}\");\r\n        }\r\n    } return gen\r\n    (\"return m\");\r\n    /* eslint-enable no-unexpected-multiline, block-scoped-var, no-redeclare */\r\n};\r\n\r\n/**\r\n * Generates a partial value toObject converter.\r\n * @param {Codegen} gen Codegen instance\r\n * @param {Field} field Reflected field\r\n * @param {number} fieldIndex Field index\r\n * @param {string} prop Property reference\r\n * @returns {Codegen} Codegen instance\r\n * @ignore\r\n */\r\nfunction genValuePartial_toObject(gen, field, fieldIndex, prop) {\r\n    /* eslint-disable no-unexpected-multiline, block-scoped-var, no-redeclare */\r\n    if (field.resolvedType) {\r\n        if (field.resolvedType instanceof Enum) gen\r\n            (\"d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s\", prop, fieldIndex, prop, prop, fieldIndex, prop, prop);\r\n        else gen\r\n            (\"d%s=types[%i].toObject(m%s,o)\", prop, fieldIndex, prop);\r\n    } else {\r\n        var isUnsigned = false;\r\n        switch (field.type) {\r\n            case \"double\":\r\n            case \"float\": gen\r\n            (\"d%s=o.json&&!isFinite(m%s)?String(m%s):m%s\", prop, prop, prop, prop);\r\n                break;\r\n            case \"uint64\":\r\n                isUnsigned = true;\r\n                // eslint-disable-next-line no-fallthrough\r\n            case \"int64\":\r\n            case \"sint64\":\r\n            case \"fixed64\":\r\n            case \"sfixed64\": gen\r\n            (\"if(typeof m%s===\\\"number\\\")\", prop)\r\n                (\"d%s=o.longs===String?String(m%s):m%s\", prop, prop, prop)\r\n            (\"else\") // Long-like\r\n                (\"d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s\", prop, prop, prop, prop, isUnsigned ? \"true\": \"\", prop);\r\n                break;\r\n            case \"bytes\": gen\r\n            (\"d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s\", prop, prop, prop, prop, prop);\r\n                break;\r\n            default: gen\r\n            (\"d%s=m%s\", prop, prop);\r\n                break;\r\n        }\r\n    }\r\n    return gen;\r\n    /* eslint-enable no-unexpected-multiline, block-scoped-var, no-redeclare */\r\n}\r\n\r\n/**\r\n * Generates a runtime message to plain object converter specific to the specified message type.\r\n * @param {Type} mtype Message type\r\n * @returns {Codegen} Codegen instance\r\n */\r\nconverter.toObject = function toObject(mtype) {\r\n    /* eslint-disable no-unexpected-multiline, block-scoped-var, no-redeclare */\r\n    var fields = mtype.fieldsArray.slice().sort(util.compareFieldsById);\r\n    if (!fields.length)\r\n        return util.codegen()(\"return {}\");\r\n    var gen = util.codegen([\"m\", \"o\"], mtype.name + \"$toObject\")\r\n    (\"if(!o)\")\r\n        (\"o={}\")\r\n    (\"var d={}\");\r\n\r\n    var repeatedFields = [],\r\n        mapFields = [],\r\n        normalFields = [],\r\n        i = 0;\r\n    for (; i < fields.length; ++i)\r\n        if (!fields[i].partOf)\r\n            ( fields[i].resolve().repeated ? repeatedFields\r\n            : fields[i].map ? mapFields\r\n            : normalFields).push(fields[i]);\r\n\r\n    if (repeatedFields.length) { gen\r\n    (\"if(o.arrays||o.defaults){\");\r\n        for (i = 0; i < repeatedFields.length; ++i) gen\r\n        (\"d%s=[]\", util.safeProp(repeatedFields[i].name));\r\n        gen\r\n    (\"}\");\r\n    }\r\n\r\n    if (mapFields.length) { gen\r\n    (\"if(o.objects||o.defaults){\");\r\n        for (i = 0; i < mapFields.length; ++i) gen\r\n        (\"d%s={}\", util.safeProp(mapFields[i].name));\r\n        gen\r\n    (\"}\");\r\n    }\r\n\r\n    if (normalFields.length) { gen\r\n    (\"if(o.defaults){\");\r\n        for (i = 0; i < normalFields.length; ++i) {\r\n            var field = normalFields[i],\r\n                prop  = util.safeProp(field.name);\r\n            if (field.resolvedType instanceof Enum) gen\r\n        (\"d%s=o.enums===String?%j:%j\", prop, field.resolvedType.valuesById[field.typeDefault], field.typeDefault);\r\n            else if (field.long) gen\r\n        (\"if(util.Long){\")\r\n            (\"var n=new util.Long(%i,%i,%j)\", field.typeDefault.low, field.typeDefault.high, field.typeDefault.unsigned)\r\n            (\"d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n\", prop)\r\n        (\"}else\")\r\n            (\"d%s=o.longs===String?%j:%i\", prop, field.typeDefault.toString(), field.typeDefault.toNumber());\r\n            else if (field.bytes) {\r\n                var arrayDefault = \"[\" + Array.prototype.slice.call(field.typeDefault).join(\",\") + \"]\";\r\n                gen\r\n        (\"if(o.bytes===String)d%s=%j\", prop, String.fromCharCode.apply(String, field.typeDefault))\r\n        (\"else{\")\r\n            (\"d%s=%s\", prop, arrayDefault)\r\n            (\"if(o.bytes!==Array)d%s=util.newBuffer(d%s)\", prop, prop)\r\n        (\"}\");\r\n            } else gen\r\n        (\"d%s=%j\", prop, field.typeDefault); // also messages (=null)\r\n        } gen\r\n    (\"}\");\r\n    }\r\n    var hasKs2 = false;\r\n    for (i = 0; i < fields.length; ++i) {\r\n        var field = fields[i],\r\n            index = mtype._fieldsArray.indexOf(field),\r\n            prop  = util.safeProp(field.name);\r\n        if (field.map) {\r\n            if (!hasKs2) { hasKs2 = true; gen\r\n    (\"var ks2\");\r\n            } gen\r\n    (\"if(m%s&&(ks2=Object.keys(m%s)).length){\", prop, prop)\r\n        (\"d%s={}\", prop)\r\n        (\"for(var j=0;j<ks2.length;++j){\");\r\n            genValuePartial_toObject(gen, field, /* sorted */ index, prop + \"[ks2[j]]\")\r\n        (\"}\");\r\n        } else if (field.repeated) { gen\r\n    (\"if(m%s&&m%s.length){\", prop, prop)\r\n        (\"d%s=[]\", prop)\r\n        (\"for(var j=0;j<m%s.length;++j){\", prop);\r\n            genValuePartial_toObject(gen, field, /* sorted */ index, prop + \"[j]\")\r\n        (\"}\");\r\n        } else { gen\r\n    (\"if(m%s!=null&&m.hasOwnProperty(%j)){\", prop, field.name); // !== undefined && !== null\r\n        genValuePartial_toObject(gen, field, /* sorted */ index, prop);\r\n        if (field.partOf) gen\r\n        (\"if(o.oneofs)\")\r\n            (\"d%s=%j\", util.safeProp(field.partOf.name), field.name);\r\n        }\r\n        gen\r\n    (\"}\");\r\n    }\r\n    return gen\r\n    (\"return d\");\r\n    /* eslint-enable no-unexpected-multiline, block-scoped-var, no-redeclare */\r\n};\r\n","\"use strict\";\r\nmodule.exports = decoder;\r\n\r\nvar Enum    = require(\"./enum\"),\r\n    types   = require(\"./types\"),\r\n    util    = require(\"./util\");\r\n\r\nfunction missing(field) {\r\n    return \"missing required '\" + field.name + \"'\";\r\n}\r\n\r\n/**\r\n * Generates a decoder specific to the specified message type.\r\n * @param {Type} mtype Message type\r\n * @returns {Codegen} Codegen instance\r\n */\r\nfunction decoder(mtype) {\r\n    /* eslint-disable no-unexpected-multiline */\r\n    var gen = util.codegen([\"r\", \"l\"], mtype.name + \"$decode\")\r\n    (\"if(!(r instanceof Reader))\")\r\n        (\"r=Reader.create(r)\")\r\n    (\"var c=l===undefined?r.len:r.pos+l,m=new this.ctor\" + (mtype.fieldsArray.filter(function(field) { return field.map; }).length ? \",k,value\" : \"\"))\r\n    (\"while(r.pos<c){\")\r\n        (\"var t=r.uint32()\");\r\n    if (mtype.group) gen\r\n        (\"if((t&7)===4)\")\r\n            (\"break\");\r\n    gen\r\n        (\"switch(t>>>3){\");\r\n\r\n    var i = 0;\r\n    for (; i < /* initializes */ mtype.fieldsArray.length; ++i) {\r\n        var field = mtype._fieldsArray[i].resolve(),\r\n            type  = field.resolvedType instanceof Enum ? \"int32\" : field.type,\r\n            ref   = \"m\" + util.safeProp(field.name); gen\r\n            (\"case %i: {\", field.id);\r\n\r\n        // Map fields\r\n        if (field.map) { gen\r\n                (\"if(%s===util.emptyObject)\", ref)\r\n                    (\"%s={}\", ref)\r\n                (\"var c2 = r.uint32()+r.pos\");\r\n\r\n            if (types.defaults[field.keyType] !== undefined) gen\r\n                (\"k=%j\", types.defaults[field.keyType]);\r\n            else gen\r\n                (\"k=null\");\r\n\r\n            if (types.defaults[type] !== undefined) gen\r\n                (\"value=%j\", types.defaults[type]);\r\n            else gen\r\n                (\"value=null\");\r\n\r\n            gen\r\n                (\"while(r.pos<c2){\")\r\n                    (\"var tag2=r.uint32()\")\r\n                    (\"switch(tag2>>>3){\")\r\n                        (\"case 1: k=r.%s(); break\", field.keyType)\r\n                        (\"case 2:\");\r\n\r\n            if (types.basic[type] === undefined) gen\r\n                            (\"value=types[%i].decode(r,r.uint32())\", i); // can't be groups\r\n            else gen\r\n                            (\"value=r.%s()\", type);\r\n\r\n            gen\r\n                            (\"break\")\r\n                        (\"default:\")\r\n                            (\"r.skipType(tag2&7)\")\r\n                            (\"break\")\r\n                    (\"}\")\r\n                (\"}\");\r\n\r\n            if (types.long[field.keyType] !== undefined) gen\r\n                (\"%s[typeof k===\\\"object\\\"?util.longToHash(k):k]=value\", ref);\r\n            else gen\r\n                (\"%s[k]=value\", ref);\r\n\r\n        // Repeated fields\r\n        } else if (field.repeated) { gen\r\n\r\n                (\"if(!(%s&&%s.length))\", ref, ref)\r\n                    (\"%s=[]\", ref);\r\n\r\n            // Packable (always check for forward and backward compatiblity)\r\n            if (types.packed[type] !== undefined) gen\r\n                (\"if((t&7)===2){\")\r\n                    (\"var c2=r.uint32()+r.pos\")\r\n                    (\"while(r.pos<c2)\")\r\n                        (\"%s.push(r.%s())\", ref, type)\r\n                (\"}else\");\r\n\r\n            // Non-packed\r\n            if (types.basic[type] === undefined) gen(field.resolvedType.group\r\n                    ? \"%s.push(types[%i].decode(r))\"\r\n                    : \"%s.push(types[%i].decode(r,r.uint32()))\", ref, i);\r\n            else gen\r\n                    (\"%s.push(r.%s())\", ref, type);\r\n\r\n        // Non-repeated\r\n        } else if (types.basic[type] === undefined) gen(field.resolvedType.group\r\n                ? \"%s=types[%i].decode(r)\"\r\n                : \"%s=types[%i].decode(r,r.uint32())\", ref, i);\r\n        else gen\r\n                (\"%s=r.%s()\", ref, type);\r\n        gen\r\n                (\"break\")\r\n            (\"}\");\r\n        // Unknown fields\r\n    } gen\r\n            (\"default:\")\r\n                (\"r.skipType(t&7)\")\r\n                (\"break\")\r\n\r\n        (\"}\")\r\n    (\"}\");\r\n\r\n    // Field presence\r\n    for (i = 0; i < mtype._fieldsArray.length; ++i) {\r\n        var rfield = mtype._fieldsArray[i];\r\n        if (rfield.required) gen\r\n    (\"if(!m.hasOwnProperty(%j))\", rfield.name)\r\n        (\"throw util.ProtocolError(%j,{instance:m})\", missing(rfield));\r\n    }\r\n\r\n    return gen\r\n    (\"return m\");\r\n    /* eslint-enable no-unexpected-multiline */\r\n}\r\n","\"use strict\";\r\nmodule.exports = encoder;\r\n\r\nvar Enum     = require(\"./enum\"),\r\n    types    = require(\"./types\"),\r\n    util     = require(\"./util\");\r\n\r\n/**\r\n * Generates a partial message type encoder.\r\n * @param {Codegen} gen Codegen instance\r\n * @param {Field} field Reflected field\r\n * @param {number} fieldIndex Field index\r\n * @param {string} ref Variable reference\r\n * @returns {Codegen} Codegen instance\r\n * @ignore\r\n */\r\nfunction genTypePartial(gen, field, fieldIndex, ref) {\r\n    return field.resolvedType.group\r\n        ? gen(\"types[%i].encode(%s,w.uint32(%i)).uint32(%i)\", fieldIndex, ref, (field.id << 3 | 3) >>> 0, (field.id << 3 | 4) >>> 0)\r\n        : gen(\"types[%i].encode(%s,w.uint32(%i).fork()).ldelim()\", fieldIndex, ref, (field.id << 3 | 2) >>> 0);\r\n}\r\n\r\n/**\r\n * Generates an encoder specific to the specified message type.\r\n * @param {Type} mtype Message type\r\n * @returns {Codegen} Codegen instance\r\n */\r\nfunction encoder(mtype) {\r\n    /* eslint-disable no-unexpected-multiline, block-scoped-var, no-redeclare */\r\n    var gen = util.codegen([\"m\", \"w\"], mtype.name + \"$encode\")\r\n    (\"if(!w)\")\r\n        (\"w=Writer.create()\");\r\n\r\n    var i, ref;\r\n\r\n    // \"when a message is serialized its known fields should be written sequentially by field number\"\r\n    var fields = /* initializes */ mtype.fieldsArray.slice().sort(util.compareFieldsById);\r\n\r\n    for (var i = 0; i < fields.length; ++i) {\r\n        var field    = fields[i].resolve(),\r\n            index    = mtype._fieldsArray.indexOf(field),\r\n            type     = field.resolvedType instanceof Enum ? \"int32\" : field.type,\r\n            wireType = types.basic[type];\r\n            ref      = \"m\" + util.safeProp(field.name);\r\n\r\n        // Map fields\r\n        if (field.map) {\r\n            gen\r\n    (\"if(%s!=null&&Object.hasOwnProperty.call(m,%j)){\", ref, field.name) // !== undefined && !== null\r\n        (\"for(var ks=Object.keys(%s),i=0;i<ks.length;++i){\", ref)\r\n            (\"w.uint32(%i).fork().uint32(%i).%s(ks[i])\", (field.id << 3 | 2) >>> 0, 8 | types.mapKey[field.keyType], field.keyType);\r\n            if (wireType === undefined) gen\r\n            (\"types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()\", index, ref); // can't be groups\r\n            else gen\r\n            (\".uint32(%i).%s(%s[ks[i]]).ldelim()\", 16 | wireType, type, ref);\r\n            gen\r\n        (\"}\")\r\n    (\"}\");\r\n\r\n            // Repeated fields\r\n        } else if (field.repeated) { gen\r\n    (\"if(%s!=null&&%s.length){\", ref, ref); // !== undefined && !== null\r\n\r\n            // Packed repeated\r\n            if (field.packed && types.packed[type] !== undefined) { gen\r\n\r\n        (\"w.uint32(%i).fork()\", (field.id << 3 | 2) >>> 0)\r\n        (\"for(var i=0;i<%s.length;++i)\", ref)\r\n            (\"w.%s(%s[i])\", type, ref)\r\n        (\"w.ldelim()\");\r\n\r\n            // Non-packed\r\n            } else { gen\r\n\r\n        (\"for(var i=0;i<%s.length;++i)\", ref);\r\n                if (wireType === undefined)\r\n            genTypePartial(gen, field, index, ref + \"[i]\");\r\n                else gen\r\n            (\"w.uint32(%i).%s(%s[i])\", (field.id << 3 | wireType) >>> 0, type, ref);\r\n\r\n            } gen\r\n    (\"}\");\r\n\r\n        // Non-repeated\r\n        } else {\r\n            if (field.optional) gen\r\n    (\"if(%s!=null&&Object.hasOwnProperty.call(m,%j))\", ref, field.name); // !== undefined && !== null\r\n\r\n            if (wireType === undefined)\r\n        genTypePartial(gen, field, index, ref);\r\n            else gen\r\n        (\"w.uint32(%i).%s(%s)\", (field.id << 3 | wireType) >>> 0, type, ref);\r\n\r\n        }\r\n    }\r\n\r\n    return gen\r\n    (\"return w\");\r\n    /* eslint-enable no-unexpected-multiline, block-scoped-var, no-redeclare */\r\n}\r\n","\"use strict\";\r\nmodule.exports = Enum;\r\n\r\n// extends ReflectionObject\r\nvar ReflectionObject = require(\"./object\");\r\n((Enum.prototype = Object.create(ReflectionObject.prototype)).constructor = Enum).className = \"Enum\";\r\n\r\nvar Namespace = require(\"./namespace\"),\r\n    util = require(\"./util\");\r\n\r\n/**\r\n * Constructs a new enum instance.\r\n * @classdesc Reflected enum.\r\n * @extends ReflectionObject\r\n * @constructor\r\n * @param {string} name Unique name within its namespace\r\n * @param {Object.<string,number>} [values] Enum values as an object, by name\r\n * @param {Object.<string,*>} [options] Declared options\r\n * @param {string} [comment] The comment for this enum\r\n * @param {Object.<string,string>} [comments] The value comments for this enum\r\n * @param {Object.<string,Object<string,*>>|undefined} [valuesOptions] The value options for this enum\r\n */\r\nfunction Enum(name, values, options, comment, comments, valuesOptions) {\r\n    ReflectionObject.call(this, name, options);\r\n\r\n    if (values && typeof values !== \"object\")\r\n        throw TypeError(\"values must be an object\");\r\n\r\n    /**\r\n     * Enum values by id.\r\n     * @type {Object.<number,string>}\r\n     */\r\n    this.valuesById = {};\r\n\r\n    /**\r\n     * Enum values by name.\r\n     * @type {Object.<string,number>}\r\n     */\r\n    this.values = Object.create(this.valuesById); // toJSON, marker\r\n\r\n    /**\r\n     * Enum comment text.\r\n     * @type {string|null}\r\n     */\r\n    this.comment = comment;\r\n\r\n    /**\r\n     * Value comment texts, if any.\r\n     * @type {Object.<string,string>}\r\n     */\r\n    this.comments = comments || {};\r\n\r\n    /**\r\n     * Values options, if any\r\n     * @type {Object<string, Object<string, *>>|undefined}\r\n     */\r\n    this.valuesOptions = valuesOptions;\r\n\r\n    /**\r\n     * Reserved ranges, if any.\r\n     * @type {Array.<number[]|string>}\r\n     */\r\n    this.reserved = undefined; // toJSON\r\n\r\n    // Note that values inherit valuesById on their prototype which makes them a TypeScript-\r\n    // compatible enum. This is used by pbts to write actual enum definitions that work for\r\n    // static and reflection code alike instead of emitting generic object definitions.\r\n\r\n    if (values)\r\n        for (var keys = Object.keys(values), i = 0; i < keys.length; ++i)\r\n            if (typeof values[keys[i]] === \"number\") // use forward entries only\r\n                this.valuesById[ this.values[keys[i]] = values[keys[i]] ] = keys[i];\r\n}\r\n\r\n/**\r\n * Enum descriptor.\r\n * @interface IEnum\r\n * @property {Object.<string,number>} values Enum values\r\n * @property {Object.<string,*>} [options] Enum options\r\n */\r\n\r\n/**\r\n * Constructs an enum from an enum descriptor.\r\n * @param {string} name Enum name\r\n * @param {IEnum} json Enum descriptor\r\n * @returns {Enum} Created enum\r\n * @throws {TypeError} If arguments are invalid\r\n */\r\nEnum.fromJSON = function fromJSON(name, json) {\r\n    var enm = new Enum(name, json.values, json.options, json.comment, json.comments);\r\n    enm.reserved = json.reserved;\r\n    return enm;\r\n};\r\n\r\n/**\r\n * Converts this enum to an enum descriptor.\r\n * @param {IToJSONOptions} [toJSONOptions] JSON conversion options\r\n * @returns {IEnum} Enum descriptor\r\n */\r\nEnum.prototype.toJSON = function toJSON(toJSONOptions) {\r\n    var keepComments = toJSONOptions ? Boolean(toJSONOptions.keepComments) : false;\r\n    return util.toObject([\r\n        \"options\"       , this.options,\r\n        \"valuesOptions\" , this.valuesOptions,\r\n        \"values\"        , this.values,\r\n        \"reserved\"      , this.reserved && this.reserved.length ? this.reserved : undefined,\r\n        \"comment\"       , keepComments ? this.comment : undefined,\r\n        \"comments\"      , keepComments ? this.comments : undefined\r\n    ]);\r\n};\r\n\r\n/**\r\n * Adds a value to this enum.\r\n * @param {string} name Value name\r\n * @param {number} id Value id\r\n * @param {string} [comment] Comment, if any\r\n * @param {Object.<string, *>|undefined} [options] Options, if any\r\n * @returns {Enum} `this`\r\n * @throws {TypeError} If arguments are invalid\r\n * @throws {Error} If there is already a value with this name or id\r\n */\r\nEnum.prototype.add = function add(name, id, comment, options) {\r\n    // utilized by the parser but not by .fromJSON\r\n\r\n    if (!util.isString(name))\r\n        throw TypeError(\"name must be a string\");\r\n\r\n    if (!util.isInteger(id))\r\n        throw TypeError(\"id must be an integer\");\r\n\r\n    if (this.values[name] !== undefined)\r\n        throw Error(\"duplicate name '\" + name + \"' in \" + this);\r\n\r\n    if (this.isReservedId(id))\r\n        throw Error(\"id \" + id + \" is reserved in \" + this);\r\n\r\n    if (this.isReservedName(name))\r\n        throw Error(\"name '\" + name + \"' is reserved in \" + this);\r\n\r\n    if (this.valuesById[id] !== undefined) {\r\n        if (!(this.options && this.options.allow_alias))\r\n            throw Error(\"duplicate id \" + id + \" in \" + this);\r\n        this.values[name] = id;\r\n    } else\r\n        this.valuesById[this.values[name] = id] = name;\r\n\r\n    if (options) {\r\n        if (this.valuesOptions === undefined)\r\n            this.valuesOptions = {};\r\n        this.valuesOptions[name] = options || null;\r\n    }\r\n\r\n    this.comments[name] = comment || null;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Removes a value from this enum\r\n * @param {string} name Value name\r\n * @returns {Enum} `this`\r\n * @throws {TypeError} If arguments are invalid\r\n * @throws {Error} If `name` is not a name of this enum\r\n */\r\nEnum.prototype.remove = function remove(name) {\r\n\r\n    if (!util.isString(name))\r\n        throw TypeError(\"name must be a string\");\r\n\r\n    var val = this.values[name];\r\n    if (val == null)\r\n        throw Error(\"name '\" + name + \"' does not exist in \" + this);\r\n\r\n    delete this.valuesById[val];\r\n    delete this.values[name];\r\n    delete this.comments[name];\r\n    if (this.valuesOptions)\r\n        delete this.valuesOptions[name];\r\n\r\n    return this;\r\n};\r\n\r\n/**\r\n * Tests if the specified id is reserved.\r\n * @param {number} id Id to test\r\n * @returns {boolean} `true` if reserved, otherwise `false`\r\n */\r\nEnum.prototype.isReservedId = function isReservedId(id) {\r\n    return Namespace.isReservedId(this.reserved, id);\r\n};\r\n\r\n/**\r\n * Tests if the specified name is reserved.\r\n * @param {string} name Name to test\r\n * @returns {boolean} `true` if reserved, otherwise `false`\r\n */\r\nEnum.prototype.isReservedName = function isReservedName(name) {\r\n    return Namespace.isReservedName(this.reserved, name);\r\n};\r\n","\"use strict\";\r\nmodule.exports = Field;\r\n\r\n// extends ReflectionObject\r\nvar ReflectionObject = require(\"./object\");\r\n((Field.prototype = Object.create(ReflectionObject.prototype)).constructor = Field).className = \"Field\";\r\n\r\nvar Enum  = require(\"./enum\"),\r\n    types = require(\"./types\"),\r\n    util  = require(\"./util\");\r\n\r\nvar Type; // cyclic\r\n\r\nvar ruleRe = /^required|optional|repeated$/;\r\n\r\n/**\r\n * Constructs a new message field instance. Note that {@link MapField|map fields} have their own class.\r\n * @name Field\r\n * @classdesc Reflected message field.\r\n * @extends FieldBase\r\n * @constructor\r\n * @param {string} name Unique name within its namespace\r\n * @param {number} id Unique id within its namespace\r\n * @param {string} type Value type\r\n * @param {string|Object.<string,*>} [rule=\"optional\"] Field rule\r\n * @param {string|Object.<string,*>} [extend] Extended type if different from parent\r\n * @param {Object.<string,*>} [options] Declared options\r\n */\r\n\r\n/**\r\n * Constructs a field from a field descriptor.\r\n * @param {string} name Field name\r\n * @param {IField} json Field descriptor\r\n * @returns {Field} Created field\r\n * @throws {TypeError} If arguments are invalid\r\n */\r\nField.fromJSON = function fromJSON(name, json) {\r\n    return new Field(name, json.id, json.type, json.rule, json.extend, json.options, json.comment);\r\n};\r\n\r\n/**\r\n * Not an actual constructor. Use {@link Field} instead.\r\n * @classdesc Base class of all reflected message fields. This is not an actual class but here for the sake of having consistent type definitions.\r\n * @exports FieldBase\r\n * @extends ReflectionObject\r\n * @constructor\r\n * @param {string} name Unique name within its namespace\r\n * @param {number} id Unique id within its namespace\r\n * @param {string} type Value type\r\n * @param {string|Object.<string,*>} [rule=\"optional\"] Field rule\r\n * @param {string|Object.<string,*>} [extend] Extended type if different from parent\r\n * @param {Object.<string,*>} [options] Declared options\r\n * @param {string} [comment] Comment associated with this field\r\n */\r\nfunction Field(name, id, type, rule, extend, options, comment) {\r\n\r\n    if (util.isObject(rule)) {\r\n        comment = extend;\r\n        options = rule;\r\n        rule = extend = undefined;\r\n    } else if (util.isObject(extend)) {\r\n        comment = options;\r\n        options = extend;\r\n        extend = undefined;\r\n    }\r\n\r\n    ReflectionObject.call(this, name, options);\r\n\r\n    if (!util.isInteger(id) || id < 0)\r\n        throw TypeError(\"id must be a non-negative integer\");\r\n\r\n    if (!util.isString(type))\r\n        throw TypeError(\"type must be a string\");\r\n\r\n    if (rule !== undefined && !ruleRe.test(rule = rule.toString().toLowerCase()))\r\n        throw TypeError(\"rule must be a string rule\");\r\n\r\n    if (extend !== undefined && !util.isString(extend))\r\n        throw TypeError(\"extend must be a string\");\r\n\r\n    /**\r\n     * Field rule, if any.\r\n     * @type {string|undefined}\r\n     */\r\n    if (rule === \"proto3_optional\") {\r\n        rule = \"optional\";\r\n    }\r\n    this.rule = rule && rule !== \"optional\" ? rule : undefined; // toJSON\r\n\r\n    /**\r\n     * Field type.\r\n     * @type {string}\r\n     */\r\n    this.type = type; // toJSON\r\n\r\n    /**\r\n     * Unique field id.\r\n     * @type {number}\r\n     */\r\n    this.id = id; // toJSON, marker\r\n\r\n    /**\r\n     * Extended type if different from parent.\r\n     * @type {string|undefined}\r\n     */\r\n    this.extend = extend || undefined; // toJSON\r\n\r\n    /**\r\n     * Whether this field is required.\r\n     * @type {boolean}\r\n     */\r\n    this.required = rule === \"required\";\r\n\r\n    /**\r\n     * Whether this field is optional.\r\n     * @type {boolean}\r\n     */\r\n    this.optional = !this.required;\r\n\r\n    /**\r\n     * Whether this field is repeated.\r\n     * @type {boolean}\r\n     */\r\n    this.repeated = rule === \"repeated\";\r\n\r\n    /**\r\n     * Whether this field is a map or not.\r\n     * @type {boolean}\r\n     */\r\n    this.map = false;\r\n\r\n    /**\r\n     * Message this field belongs to.\r\n     * @type {Type|null}\r\n     */\r\n    this.message = null;\r\n\r\n    /**\r\n     * OneOf this field belongs to, if any,\r\n     * @type {OneOf|null}\r\n     */\r\n    this.partOf = null;\r\n\r\n    /**\r\n     * The field type's default value.\r\n     * @type {*}\r\n     */\r\n    this.typeDefault = null;\r\n\r\n    /**\r\n     * The field's default value on prototypes.\r\n     * @type {*}\r\n     */\r\n    this.defaultValue = null;\r\n\r\n    /**\r\n     * Whether this field's value should be treated as a long.\r\n     * @type {boolean}\r\n     */\r\n    this.long = util.Long ? types.long[type] !== undefined : /* istanbul ignore next */ false;\r\n\r\n    /**\r\n     * Whether this field's value is a buffer.\r\n     * @type {boolean}\r\n     */\r\n    this.bytes = type === \"bytes\";\r\n\r\n    /**\r\n     * Resolved type if not a basic type.\r\n     * @type {Type|Enum|null}\r\n     */\r\n    this.resolvedType = null;\r\n\r\n    /**\r\n     * Sister-field within the extended type if a declaring extension field.\r\n     * @type {Field|null}\r\n     */\r\n    this.extensionField = null;\r\n\r\n    /**\r\n     * Sister-field within the declaring namespace if an extended field.\r\n     * @type {Field|null}\r\n     */\r\n    this.declaringField = null;\r\n\r\n    /**\r\n     * Internally remembers whether this field is packed.\r\n     * @type {boolean|null}\r\n     * @private\r\n     */\r\n    this._packed = null;\r\n\r\n    /**\r\n     * Comment for this field.\r\n     * @type {string|null}\r\n     */\r\n    this.comment = comment;\r\n}\r\n\r\n/**\r\n * Determines whether this field is packed. Only relevant when repeated and working with proto2.\r\n * @name Field#packed\r\n * @type {boolean}\r\n * @readonly\r\n */\r\nObject.defineProperty(Field.prototype, \"packed\", {\r\n    get: function() {\r\n        // defaults to packed=true if not explicity set to false\r\n        if (this._packed === null)\r\n            this._packed = this.getOption(\"packed\") !== false;\r\n        return this._packed;\r\n    }\r\n});\r\n\r\n/**\r\n * @override\r\n */\r\nField.prototype.setOption = function setOption(name, value, ifNotSet) {\r\n    if (name === \"packed\") // clear cached before setting\r\n        this._packed = null;\r\n    return ReflectionObject.prototype.setOption.call(this, name, value, ifNotSet);\r\n};\r\n\r\n/**\r\n * Field descriptor.\r\n * @interface IField\r\n * @property {string} [rule=\"optional\"] Field rule\r\n * @property {string} type Field type\r\n * @property {number} id Field id\r\n * @property {Object.<string,*>} [options] Field options\r\n */\r\n\r\n/**\r\n * Extension field descriptor.\r\n * @interface IExtensionField\r\n * @extends IField\r\n * @property {string} extend Extended type\r\n */\r\n\r\n/**\r\n * Converts this field to a field descriptor.\r\n * @param {IToJSONOptions} [toJSONOptions] JSON conversion options\r\n * @returns {IField} Field descriptor\r\n */\r\nField.prototype.toJSON = function toJSON(toJSONOptions) {\r\n    var keepComments = toJSONOptions ? Boolean(toJSONOptions.keepComments) : false;\r\n    return util.toObject([\r\n        \"rule\"    , this.rule !== \"optional\" && this.rule || undefined,\r\n        \"type\"    , this.type,\r\n        \"id\"      , this.id,\r\n        \"extend\"  , this.extend,\r\n        \"options\" , this.options,\r\n        \"comment\" , keepComments ? this.comment : undefined\r\n    ]);\r\n};\r\n\r\n/**\r\n * Resolves this field's type references.\r\n * @returns {Field} `this`\r\n * @throws {Error} If any reference cannot be resolved\r\n */\r\nField.prototype.resolve = function resolve() {\r\n\r\n    if (this.resolved)\r\n        return this;\r\n\r\n    if ((this.typeDefault = types.defaults[this.type]) === undefined) { // if not a basic type, resolve it\r\n        this.resolvedType = (this.declaringField ? this.declaringField.parent : this.parent).lookupTypeOrEnum(this.type);\r\n        if (this.resolvedType instanceof Type)\r\n            this.typeDefault = null;\r\n        else // instanceof Enum\r\n            this.typeDefault = this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]; // first defined\r\n    } else if (this.options && this.options.proto3_optional) {\r\n        // proto3 scalar value marked optional; should default to null\r\n        this.typeDefault = null;\r\n    }\r\n\r\n    // use explicitly set default value if present\r\n    if (this.options && this.options[\"default\"] != null) {\r\n        this.typeDefault = this.options[\"default\"];\r\n        if (this.resolvedType instanceof Enum && typeof this.typeDefault === \"string\")\r\n            this.typeDefault = this.resolvedType.values[this.typeDefault];\r\n    }\r\n\r\n    // remove unnecessary options\r\n    if (this.options) {\r\n        if (this.options.packed === true || this.options.packed !== undefined && this.resolvedType && !(this.resolvedType instanceof Enum))\r\n            delete this.options.packed;\r\n        if (!Object.keys(this.options).length)\r\n            this.options = undefined;\r\n    }\r\n\r\n    // convert to internal data type if necesssary\r\n    if (this.long) {\r\n        this.typeDefault = util.Long.fromNumber(this.typeDefault, this.type.charAt(0) === \"u\");\r\n\r\n        /* istanbul ignore else */\r\n        if (Object.freeze)\r\n            Object.freeze(this.typeDefault); // long instances are meant to be immutable anyway (i.e. use small int cache that even requires it)\r\n\r\n    } else if (this.bytes && typeof this.typeDefault === \"string\") {\r\n        var buf;\r\n        if (util.base64.test(this.typeDefault))\r\n            util.base64.decode(this.typeDefault, buf = util.newBuffer(util.base64.length(this.typeDefault)), 0);\r\n        else\r\n            util.utf8.write(this.typeDefault, buf = util.newBuffer(util.utf8.length(this.typeDefault)), 0);\r\n        this.typeDefault = buf;\r\n    }\r\n\r\n    // take special care of maps and repeated fields\r\n    if (this.map)\r\n        this.defaultValue = util.emptyObject;\r\n    else if (this.repeated)\r\n        this.defaultValue = util.emptyArray;\r\n    else\r\n        this.defaultValue = this.typeDefault;\r\n\r\n    // ensure proper value on prototype\r\n    if (this.parent instanceof Type)\r\n        this.parent.ctor.prototype[this.name] = this.defaultValue;\r\n\r\n    return ReflectionObject.prototype.resolve.call(this);\r\n};\r\n\r\n/**\r\n * Decorator function as returned by {@link Field.d} and {@link MapField.d} (TypeScript).\r\n * @typedef FieldDecorator\r\n * @type {function}\r\n * @param {Object} prototype Target prototype\r\n * @param {string} fieldName Field name\r\n * @returns {undefined}\r\n */\r\n\r\n/**\r\n * Field decorator (TypeScript).\r\n * @name Field.d\r\n * @function\r\n * @param {number} fieldId Field id\r\n * @param {\"double\"|\"float\"|\"int32\"|\"uint32\"|\"sint32\"|\"fixed32\"|\"sfixed32\"|\"int64\"|\"uint64\"|\"sint64\"|\"fixed64\"|\"sfixed64\"|\"string\"|\"bool\"|\"bytes\"|Object} fieldType Field type\r\n * @param {\"optional\"|\"required\"|\"repeated\"} [fieldRule=\"optional\"] Field rule\r\n * @param {T} [defaultValue] Default value\r\n * @returns {FieldDecorator} Decorator function\r\n * @template T extends number | number[] | Long | Long[] | string | string[] | boolean | boolean[] | Uint8Array | Uint8Array[] | Buffer | Buffer[]\r\n */\r\nField.d = function decorateField(fieldId, fieldType, fieldRule, defaultValue) {\r\n\r\n    // submessage: decorate the submessage and use its name as the type\r\n    if (typeof fieldType === \"function\")\r\n        fieldType = util.decorateType(fieldType).name;\r\n\r\n    // enum reference: create a reflected copy of the enum and keep reuseing it\r\n    else if (fieldType && typeof fieldType === \"object\")\r\n        fieldType = util.decorateEnum(fieldType).name;\r\n\r\n    return function fieldDecorator(prototype, fieldName) {\r\n        util.decorateType(prototype.constructor)\r\n            .add(new Field(fieldName, fieldId, fieldType, fieldRule, { \"default\": defaultValue }));\r\n    };\r\n};\r\n\r\n/**\r\n * Field decorator (TypeScript).\r\n * @name Field.d\r\n * @function\r\n * @param {number} fieldId Field id\r\n * @param {Constructor<T>|string} fieldType Field type\r\n * @param {\"optional\"|\"required\"|\"repeated\"} [fieldRule=\"optional\"] Field rule\r\n * @returns {FieldDecorator} Decorator function\r\n * @template T extends Message<T>\r\n * @variation 2\r\n */\r\n// like Field.d but without a default value\r\n\r\n// Sets up cyclic dependencies (called in index-light)\r\nField._configure = function configure(Type_) {\r\n    Type = Type_;\r\n};\r\n","\"use strict\";\r\nvar protobuf = module.exports = require(\"./index-minimal\");\r\n\r\nprotobuf.build = \"light\";\r\n\r\n/**\r\n * A node-style callback as used by {@link load} and {@link Root#load}.\r\n * @typedef LoadCallback\r\n * @type {function}\r\n * @param {Error|null} error Error, if any, otherwise `null`\r\n * @param {Root} [root] Root, if there hasn't been an error\r\n * @returns {undefined}\r\n */\r\n\r\n/**\r\n * Loads one or multiple .proto or preprocessed .json files into a common root namespace and calls the callback.\r\n * @param {string|string[]} filename One or multiple files to load\r\n * @param {Root} root Root namespace, defaults to create a new one if omitted.\r\n * @param {LoadCallback} callback Callback function\r\n * @returns {undefined}\r\n * @see {@link Root#load}\r\n */\r\nfunction load(filename, root, callback) {\r\n    if (typeof root === \"function\") {\r\n        callback = root;\r\n        root = new protobuf.Root();\r\n    } else if (!root)\r\n        root = new protobuf.Root();\r\n    return root.load(filename, callback);\r\n}\r\n\r\n/**\r\n * Loads one or multiple .proto or preprocessed .json files into a common root namespace and calls the callback.\r\n * @name load\r\n * @function\r\n * @param {string|string[]} filename One or multiple files to load\r\n * @param {LoadCallback} callback Callback function\r\n * @returns {undefined}\r\n * @see {@link Root#load}\r\n * @variation 2\r\n */\r\n// function load(filename:string, callback:LoadCallback):undefined\r\n\r\n/**\r\n * Loads one or multiple .proto or preprocessed .json files into a common root namespace and returns a promise.\r\n * @name load\r\n * @function\r\n * @param {string|string[]} filename One or multiple files to load\r\n * @param {Root} [root] Root namespace, defaults to create a new one if omitted.\r\n * @returns {Promise<Root>} Promise\r\n * @see {@link Root#load}\r\n * @variation 3\r\n */\r\n// function load(filename:string, [root:Root]):Promise<Root>\r\n\r\nprotobuf.load = load;\r\n\r\n/**\r\n * Synchronously loads one or multiple .proto or preprocessed .json files into a common root namespace (node only).\r\n * @param {string|string[]} filename One or multiple files to load\r\n * @param {Root} [root] Root namespace, defaults to create a new one if omitted.\r\n * @returns {Root} Root namespace\r\n * @throws {Error} If synchronous fetching is not supported (i.e. in browsers) or if a file's syntax is invalid\r\n * @see {@link Root#loadSync}\r\n */\r\nfunction loadSync(filename, root) {\r\n    if (!root)\r\n        root = new protobuf.Root();\r\n    return root.loadSync(filename);\r\n}\r\n\r\nprotobuf.loadSync = loadSync;\r\n\r\n// Serialization\r\nprotobuf.encoder          = require(\"./encoder\");\r\nprotobuf.decoder          = require(\"./decoder\");\r\nprotobuf.verifier         = require(\"./verifier\");\r\nprotobuf.converter        = require(\"./converter\");\r\n\r\n// Reflection\r\nprotobuf.ReflectionObject = require(\"./object\");\r\nprotobuf.Namespace        = require(\"./namespace\");\r\nprotobuf.Root             = require(\"./root\");\r\nprotobuf.Enum             = require(\"./enum\");\r\nprotobuf.Type             = require(\"./type\");\r\nprotobuf.Field            = require(\"./field\");\r\nprotobuf.OneOf            = require(\"./oneof\");\r\nprotobuf.MapField         = require(\"./mapfield\");\r\nprotobuf.Service          = require(\"./service\");\r\nprotobuf.Method           = require(\"./method\");\r\n\r\n// Runtime\r\nprotobuf.Message          = require(\"./message\");\r\nprotobuf.wrappers         = require(\"./wrappers\");\r\n\r\n// Utility\r\nprotobuf.types            = require(\"./types\");\r\nprotobuf.util             = require(\"./util\");\r\n\r\n// Set up possibly cyclic reflection dependencies\r\nprotobuf.ReflectionObject._configure(protobuf.Root);\r\nprotobuf.Namespace._configure(protobuf.Type, protobuf.Service, protobuf.Enum);\r\nprotobuf.Root._configure(protobuf.Type);\r\nprotobuf.Field._configure(protobuf.Type);\r\n","\"use strict\";\r\nvar protobuf = exports;\r\n\r\n/**\r\n * Build type, one of `\"full\"`, `\"light\"` or `\"minimal\"`.\r\n * @name build\r\n * @type {string}\r\n * @const\r\n */\r\nprotobuf.build = \"minimal\";\r\n\r\n// Serialization\r\nprotobuf.Writer       = require(\"./writer\");\r\nprotobuf.BufferWriter = require(\"./writer_buffer\");\r\nprotobuf.Reader       = require(\"./reader\");\r\nprotobuf.BufferReader = require(\"./reader_buffer\");\r\n\r\n// Utility\r\nprotobuf.util         = require(\"./util/minimal\");\r\nprotobuf.rpc          = require(\"./rpc\");\r\nprotobuf.roots        = require(\"./roots\");\r\nprotobuf.configure    = configure;\r\n\r\n/* istanbul ignore next */\r\n/**\r\n * Reconfigures the library according to the environment.\r\n * @returns {undefined}\r\n */\r\nfunction configure() {\r\n    protobuf.util._configure();\r\n    protobuf.Writer._configure(protobuf.BufferWriter);\r\n    protobuf.Reader._configure(protobuf.BufferReader);\r\n}\r\n\r\n// Set up buffer utility according to the environment\r\nconfigure();\r\n","\"use strict\";\r\nmodule.exports = MapField;\r\n\r\n// extends Field\r\nvar Field = require(\"./field\");\r\n((MapField.prototype = Object.create(Field.prototype)).constructor = MapField).className = \"MapField\";\r\n\r\nvar types   = require(\"./types\"),\r\n    util    = require(\"./util\");\r\n\r\n/**\r\n * Constructs a new map field instance.\r\n * @classdesc Reflected map field.\r\n * @extends FieldBase\r\n * @constructor\r\n * @param {string} name Unique name within its namespace\r\n * @param {number} id Unique id within its namespace\r\n * @param {string} keyType Key type\r\n * @param {string} type Value type\r\n * @param {Object.<string,*>} [options] Declared options\r\n * @param {string} [comment] Comment associated with this field\r\n */\r\nfunction MapField(name, id, keyType, type, options, comment) {\r\n    Field.call(this, name, id, type, undefined, undefined, options, comment);\r\n\r\n    /* istanbul ignore if */\r\n    if (!util.isString(keyType))\r\n        throw TypeError(\"keyType must be a string\");\r\n\r\n    /**\r\n     * Key type.\r\n     * @type {string}\r\n     */\r\n    this.keyType = keyType; // toJSON, marker\r\n\r\n    /**\r\n     * Resolved key type if not a basic type.\r\n     * @type {ReflectionObject|null}\r\n     */\r\n    this.resolvedKeyType = null;\r\n\r\n    // Overrides Field#map\r\n    this.map = true;\r\n}\r\n\r\n/**\r\n * Map field descriptor.\r\n * @interface IMapField\r\n * @extends {IField}\r\n * @property {string} keyType Key type\r\n */\r\n\r\n/**\r\n * Extension map field descriptor.\r\n * @interface IExtensionMapField\r\n * @extends IMapField\r\n * @property {string} extend Extended type\r\n */\r\n\r\n/**\r\n * Constructs a map field from a map field descriptor.\r\n * @param {string} name Field name\r\n * @param {IMapField} json Map field descriptor\r\n * @returns {MapField} Created map field\r\n * @throws {TypeError} If arguments are invalid\r\n */\r\nMapField.fromJSON = function fromJSON(name, json) {\r\n    return new MapField(name, json.id, json.keyType, json.type, json.options, json.comment);\r\n};\r\n\r\n/**\r\n * Converts this map field to a map field descriptor.\r\n * @param {IToJSONOptions} [toJSONOptions] JSON conversion options\r\n * @returns {IMapField} Map field descriptor\r\n */\r\nMapField.prototype.toJSON = function toJSON(toJSONOptions) {\r\n    var keepComments = toJSONOptions ? Boolean(toJSONOptions.keepComments) : false;\r\n    return util.toObject([\r\n        \"keyType\" , this.keyType,\r\n        \"type\"    , this.type,\r\n        \"id\"      , this.id,\r\n        \"extend\"  , this.extend,\r\n        \"options\" , this.options,\r\n        \"comment\" , keepComments ? this.comment : undefined\r\n    ]);\r\n};\r\n\r\n/**\r\n * @override\r\n */\r\nMapField.prototype.resolve = function resolve() {\r\n    if (this.resolved)\r\n        return this;\r\n\r\n    // Besides a value type, map fields have a key type that may be \"any scalar type except for floating point types and bytes\"\r\n    if (types.mapKey[this.keyType] === undefined)\r\n        throw Error(\"invalid key type: \" + this.keyType);\r\n\r\n    return Field.prototype.resolve.call(this);\r\n};\r\n\r\n/**\r\n * Map field decorator (TypeScript).\r\n * @name MapField.d\r\n * @function\r\n * @param {number} fieldId Field id\r\n * @param {\"int32\"|\"uint32\"|\"sint32\"|\"fixed32\"|\"sfixed32\"|\"int64\"|\"uint64\"|\"sint64\"|\"fixed64\"|\"sfixed64\"|\"bool\"|\"string\"} fieldKeyType Field key type\r\n * @param {\"double\"|\"float\"|\"int32\"|\"uint32\"|\"sint32\"|\"fixed32\"|\"sfixed32\"|\"int64\"|\"uint64\"|\"sint64\"|\"fixed64\"|\"sfixed64\"|\"bool\"|\"string\"|\"bytes\"|Object|Constructor<{}>} fieldValueType Field value type\r\n * @returns {FieldDecorator} Decorator function\r\n * @template T extends { [key: string]: number | Long | string | boolean | Uint8Array | Buffer | number[] | Message<{}> }\r\n */\r\nMapField.d = function decorateMapField(fieldId, fieldKeyType, fieldValueType) {\r\n\r\n    // submessage value: decorate the submessage and use its name as the type\r\n    if (typeof fieldValueType === \"function\")\r\n        fieldValueType = util.decorateType(fieldValueType).name;\r\n\r\n    // enum reference value: create a reflected copy of the enum and keep reuseing it\r\n    else if (fieldValueType && typeof fieldValueType === \"object\")\r\n        fieldValueType = util.decorateEnum(fieldValueType).name;\r\n\r\n    return function mapFieldDecorator(prototype, fieldName) {\r\n        util.decorateType(prototype.constructor)\r\n            .add(new MapField(fieldName, fieldId, fieldKeyType, fieldValueType));\r\n    };\r\n};\r\n","\"use strict\";\r\nmodule.exports = Message;\r\n\r\nvar util = require(\"./util/minimal\");\r\n\r\n/**\r\n * Constructs a new message instance.\r\n * @classdesc Abstract runtime message.\r\n * @constructor\r\n * @param {Properties<T>} [properties] Properties to set\r\n * @template T extends object = object\r\n */\r\nfunction Message(properties) {\r\n    // not used internally\r\n    if (properties)\r\n        for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i)\r\n            this[keys[i]] = properties[keys[i]];\r\n}\r\n\r\n/**\r\n * Reference to the reflected type.\r\n * @name Message.$type\r\n * @type {Type}\r\n * @readonly\r\n */\r\n\r\n/**\r\n * Reference to the reflected type.\r\n * @name Message#$type\r\n * @type {Type}\r\n * @readonly\r\n */\r\n\r\n/*eslint-disable valid-jsdoc*/\r\n\r\n/**\r\n * Creates a new message of this type using the specified properties.\r\n * @param {Object.<string,*>} [properties] Properties to set\r\n * @returns {Message<T>} Message instance\r\n * @template T extends Message<T>\r\n * @this Constructor<T>\r\n */\r\nMessage.create = function create(properties) {\r\n    return this.$type.create(properties);\r\n};\r\n\r\n/**\r\n * Encodes a message of this type.\r\n * @param {T|Object.<string,*>} message Message to encode\r\n * @param {Writer} [writer] Writer to use\r\n * @returns {Writer} Writer\r\n * @template T extends Message<T>\r\n * @this Constructor<T>\r\n */\r\nMessage.encode = function encode(message, writer) {\r\n    return this.$type.encode(message, writer);\r\n};\r\n\r\n/**\r\n * Encodes a message of this type preceeded by its length as a varint.\r\n * @param {T|Object.<string,*>} message Message to encode\r\n * @param {Writer} [writer] Writer to use\r\n * @returns {Writer} Writer\r\n * @template T extends Message<T>\r\n * @this Constructor<T>\r\n */\r\nMessage.encodeDelimited = function encodeDelimited(message, writer) {\r\n    return this.$type.encodeDelimited(message, writer);\r\n};\r\n\r\n/**\r\n * Decodes a message of this type.\r\n * @name Message.decode\r\n * @function\r\n * @param {Reader|Uint8Array} reader Reader or buffer to decode\r\n * @returns {T} Decoded message\r\n * @template T extends Message<T>\r\n * @this Constructor<T>\r\n */\r\nMessage.decode = function decode(reader) {\r\n    return this.$type.decode(reader);\r\n};\r\n\r\n/**\r\n * Decodes a message of this type preceeded by its length as a varint.\r\n * @name Message.decodeDelimited\r\n * @function\r\n * @param {Reader|Uint8Array} reader Reader or buffer to decode\r\n * @returns {T} Decoded message\r\n * @template T extends Message<T>\r\n * @this Constructor<T>\r\n */\r\nMessage.decodeDelimited = function decodeDelimited(reader) {\r\n    return this.$type.decodeDelimited(reader);\r\n};\r\n\r\n/**\r\n * Verifies a message of this type.\r\n * @name Message.verify\r\n * @function\r\n * @param {Object.<string,*>} message Plain object to verify\r\n * @returns {string|null} `null` if valid, otherwise the reason why it is not\r\n */\r\nMessage.verify = function verify(message) {\r\n    return this.$type.verify(message);\r\n};\r\n\r\n/**\r\n * Creates a new message of this type from a plain object. Also converts values to their respective internal types.\r\n * @param {Object.<string,*>} object Plain object\r\n * @returns {T} Message instance\r\n * @template T extends Message<T>\r\n * @this Constructor<T>\r\n */\r\nMessage.fromObject = function fromObject(object) {\r\n    return this.$type.fromObject(object);\r\n};\r\n\r\n/**\r\n * Creates a plain object from a message of this type. Also converts values to other types if specified.\r\n * @param {T} message Message instance\r\n * @param {IConversionOptions} [options] Conversion options\r\n * @returns {Object.<string,*>} Plain object\r\n * @template T extends Message<T>\r\n * @this Constructor<T>\r\n */\r\nMessage.toObject = function toObject(message, options) {\r\n    return this.$type.toObject(message, options);\r\n};\r\n\r\n/**\r\n * Converts this message to JSON.\r\n * @returns {Object.<string,*>} JSON object\r\n */\r\nMessage.prototype.toJSON = function toJSON() {\r\n    return this.$type.toObject(this, util.toJSONOptions);\r\n};\r\n\r\n/*eslint-enable valid-jsdoc*/","\"use strict\";\r\nmodule.exports = Method;\r\n\r\n// extends ReflectionObject\r\nvar ReflectionObject = require(\"./object\");\r\n((Method.prototype = Object.create(ReflectionObject.prototype)).constructor = Method).className = \"Method\";\r\n\r\nvar util = require(\"./util\");\r\n\r\n/**\r\n * Constructs a new service method instance.\r\n * @classdesc Reflected service method.\r\n * @extends ReflectionObject\r\n * @constructor\r\n * @param {string} name Method name\r\n * @param {string|undefined} type Method type, usually `\"rpc\"`\r\n * @param {string} requestType Request message type\r\n * @param {string} responseType Response message type\r\n * @param {boolean|Object.<string,*>} [requestStream] Whether the request is streamed\r\n * @param {boolean|Object.<string,*>} [responseStream] Whether the response is streamed\r\n * @param {Object.<string,*>} [options] Declared options\r\n * @param {string} [comment] The comment for this method\r\n * @param {Object.<string,*>} [parsedOptions] Declared options, properly parsed into an object\r\n */\r\nfunction Method(name, type, requestType, responseType, requestStream, responseStream, options, comment, parsedOptions) {\r\n\r\n    /* istanbul ignore next */\r\n    if (util.isObject(requestStream)) {\r\n        options = requestStream;\r\n        requestStream = responseStream = undefined;\r\n    } else if (util.isObject(responseStream)) {\r\n        options = responseStream;\r\n        responseStream = undefined;\r\n    }\r\n\r\n    /* istanbul ignore if */\r\n    if (!(type === undefined || util.isString(type)))\r\n        throw TypeError(\"type must be a string\");\r\n\r\n    /* istanbul ignore if */\r\n    if (!util.isString(requestType))\r\n        throw TypeError(\"requestType must be a string\");\r\n\r\n    /* istanbul ignore if */\r\n    if (!util.isString(responseType))\r\n        throw TypeError(\"responseType must be a string\");\r\n\r\n    ReflectionObject.call(this, name, options);\r\n\r\n    /**\r\n     * Method type.\r\n     * @type {string}\r\n     */\r\n    this.type = type || \"rpc\"; // toJSON\r\n\r\n    /**\r\n     * Request type.\r\n     * @type {string}\r\n     */\r\n    this.requestType = requestType; // toJSON, marker\r\n\r\n    /**\r\n     * Whether requests are streamed or not.\r\n     * @type {boolean|undefined}\r\n     */\r\n    this.requestStream = requestStream ? true : undefined; // toJSON\r\n\r\n    /**\r\n     * Response type.\r\n     * @type {string}\r\n     */\r\n    this.responseType = responseType; // toJSON\r\n\r\n    /**\r\n     * Whether responses are streamed or not.\r\n     * @type {boolean|undefined}\r\n     */\r\n    this.responseStream = responseStream ? true : undefined; // toJSON\r\n\r\n    /**\r\n     * Resolved request type.\r\n     * @type {Type|null}\r\n     */\r\n    this.resolvedRequestType = null;\r\n\r\n    /**\r\n     * Resolved response type.\r\n     * @type {Type|null}\r\n     */\r\n    this.resolvedResponseType = null;\r\n\r\n    /**\r\n     * Comment for this method\r\n     * @type {string|null}\r\n     */\r\n    this.comment = comment;\r\n\r\n    /**\r\n     * Options properly parsed into an object\r\n     */\r\n    this.parsedOptions = parsedOptions;\r\n}\r\n\r\n/**\r\n * Method descriptor.\r\n * @interface IMethod\r\n * @property {string} [type=\"rpc\"] Method type\r\n * @property {string} requestType Request type\r\n * @property {string} responseType Response type\r\n * @property {boolean} [requestStream=false] Whether requests are streamed\r\n * @property {boolean} [responseStream=false] Whether responses are streamed\r\n * @property {Object.<string,*>} [options] Method options\r\n * @property {string} comment Method comments\r\n * @property {Object.<string,*>} [parsedOptions] Method options properly parsed into an object\r\n */\r\n\r\n/**\r\n * Constructs a method from a method descriptor.\r\n * @param {string} name Method name\r\n * @param {IMethod} json Method descriptor\r\n * @returns {Method} Created method\r\n * @throws {TypeError} If arguments are invalid\r\n */\r\nMethod.fromJSON = function fromJSON(name, json) {\r\n    return new Method(name, json.type, json.requestType, json.responseType, json.requestStream, json.responseStream, json.options, json.comment, json.parsedOptions);\r\n};\r\n\r\n/**\r\n * Converts this method to a method descriptor.\r\n * @param {IToJSONOptions} [toJSONOptions] JSON conversion options\r\n * @returns {IMethod} Method descriptor\r\n */\r\nMethod.prototype.toJSON = function toJSON(toJSONOptions) {\r\n    var keepComments = toJSONOptions ? Boolean(toJSONOptions.keepComments) : false;\r\n    return util.toObject([\r\n        \"type\"           , this.type !== \"rpc\" && /* istanbul ignore next */ this.type || undefined,\r\n        \"requestType\"    , this.requestType,\r\n        \"requestStream\"  , this.requestStream,\r\n        \"responseType\"   , this.responseType,\r\n        \"responseStream\" , this.responseStream,\r\n        \"options\"        , this.options,\r\n        \"comment\"        , keepComments ? this.comment : undefined,\r\n        \"parsedOptions\"  , this.parsedOptions,\r\n    ]);\r\n};\r\n\r\n/**\r\n * @override\r\n */\r\nMethod.prototype.resolve = function resolve() {\r\n\r\n    /* istanbul ignore if */\r\n    if (this.resolved)\r\n        return this;\r\n\r\n    this.resolvedRequestType = this.parent.lookupType(this.requestType);\r\n    this.resolvedResponseType = this.parent.lookupType(this.responseType);\r\n\r\n    return ReflectionObject.prototype.resolve.call(this);\r\n};\r\n","\"use strict\";\r\nmodule.exports = Namespace;\r\n\r\n// extends ReflectionObject\r\nvar ReflectionObject = require(\"./object\");\r\n((Namespace.prototype = Object.create(ReflectionObject.prototype)).constructor = Namespace).className = \"Namespace\";\r\n\r\nvar Field    = require(\"./field\"),\r\n    util     = require(\"./util\"),\r\n    OneOf    = require(\"./oneof\");\r\n\r\nvar Type,    // cyclic\r\n    Service,\r\n    Enum;\r\n\r\n/**\r\n * Constructs a new namespace instance.\r\n * @name Namespace\r\n * @classdesc Reflected namespace.\r\n * @extends NamespaceBase\r\n * @constructor\r\n * @param {string} name Namespace name\r\n * @param {Object.<string,*>} [options] Declared options\r\n */\r\n\r\n/**\r\n * Constructs a namespace from JSON.\r\n * @memberof Namespace\r\n * @function\r\n * @param {string} name Namespace name\r\n * @param {Object.<string,*>} json JSON object\r\n * @returns {Namespace} Created namespace\r\n * @throws {TypeError} If arguments are invalid\r\n */\r\nNamespace.fromJSON = function fromJSON(name, json) {\r\n    return new Namespace(name, json.options).addJSON(json.nested);\r\n};\r\n\r\n/**\r\n * Converts an array of reflection objects to JSON.\r\n * @memberof Namespace\r\n * @param {ReflectionObject[]} array Object array\r\n * @param {IToJSONOptions} [toJSONOptions] JSON conversion options\r\n * @returns {Object.<string,*>|undefined} JSON object or `undefined` when array is empty\r\n */\r\nfunction arrayToJSON(array, toJSONOptions) {\r\n    if (!(array && array.length))\r\n        return undefined;\r\n    var obj = {};\r\n    for (var i = 0; i < array.length; ++i)\r\n        obj[array[i].name] = array[i].toJSON(toJSONOptions);\r\n    return obj;\r\n}\r\n\r\nNamespace.arrayToJSON = arrayToJSON;\r\n\r\n/**\r\n * Tests if the specified id is reserved.\r\n * @param {Array.<number[]|string>|undefined} reserved Array of reserved ranges and names\r\n * @param {number} id Id to test\r\n * @returns {boolean} `true` if reserved, otherwise `false`\r\n */\r\nNamespace.isReservedId = function isReservedId(reserved, id) {\r\n    if (reserved)\r\n        for (var i = 0; i < reserved.length; ++i)\r\n            if (typeof reserved[i] !== \"string\" && reserved[i][0] <= id && reserved[i][1] > id)\r\n                return true;\r\n    return false;\r\n};\r\n\r\n/**\r\n * Tests if the specified name is reserved.\r\n * @param {Array.<number[]|string>|undefined} reserved Array of reserved ranges and names\r\n * @param {string} name Name to test\r\n * @returns {boolean} `true` if reserved, otherwise `false`\r\n */\r\nNamespace.isReservedName = function isReservedName(reserved, name) {\r\n    if (reserved)\r\n        for (var i = 0; i < reserved.length; ++i)\r\n            if (reserved[i] === name)\r\n                return true;\r\n    return false;\r\n};\r\n\r\n/**\r\n * Not an actual constructor. Use {@link Namespace} instead.\r\n * @classdesc Base class of all reflection objects containing nested objects. This is not an actual class but here for the sake of having consistent type definitions.\r\n * @exports NamespaceBase\r\n * @extends ReflectionObject\r\n * @abstract\r\n * @constructor\r\n * @param {string} name Namespace name\r\n * @param {Object.<string,*>} [options] Declared options\r\n * @see {@link Namespace}\r\n */\r\nfunction Namespace(name, options) {\r\n    ReflectionObject.call(this, name, options);\r\n\r\n    /**\r\n     * Nested objects by name.\r\n     * @type {Object.<string,ReflectionObject>|undefined}\r\n     */\r\n    this.nested = undefined; // toJSON\r\n\r\n    /**\r\n     * Cached nested objects as an array.\r\n     * @type {ReflectionObject[]|null}\r\n     * @private\r\n     */\r\n    this._nestedArray = null;\r\n}\r\n\r\nfunction clearCache(namespace) {\r\n    namespace._nestedArray = null;\r\n    return namespace;\r\n}\r\n\r\n/**\r\n * Nested objects of this namespace as an array for iteration.\r\n * @name NamespaceBase#nestedArray\r\n * @type {ReflectionObject[]}\r\n * @readonly\r\n */\r\nObject.defineProperty(Namespace.prototype, \"nestedArray\", {\r\n    get: function() {\r\n        return this._nestedArray || (this._nestedArray = util.toArray(this.nested));\r\n    }\r\n});\r\n\r\n/**\r\n * Namespace descriptor.\r\n * @interface INamespace\r\n * @property {Object.<string,*>} [options] Namespace options\r\n * @property {Object.<string,AnyNestedObject>} [nested] Nested object descriptors\r\n */\r\n\r\n/**\r\n * Any extension field descriptor.\r\n * @typedef AnyExtensionField\r\n * @type {IExtensionField|IExtensionMapField}\r\n */\r\n\r\n/**\r\n * Any nested object descriptor.\r\n * @typedef AnyNestedObject\r\n * @type {IEnum|IType|IService|AnyExtensionField|INamespace|IOneOf}\r\n */\r\n\r\n/**\r\n * Converts this namespace to a namespace descriptor.\r\n * @param {IToJSONOptions} [toJSONOptions] JSON conversion options\r\n * @returns {INamespace} Namespace descriptor\r\n */\r\nNamespace.prototype.toJSON = function toJSON(toJSONOptions) {\r\n    return util.toObject([\r\n        \"options\" , this.options,\r\n        \"nested\"  , arrayToJSON(this.nestedArray, toJSONOptions)\r\n    ]);\r\n};\r\n\r\n/**\r\n * Adds nested objects to this namespace from nested object descriptors.\r\n * @param {Object.<string,AnyNestedObject>} nestedJson Any nested object descriptors\r\n * @returns {Namespace} `this`\r\n */\r\nNamespace.prototype.addJSON = function addJSON(nestedJson) {\r\n    var ns = this;\r\n    /* istanbul ignore else */\r\n    if (nestedJson) {\r\n        for (var names = Object.keys(nestedJson), i = 0, nested; i < names.length; ++i) {\r\n            nested = nestedJson[names[i]];\r\n            ns.add( // most to least likely\r\n                ( nested.fields !== undefined\r\n                ? Type.fromJSON\r\n                : nested.values !== undefined\r\n                ? Enum.fromJSON\r\n                : nested.methods !== undefined\r\n                ? Service.fromJSON\r\n                : nested.id !== undefined\r\n                ? Field.fromJSON\r\n                : Namespace.fromJSON )(names[i], nested)\r\n            );\r\n        }\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Gets the nested object of the specified name.\r\n * @param {string} name Nested object name\r\n * @returns {ReflectionObject|null} The reflection object or `null` if it doesn't exist\r\n */\r\nNamespace.prototype.get = function get(name) {\r\n    return this.nested && this.nested[name]\r\n        || null;\r\n};\r\n\r\n/**\r\n * Gets the values of the nested {@link Enum|enum} of the specified name.\r\n * This methods differs from {@link Namespace#get|get} in that it returns an enum's values directly and throws instead of returning `null`.\r\n * @param {string} name Nested enum name\r\n * @returns {Object.<string,number>} Enum values\r\n * @throws {Error} If there is no such enum\r\n */\r\nNamespace.prototype.getEnum = function getEnum(name) {\r\n    if (this.nested && this.nested[name] instanceof Enum)\r\n        return this.nested[name].values;\r\n    throw Error(\"no such enum: \" + name);\r\n};\r\n\r\n/**\r\n * Adds a nested object to this namespace.\r\n * @param {ReflectionObject} object Nested object to add\r\n * @returns {Namespace} `this`\r\n * @throws {TypeError} If arguments are invalid\r\n * @throws {Error} If there is already a nested object with this name\r\n */\r\nNamespace.prototype.add = function add(object) {\r\n\r\n    if (!(object instanceof Field && object.extend !== undefined || object instanceof Type  || object instanceof OneOf || object instanceof Enum || object instanceof Service || object instanceof Namespace))\r\n        throw TypeError(\"object must be a valid nested object\");\r\n\r\n    if (!this.nested)\r\n        this.nested = {};\r\n    else {\r\n        var prev = this.get(object.name);\r\n        if (prev) {\r\n            if (prev instanceof Namespace && object instanceof Namespace && !(prev instanceof Type || prev instanceof Service)) {\r\n                // replace plain namespace but keep existing nested elements and options\r\n                var nested = prev.nestedArray;\r\n                for (var i = 0; i < nested.length; ++i)\r\n                    object.add(nested[i]);\r\n                this.remove(prev);\r\n                if (!this.nested)\r\n                    this.nested = {};\r\n                object.setOptions(prev.options, true);\r\n\r\n            } else\r\n                throw Error(\"duplicate name '\" + object.name + \"' in \" + this);\r\n        }\r\n    }\r\n    this.nested[object.name] = object;\r\n    object.onAdd(this);\r\n    return clearCache(this);\r\n};\r\n\r\n/**\r\n * Removes a nested object from this namespace.\r\n * @param {ReflectionObject} object Nested object to remove\r\n * @returns {Namespace} `this`\r\n * @throws {TypeError} If arguments are invalid\r\n * @throws {Error} If `object` is not a member of this namespace\r\n */\r\nNamespace.prototype.remove = function remove(object) {\r\n\r\n    if (!(object instanceof ReflectionObject))\r\n        throw TypeError(\"object must be a ReflectionObject\");\r\n    if (object.parent !== this)\r\n        throw Error(object + \" is not a member of \" + this);\r\n\r\n    delete this.nested[object.name];\r\n    if (!Object.keys(this.nested).length)\r\n        this.nested = undefined;\r\n\r\n    object.onRemove(this);\r\n    return clearCache(this);\r\n};\r\n\r\n/**\r\n * Defines additial namespaces within this one if not yet existing.\r\n * @param {string|string[]} path Path to create\r\n * @param {*} [json] Nested types to create from JSON\r\n * @returns {Namespace} Pointer to the last namespace created or `this` if path is empty\r\n */\r\nNamespace.prototype.define = function define(path, json) {\r\n\r\n    if (util.isString(path))\r\n        path = path.split(\".\");\r\n    else if (!Array.isArray(path))\r\n        throw TypeError(\"illegal path\");\r\n    if (path && path.length && path[0] === \"\")\r\n        throw Error(\"path must be relative\");\r\n\r\n    var ptr = this;\r\n    while (path.length > 0) {\r\n        var part = path.shift();\r\n        if (ptr.nested && ptr.nested[part]) {\r\n            ptr = ptr.nested[part];\r\n            if (!(ptr instanceof Namespace))\r\n                throw Error(\"path conflicts with non-namespace objects\");\r\n        } else\r\n            ptr.add(ptr = new Namespace(part));\r\n    }\r\n    if (json)\r\n        ptr.addJSON(json);\r\n    return ptr;\r\n};\r\n\r\n/**\r\n * Resolves this namespace's and all its nested objects' type references. Useful to validate a reflection tree, but comes at a cost.\r\n * @returns {Namespace} `this`\r\n */\r\nNamespace.prototype.resolveAll = function resolveAll() {\r\n    var nested = this.nestedArray, i = 0;\r\n    while (i < nested.length)\r\n        if (nested[i] instanceof Namespace)\r\n            nested[i++].resolveAll();\r\n        else\r\n            nested[i++].resolve();\r\n    return this.resolve();\r\n};\r\n\r\n/**\r\n * Recursively looks up the reflection object matching the specified path in the scope of this namespace.\r\n * @param {string|string[]} path Path to look up\r\n * @param {*|Array.<*>} filterTypes Filter types, any combination of the constructors of `protobuf.Type`, `protobuf.Enum`, `protobuf.Service` etc.\r\n * @param {boolean} [parentAlreadyChecked=false] If known, whether the parent has already been checked\r\n * @returns {ReflectionObject|null} Looked up object or `null` if none could be found\r\n */\r\nNamespace.prototype.lookup = function lookup(path, filterTypes, parentAlreadyChecked) {\r\n\r\n    /* istanbul ignore next */\r\n    if (typeof filterTypes === \"boolean\") {\r\n        parentAlreadyChecked = filterTypes;\r\n        filterTypes = undefined;\r\n    } else if (filterTypes && !Array.isArray(filterTypes))\r\n        filterTypes = [ filterTypes ];\r\n\r\n    if (util.isString(path) && path.length) {\r\n        if (path === \".\")\r\n            return this.root;\r\n        path = path.split(\".\");\r\n    } else if (!path.length)\r\n        return this;\r\n\r\n    // Start at root if path is absolute\r\n    if (path[0] === \"\")\r\n        return this.root.lookup(path.slice(1), filterTypes);\r\n\r\n    // Test if the first part matches any nested object, and if so, traverse if path contains more\r\n    var found = this.get(path[0]);\r\n    if (found) {\r\n        if (path.length === 1) {\r\n            if (!filterTypes || filterTypes.indexOf(found.constructor) > -1)\r\n                return found;\r\n        } else if (found instanceof Namespace && (found = found.lookup(path.slice(1), filterTypes, true)))\r\n            return found;\r\n\r\n    // Otherwise try each nested namespace\r\n    } else\r\n        for (var i = 0; i < this.nestedArray.length; ++i)\r\n            if (this._nestedArray[i] instanceof Namespace && (found = this._nestedArray[i].lookup(path, filterTypes, true)))\r\n                return found;\r\n\r\n    // If there hasn't been a match, try again at the parent\r\n    if (this.parent === null || parentAlreadyChecked)\r\n        return null;\r\n    return this.parent.lookup(path, filterTypes);\r\n};\r\n\r\n/**\r\n * Looks up the reflection object at the specified path, relative to this namespace.\r\n * @name NamespaceBase#lookup\r\n * @function\r\n * @param {string|string[]} path Path to look up\r\n * @param {boolean} [parentAlreadyChecked=false] Whether the parent has already been checked\r\n * @returns {ReflectionObject|null} Looked up object or `null` if none could be found\r\n * @variation 2\r\n */\r\n// lookup(path: string, [parentAlreadyChecked: boolean])\r\n\r\n/**\r\n * Looks up the {@link Type|type} at the specified path, relative to this namespace.\r\n * Besides its signature, this methods differs from {@link Namespace#lookup|lookup} in that it throws instead of returning `null`.\r\n * @param {string|string[]} path Path to look up\r\n * @returns {Type} Looked up type\r\n * @throws {Error} If `path` does not point to a type\r\n */\r\nNamespace.prototype.lookupType = function lookupType(path) {\r\n    var found = this.lookup(path, [ Type ]);\r\n    if (!found)\r\n        throw Error(\"no such type: \" + path);\r\n    return found;\r\n};\r\n\r\n/**\r\n * Looks up the values of the {@link Enum|enum} at the specified path, relative to this namespace.\r\n * Besides its signature, this methods differs from {@link Namespace#lookup|lookup} in that it throws instead of returning `null`.\r\n * @param {string|string[]} path Path to look up\r\n * @returns {Enum} Looked up enum\r\n * @throws {Error} If `path` does not point to an enum\r\n */\r\nNamespace.prototype.lookupEnum = function lookupEnum(path) {\r\n    var found = this.lookup(path, [ Enum ]);\r\n    if (!found)\r\n        throw Error(\"no such Enum '\" + path + \"' in \" + this);\r\n    return found;\r\n};\r\n\r\n/**\r\n * Looks up the {@link Type|type} or {@link Enum|enum} at the specified path, relative to this namespace.\r\n * Besides its signature, this methods differs from {@link Namespace#lookup|lookup} in that it throws instead of returning `null`.\r\n * @param {string|string[]} path Path to look up\r\n * @returns {Type} Looked up type or enum\r\n * @throws {Error} If `path` does not point to a type or enum\r\n */\r\nNamespace.prototype.lookupTypeOrEnum = function lookupTypeOrEnum(path) {\r\n    var found = this.lookup(path, [ Type, Enum ]);\r\n    if (!found)\r\n        throw Error(\"no such Type or Enum '\" + path + \"' in \" + this);\r\n    return found;\r\n};\r\n\r\n/**\r\n * Looks up the {@link Service|service} at the specified path, relative to this namespace.\r\n * Besides its signature, this methods differs from {@link Namespace#lookup|lookup} in that it throws instead of returning `null`.\r\n * @param {string|string[]} path Path to look up\r\n * @returns {Service} Looked up service\r\n * @throws {Error} If `path` does not point to a service\r\n */\r\nNamespace.prototype.lookupService = function lookupService(path) {\r\n    var found = this.lookup(path, [ Service ]);\r\n    if (!found)\r\n        throw Error(\"no such Service '\" + path + \"' in \" + this);\r\n    return found;\r\n};\r\n\r\n// Sets up cyclic dependencies (called in index-light)\r\nNamespace._configure = function(Type_, Service_, Enum_) {\r\n    Type    = Type_;\r\n    Service = Service_;\r\n    Enum    = Enum_;\r\n};\r\n","\"use strict\";\r\nmodule.exports = ReflectionObject;\r\n\r\nReflectionObject.className = \"ReflectionObject\";\r\n\r\nvar util = require(\"./util\");\r\n\r\nvar Root; // cyclic\r\n\r\n/**\r\n * Constructs a new reflection object instance.\r\n * @classdesc Base class of all reflection objects.\r\n * @constructor\r\n * @param {string} name Object name\r\n * @param {Object.<string,*>} [options] Declared options\r\n * @abstract\r\n */\r\nfunction ReflectionObject(name, options) {\r\n\r\n    if (!util.isString(name))\r\n        throw TypeError(\"name must be a string\");\r\n\r\n    if (options && !util.isObject(options))\r\n        throw TypeError(\"options must be an object\");\r\n\r\n    /**\r\n     * Options.\r\n     * @type {Object.<string,*>|undefined}\r\n     */\r\n    this.options = options; // toJSON\r\n\r\n    /**\r\n     * Parsed Options.\r\n     * @type {Array.<Object.<string,*>>|undefined}\r\n     */\r\n    this.parsedOptions = null;\r\n\r\n    /**\r\n     * Unique name within its namespace.\r\n     * @type {string}\r\n     */\r\n    this.name = name;\r\n\r\n    /**\r\n     * Parent namespace.\r\n     * @type {Namespace|null}\r\n     */\r\n    this.parent = null;\r\n\r\n    /**\r\n     * Whether already resolved or not.\r\n     * @type {boolean}\r\n     */\r\n    this.resolved = false;\r\n\r\n    /**\r\n     * Comment text, if any.\r\n     * @type {string|null}\r\n     */\r\n    this.comment = null;\r\n\r\n    /**\r\n     * Defining file name.\r\n     * @type {string|null}\r\n     */\r\n    this.filename = null;\r\n}\r\n\r\nObject.defineProperties(ReflectionObject.prototype, {\r\n\r\n    /**\r\n     * Reference to the root namespace.\r\n     * @name ReflectionObject#root\r\n     * @type {Root}\r\n     * @readonly\r\n     */\r\n    root: {\r\n        get: function() {\r\n            var ptr = this;\r\n            while (ptr.parent !== null)\r\n                ptr = ptr.parent;\r\n            return ptr;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Full name including leading dot.\r\n     * @name ReflectionObject#fullName\r\n     * @type {string}\r\n     * @readonly\r\n     */\r\n    fullName: {\r\n        get: function() {\r\n            var path = [ this.name ],\r\n                ptr = this.parent;\r\n            while (ptr) {\r\n                path.unshift(ptr.name);\r\n                ptr = ptr.parent;\r\n            }\r\n            return path.join(\".\");\r\n        }\r\n    }\r\n});\r\n\r\n/**\r\n * Converts this reflection object to its descriptor representation.\r\n * @returns {Object.<string,*>} Descriptor\r\n * @abstract\r\n */\r\nReflectionObject.prototype.toJSON = /* istanbul ignore next */ function toJSON() {\r\n    throw Error(); // not implemented, shouldn't happen\r\n};\r\n\r\n/**\r\n * Called when this object is added to a parent.\r\n * @param {ReflectionObject} parent Parent added to\r\n * @returns {undefined}\r\n */\r\nReflectionObject.prototype.onAdd = function onAdd(parent) {\r\n    if (this.parent && this.parent !== parent)\r\n        this.parent.remove(this);\r\n    this.parent = parent;\r\n    this.resolved = false;\r\n    var root = parent.root;\r\n    if (root instanceof Root)\r\n        root._handleAdd(this);\r\n};\r\n\r\n/**\r\n * Called when this object is removed from a parent.\r\n * @param {ReflectionObject} parent Parent removed from\r\n * @returns {undefined}\r\n */\r\nReflectionObject.prototype.onRemove = function onRemove(parent) {\r\n    var root = parent.root;\r\n    if (root instanceof Root)\r\n        root._handleRemove(this);\r\n    this.parent = null;\r\n    this.resolved = false;\r\n};\r\n\r\n/**\r\n * Resolves this objects type references.\r\n * @returns {ReflectionObject} `this`\r\n */\r\nReflectionObject.prototype.resolve = function resolve() {\r\n    if (this.resolved)\r\n        return this;\r\n    if (this.root instanceof Root)\r\n        this.resolved = true; // only if part of a root\r\n    return this;\r\n};\r\n\r\n/**\r\n * Gets an option value.\r\n * @param {string} name Option name\r\n * @returns {*} Option value or `undefined` if not set\r\n */\r\nReflectionObject.prototype.getOption = function getOption(name) {\r\n    if (this.options)\r\n        return this.options[name];\r\n    return undefined;\r\n};\r\n\r\n/**\r\n * Sets an option.\r\n * @param {string} name Option name\r\n * @param {*} value Option value\r\n * @param {boolean} [ifNotSet] Sets the option only if it isn't currently set\r\n * @returns {ReflectionObject} `this`\r\n */\r\nReflectionObject.prototype.setOption = function setOption(name, value, ifNotSet) {\r\n    if (!ifNotSet || !this.options || this.options[name] === undefined)\r\n        (this.options || (this.options = {}))[name] = value;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Sets a parsed option.\r\n * @param {string} name parsed Option name\r\n * @param {*} value Option value\r\n * @param {string} propName dot '.' delimited full path of property within the option to set. if undefined\\empty, will add a new option with that value\r\n * @returns {ReflectionObject} `this`\r\n */\r\nReflectionObject.prototype.setParsedOption = function setParsedOption(name, value, propName) {\r\n    if (!this.parsedOptions) {\r\n        this.parsedOptions = [];\r\n    }\r\n    var parsedOptions = this.parsedOptions;\r\n    if (propName) {\r\n        // If setting a sub property of an option then try to merge it\r\n        // with an existing option\r\n        var opt = parsedOptions.find(function (opt) {\r\n            return Object.prototype.hasOwnProperty.call(opt, name);\r\n        });\r\n        if (opt) {\r\n            // If we found an existing option - just merge the property value\r\n            var newValue = opt[name];\r\n            util.setProperty(newValue, propName, value);\r\n        } else {\r\n            // otherwise, create a new option, set it's property and add it to the list\r\n            opt = {};\r\n            opt[name] = util.setProperty({}, propName, value);\r\n            parsedOptions.push(opt);\r\n        }\r\n    } else {\r\n        // Always create a new option when setting the value of the option itself\r\n        var newOpt = {};\r\n        newOpt[name] = value;\r\n        parsedOptions.push(newOpt);\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Sets multiple options.\r\n * @param {Object.<string,*>} options Options to set\r\n * @param {boolean} [ifNotSet] Sets an option only if it isn't currently set\r\n * @returns {ReflectionObject} `this`\r\n */\r\nReflectionObject.prototype.setOptions = function setOptions(options, ifNotSet) {\r\n    if (options)\r\n        for (var keys = Object.keys(options), i = 0; i < keys.length; ++i)\r\n            this.setOption(keys[i], options[keys[i]], ifNotSet);\r\n    return this;\r\n};\r\n\r\n/**\r\n * Converts this instance to its string representation.\r\n * @returns {string} Class name[, space, full name]\r\n */\r\nReflectionObject.prototype.toString = function toString() {\r\n    var className = this.constructor.className,\r\n        fullName  = this.fullName;\r\n    if (fullName.length)\r\n        return className + \" \" + fullName;\r\n    return className;\r\n};\r\n\r\n// Sets up cyclic dependencies (called in index-light)\r\nReflectionObject._configure = function(Root_) {\r\n    Root = Root_;\r\n};\r\n","\"use strict\";\r\nmodule.exports = OneOf;\r\n\r\n// extends ReflectionObject\r\nvar ReflectionObject = require(\"./object\");\r\n((OneOf.prototype = Object.create(ReflectionObject.prototype)).constructor = OneOf).className = \"OneOf\";\r\n\r\nvar Field = require(\"./field\"),\r\n    util  = require(\"./util\");\r\n\r\n/**\r\n * Constructs a new oneof instance.\r\n * @classdesc Reflected oneof.\r\n * @extends ReflectionObject\r\n * @constructor\r\n * @param {string} name Oneof name\r\n * @param {string[]|Object.<string,*>} [fieldNames] Field names\r\n * @param {Object.<string,*>} [options] Declared options\r\n * @param {string} [comment] Comment associated with this field\r\n */\r\nfunction OneOf(name, fieldNames, options, comment) {\r\n    if (!Array.isArray(fieldNames)) {\r\n        options = fieldNames;\r\n        fieldNames = undefined;\r\n    }\r\n    ReflectionObject.call(this, name, options);\r\n\r\n    /* istanbul ignore if */\r\n    if (!(fieldNames === undefined || Array.isArray(fieldNames)))\r\n        throw TypeError(\"fieldNames must be an Array\");\r\n\r\n    /**\r\n     * Field names that belong to this oneof.\r\n     * @type {string[]}\r\n     */\r\n    this.oneof = fieldNames || []; // toJSON, marker\r\n\r\n    /**\r\n     * Fields that belong to this oneof as an array for iteration.\r\n     * @type {Field[]}\r\n     * @readonly\r\n     */\r\n    this.fieldsArray = []; // declared readonly for conformance, possibly not yet added to parent\r\n\r\n    /**\r\n     * Comment for this field.\r\n     * @type {string|null}\r\n     */\r\n    this.comment = comment;\r\n}\r\n\r\n/**\r\n * Oneof descriptor.\r\n * @interface IOneOf\r\n * @property {Array.<string>} oneof Oneof field names\r\n * @property {Object.<string,*>} [options] Oneof options\r\n */\r\n\r\n/**\r\n * Constructs a oneof from a oneof descriptor.\r\n * @param {string} name Oneof name\r\n * @param {IOneOf} json Oneof descriptor\r\n * @returns {OneOf} Created oneof\r\n * @throws {TypeError} If arguments are invalid\r\n */\r\nOneOf.fromJSON = function fromJSON(name, json) {\r\n    return new OneOf(name, json.oneof, json.options, json.comment);\r\n};\r\n\r\n/**\r\n * Converts this oneof to a oneof descriptor.\r\n * @param {IToJSONOptions} [toJSONOptions] JSON conversion options\r\n * @returns {IOneOf} Oneof descriptor\r\n */\r\nOneOf.prototype.toJSON = function toJSON(toJSONOptions) {\r\n    var keepComments = toJSONOptions ? Boolean(toJSONOptions.keepComments) : false;\r\n    return util.toObject([\r\n        \"options\" , this.options,\r\n        \"oneof\"   , this.oneof,\r\n        \"comment\" , keepComments ? this.comment : undefined\r\n    ]);\r\n};\r\n\r\n/**\r\n * Adds the fields of the specified oneof to the parent if not already done so.\r\n * @param {OneOf} oneof The oneof\r\n * @returns {undefined}\r\n * @inner\r\n * @ignore\r\n */\r\nfunction addFieldsToParent(oneof) {\r\n    if (oneof.parent)\r\n        for (var i = 0; i < oneof.fieldsArray.length; ++i)\r\n            if (!oneof.fieldsArray[i].parent)\r\n                oneof.parent.add(oneof.fieldsArray[i]);\r\n}\r\n\r\n/**\r\n * Adds a field to this oneof and removes it from its current parent, if any.\r\n * @param {Field} field Field to add\r\n * @returns {OneOf} `this`\r\n */\r\nOneOf.prototype.add = function add(field) {\r\n\r\n    /* istanbul ignore if */\r\n    if (!(field instanceof Field))\r\n        throw TypeError(\"field must be a Field\");\r\n\r\n    if (field.parent && field.parent !== this.parent)\r\n        field.parent.remove(field);\r\n    this.oneof.push(field.name);\r\n    this.fieldsArray.push(field);\r\n    field.partOf = this; // field.parent remains null\r\n    addFieldsToParent(this);\r\n    return this;\r\n};\r\n\r\n/**\r\n * Removes a field from this oneof and puts it back to the oneof's parent.\r\n * @param {Field} field Field to remove\r\n * @returns {OneOf} `this`\r\n */\r\nOneOf.prototype.remove = function remove(field) {\r\n\r\n    /* istanbul ignore if */\r\n    if (!(field instanceof Field))\r\n        throw TypeError(\"field must be a Field\");\r\n\r\n    var index = this.fieldsArray.indexOf(field);\r\n\r\n    /* istanbul ignore if */\r\n    if (index < 0)\r\n        throw Error(field + \" is not a member of \" + this);\r\n\r\n    this.fieldsArray.splice(index, 1);\r\n    index = this.oneof.indexOf(field.name);\r\n\r\n    /* istanbul ignore else */\r\n    if (index > -1) // theoretical\r\n        this.oneof.splice(index, 1);\r\n\r\n    field.partOf = null;\r\n    return this;\r\n};\r\n\r\n/**\r\n * @override\r\n */\r\nOneOf.prototype.onAdd = function onAdd(parent) {\r\n    ReflectionObject.prototype.onAdd.call(this, parent);\r\n    var self = this;\r\n    // Collect present fields\r\n    for (var i = 0; i < this.oneof.length; ++i) {\r\n        var field = parent.get(this.oneof[i]);\r\n        if (field && !field.partOf) {\r\n            field.partOf = self;\r\n            self.fieldsArray.push(field);\r\n        }\r\n    }\r\n    // Add not yet present fields\r\n    addFieldsToParent(this);\r\n};\r\n\r\n/**\r\n * @override\r\n */\r\nOneOf.prototype.onRemove = function onRemove(parent) {\r\n    for (var i = 0, field; i < this.fieldsArray.length; ++i)\r\n        if ((field = this.fieldsArray[i]).parent)\r\n            field.parent.remove(field);\r\n    ReflectionObject.prototype.onRemove.call(this, parent);\r\n};\r\n\r\n/**\r\n * Decorator function as returned by {@link OneOf.d} (TypeScript).\r\n * @typedef OneOfDecorator\r\n * @type {function}\r\n * @param {Object} prototype Target prototype\r\n * @param {string} oneofName OneOf name\r\n * @returns {undefined}\r\n */\r\n\r\n/**\r\n * OneOf decorator (TypeScript).\r\n * @function\r\n * @param {...string} fieldNames Field names\r\n * @returns {OneOfDecorator} Decorator function\r\n * @template T extends string\r\n */\r\nOneOf.d = function decorateOneOf() {\r\n    var fieldNames = new Array(arguments.length),\r\n        index = 0;\r\n    while (index < arguments.length)\r\n        fieldNames[index] = arguments[index++];\r\n    return function oneOfDecorator(prototype, oneofName) {\r\n        util.decorateType(prototype.constructor)\r\n            .add(new OneOf(oneofName, fieldNames));\r\n        Object.defineProperty(prototype, oneofName, {\r\n            get: util.oneOfGetter(fieldNames),\r\n            set: util.oneOfSetter(fieldNames)\r\n        });\r\n    };\r\n};\r\n","\"use strict\";\r\nmodule.exports = Reader;\r\n\r\nvar util      = require(\"./util/minimal\");\r\n\r\nvar BufferReader; // cyclic\r\n\r\nvar LongBits  = util.LongBits,\r\n    utf8      = util.utf8;\r\n\r\n/* istanbul ignore next */\r\nfunction indexOutOfRange(reader, writeLength) {\r\n    return RangeError(\"index out of range: \" + reader.pos + \" + \" + (writeLength || 1) + \" > \" + reader.len);\r\n}\r\n\r\n/**\r\n * Constructs a new reader instance using the specified buffer.\r\n * @classdesc Wire format reader using `Uint8Array` if available, otherwise `Array`.\r\n * @constructor\r\n * @param {Uint8Array} buffer Buffer to read from\r\n */\r\nfunction Reader(buffer) {\r\n\r\n    /**\r\n     * Read buffer.\r\n     * @type {Uint8Array}\r\n     */\r\n    this.buf = buffer;\r\n\r\n    /**\r\n     * Read buffer position.\r\n     * @type {number}\r\n     */\r\n    this.pos = 0;\r\n\r\n    /**\r\n     * Read buffer length.\r\n     * @type {number}\r\n     */\r\n    this.len = buffer.length;\r\n}\r\n\r\nvar create_array = typeof Uint8Array !== \"undefined\"\r\n    ? function create_typed_array(buffer) {\r\n        if (buffer instanceof Uint8Array || Array.isArray(buffer))\r\n            return new Reader(buffer);\r\n        throw Error(\"illegal buffer\");\r\n    }\r\n    /* istanbul ignore next */\r\n    : function create_array(buffer) {\r\n        if (Array.isArray(buffer))\r\n            return new Reader(buffer);\r\n        throw Error(\"illegal buffer\");\r\n    };\r\n\r\nvar create = function create() {\r\n    return util.Buffer\r\n        ? function create_buffer_setup(buffer) {\r\n            return (Reader.create = function create_buffer(buffer) {\r\n                return util.Buffer.isBuffer(buffer)\r\n                    ? new BufferReader(buffer)\r\n                    /* istanbul ignore next */\r\n                    : create_array(buffer);\r\n            })(buffer);\r\n        }\r\n        /* istanbul ignore next */\r\n        : create_array;\r\n};\r\n\r\n/**\r\n * Creates a new reader using the specified buffer.\r\n * @function\r\n * @param {Uint8Array|Buffer} buffer Buffer to read from\r\n * @returns {Reader|BufferReader} A {@link BufferReader} if `buffer` is a Buffer, otherwise a {@link Reader}\r\n * @throws {Error} If `buffer` is not a valid buffer\r\n */\r\nReader.create = create();\r\n\r\nReader.prototype._slice = util.Array.prototype.subarray || /* istanbul ignore next */ util.Array.prototype.slice;\r\n\r\n/**\r\n * Reads a varint as an unsigned 32 bit value.\r\n * @function\r\n * @returns {number} Value read\r\n */\r\nReader.prototype.uint32 = (function read_uint32_setup() {\r\n    var value = 4294967295; // optimizer type-hint, tends to deopt otherwise (?!)\r\n    return function read_uint32() {\r\n        value = (         this.buf[this.pos] & 127       ) >>> 0; if (this.buf[this.pos++] < 128) return value;\r\n        value = (value | (this.buf[this.pos] & 127) <<  7) >>> 0; if (this.buf[this.pos++] < 128) return value;\r\n        value = (value | (this.buf[this.pos] & 127) << 14) >>> 0; if (this.buf[this.pos++] < 128) return value;\r\n        value = (value | (this.buf[this.pos] & 127) << 21) >>> 0; if (this.buf[this.pos++] < 128) return value;\r\n        value = (value | (this.buf[this.pos] &  15) << 28) >>> 0; if (this.buf[this.pos++] < 128) return value;\r\n\r\n        /* istanbul ignore if */\r\n        if ((this.pos += 5) > this.len) {\r\n            this.pos = this.len;\r\n            throw indexOutOfRange(this, 10);\r\n        }\r\n        return value;\r\n    };\r\n})();\r\n\r\n/**\r\n * Reads a varint as a signed 32 bit value.\r\n * @returns {number} Value read\r\n */\r\nReader.prototype.int32 = function read_int32() {\r\n    return this.uint32() | 0;\r\n};\r\n\r\n/**\r\n * Reads a zig-zag encoded varint as a signed 32 bit value.\r\n * @returns {number} Value read\r\n */\r\nReader.prototype.sint32 = function read_sint32() {\r\n    var value = this.uint32();\r\n    return value >>> 1 ^ -(value & 1) | 0;\r\n};\r\n\r\n/* eslint-disable no-invalid-this */\r\n\r\nfunction readLongVarint() {\r\n    // tends to deopt with local vars for octet etc.\r\n    var bits = new LongBits(0, 0);\r\n    var i = 0;\r\n    if (this.len - this.pos > 4) { // fast route (lo)\r\n        for (; i < 4; ++i) {\r\n            // 1st..4th\r\n            bits.lo = (bits.lo | (this.buf[this.pos] & 127) << i * 7) >>> 0;\r\n            if (this.buf[this.pos++] < 128)\r\n                return bits;\r\n        }\r\n        // 5th\r\n        bits.lo = (bits.lo | (this.buf[this.pos] & 127) << 28) >>> 0;\r\n        bits.hi = (bits.hi | (this.buf[this.pos] & 127) >>  4) >>> 0;\r\n        if (this.buf[this.pos++] < 128)\r\n            return bits;\r\n        i = 0;\r\n    } else {\r\n        for (; i < 3; ++i) {\r\n            /* istanbul ignore if */\r\n            if (this.pos >= this.len)\r\n                throw indexOutOfRange(this);\r\n            // 1st..3th\r\n            bits.lo = (bits.lo | (this.buf[this.pos] & 127) << i * 7) >>> 0;\r\n            if (this.buf[this.pos++] < 128)\r\n                return bits;\r\n        }\r\n        // 4th\r\n        bits.lo = (bits.lo | (this.buf[this.pos++] & 127) << i * 7) >>> 0;\r\n        return bits;\r\n    }\r\n    if (this.len - this.pos > 4) { // fast route (hi)\r\n        for (; i < 5; ++i) {\r\n            // 6th..10th\r\n            bits.hi = (bits.hi | (this.buf[this.pos] & 127) << i * 7 + 3) >>> 0;\r\n            if (this.buf[this.pos++] < 128)\r\n                return bits;\r\n        }\r\n    } else {\r\n        for (; i < 5; ++i) {\r\n            /* istanbul ignore if */\r\n            if (this.pos >= this.len)\r\n                throw indexOutOfRange(this);\r\n            // 6th..10th\r\n            bits.hi = (bits.hi | (this.buf[this.pos] & 127) << i * 7 + 3) >>> 0;\r\n            if (this.buf[this.pos++] < 128)\r\n                return bits;\r\n        }\r\n    }\r\n    /* istanbul ignore next */\r\n    throw Error(\"invalid varint encoding\");\r\n}\r\n\r\n/* eslint-enable no-invalid-this */\r\n\r\n/**\r\n * Reads a varint as a signed 64 bit value.\r\n * @name Reader#int64\r\n * @function\r\n * @returns {Long} Value read\r\n */\r\n\r\n/**\r\n * Reads a varint as an unsigned 64 bit value.\r\n * @name Reader#uint64\r\n * @function\r\n * @returns {Long} Value read\r\n */\r\n\r\n/**\r\n * Reads a zig-zag encoded varint as a signed 64 bit value.\r\n * @name Reader#sint64\r\n * @function\r\n * @returns {Long} Value read\r\n */\r\n\r\n/**\r\n * Reads a varint as a boolean.\r\n * @returns {boolean} Value read\r\n */\r\nReader.prototype.bool = function read_bool() {\r\n    return this.uint32() !== 0;\r\n};\r\n\r\nfunction readFixed32_end(buf, end) { // note that this uses `end`, not `pos`\r\n    return (buf[end - 4]\r\n          | buf[end - 3] << 8\r\n          | buf[end - 2] << 16\r\n          | buf[end - 1] << 24) >>> 0;\r\n}\r\n\r\n/**\r\n * Reads fixed 32 bits as an unsigned 32 bit integer.\r\n * @returns {number} Value read\r\n */\r\nReader.prototype.fixed32 = function read_fixed32() {\r\n\r\n    /* istanbul ignore if */\r\n    if (this.pos + 4 > this.len)\r\n        throw indexOutOfRange(this, 4);\r\n\r\n    return readFixed32_end(this.buf, this.pos += 4);\r\n};\r\n\r\n/**\r\n * Reads fixed 32 bits as a signed 32 bit integer.\r\n * @returns {number} Value read\r\n */\r\nReader.prototype.sfixed32 = function read_sfixed32() {\r\n\r\n    /* istanbul ignore if */\r\n    if (this.pos + 4 > this.len)\r\n        throw indexOutOfRange(this, 4);\r\n\r\n    return readFixed32_end(this.buf, this.pos += 4) | 0;\r\n};\r\n\r\n/* eslint-disable no-invalid-this */\r\n\r\nfunction readFixed64(/* this: Reader */) {\r\n\r\n    /* istanbul ignore if */\r\n    if (this.pos + 8 > this.len)\r\n        throw indexOutOfRange(this, 8);\r\n\r\n    return new LongBits(readFixed32_end(this.buf, this.pos += 4), readFixed32_end(this.buf, this.pos += 4));\r\n}\r\n\r\n/* eslint-enable no-invalid-this */\r\n\r\n/**\r\n * Reads fixed 64 bits.\r\n * @name Reader#fixed64\r\n * @function\r\n * @returns {Long} Value read\r\n */\r\n\r\n/**\r\n * Reads zig-zag encoded fixed 64 bits.\r\n * @name Reader#sfixed64\r\n * @function\r\n * @returns {Long} Value read\r\n */\r\n\r\n/**\r\n * Reads a float (32 bit) as a number.\r\n * @function\r\n * @returns {number} Value read\r\n */\r\nReader.prototype.float = function read_float() {\r\n\r\n    /* istanbul ignore if */\r\n    if (this.pos + 4 > this.len)\r\n        throw indexOutOfRange(this, 4);\r\n\r\n    var value = util.float.readFloatLE(this.buf, this.pos);\r\n    this.pos += 4;\r\n    return value;\r\n};\r\n\r\n/**\r\n * Reads a double (64 bit float) as a number.\r\n * @function\r\n * @returns {number} Value read\r\n */\r\nReader.prototype.double = function read_double() {\r\n\r\n    /* istanbul ignore if */\r\n    if (this.pos + 8 > this.len)\r\n        throw indexOutOfRange(this, 4);\r\n\r\n    var value = util.float.readDoubleLE(this.buf, this.pos);\r\n    this.pos += 8;\r\n    return value;\r\n};\r\n\r\n/**\r\n * Reads a sequence of bytes preceeded by its length as a varint.\r\n * @returns {Uint8Array} Value read\r\n */\r\nReader.prototype.bytes = function read_bytes() {\r\n    var length = this.uint32(),\r\n        start  = this.pos,\r\n        end    = this.pos + length;\r\n\r\n    /* istanbul ignore if */\r\n    if (end > this.len)\r\n        throw indexOutOfRange(this, length);\r\n\r\n    this.pos += length;\r\n    if (Array.isArray(this.buf)) // plain array\r\n        return this.buf.slice(start, end);\r\n\r\n    if (start === end) { // fix for IE 10/Win8 and others' subarray returning array of size 1\r\n        var nativeBuffer = util.Buffer;\r\n        return nativeBuffer\r\n            ? nativeBuffer.alloc(0)\r\n            : new this.buf.constructor(0);\r\n    }\r\n    return this._slice.call(this.buf, start, end);\r\n};\r\n\r\n/**\r\n * Reads a string preceeded by its byte length as a varint.\r\n * @returns {string} Value read\r\n */\r\nReader.prototype.string = function read_string() {\r\n    var bytes = this.bytes();\r\n    return utf8.read(bytes, 0, bytes.length);\r\n};\r\n\r\n/**\r\n * Skips the specified number of bytes if specified, otherwise skips a varint.\r\n * @param {number} [length] Length if known, otherwise a varint is assumed\r\n * @returns {Reader} `this`\r\n */\r\nReader.prototype.skip = function skip(length) {\r\n    if (typeof length === \"number\") {\r\n        /* istanbul ignore if */\r\n        if (this.pos + length > this.len)\r\n            throw indexOutOfRange(this, length);\r\n        this.pos += length;\r\n    } else {\r\n        do {\r\n            /* istanbul ignore if */\r\n            if (this.pos >= this.len)\r\n                throw indexOutOfRange(this);\r\n        } while (this.buf[this.pos++] & 128);\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Skips the next element of the specified wire type.\r\n * @param {number} wireType Wire type received\r\n * @returns {Reader} `this`\r\n */\r\nReader.prototype.skipType = function(wireType) {\r\n    switch (wireType) {\r\n        case 0:\r\n            this.skip();\r\n            break;\r\n        case 1:\r\n            this.skip(8);\r\n            break;\r\n        case 2:\r\n            this.skip(this.uint32());\r\n            break;\r\n        case 3:\r\n            while ((wireType = this.uint32() & 7) !== 4) {\r\n                this.skipType(wireType);\r\n            }\r\n            break;\r\n        case 5:\r\n            this.skip(4);\r\n            break;\r\n\r\n        /* istanbul ignore next */\r\n        default:\r\n            throw Error(\"invalid wire type \" + wireType + \" at offset \" + this.pos);\r\n    }\r\n    return this;\r\n};\r\n\r\nReader._configure = function(BufferReader_) {\r\n    BufferReader = BufferReader_;\r\n    Reader.create = create();\r\n    BufferReader._configure();\r\n\r\n    var fn = util.Long ? \"toLong\" : /* istanbul ignore next */ \"toNumber\";\r\n    util.merge(Reader.prototype, {\r\n\r\n        int64: function read_int64() {\r\n            return readLongVarint.call(this)[fn](false);\r\n        },\r\n\r\n        uint64: function read_uint64() {\r\n            return readLongVarint.call(this)[fn](true);\r\n        },\r\n\r\n        sint64: function read_sint64() {\r\n            return readLongVarint.call(this).zzDecode()[fn](false);\r\n        },\r\n\r\n        fixed64: function read_fixed64() {\r\n            return readFixed64.call(this)[fn](true);\r\n        },\r\n\r\n        sfixed64: function read_sfixed64() {\r\n            return readFixed64.call(this)[fn](false);\r\n        }\r\n\r\n    });\r\n};\r\n","\"use strict\";\r\nmodule.exports = BufferReader;\r\n\r\n// extends Reader\r\nvar Reader = require(\"./reader\");\r\n(BufferReader.prototype = Object.create(Reader.prototype)).constructor = BufferReader;\r\n\r\nvar util = require(\"./util/minimal\");\r\n\r\n/**\r\n * Constructs a new buffer reader instance.\r\n * @classdesc Wire format reader using node buffers.\r\n * @extends Reader\r\n * @constructor\r\n * @param {Buffer} buffer Buffer to read from\r\n */\r\nfunction BufferReader(buffer) {\r\n    Reader.call(this, buffer);\r\n\r\n    /**\r\n     * Read buffer.\r\n     * @name BufferReader#buf\r\n     * @type {Buffer}\r\n     */\r\n}\r\n\r\nBufferReader._configure = function () {\r\n    /* istanbul ignore else */\r\n    if (util.Buffer)\r\n        BufferReader.prototype._slice = util.Buffer.prototype.slice;\r\n};\r\n\r\n\r\n/**\r\n * @override\r\n */\r\nBufferReader.prototype.string = function read_string_buffer() {\r\n    var len = this.uint32(); // modifies pos\r\n    return this.buf.utf8Slice\r\n        ? this.buf.utf8Slice(this.pos, this.pos = Math.min(this.pos + len, this.len))\r\n        : this.buf.toString(\"utf-8\", this.pos, this.pos = Math.min(this.pos + len, this.len));\r\n};\r\n\r\n/**\r\n * Reads a sequence of bytes preceeded by its length as a varint.\r\n * @name BufferReader#bytes\r\n * @function\r\n * @returns {Buffer} Value read\r\n */\r\n\r\nBufferReader._configure();\r\n","\"use strict\";\r\nmodule.exports = Root;\r\n\r\n// extends Namespace\r\nvar Namespace = require(\"./namespace\");\r\n((Root.prototype = Object.create(Namespace.prototype)).constructor = Root).className = \"Root\";\r\n\r\nvar Field   = require(\"./field\"),\r\n    Enum    = require(\"./enum\"),\r\n    OneOf   = require(\"./oneof\"),\r\n    util    = require(\"./util\");\r\n\r\nvar Type,   // cyclic\r\n    parse,  // might be excluded\r\n    common; // \"\r\n\r\n/**\r\n * Constructs a new root namespace instance.\r\n * @classdesc Root namespace wrapping all types, enums, services, sub-namespaces etc. that belong together.\r\n * @extends NamespaceBase\r\n * @constructor\r\n * @param {Object.<string,*>} [options] Top level options\r\n */\r\nfunction Root(options) {\r\n    Namespace.call(this, \"\", options);\r\n\r\n    /**\r\n     * Deferred extension fields.\r\n     * @type {Field[]}\r\n     */\r\n    this.deferred = [];\r\n\r\n    /**\r\n     * Resolved file names of loaded files.\r\n     * @type {string[]}\r\n     */\r\n    this.files = [];\r\n}\r\n\r\n/**\r\n * Loads a namespace descriptor into a root namespace.\r\n * @param {INamespace} json Nameespace descriptor\r\n * @param {Root} [root] Root namespace, defaults to create a new one if omitted\r\n * @returns {Root} Root namespace\r\n */\r\nRoot.fromJSON = function fromJSON(json, root) {\r\n    if (!root)\r\n        root = new Root();\r\n    if (json.options)\r\n        root.setOptions(json.options);\r\n    return root.addJSON(json.nested);\r\n};\r\n\r\n/**\r\n * Resolves the path of an imported file, relative to the importing origin.\r\n * This method exists so you can override it with your own logic in case your imports are scattered over multiple directories.\r\n * @function\r\n * @param {string} origin The file name of the importing file\r\n * @param {string} target The file name being imported\r\n * @returns {string|null} Resolved path to `target` or `null` to skip the file\r\n */\r\nRoot.prototype.resolvePath = util.path.resolve;\r\n\r\n/**\r\n * Fetch content from file path or url\r\n * This method exists so you can override it with your own logic.\r\n * @function\r\n * @param {string} path File path or url\r\n * @param {FetchCallback} callback Callback function\r\n * @returns {undefined}\r\n */\r\nRoot.prototype.fetch = util.fetch;\r\n\r\n// A symbol-like function to safely signal synchronous loading\r\n/* istanbul ignore next */\r\nfunction SYNC() {} // eslint-disable-line no-empty-function\r\n\r\n/**\r\n * Loads one or multiple .proto or preprocessed .json files into this root namespace and calls the callback.\r\n * @param {string|string[]} filename Names of one or multiple files to load\r\n * @param {IParseOptions} options Parse options\r\n * @param {LoadCallback} callback Callback function\r\n * @returns {undefined}\r\n */\r\nRoot.prototype.load = function load(filename, options, callback) {\r\n    if (typeof options === \"function\") {\r\n        callback = options;\r\n        options = undefined;\r\n    }\r\n    var self = this;\r\n    if (!callback)\r\n        return util.asPromise(load, self, filename, options);\r\n\r\n    var sync = callback === SYNC; // undocumented\r\n\r\n    // Finishes loading by calling the callback (exactly once)\r\n    function finish(err, root) {\r\n        /* istanbul ignore if */\r\n        if (!callback)\r\n            return;\r\n        if (sync)\r\n            throw err;\r\n        var cb = callback;\r\n        callback = null;\r\n        cb(err, root);\r\n    }\r\n\r\n    // Bundled definition existence checking\r\n    function getBundledFileName(filename) {\r\n        var idx = filename.lastIndexOf(\"google/protobuf/\");\r\n        if (idx > -1) {\r\n            var altname = filename.substring(idx);\r\n            if (altname in common) return altname;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    // Processes a single file\r\n    function process(filename, source) {\r\n        try {\r\n            if (util.isString(source) && source.charAt(0) === \"{\")\r\n                source = JSON.parse(source);\r\n            if (!util.isString(source))\r\n                self.setOptions(source.options).addJSON(source.nested);\r\n            else {\r\n                parse.filename = filename;\r\n                var parsed = parse(source, self, options),\r\n                    resolved,\r\n                    i = 0;\r\n                if (parsed.imports)\r\n                    for (; i < parsed.imports.length; ++i)\r\n                        if (resolved = getBundledFileName(parsed.imports[i]) || self.resolvePath(filename, parsed.imports[i]))\r\n                            fetch(resolved);\r\n                if (parsed.weakImports)\r\n                    for (i = 0; i < parsed.weakImports.length; ++i)\r\n                        if (resolved = getBundledFileName(parsed.weakImports[i]) || self.resolvePath(filename, parsed.weakImports[i]))\r\n                            fetch(resolved, true);\r\n            }\r\n        } catch (err) {\r\n            finish(err);\r\n        }\r\n        if (!sync && !queued)\r\n            finish(null, self); // only once anyway\r\n    }\r\n\r\n    // Fetches a single file\r\n    function fetch(filename, weak) {\r\n        filename = getBundledFileName(filename) || filename;\r\n\r\n        // Skip if already loaded / attempted\r\n        if (self.files.indexOf(filename) > -1)\r\n            return;\r\n        self.files.push(filename);\r\n\r\n        // Shortcut bundled definitions\r\n        if (filename in common) {\r\n            if (sync)\r\n                process(filename, common[filename]);\r\n            else {\r\n                ++queued;\r\n                setTimeout(function() {\r\n                    --queued;\r\n                    process(filename, common[filename]);\r\n                });\r\n            }\r\n            return;\r\n        }\r\n\r\n        // Otherwise fetch from disk or network\r\n        if (sync) {\r\n            var source;\r\n            try {\r\n                source = util.fs.readFileSync(filename).toString(\"utf8\");\r\n            } catch (err) {\r\n                if (!weak)\r\n                    finish(err);\r\n                return;\r\n            }\r\n            process(filename, source);\r\n        } else {\r\n            ++queued;\r\n            self.fetch(filename, function(err, source) {\r\n                --queued;\r\n                /* istanbul ignore if */\r\n                if (!callback)\r\n                    return; // terminated meanwhile\r\n                if (err) {\r\n                    /* istanbul ignore else */\r\n                    if (!weak)\r\n                        finish(err);\r\n                    else if (!queued) // can't be covered reliably\r\n                        finish(null, self);\r\n                    return;\r\n                }\r\n                process(filename, source);\r\n            });\r\n        }\r\n    }\r\n    var queued = 0;\r\n\r\n    // Assembling the root namespace doesn't require working type\r\n    // references anymore, so we can load everything in parallel\r\n    if (util.isString(filename))\r\n        filename = [ filename ];\r\n    for (var i = 0, resolved; i < filename.length; ++i)\r\n        if (resolved = self.resolvePath(\"\", filename[i]))\r\n            fetch(resolved);\r\n\r\n    if (sync)\r\n        return self;\r\n    if (!queued)\r\n        finish(null, self);\r\n    return undefined;\r\n};\r\n// function load(filename:string, options:IParseOptions, callback:LoadCallback):undefined\r\n\r\n/**\r\n * Loads one or multiple .proto or preprocessed .json files into this root namespace and calls the callback.\r\n * @function Root#load\r\n * @param {string|string[]} filename Names of one or multiple files to load\r\n * @param {LoadCallback} callback Callback function\r\n * @returns {undefined}\r\n * @variation 2\r\n */\r\n// function load(filename:string, callback:LoadCallback):undefined\r\n\r\n/**\r\n * Loads one or multiple .proto or preprocessed .json files into this root namespace and returns a promise.\r\n * @function Root#load\r\n * @param {string|string[]} filename Names of one or multiple files to load\r\n * @param {IParseOptions} [options] Parse options. Defaults to {@link parse.defaults} when omitted.\r\n * @returns {Promise<Root>} Promise\r\n * @variation 3\r\n */\r\n// function load(filename:string, [options:IParseOptions]):Promise<Root>\r\n\r\n/**\r\n * Synchronously loads one or multiple .proto or preprocessed .json files into this root namespace (node only).\r\n * @function Root#loadSync\r\n * @param {string|string[]} filename Names of one or multiple files to load\r\n * @param {IParseOptions} [options] Parse options. Defaults to {@link parse.defaults} when omitted.\r\n * @returns {Root} Root namespace\r\n * @throws {Error} If synchronous fetching is not supported (i.e. in browsers) or if a file's syntax is invalid\r\n */\r\nRoot.prototype.loadSync = function loadSync(filename, options) {\r\n    if (!util.isNode)\r\n        throw Error(\"not supported\");\r\n    return this.load(filename, options, SYNC);\r\n};\r\n\r\n/**\r\n * @override\r\n */\r\nRoot.prototype.resolveAll = function resolveAll() {\r\n    if (this.deferred.length)\r\n        throw Error(\"unresolvable extensions: \" + this.deferred.map(function(field) {\r\n            return \"'extend \" + field.extend + \"' in \" + field.parent.fullName;\r\n        }).join(\", \"));\r\n    return Namespace.prototype.resolveAll.call(this);\r\n};\r\n\r\n// only uppercased (and thus conflict-free) children are exposed, see below\r\nvar exposeRe = /^[A-Z]/;\r\n\r\n/**\r\n * Handles a deferred declaring extension field by creating a sister field to represent it within its extended type.\r\n * @param {Root} root Root instance\r\n * @param {Field} field Declaring extension field witin the declaring type\r\n * @returns {boolean} `true` if successfully added to the extended type, `false` otherwise\r\n * @inner\r\n * @ignore\r\n */\r\nfunction tryHandleExtension(root, field) {\r\n    var extendedType = field.parent.lookup(field.extend);\r\n    if (extendedType) {\r\n        var sisterField = new Field(field.fullName, field.id, field.type, field.rule, undefined, field.options);\r\n        //do not allow to extend same field twice to prevent the error\r\n        if (extendedType.get(sisterField.name)) {\r\n            return true;\r\n        }\r\n        sisterField.declaringField = field;\r\n        field.extensionField = sisterField;\r\n        extendedType.add(sisterField);\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n\r\n/**\r\n * Called when any object is added to this root or its sub-namespaces.\r\n * @param {ReflectionObject} object Object added\r\n * @returns {undefined}\r\n * @private\r\n */\r\nRoot.prototype._handleAdd = function _handleAdd(object) {\r\n    if (object instanceof Field) {\r\n\r\n        if (/* an extension field (implies not part of a oneof) */ object.extend !== undefined && /* not already handled */ !object.extensionField)\r\n            if (!tryHandleExtension(this, object))\r\n                this.deferred.push(object);\r\n\r\n    } else if (object instanceof Enum) {\r\n\r\n        if (exposeRe.test(object.name))\r\n            object.parent[object.name] = object.values; // expose enum values as property of its parent\r\n\r\n    } else if (!(object instanceof OneOf)) /* everything else is a namespace */ {\r\n\r\n        if (object instanceof Type) // Try to handle any deferred extensions\r\n            for (var i = 0; i < this.deferred.length;)\r\n                if (tryHandleExtension(this, this.deferred[i]))\r\n                    this.deferred.splice(i, 1);\r\n                else\r\n                    ++i;\r\n        for (var j = 0; j < /* initializes */ object.nestedArray.length; ++j) // recurse into the namespace\r\n            this._handleAdd(object._nestedArray[j]);\r\n        if (exposeRe.test(object.name))\r\n            object.parent[object.name] = object; // expose namespace as property of its parent\r\n    }\r\n\r\n    // The above also adds uppercased (and thus conflict-free) nested types, services and enums as\r\n    // properties of namespaces just like static code does. This allows using a .d.ts generated for\r\n    // a static module with reflection-based solutions where the condition is met.\r\n};\r\n\r\n/**\r\n * Called when any object is removed from this root or its sub-namespaces.\r\n * @param {ReflectionObject} object Object removed\r\n * @returns {undefined}\r\n * @private\r\n */\r\nRoot.prototype._handleRemove = function _handleRemove(object) {\r\n    if (object instanceof Field) {\r\n\r\n        if (/* an extension field */ object.extend !== undefined) {\r\n            if (/* already handled */ object.extensionField) { // remove its sister field\r\n                object.extensionField.parent.remove(object.extensionField);\r\n                object.extensionField = null;\r\n            } else { // cancel the extension\r\n                var index = this.deferred.indexOf(object);\r\n                /* istanbul ignore else */\r\n                if (index > -1)\r\n                    this.deferred.splice(index, 1);\r\n            }\r\n        }\r\n\r\n    } else if (object instanceof Enum) {\r\n\r\n        if (exposeRe.test(object.name))\r\n            delete object.parent[object.name]; // unexpose enum values\r\n\r\n    } else if (object instanceof Namespace) {\r\n\r\n        for (var i = 0; i < /* initializes */ object.nestedArray.length; ++i) // recurse into the namespace\r\n            this._handleRemove(object._nestedArray[i]);\r\n\r\n        if (exposeRe.test(object.name))\r\n            delete object.parent[object.name]; // unexpose namespaces\r\n\r\n    }\r\n};\r\n\r\n// Sets up cyclic dependencies (called in index-light)\r\nRoot._configure = function(Type_, parse_, common_) {\r\n    Type   = Type_;\r\n    parse  = parse_;\r\n    common = common_;\r\n};\r\n","\"use strict\";\r\nmodule.exports = {};\r\n\r\n/**\r\n * Named roots.\r\n * This is where pbjs stores generated structures (the option `-r, --root` specifies a name).\r\n * Can also be used manually to make roots available across modules.\r\n * @name roots\r\n * @type {Object.<string,Root>}\r\n * @example\r\n * // pbjs -r myroot -o compiled.js ...\r\n *\r\n * // in another module:\r\n * require(\"./compiled.js\");\r\n *\r\n * // in any subsequent module:\r\n * var root = protobuf.roots[\"myroot\"];\r\n */\r\n","\"use strict\";\r\n\r\n/**\r\n * Streaming RPC helpers.\r\n * @namespace\r\n */\r\nvar rpc = exports;\r\n\r\n/**\r\n * RPC implementation passed to {@link Service#create} performing a service request on network level, i.e. by utilizing http requests or websockets.\r\n * @typedef RPCImpl\r\n * @type {function}\r\n * @param {Method|rpc.ServiceMethod<Message<{}>,Message<{}>>} method Reflected or static method being called\r\n * @param {Uint8Array} requestData Request data\r\n * @param {RPCImplCallback} callback Callback function\r\n * @returns {undefined}\r\n * @example\r\n * function rpcImpl(method, requestData, callback) {\r\n *     if (protobuf.util.lcFirst(method.name) !== \"myMethod\") // compatible with static code\r\n *         throw Error(\"no such method\");\r\n *     asynchronouslyObtainAResponse(requestData, function(err, responseData) {\r\n *         callback(err, responseData);\r\n *     });\r\n * }\r\n */\r\n\r\n/**\r\n * Node-style callback as used by {@link RPCImpl}.\r\n * @typedef RPCImplCallback\r\n * @type {function}\r\n * @param {Error|null} error Error, if any, otherwise `null`\r\n * @param {Uint8Array|null} [response] Response data or `null` to signal end of stream, if there hasn't been an error\r\n * @returns {undefined}\r\n */\r\n\r\nrpc.Service = require(\"./rpc/service\");\r\n","\"use strict\";\r\nmodule.exports = Service;\r\n\r\nvar util = require(\"../util/minimal\");\r\n\r\n// Extends EventEmitter\r\n(Service.prototype = Object.create(util.EventEmitter.prototype)).constructor = Service;\r\n\r\n/**\r\n * A service method callback as used by {@link rpc.ServiceMethod|ServiceMethod}.\r\n *\r\n * Differs from {@link RPCImplCallback} in that it is an actual callback of a service method which may not return `response = null`.\r\n * @typedef rpc.ServiceMethodCallback\r\n * @template TRes extends Message<TRes>\r\n * @type {function}\r\n * @param {Error|null} error Error, if any\r\n * @param {TRes} [response] Response message\r\n * @returns {undefined}\r\n */\r\n\r\n/**\r\n * A service method part of a {@link rpc.Service} as created by {@link Service.create}.\r\n * @typedef rpc.ServiceMethod\r\n * @template TReq extends Message<TReq>\r\n * @template TRes extends Message<TRes>\r\n * @type {function}\r\n * @param {TReq|Properties<TReq>} request Request message or plain object\r\n * @param {rpc.ServiceMethodCallback<TRes>} [callback] Node-style callback called with the error, if any, and the response message\r\n * @returns {Promise<Message<TRes>>} Promise if `callback` has been omitted, otherwise `undefined`\r\n */\r\n\r\n/**\r\n * Constructs a new RPC service instance.\r\n * @classdesc An RPC service as returned by {@link Service#create}.\r\n * @exports rpc.Service\r\n * @extends util.EventEmitter\r\n * @constructor\r\n * @param {RPCImpl} rpcImpl RPC implementation\r\n * @param {boolean} [requestDelimited=false] Whether requests are length-delimited\r\n * @param {boolean} [responseDelimited=false] Whether responses are length-delimited\r\n */\r\nfunction Service(rpcImpl, requestDelimited, responseDelimited) {\r\n\r\n    if (typeof rpcImpl !== \"function\")\r\n        throw TypeError(\"rpcImpl must be a function\");\r\n\r\n    util.EventEmitter.call(this);\r\n\r\n    /**\r\n     * RPC implementation. Becomes `null` once the service is ended.\r\n     * @type {RPCImpl|null}\r\n     */\r\n    this.rpcImpl = rpcImpl;\r\n\r\n    /**\r\n     * Whether requests are length-delimited.\r\n     * @type {boolean}\r\n     */\r\n    this.requestDelimited = Boolean(requestDelimited);\r\n\r\n    /**\r\n     * Whether responses are length-delimited.\r\n     * @type {boolean}\r\n     */\r\n    this.responseDelimited = Boolean(responseDelimited);\r\n}\r\n\r\n/**\r\n * Calls a service method through {@link rpc.Service#rpcImpl|rpcImpl}.\r\n * @param {Method|rpc.ServiceMethod<TReq,TRes>} method Reflected or static method\r\n * @param {Constructor<TReq>} requestCtor Request constructor\r\n * @param {Constructor<TRes>} responseCtor Response constructor\r\n * @param {TReq|Properties<TReq>} request Request message or plain object\r\n * @param {rpc.ServiceMethodCallback<TRes>} callback Service callback\r\n * @returns {undefined}\r\n * @template TReq extends Message<TReq>\r\n * @template TRes extends Message<TRes>\r\n */\r\nService.prototype.rpcCall = function rpcCall(method, requestCtor, responseCtor, request, callback) {\r\n\r\n    if (!request)\r\n        throw TypeError(\"request must be specified\");\r\n\r\n    var self = this;\r\n    if (!callback)\r\n        return util.asPromise(rpcCall, self, method, requestCtor, responseCtor, request);\r\n\r\n    if (!self.rpcImpl) {\r\n        setTimeout(function() { callback(Error(\"already ended\")); }, 0);\r\n        return undefined;\r\n    }\r\n\r\n    try {\r\n        return self.rpcImpl(\r\n            method,\r\n            requestCtor[self.requestDelimited ? \"encodeDelimited\" : \"encode\"](request).finish(),\r\n            function rpcCallback(err, response) {\r\n\r\n                if (err) {\r\n                    self.emit(\"error\", err, method);\r\n                    return callback(err);\r\n                }\r\n\r\n                if (response === null) {\r\n                    self.end(/* endedByRPC */ true);\r\n                    return undefined;\r\n                }\r\n\r\n                if (!(response instanceof responseCtor)) {\r\n                    try {\r\n                        response = responseCtor[self.responseDelimited ? \"decodeDelimited\" : \"decode\"](response);\r\n                    } catch (err) {\r\n                        self.emit(\"error\", err, method);\r\n                        return callback(err);\r\n                    }\r\n                }\r\n\r\n                self.emit(\"data\", response, method);\r\n                return callback(null, response);\r\n            }\r\n        );\r\n    } catch (err) {\r\n        self.emit(\"error\", err, method);\r\n        setTimeout(function() { callback(err); }, 0);\r\n        return undefined;\r\n    }\r\n};\r\n\r\n/**\r\n * Ends this service and emits the `end` event.\r\n * @param {boolean} [endedByRPC=false] Whether the service has been ended by the RPC implementation.\r\n * @returns {rpc.Service} `this`\r\n */\r\nService.prototype.end = function end(endedByRPC) {\r\n    if (this.rpcImpl) {\r\n        if (!endedByRPC) // signal end to rpcImpl\r\n            this.rpcImpl(null, null, null);\r\n        this.rpcImpl = null;\r\n        this.emit(\"end\").off();\r\n    }\r\n    return this;\r\n};\r\n","\"use strict\";\r\nmodule.exports = Service;\r\n\r\n// extends Namespace\r\nvar Namespace = require(\"./namespace\");\r\n((Service.prototype = Object.create(Namespace.prototype)).constructor = Service).className = \"Service\";\r\n\r\nvar Method = require(\"./method\"),\r\n    util   = require(\"./util\"),\r\n    rpc    = require(\"./rpc\");\r\n\r\n/**\r\n * Constructs a new service instance.\r\n * @classdesc Reflected service.\r\n * @extends NamespaceBase\r\n * @constructor\r\n * @param {string} name Service name\r\n * @param {Object.<string,*>} [options] Service options\r\n * @throws {TypeError} If arguments are invalid\r\n */\r\nfunction Service(name, options) {\r\n    Namespace.call(this, name, options);\r\n\r\n    /**\r\n     * Service methods.\r\n     * @type {Object.<string,Method>}\r\n     */\r\n    this.methods = {}; // toJSON, marker\r\n\r\n    /**\r\n     * Cached methods as an array.\r\n     * @type {Method[]|null}\r\n     * @private\r\n     */\r\n    this._methodsArray = null;\r\n}\r\n\r\n/**\r\n * Service descriptor.\r\n * @interface IService\r\n * @extends INamespace\r\n * @property {Object.<string,IMethod>} methods Method descriptors\r\n */\r\n\r\n/**\r\n * Constructs a service from a service descriptor.\r\n * @param {string} name Service name\r\n * @param {IService} json Service descriptor\r\n * @returns {Service} Created service\r\n * @throws {TypeError} If arguments are invalid\r\n */\r\nService.fromJSON = function fromJSON(name, json) {\r\n    var service = new Service(name, json.options);\r\n    /* istanbul ignore else */\r\n    if (json.methods)\r\n        for (var names = Object.keys(json.methods), i = 0; i < names.length; ++i)\r\n            service.add(Method.fromJSON(names[i], json.methods[names[i]]));\r\n    if (json.nested)\r\n        service.addJSON(json.nested);\r\n    service.comment = json.comment;\r\n    return service;\r\n};\r\n\r\n/**\r\n * Converts this service to a service descriptor.\r\n * @param {IToJSONOptions} [toJSONOptions] JSON conversion options\r\n * @returns {IService} Service descriptor\r\n */\r\nService.prototype.toJSON = function toJSON(toJSONOptions) {\r\n    var inherited = Namespace.prototype.toJSON.call(this, toJSONOptions);\r\n    var keepComments = toJSONOptions ? Boolean(toJSONOptions.keepComments) : false;\r\n    return util.toObject([\r\n        \"options\" , inherited && inherited.options || undefined,\r\n        \"methods\" , Namespace.arrayToJSON(this.methodsArray, toJSONOptions) || /* istanbul ignore next */ {},\r\n        \"nested\"  , inherited && inherited.nested || undefined,\r\n        \"comment\" , keepComments ? this.comment : undefined\r\n    ]);\r\n};\r\n\r\n/**\r\n * Methods of this service as an array for iteration.\r\n * @name Service#methodsArray\r\n * @type {Method[]}\r\n * @readonly\r\n */\r\nObject.defineProperty(Service.prototype, \"methodsArray\", {\r\n    get: function() {\r\n        return this._methodsArray || (this._methodsArray = util.toArray(this.methods));\r\n    }\r\n});\r\n\r\nfunction clearCache(service) {\r\n    service._methodsArray = null;\r\n    return service;\r\n}\r\n\r\n/**\r\n * @override\r\n */\r\nService.prototype.get = function get(name) {\r\n    return this.methods[name]\r\n        || Namespace.prototype.get.call(this, name);\r\n};\r\n\r\n/**\r\n * @override\r\n */\r\nService.prototype.resolveAll = function resolveAll() {\r\n    var methods = this.methodsArray;\r\n    for (var i = 0; i < methods.length; ++i)\r\n        methods[i].resolve();\r\n    return Namespace.prototype.resolve.call(this);\r\n};\r\n\r\n/**\r\n * @override\r\n */\r\nService.prototype.add = function add(object) {\r\n\r\n    /* istanbul ignore if */\r\n    if (this.get(object.name))\r\n        throw Error(\"duplicate name '\" + object.name + \"' in \" + this);\r\n\r\n    if (object instanceof Method) {\r\n        this.methods[object.name] = object;\r\n        object.parent = this;\r\n        return clearCache(this);\r\n    }\r\n    return Namespace.prototype.add.call(this, object);\r\n};\r\n\r\n/**\r\n * @override\r\n */\r\nService.prototype.remove = function remove(object) {\r\n    if (object instanceof Method) {\r\n\r\n        /* istanbul ignore if */\r\n        if (this.methods[object.name] !== object)\r\n            throw Error(object + \" is not a member of \" + this);\r\n\r\n        delete this.methods[object.name];\r\n        object.parent = null;\r\n        return clearCache(this);\r\n    }\r\n    return Namespace.prototype.remove.call(this, object);\r\n};\r\n\r\n/**\r\n * Creates a runtime service using the specified rpc implementation.\r\n * @param {RPCImpl} rpcImpl RPC implementation\r\n * @param {boolean} [requestDelimited=false] Whether requests are length-delimited\r\n * @param {boolean} [responseDelimited=false] Whether responses are length-delimited\r\n * @returns {rpc.Service} RPC service. Useful where requests and/or responses are streamed.\r\n */\r\nService.prototype.create = function create(rpcImpl, requestDelimited, responseDelimited) {\r\n    var rpcService = new rpc.Service(rpcImpl, requestDelimited, responseDelimited);\r\n    for (var i = 0, method; i < /* initializes */ this.methodsArray.length; ++i) {\r\n        var methodName = util.lcFirst((method = this._methodsArray[i]).resolve().name).replace(/[^$\\w_]/g, \"\");\r\n        rpcService[methodName] = util.codegen([\"r\",\"c\"], util.isReserved(methodName) ? methodName + \"_\" : methodName)(\"return this.rpcCall(m,q,s,r,c)\")({\r\n            m: method,\r\n            q: method.resolvedRequestType.ctor,\r\n            s: method.resolvedResponseType.ctor\r\n        });\r\n    }\r\n    return rpcService;\r\n};\r\n","\"use strict\";\r\nmodule.exports = Type;\r\n\r\n// extends Namespace\r\nvar Namespace = require(\"./namespace\");\r\n((Type.prototype = Object.create(Namespace.prototype)).constructor = Type).className = \"Type\";\r\n\r\nvar Enum      = require(\"./enum\"),\r\n    OneOf     = require(\"./oneof\"),\r\n    Field     = require(\"./field\"),\r\n    MapField  = require(\"./mapfield\"),\r\n    Service   = require(\"./service\"),\r\n    Message   = require(\"./message\"),\r\n    Reader    = require(\"./reader\"),\r\n    Writer    = require(\"./writer\"),\r\n    util      = require(\"./util\"),\r\n    encoder   = require(\"./encoder\"),\r\n    decoder   = require(\"./decoder\"),\r\n    verifier  = require(\"./verifier\"),\r\n    converter = require(\"./converter\"),\r\n    wrappers  = require(\"./wrappers\");\r\n\r\n/**\r\n * Constructs a new reflected message type instance.\r\n * @classdesc Reflected message type.\r\n * @extends NamespaceBase\r\n * @constructor\r\n * @param {string} name Message name\r\n * @param {Object.<string,*>} [options] Declared options\r\n */\r\nfunction Type(name, options) {\r\n    Namespace.call(this, name, options);\r\n\r\n    /**\r\n     * Message fields.\r\n     * @type {Object.<string,Field>}\r\n     */\r\n    this.fields = {};  // toJSON, marker\r\n\r\n    /**\r\n     * Oneofs declared within this namespace, if any.\r\n     * @type {Object.<string,OneOf>}\r\n     */\r\n    this.oneofs = undefined; // toJSON\r\n\r\n    /**\r\n     * Extension ranges, if any.\r\n     * @type {number[][]}\r\n     */\r\n    this.extensions = undefined; // toJSON\r\n\r\n    /**\r\n     * Reserved ranges, if any.\r\n     * @type {Array.<number[]|string>}\r\n     */\r\n    this.reserved = undefined; // toJSON\r\n\r\n    /*?\r\n     * Whether this type is a legacy group.\r\n     * @type {boolean|undefined}\r\n     */\r\n    this.group = undefined; // toJSON\r\n\r\n    /**\r\n     * Cached fields by id.\r\n     * @type {Object.<number,Field>|null}\r\n     * @private\r\n     */\r\n    this._fieldsById = null;\r\n\r\n    /**\r\n     * Cached fields as an array.\r\n     * @type {Field[]|null}\r\n     * @private\r\n     */\r\n    this._fieldsArray = null;\r\n\r\n    /**\r\n     * Cached oneofs as an array.\r\n     * @type {OneOf[]|null}\r\n     * @private\r\n     */\r\n    this._oneofsArray = null;\r\n\r\n    /**\r\n     * Cached constructor.\r\n     * @type {Constructor<{}>}\r\n     * @private\r\n     */\r\n    this._ctor = null;\r\n}\r\n\r\nObject.defineProperties(Type.prototype, {\r\n\r\n    /**\r\n     * Message fields by id.\r\n     * @name Type#fieldsById\r\n     * @type {Object.<number,Field>}\r\n     * @readonly\r\n     */\r\n    fieldsById: {\r\n        get: function() {\r\n\r\n            /* istanbul ignore if */\r\n            if (this._fieldsById)\r\n                return this._fieldsById;\r\n\r\n            this._fieldsById = {};\r\n            for (var names = Object.keys(this.fields), i = 0; i < names.length; ++i) {\r\n                var field = this.fields[names[i]],\r\n                    id = field.id;\r\n\r\n                /* istanbul ignore if */\r\n                if (this._fieldsById[id])\r\n                    throw Error(\"duplicate id \" + id + \" in \" + this);\r\n\r\n                this._fieldsById[id] = field;\r\n            }\r\n            return this._fieldsById;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Fields of this message as an array for iteration.\r\n     * @name Type#fieldsArray\r\n     * @type {Field[]}\r\n     * @readonly\r\n     */\r\n    fieldsArray: {\r\n        get: function() {\r\n            return this._fieldsArray || (this._fieldsArray = util.toArray(this.fields));\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Oneofs of this message as an array for iteration.\r\n     * @name Type#oneofsArray\r\n     * @type {OneOf[]}\r\n     * @readonly\r\n     */\r\n    oneofsArray: {\r\n        get: function() {\r\n            return this._oneofsArray || (this._oneofsArray = util.toArray(this.oneofs));\r\n        }\r\n    },\r\n\r\n    /**\r\n     * The registered constructor, if any registered, otherwise a generic constructor.\r\n     * Assigning a function replaces the internal constructor. If the function does not extend {@link Message} yet, its prototype will be setup accordingly and static methods will be populated. If it already extends {@link Message}, it will just replace the internal constructor.\r\n     * @name Type#ctor\r\n     * @type {Constructor<{}>}\r\n     */\r\n    ctor: {\r\n        get: function() {\r\n            return this._ctor || (this.ctor = Type.generateConstructor(this)());\r\n        },\r\n        set: function(ctor) {\r\n\r\n            // Ensure proper prototype\r\n            var prototype = ctor.prototype;\r\n            if (!(prototype instanceof Message)) {\r\n                (ctor.prototype = new Message()).constructor = ctor;\r\n                util.merge(ctor.prototype, prototype);\r\n            }\r\n\r\n            // Classes and messages reference their reflected type\r\n            ctor.$type = ctor.prototype.$type = this;\r\n\r\n            // Mix in static methods\r\n            util.merge(ctor, Message, true);\r\n\r\n            this._ctor = ctor;\r\n\r\n            // Messages have non-enumerable default values on their prototype\r\n            var i = 0;\r\n            for (; i < /* initializes */ this.fieldsArray.length; ++i)\r\n                this._fieldsArray[i].resolve(); // ensures a proper value\r\n\r\n            // Messages have non-enumerable getters and setters for each virtual oneof field\r\n            var ctorProperties = {};\r\n            for (i = 0; i < /* initializes */ this.oneofsArray.length; ++i)\r\n                ctorProperties[this._oneofsArray[i].resolve().name] = {\r\n                    get: util.oneOfGetter(this._oneofsArray[i].oneof),\r\n                    set: util.oneOfSetter(this._oneofsArray[i].oneof)\r\n                };\r\n            if (i)\r\n                Object.defineProperties(ctor.prototype, ctorProperties);\r\n        }\r\n    }\r\n});\r\n\r\n/**\r\n * Generates a constructor function for the specified type.\r\n * @param {Type} mtype Message type\r\n * @returns {Codegen} Codegen instance\r\n */\r\nType.generateConstructor = function generateConstructor(mtype) {\r\n    /* eslint-disable no-unexpected-multiline */\r\n    var gen = util.codegen([\"p\"], mtype.name);\r\n    // explicitly initialize mutable object/array fields so that these aren't just inherited from the prototype\r\n    for (var i = 0, field; i < mtype.fieldsArray.length; ++i)\r\n        if ((field = mtype._fieldsArray[i]).map) gen\r\n            (\"this%s={}\", util.safeProp(field.name));\r\n        else if (field.repeated) gen\r\n            (\"this%s=[]\", util.safeProp(field.name));\r\n    return gen\r\n    (\"if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)\") // omit undefined or null\r\n        (\"this[ks[i]]=p[ks[i]]\");\r\n    /* eslint-enable no-unexpected-multiline */\r\n};\r\n\r\nfunction clearCache(type) {\r\n    type._fieldsById = type._fieldsArray = type._oneofsArray = null;\r\n    delete type.encode;\r\n    delete type.decode;\r\n    delete type.verify;\r\n    return type;\r\n}\r\n\r\n/**\r\n * Message type descriptor.\r\n * @interface IType\r\n * @extends INamespace\r\n * @property {Object.<string,IOneOf>} [oneofs] Oneof descriptors\r\n * @property {Object.<string,IField>} fields Field descriptors\r\n * @property {number[][]} [extensions] Extension ranges\r\n * @property {Array.<number[]|string>} [reserved] Reserved ranges\r\n * @property {boolean} [group=false] Whether a legacy group or not\r\n */\r\n\r\n/**\r\n * Creates a message type from a message type descriptor.\r\n * @param {string} name Message name\r\n * @param {IType} json Message type descriptor\r\n * @returns {Type} Created message type\r\n */\r\nType.fromJSON = function fromJSON(name, json) {\r\n    var type = new Type(name, json.options);\r\n    type.extensions = json.extensions;\r\n    type.reserved = json.reserved;\r\n    var names = Object.keys(json.fields),\r\n        i = 0;\r\n    for (; i < names.length; ++i)\r\n        type.add(\r\n            ( typeof json.fields[names[i]].keyType !== \"undefined\"\r\n            ? MapField.fromJSON\r\n            : Field.fromJSON )(names[i], json.fields[names[i]])\r\n        );\r\n    if (json.oneofs)\r\n        for (names = Object.keys(json.oneofs), i = 0; i < names.length; ++i)\r\n            type.add(OneOf.fromJSON(names[i], json.oneofs[names[i]]));\r\n    if (json.nested)\r\n        for (names = Object.keys(json.nested), i = 0; i < names.length; ++i) {\r\n            var nested = json.nested[names[i]];\r\n            type.add( // most to least likely\r\n                ( nested.id !== undefined\r\n                ? Field.fromJSON\r\n                : nested.fields !== undefined\r\n                ? Type.fromJSON\r\n                : nested.values !== undefined\r\n                ? Enum.fromJSON\r\n                : nested.methods !== undefined\r\n                ? Service.fromJSON\r\n                : Namespace.fromJSON )(names[i], nested)\r\n            );\r\n        }\r\n    if (json.extensions && json.extensions.length)\r\n        type.extensions = json.extensions;\r\n    if (json.reserved && json.reserved.length)\r\n        type.reserved = json.reserved;\r\n    if (json.group)\r\n        type.group = true;\r\n    if (json.comment)\r\n        type.comment = json.comment;\r\n    return type;\r\n};\r\n\r\n/**\r\n * Converts this message type to a message type descriptor.\r\n * @param {IToJSONOptions} [toJSONOptions] JSON conversion options\r\n * @returns {IType} Message type descriptor\r\n */\r\nType.prototype.toJSON = function toJSON(toJSONOptions) {\r\n    var inherited = Namespace.prototype.toJSON.call(this, toJSONOptions);\r\n    var keepComments = toJSONOptions ? Boolean(toJSONOptions.keepComments) : false;\r\n    return util.toObject([\r\n        \"options\"    , inherited && inherited.options || undefined,\r\n        \"oneofs\"     , Namespace.arrayToJSON(this.oneofsArray, toJSONOptions),\r\n        \"fields\"     , Namespace.arrayToJSON(this.fieldsArray.filter(function(obj) { return !obj.declaringField; }), toJSONOptions) || {},\r\n        \"extensions\" , this.extensions && this.extensions.length ? this.extensions : undefined,\r\n        \"reserved\"   , this.reserved && this.reserved.length ? this.reserved : undefined,\r\n        \"group\"      , this.group || undefined,\r\n        \"nested\"     , inherited && inherited.nested || undefined,\r\n        \"comment\"    , keepComments ? this.comment : undefined\r\n    ]);\r\n};\r\n\r\n/**\r\n * @override\r\n */\r\nType.prototype.resolveAll = function resolveAll() {\r\n    var fields = this.fieldsArray, i = 0;\r\n    while (i < fields.length)\r\n        fields[i++].resolve();\r\n    var oneofs = this.oneofsArray; i = 0;\r\n    while (i < oneofs.length)\r\n        oneofs[i++].resolve();\r\n    return Namespace.prototype.resolveAll.call(this);\r\n};\r\n\r\n/**\r\n * @override\r\n */\r\nType.prototype.get = function get(name) {\r\n    return this.fields[name]\r\n        || this.oneofs && this.oneofs[name]\r\n        || this.nested && this.nested[name]\r\n        || null;\r\n};\r\n\r\n/**\r\n * Adds a nested object to this type.\r\n * @param {ReflectionObject} object Nested object to add\r\n * @returns {Type} `this`\r\n * @throws {TypeError} If arguments are invalid\r\n * @throws {Error} If there is already a nested object with this name or, if a field, when there is already a field with this id\r\n */\r\nType.prototype.add = function add(object) {\r\n\r\n    if (this.get(object.name))\r\n        throw Error(\"duplicate name '\" + object.name + \"' in \" + this);\r\n\r\n    if (object instanceof Field && object.extend === undefined) {\r\n        // NOTE: Extension fields aren't actual fields on the declaring type, but nested objects.\r\n        // The root object takes care of adding distinct sister-fields to the respective extended\r\n        // type instead.\r\n\r\n        // avoids calling the getter if not absolutely necessary because it's called quite frequently\r\n        if (this._fieldsById ? /* istanbul ignore next */ this._fieldsById[object.id] : this.fieldsById[object.id])\r\n            throw Error(\"duplicate id \" + object.id + \" in \" + this);\r\n        if (this.isReservedId(object.id))\r\n            throw Error(\"id \" + object.id + \" is reserved in \" + this);\r\n        if (this.isReservedName(object.name))\r\n            throw Error(\"name '\" + object.name + \"' is reserved in \" + this);\r\n\r\n        if (object.parent)\r\n            object.parent.remove(object);\r\n        this.fields[object.name] = object;\r\n        object.message = this;\r\n        object.onAdd(this);\r\n        return clearCache(this);\r\n    }\r\n    if (object instanceof OneOf) {\r\n        if (!this.oneofs)\r\n            this.oneofs = {};\r\n        this.oneofs[object.name] = object;\r\n        object.onAdd(this);\r\n        return clearCache(this);\r\n    }\r\n    return Namespace.prototype.add.call(this, object);\r\n};\r\n\r\n/**\r\n * Removes a nested object from this type.\r\n * @param {ReflectionObject} object Nested object to remove\r\n * @returns {Type} `this`\r\n * @throws {TypeError} If arguments are invalid\r\n * @throws {Error} If `object` is not a member of this type\r\n */\r\nType.prototype.remove = function remove(object) {\r\n    if (object instanceof Field && object.extend === undefined) {\r\n        // See Type#add for the reason why extension fields are excluded here.\r\n\r\n        /* istanbul ignore if */\r\n        if (!this.fields || this.fields[object.name] !== object)\r\n            throw Error(object + \" is not a member of \" + this);\r\n\r\n        delete this.fields[object.name];\r\n        object.parent = null;\r\n        object.onRemove(this);\r\n        return clearCache(this);\r\n    }\r\n    if (object instanceof OneOf) {\r\n\r\n        /* istanbul ignore if */\r\n        if (!this.oneofs || this.oneofs[object.name] !== object)\r\n            throw Error(object + \" is not a member of \" + this);\r\n\r\n        delete this.oneofs[object.name];\r\n        object.parent = null;\r\n        object.onRemove(this);\r\n        return clearCache(this);\r\n    }\r\n    return Namespace.prototype.remove.call(this, object);\r\n};\r\n\r\n/**\r\n * Tests if the specified id is reserved.\r\n * @param {number} id Id to test\r\n * @returns {boolean} `true` if reserved, otherwise `false`\r\n */\r\nType.prototype.isReservedId = function isReservedId(id) {\r\n    return Namespace.isReservedId(this.reserved, id);\r\n};\r\n\r\n/**\r\n * Tests if the specified name is reserved.\r\n * @param {string} name Name to test\r\n * @returns {boolean} `true` if reserved, otherwise `false`\r\n */\r\nType.prototype.isReservedName = function isReservedName(name) {\r\n    return Namespace.isReservedName(this.reserved, name);\r\n};\r\n\r\n/**\r\n * Creates a new message of this type using the specified properties.\r\n * @param {Object.<string,*>} [properties] Properties to set\r\n * @returns {Message<{}>} Message instance\r\n */\r\nType.prototype.create = function create(properties) {\r\n    return new this.ctor(properties);\r\n};\r\n\r\n/**\r\n * Sets up {@link Type#encode|encode}, {@link Type#decode|decode} and {@link Type#verify|verify}.\r\n * @returns {Type} `this`\r\n */\r\nType.prototype.setup = function setup() {\r\n    // Sets up everything at once so that the prototype chain does not have to be re-evaluated\r\n    // multiple times (V8, soft-deopt prototype-check).\r\n\r\n    var fullName = this.fullName,\r\n        types    = [];\r\n    for (var i = 0; i < /* initializes */ this.fieldsArray.length; ++i)\r\n        types.push(this._fieldsArray[i].resolve().resolvedType);\r\n\r\n    // Replace setup methods with type-specific generated functions\r\n    this.encode = encoder(this)({\r\n        Writer : Writer,\r\n        types  : types,\r\n        util   : util\r\n    });\r\n    this.decode = decoder(this)({\r\n        Reader : Reader,\r\n        types  : types,\r\n        util   : util\r\n    });\r\n    this.verify = verifier(this)({\r\n        types : types,\r\n        util  : util\r\n    });\r\n    this.fromObject = converter.fromObject(this)({\r\n        types : types,\r\n        util  : util\r\n    });\r\n    this.toObject = converter.toObject(this)({\r\n        types : types,\r\n        util  : util\r\n    });\r\n\r\n    // Inject custom wrappers for common types\r\n    var wrapper = wrappers[fullName];\r\n    if (wrapper) {\r\n        var originalThis = Object.create(this);\r\n        // if (wrapper.fromObject) {\r\n            originalThis.fromObject = this.fromObject;\r\n            this.fromObject = wrapper.fromObject.bind(originalThis);\r\n        // }\r\n        // if (wrapper.toObject) {\r\n            originalThis.toObject = this.toObject;\r\n            this.toObject = wrapper.toObject.bind(originalThis);\r\n        // }\r\n    }\r\n\r\n    return this;\r\n};\r\n\r\n/**\r\n * Encodes a message of this type. Does not implicitly {@link Type#verify|verify} messages.\r\n * @param {Message<{}>|Object.<string,*>} message Message instance or plain object\r\n * @param {Writer} [writer] Writer to encode to\r\n * @returns {Writer} writer\r\n */\r\nType.prototype.encode = function encode_setup(message, writer) {\r\n    return this.setup().encode(message, writer); // overrides this method\r\n};\r\n\r\n/**\r\n * Encodes a message of this type preceeded by its byte length as a varint. Does not implicitly {@link Type#verify|verify} messages.\r\n * @param {Message<{}>|Object.<string,*>} message Message instance or plain object\r\n * @param {Writer} [writer] Writer to encode to\r\n * @returns {Writer} writer\r\n */\r\nType.prototype.encodeDelimited = function encodeDelimited(message, writer) {\r\n    return this.encode(message, writer && writer.len ? writer.fork() : writer).ldelim();\r\n};\r\n\r\n/**\r\n * Decodes a message of this type.\r\n * @param {Reader|Uint8Array} reader Reader or buffer to decode from\r\n * @param {number} [length] Length of the message, if known beforehand\r\n * @returns {Message<{}>} Decoded message\r\n * @throws {Error} If the payload is not a reader or valid buffer\r\n * @throws {util.ProtocolError<{}>} If required fields are missing\r\n */\r\nType.prototype.decode = function decode_setup(reader, length) {\r\n    return this.setup().decode(reader, length); // overrides this method\r\n};\r\n\r\n/**\r\n * Decodes a message of this type preceeded by its byte length as a varint.\r\n * @param {Reader|Uint8Array} reader Reader or buffer to decode from\r\n * @returns {Message<{}>} Decoded message\r\n * @throws {Error} If the payload is not a reader or valid buffer\r\n * @throws {util.ProtocolError} If required fields are missing\r\n */\r\nType.prototype.decodeDelimited = function decodeDelimited(reader) {\r\n    if (!(reader instanceof Reader))\r\n        reader = Reader.create(reader);\r\n    return this.decode(reader, reader.uint32());\r\n};\r\n\r\n/**\r\n * Verifies that field values are valid and that required fields are present.\r\n * @param {Object.<string,*>} message Plain object to verify\r\n * @returns {null|string} `null` if valid, otherwise the reason why it is not\r\n */\r\nType.prototype.verify = function verify_setup(message) {\r\n    return this.setup().verify(message); // overrides this method\r\n};\r\n\r\n/**\r\n * Creates a new message of this type from a plain object. Also converts values to their respective internal types.\r\n * @param {Object.<string,*>} object Plain object to convert\r\n * @returns {Message<{}>} Message instance\r\n */\r\nType.prototype.fromObject = function fromObject(object) {\r\n    return this.setup().fromObject(object);\r\n};\r\n\r\n/**\r\n * Conversion options as used by {@link Type#toObject} and {@link Message.toObject}.\r\n * @interface IConversionOptions\r\n * @property {Function} [longs] Long conversion type.\r\n * Valid values are `String` and `Number` (the global types).\r\n * Defaults to copy the present value, which is a possibly unsafe number without and a {@link Long} with a long library.\r\n * @property {Function} [enums] Enum value conversion type.\r\n * Only valid value is `String` (the global type).\r\n * Defaults to copy the present value, which is the numeric id.\r\n * @property {Function} [bytes] Bytes value conversion type.\r\n * Valid values are `Array` and (a base64 encoded) `String` (the global types).\r\n * Defaults to copy the present value, which usually is a Buffer under node and an Uint8Array in the browser.\r\n * @property {boolean} [defaults=false] Also sets default values on the resulting object\r\n * @property {boolean} [arrays=false] Sets empty arrays for missing repeated fields even if `defaults=false`\r\n * @property {boolean} [objects=false] Sets empty objects for missing map fields even if `defaults=false`\r\n * @property {boolean} [oneofs=false] Includes virtual oneof properties set to the present field's name, if any\r\n * @property {boolean} [json=false] Performs additional JSON compatibility conversions, i.e. NaN and Infinity to strings\r\n */\r\n\r\n/**\r\n * Creates a plain object from a message of this type. Also converts values to other types if specified.\r\n * @param {Message<{}>} message Message instance\r\n * @param {IConversionOptions} [options] Conversion options\r\n * @returns {Object.<string,*>} Plain object\r\n */\r\nType.prototype.toObject = function toObject(message, options) {\r\n    return this.setup().toObject(message, options);\r\n};\r\n\r\n/**\r\n * Decorator function as returned by {@link Type.d} (TypeScript).\r\n * @typedef TypeDecorator\r\n * @type {function}\r\n * @param {Constructor<T>} target Target constructor\r\n * @returns {undefined}\r\n * @template T extends Message<T>\r\n */\r\n\r\n/**\r\n * Type decorator (TypeScript).\r\n * @param {string} [typeName] Type name, defaults to the constructor's name\r\n * @returns {TypeDecorator<T>} Decorator function\r\n * @template T extends Message<T>\r\n */\r\nType.d = function decorateType(typeName) {\r\n    return function typeDecorator(target) {\r\n        util.decorateType(target, typeName);\r\n    };\r\n};\r\n","\"use strict\";\r\n\r\n/**\r\n * Common type constants.\r\n * @namespace\r\n */\r\nvar types = exports;\r\n\r\nvar util = require(\"./util\");\r\n\r\nvar s = [\r\n    \"double\",   // 0\r\n    \"float\",    // 1\r\n    \"int32\",    // 2\r\n    \"uint32\",   // 3\r\n    \"sint32\",   // 4\r\n    \"fixed32\",  // 5\r\n    \"sfixed32\", // 6\r\n    \"int64\",    // 7\r\n    \"uint64\",   // 8\r\n    \"sint64\",   // 9\r\n    \"fixed64\",  // 10\r\n    \"sfixed64\", // 11\r\n    \"bool\",     // 12\r\n    \"string\",   // 13\r\n    \"bytes\"     // 14\r\n];\r\n\r\nfunction bake(values, offset) {\r\n    var i = 0, o = {};\r\n    offset |= 0;\r\n    while (i < values.length) o[s[i + offset]] = values[i++];\r\n    return o;\r\n}\r\n\r\n/**\r\n * Basic type wire types.\r\n * @type {Object.<string,number>}\r\n * @const\r\n * @property {number} double=1 Fixed64 wire type\r\n * @property {number} float=5 Fixed32 wire type\r\n * @property {number} int32=0 Varint wire type\r\n * @property {number} uint32=0 Varint wire type\r\n * @property {number} sint32=0 Varint wire type\r\n * @property {number} fixed32=5 Fixed32 wire type\r\n * @property {number} sfixed32=5 Fixed32 wire type\r\n * @property {number} int64=0 Varint wire type\r\n * @property {number} uint64=0 Varint wire type\r\n * @property {number} sint64=0 Varint wire type\r\n * @property {number} fixed64=1 Fixed64 wire type\r\n * @property {number} sfixed64=1 Fixed64 wire type\r\n * @property {number} bool=0 Varint wire type\r\n * @property {number} string=2 Ldelim wire type\r\n * @property {number} bytes=2 Ldelim wire type\r\n */\r\ntypes.basic = bake([\r\n    /* double   */ 1,\r\n    /* float    */ 5,\r\n    /* int32    */ 0,\r\n    /* uint32   */ 0,\r\n    /* sint32   */ 0,\r\n    /* fixed32  */ 5,\r\n    /* sfixed32 */ 5,\r\n    /* int64    */ 0,\r\n    /* uint64   */ 0,\r\n    /* sint64   */ 0,\r\n    /* fixed64  */ 1,\r\n    /* sfixed64 */ 1,\r\n    /* bool     */ 0,\r\n    /* string   */ 2,\r\n    /* bytes    */ 2\r\n]);\r\n\r\n/**\r\n * Basic type defaults.\r\n * @type {Object.<string,*>}\r\n * @const\r\n * @property {number} double=0 Double default\r\n * @property {number} float=0 Float default\r\n * @property {number} int32=0 Int32 default\r\n * @property {number} uint32=0 Uint32 default\r\n * @property {number} sint32=0 Sint32 default\r\n * @property {number} fixed32=0 Fixed32 default\r\n * @property {number} sfixed32=0 Sfixed32 default\r\n * @property {number} int64=0 Int64 default\r\n * @property {number} uint64=0 Uint64 default\r\n * @property {number} sint64=0 Sint32 default\r\n * @property {number} fixed64=0 Fixed64 default\r\n * @property {number} sfixed64=0 Sfixed64 default\r\n * @property {boolean} bool=false Bool default\r\n * @property {string} string=\"\" String default\r\n * @property {Array.<number>} bytes=Array(0) Bytes default\r\n * @property {null} message=null Message default\r\n */\r\ntypes.defaults = bake([\r\n    /* double   */ 0,\r\n    /* float    */ 0,\r\n    /* int32    */ 0,\r\n    /* uint32   */ 0,\r\n    /* sint32   */ 0,\r\n    /* fixed32  */ 0,\r\n    /* sfixed32 */ 0,\r\n    /* int64    */ 0,\r\n    /* uint64   */ 0,\r\n    /* sint64   */ 0,\r\n    /* fixed64  */ 0,\r\n    /* sfixed64 */ 0,\r\n    /* bool     */ false,\r\n    /* string   */ \"\",\r\n    /* bytes    */ util.emptyArray,\r\n    /* message  */ null\r\n]);\r\n\r\n/**\r\n * Basic long type wire types.\r\n * @type {Object.<string,number>}\r\n * @const\r\n * @property {number} int64=0 Varint wire type\r\n * @property {number} uint64=0 Varint wire type\r\n * @property {number} sint64=0 Varint wire type\r\n * @property {number} fixed64=1 Fixed64 wire type\r\n * @property {number} sfixed64=1 Fixed64 wire type\r\n */\r\ntypes.long = bake([\r\n    /* int64    */ 0,\r\n    /* uint64   */ 0,\r\n    /* sint64   */ 0,\r\n    /* fixed64  */ 1,\r\n    /* sfixed64 */ 1\r\n], 7);\r\n\r\n/**\r\n * Allowed types for map keys with their associated wire type.\r\n * @type {Object.<string,number>}\r\n * @const\r\n * @property {number} int32=0 Varint wire type\r\n * @property {number} uint32=0 Varint wire type\r\n * @property {number} sint32=0 Varint wire type\r\n * @property {number} fixed32=5 Fixed32 wire type\r\n * @property {number} sfixed32=5 Fixed32 wire type\r\n * @property {number} int64=0 Varint wire type\r\n * @property {number} uint64=0 Varint wire type\r\n * @property {number} sint64=0 Varint wire type\r\n * @property {number} fixed64=1 Fixed64 wire type\r\n * @property {number} sfixed64=1 Fixed64 wire type\r\n * @property {number} bool=0 Varint wire type\r\n * @property {number} string=2 Ldelim wire type\r\n */\r\ntypes.mapKey = bake([\r\n    /* int32    */ 0,\r\n    /* uint32   */ 0,\r\n    /* sint32   */ 0,\r\n    /* fixed32  */ 5,\r\n    /* sfixed32 */ 5,\r\n    /* int64    */ 0,\r\n    /* uint64   */ 0,\r\n    /* sint64   */ 0,\r\n    /* fixed64  */ 1,\r\n    /* sfixed64 */ 1,\r\n    /* bool     */ 0,\r\n    /* string   */ 2\r\n], 2);\r\n\r\n/**\r\n * Allowed types for packed repeated fields with their associated wire type.\r\n * @type {Object.<string,number>}\r\n * @const\r\n * @property {number} double=1 Fixed64 wire type\r\n * @property {number} float=5 Fixed32 wire type\r\n * @property {number} int32=0 Varint wire type\r\n * @property {number} uint32=0 Varint wire type\r\n * @property {number} sint32=0 Varint wire type\r\n * @property {number} fixed32=5 Fixed32 wire type\r\n * @property {number} sfixed32=5 Fixed32 wire type\r\n * @property {number} int64=0 Varint wire type\r\n * @property {number} uint64=0 Varint wire type\r\n * @property {number} sint64=0 Varint wire type\r\n * @property {number} fixed64=1 Fixed64 wire type\r\n * @property {number} sfixed64=1 Fixed64 wire type\r\n * @property {number} bool=0 Varint wire type\r\n */\r\ntypes.packed = bake([\r\n    /* double   */ 1,\r\n    /* float    */ 5,\r\n    /* int32    */ 0,\r\n    /* uint32   */ 0,\r\n    /* sint32   */ 0,\r\n    /* fixed32  */ 5,\r\n    /* sfixed32 */ 5,\r\n    /* int64    */ 0,\r\n    /* uint64   */ 0,\r\n    /* sint64   */ 0,\r\n    /* fixed64  */ 1,\r\n    /* sfixed64 */ 1,\r\n    /* bool     */ 0\r\n]);\r\n","\"use strict\";\r\n\r\n/**\r\n * Various utility functions.\r\n * @namespace\r\n */\r\nvar util = module.exports = require(\"./util/minimal\");\r\n\r\nvar roots = require(\"./roots\");\r\n\r\nvar Type, // cyclic\r\n    Enum;\r\n\r\nutil.codegen = require(\"@protobufjs/codegen\");\r\nutil.fetch   = require(\"@protobufjs/fetch\");\r\nutil.path    = require(\"@protobufjs/path\");\r\n\r\n/**\r\n * Node's fs module if available.\r\n * @type {Object.<string,*>}\r\n */\r\nutil.fs = util.inquire(\"fs\");\r\n\r\n/**\r\n * Converts an object's values to an array.\r\n * @param {Object.<string,*>} object Object to convert\r\n * @returns {Array.<*>} Converted array\r\n */\r\nutil.toArray = function toArray(object) {\r\n    if (object) {\r\n        var keys  = Object.keys(object),\r\n            array = new Array(keys.length),\r\n            index = 0;\r\n        while (index < keys.length)\r\n            array[index] = object[keys[index++]];\r\n        return array;\r\n    }\r\n    return [];\r\n};\r\n\r\n/**\r\n * Converts an array of keys immediately followed by their respective value to an object, omitting undefined values.\r\n * @param {Array.<*>} array Array to convert\r\n * @returns {Object.<string,*>} Converted object\r\n */\r\nutil.toObject = function toObject(array) {\r\n    var object = {},\r\n        index  = 0;\r\n    while (index < array.length) {\r\n        var key = array[index++],\r\n            val = array[index++];\r\n        if (val !== undefined)\r\n            object[key] = val;\r\n    }\r\n    return object;\r\n};\r\n\r\nvar safePropBackslashRe = /\\\\/g,\r\n    safePropQuoteRe     = /\"/g;\r\n\r\n/**\r\n * Tests whether the specified name is a reserved word in JS.\r\n * @param {string} name Name to test\r\n * @returns {boolean} `true` if reserved, otherwise `false`\r\n */\r\nutil.isReserved = function isReserved(name) {\r\n    return /^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(name);\r\n};\r\n\r\n/**\r\n * Returns a safe property accessor for the specified property name.\r\n * @param {string} prop Property name\r\n * @returns {string} Safe accessor\r\n */\r\nutil.safeProp = function safeProp(prop) {\r\n    if (!/^[$\\w_]+$/.test(prop) || util.isReserved(prop))\r\n        return \"[\\\"\" + prop.replace(safePropBackslashRe, \"\\\\\\\\\").replace(safePropQuoteRe, \"\\\\\\\"\") + \"\\\"]\";\r\n    return \".\" + prop;\r\n};\r\n\r\n/**\r\n * Converts the first character of a string to upper case.\r\n * @param {string} str String to convert\r\n * @returns {string} Converted string\r\n */\r\nutil.ucFirst = function ucFirst(str) {\r\n    return str.charAt(0).toUpperCase() + str.substring(1);\r\n};\r\n\r\nvar camelCaseRe = /_([a-z])/g;\r\n\r\n/**\r\n * Converts a string to camel case.\r\n * @param {string} str String to convert\r\n * @returns {string} Converted string\r\n */\r\nutil.camelCase = function camelCase(str) {\r\n    return str.substring(0, 1)\r\n         + str.substring(1)\r\n               .replace(camelCaseRe, function($0, $1) { return $1.toUpperCase(); });\r\n};\r\n\r\n/**\r\n * Compares reflected fields by id.\r\n * @param {Field} a First field\r\n * @param {Field} b Second field\r\n * @returns {number} Comparison value\r\n */\r\nutil.compareFieldsById = function compareFieldsById(a, b) {\r\n    return a.id - b.id;\r\n};\r\n\r\n/**\r\n * Decorator helper for types (TypeScript).\r\n * @param {Constructor<T>} ctor Constructor function\r\n * @param {string} [typeName] Type name, defaults to the constructor's name\r\n * @returns {Type} Reflected type\r\n * @template T extends Message<T>\r\n * @property {Root} root Decorators root\r\n */\r\nutil.decorateType = function decorateType(ctor, typeName) {\r\n\r\n    /* istanbul ignore if */\r\n    if (ctor.$type) {\r\n        if (typeName && ctor.$type.name !== typeName) {\r\n            util.decorateRoot.remove(ctor.$type);\r\n            ctor.$type.name = typeName;\r\n            util.decorateRoot.add(ctor.$type);\r\n        }\r\n        return ctor.$type;\r\n    }\r\n\r\n    /* istanbul ignore next */\r\n    if (!Type)\r\n        Type = require(\"./type\");\r\n\r\n    var type = new Type(typeName || ctor.name);\r\n    util.decorateRoot.add(type);\r\n    type.ctor = ctor; // sets up .encode, .decode etc.\r\n    Object.defineProperty(ctor, \"$type\", { value: type, enumerable: false });\r\n    Object.defineProperty(ctor.prototype, \"$type\", { value: type, enumerable: false });\r\n    return type;\r\n};\r\n\r\nvar decorateEnumIndex = 0;\r\n\r\n/**\r\n * Decorator helper for enums (TypeScript).\r\n * @param {Object} object Enum object\r\n * @returns {Enum} Reflected enum\r\n */\r\nutil.decorateEnum = function decorateEnum(object) {\r\n\r\n    /* istanbul ignore if */\r\n    if (object.$type)\r\n        return object.$type;\r\n\r\n    /* istanbul ignore next */\r\n    if (!Enum)\r\n        Enum = require(\"./enum\");\r\n\r\n    var enm = new Enum(\"Enum\" + decorateEnumIndex++, object);\r\n    util.decorateRoot.add(enm);\r\n    Object.defineProperty(object, \"$type\", { value: enm, enumerable: false });\r\n    return enm;\r\n};\r\n\r\n\r\n/**\r\n * Sets the value of a property by property path. If a value already exists, it is turned to an array\r\n * @param {Object.<string,*>} dst Destination object\r\n * @param {string} path dot '.' delimited path of the property to set\r\n * @param {Object} value the value to set\r\n * @returns {Object.<string,*>} Destination object\r\n */\r\nutil.setProperty = function setProperty(dst, path, value) {\r\n    function setProp(dst, path, value) {\r\n        var part = path.shift();\r\n        if (part === \"__proto__\" || part === \"prototype\") {\r\n          return dst;\r\n        }\r\n        if (path.length > 0) {\r\n            dst[part] = setProp(dst[part] || {}, path, value);\r\n        } else {\r\n            var prevValue = dst[part];\r\n            if (prevValue)\r\n                value = [].concat(prevValue).concat(value);\r\n            dst[part] = value;\r\n        }\r\n        return dst;\r\n    }\r\n\r\n    if (typeof dst !== \"object\")\r\n        throw TypeError(\"dst must be an object\");\r\n    if (!path)\r\n        throw TypeError(\"path must be specified\");\r\n\r\n    path = path.split(\".\");\r\n    return setProp(dst, path, value);\r\n};\r\n\r\n/**\r\n * Decorator root (TypeScript).\r\n * @name util.decorateRoot\r\n * @type {Root}\r\n * @readonly\r\n */\r\nObject.defineProperty(util, \"decorateRoot\", {\r\n    get: function() {\r\n        return roots[\"decorated\"] || (roots[\"decorated\"] = new (require(\"./root\"))());\r\n    }\r\n});\r\n","\"use strict\";\r\nmodule.exports = LongBits;\r\n\r\nvar util = require(\"../util/minimal\");\r\n\r\n/**\r\n * Constructs new long bits.\r\n * @classdesc Helper class for working with the low and high bits of a 64 bit value.\r\n * @memberof util\r\n * @constructor\r\n * @param {number} lo Low 32 bits, unsigned\r\n * @param {number} hi High 32 bits, unsigned\r\n */\r\nfunction LongBits(lo, hi) {\r\n\r\n    // note that the casts below are theoretically unnecessary as of today, but older statically\r\n    // generated converter code might still call the ctor with signed 32bits. kept for compat.\r\n\r\n    /**\r\n     * Low bits.\r\n     * @type {number}\r\n     */\r\n    this.lo = lo >>> 0;\r\n\r\n    /**\r\n     * High bits.\r\n     * @type {number}\r\n     */\r\n    this.hi = hi >>> 0;\r\n}\r\n\r\n/**\r\n * Zero bits.\r\n * @memberof util.LongBits\r\n * @type {util.LongBits}\r\n */\r\nvar zero = LongBits.zero = new LongBits(0, 0);\r\n\r\nzero.toNumber = function() { return 0; };\r\nzero.zzEncode = zero.zzDecode = function() { return this; };\r\nzero.length = function() { return 1; };\r\n\r\n/**\r\n * Zero hash.\r\n * @memberof util.LongBits\r\n * @type {string}\r\n */\r\nvar zeroHash = LongBits.zeroHash = \"\\0\\0\\0\\0\\0\\0\\0\\0\";\r\n\r\n/**\r\n * Constructs new long bits from the specified number.\r\n * @param {number} value Value\r\n * @returns {util.LongBits} Instance\r\n */\r\nLongBits.fromNumber = function fromNumber(value) {\r\n    if (value === 0)\r\n        return zero;\r\n    var sign = value < 0;\r\n    if (sign)\r\n        value = -value;\r\n    var lo = value >>> 0,\r\n        hi = (value - lo) / 4294967296 >>> 0;\r\n    if (sign) {\r\n        hi = ~hi >>> 0;\r\n        lo = ~lo >>> 0;\r\n        if (++lo > 4294967295) {\r\n            lo = 0;\r\n            if (++hi > 4294967295)\r\n                hi = 0;\r\n        }\r\n    }\r\n    return new LongBits(lo, hi);\r\n};\r\n\r\n/**\r\n * Constructs new long bits from a number, long or string.\r\n * @param {Long|number|string} value Value\r\n * @returns {util.LongBits} Instance\r\n */\r\nLongBits.from = function from(value) {\r\n    if (typeof value === \"number\")\r\n        return LongBits.fromNumber(value);\r\n    if (util.isString(value)) {\r\n        /* istanbul ignore else */\r\n        if (util.Long)\r\n            value = util.Long.fromString(value);\r\n        else\r\n            return LongBits.fromNumber(parseInt(value, 10));\r\n    }\r\n    return value.low || value.high ? new LongBits(value.low >>> 0, value.high >>> 0) : zero;\r\n};\r\n\r\n/**\r\n * Converts this long bits to a possibly unsafe JavaScript number.\r\n * @param {boolean} [unsigned=false] Whether unsigned or not\r\n * @returns {number} Possibly unsafe number\r\n */\r\nLongBits.prototype.toNumber = function toNumber(unsigned) {\r\n    if (!unsigned && this.hi >>> 31) {\r\n        var lo = ~this.lo + 1 >>> 0,\r\n            hi = ~this.hi     >>> 0;\r\n        if (!lo)\r\n            hi = hi + 1 >>> 0;\r\n        return -(lo + hi * 4294967296);\r\n    }\r\n    return this.lo + this.hi * 4294967296;\r\n};\r\n\r\n/**\r\n * Converts this long bits to a long.\r\n * @param {boolean} [unsigned=false] Whether unsigned or not\r\n * @returns {Long} Long\r\n */\r\nLongBits.prototype.toLong = function toLong(unsigned) {\r\n    return util.Long\r\n        ? new util.Long(this.lo | 0, this.hi | 0, Boolean(unsigned))\r\n        /* istanbul ignore next */\r\n        : { low: this.lo | 0, high: this.hi | 0, unsigned: Boolean(unsigned) };\r\n};\r\n\r\nvar charCodeAt = String.prototype.charCodeAt;\r\n\r\n/**\r\n * Constructs new long bits from the specified 8 characters long hash.\r\n * @param {string} hash Hash\r\n * @returns {util.LongBits} Bits\r\n */\r\nLongBits.fromHash = function fromHash(hash) {\r\n    if (hash === zeroHash)\r\n        return zero;\r\n    return new LongBits(\r\n        ( charCodeAt.call(hash, 0)\r\n        | charCodeAt.call(hash, 1) << 8\r\n        | charCodeAt.call(hash, 2) << 16\r\n        | charCodeAt.call(hash, 3) << 24) >>> 0\r\n    ,\r\n        ( charCodeAt.call(hash, 4)\r\n        | charCodeAt.call(hash, 5) << 8\r\n        | charCodeAt.call(hash, 6) << 16\r\n        | charCodeAt.call(hash, 7) << 24) >>> 0\r\n    );\r\n};\r\n\r\n/**\r\n * Converts this long bits to a 8 characters long hash.\r\n * @returns {string} Hash\r\n */\r\nLongBits.prototype.toHash = function toHash() {\r\n    return String.fromCharCode(\r\n        this.lo        & 255,\r\n        this.lo >>> 8  & 255,\r\n        this.lo >>> 16 & 255,\r\n        this.lo >>> 24      ,\r\n        this.hi        & 255,\r\n        this.hi >>> 8  & 255,\r\n        this.hi >>> 16 & 255,\r\n        this.hi >>> 24\r\n    );\r\n};\r\n\r\n/**\r\n * Zig-zag encodes this long bits.\r\n * @returns {util.LongBits} `this`\r\n */\r\nLongBits.prototype.zzEncode = function zzEncode() {\r\n    var mask =   this.hi >> 31;\r\n    this.hi  = ((this.hi << 1 | this.lo >>> 31) ^ mask) >>> 0;\r\n    this.lo  = ( this.lo << 1                   ^ mask) >>> 0;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Zig-zag decodes this long bits.\r\n * @returns {util.LongBits} `this`\r\n */\r\nLongBits.prototype.zzDecode = function zzDecode() {\r\n    var mask = -(this.lo & 1);\r\n    this.lo  = ((this.lo >>> 1 | this.hi << 31) ^ mask) >>> 0;\r\n    this.hi  = ( this.hi >>> 1                  ^ mask) >>> 0;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Calculates the length of this longbits when encoded as a varint.\r\n * @returns {number} Length\r\n */\r\nLongBits.prototype.length = function length() {\r\n    var part0 =  this.lo,\r\n        part1 = (this.lo >>> 28 | this.hi << 4) >>> 0,\r\n        part2 =  this.hi >>> 24;\r\n    return part2 === 0\r\n         ? part1 === 0\r\n           ? part0 < 16384\r\n             ? part0 < 128 ? 1 : 2\r\n             : part0 < 2097152 ? 3 : 4\r\n           : part1 < 16384\r\n             ? part1 < 128 ? 5 : 6\r\n             : part1 < 2097152 ? 7 : 8\r\n         : part2 < 128 ? 9 : 10;\r\n};\r\n","\"use strict\";\r\nvar util = exports;\r\n\r\n// used to return a Promise where callback is omitted\r\nutil.asPromise = require(\"@protobufjs/aspromise\");\r\n\r\n// converts to / from base64 encoded strings\r\nutil.base64 = require(\"@protobufjs/base64\");\r\n\r\n// base class of rpc.Service\r\nutil.EventEmitter = require(\"@protobufjs/eventemitter\");\r\n\r\n// float handling accross browsers\r\nutil.float = require(\"@protobufjs/float\");\r\n\r\n// requires modules optionally and hides the call from bundlers\r\nutil.inquire = require(\"@protobufjs/inquire\");\r\n\r\n// converts to / from utf8 encoded strings\r\nutil.utf8 = require(\"@protobufjs/utf8\");\r\n\r\n// provides a node-like buffer pool in the browser\r\nutil.pool = require(\"@protobufjs/pool\");\r\n\r\n// utility to work with the low and high bits of a 64 bit value\r\nutil.LongBits = require(\"./longbits\");\r\n\r\n/**\r\n * Whether running within node or not.\r\n * @memberof util\r\n * @type {boolean}\r\n */\r\nutil.isNode = Boolean(typeof global !== \"undefined\"\r\n                   && global\r\n                   && global.process\r\n                   && global.process.versions\r\n                   && global.process.versions.node);\r\n\r\n/**\r\n * Global object reference.\r\n * @memberof util\r\n * @type {Object}\r\n */\r\nutil.global = util.isNode && global\r\n           || typeof window !== \"undefined\" && window\r\n           || typeof self   !== \"undefined\" && self\r\n           || this; // eslint-disable-line no-invalid-this\r\n\r\n/**\r\n * An immuable empty array.\r\n * @memberof util\r\n * @type {Array.<*>}\r\n * @const\r\n */\r\nutil.emptyArray = Object.freeze ? Object.freeze([]) : /* istanbul ignore next */ []; // used on prototypes\r\n\r\n/**\r\n * An immutable empty object.\r\n * @type {Object}\r\n * @const\r\n */\r\nutil.emptyObject = Object.freeze ? Object.freeze({}) : /* istanbul ignore next */ {}; // used on prototypes\r\n\r\n/**\r\n * Tests if the specified value is an integer.\r\n * @function\r\n * @param {*} value Value to test\r\n * @returns {boolean} `true` if the value is an integer\r\n */\r\nutil.isInteger = Number.isInteger || /* istanbul ignore next */ function isInteger(value) {\r\n    return typeof value === \"number\" && isFinite(value) && Math.floor(value) === value;\r\n};\r\n\r\n/**\r\n * Tests if the specified value is a string.\r\n * @param {*} value Value to test\r\n * @returns {boolean} `true` if the value is a string\r\n */\r\nutil.isString = function isString(value) {\r\n    return typeof value === \"string\" || value instanceof String;\r\n};\r\n\r\n/**\r\n * Tests if the specified value is a non-null object.\r\n * @param {*} value Value to test\r\n * @returns {boolean} `true` if the value is a non-null object\r\n */\r\nutil.isObject = function isObject(value) {\r\n    return value && typeof value === \"object\";\r\n};\r\n\r\n/**\r\n * Checks if a property on a message is considered to be present.\r\n * This is an alias of {@link util.isSet}.\r\n * @function\r\n * @param {Object} obj Plain object or message instance\r\n * @param {string} prop Property name\r\n * @returns {boolean} `true` if considered to be present, otherwise `false`\r\n */\r\nutil.isset =\r\n\r\n/**\r\n * Checks if a property on a message is considered to be present.\r\n * @param {Object} obj Plain object or message instance\r\n * @param {string} prop Property name\r\n * @returns {boolean} `true` if considered to be present, otherwise `false`\r\n */\r\nutil.isSet = function isSet(obj, prop) {\r\n    var value = obj[prop];\r\n    if (value != null && obj.hasOwnProperty(prop)) // eslint-disable-line eqeqeq, no-prototype-builtins\r\n        return typeof value !== \"object\" || (Array.isArray(value) ? value.length : Object.keys(value).length) > 0;\r\n    return false;\r\n};\r\n\r\n/**\r\n * Any compatible Buffer instance.\r\n * This is a minimal stand-alone definition of a Buffer instance. The actual type is that exported by node's typings.\r\n * @interface Buffer\r\n * @extends Uint8Array\r\n */\r\n\r\n/**\r\n * Node's Buffer class if available.\r\n * @type {Constructor<Buffer>}\r\n */\r\nutil.Buffer = (function() {\r\n    try {\r\n        var Buffer = util.inquire(\"buffer\").Buffer;\r\n        // refuse to use non-node buffers if not explicitly assigned (perf reasons):\r\n        return Buffer.prototype.utf8Write ? Buffer : /* istanbul ignore next */ null;\r\n    } catch (e) {\r\n        /* istanbul ignore next */\r\n        return null;\r\n    }\r\n})();\r\n\r\n// Internal alias of or polyfull for Buffer.from.\r\nutil._Buffer_from = null;\r\n\r\n// Internal alias of or polyfill for Buffer.allocUnsafe.\r\nutil._Buffer_allocUnsafe = null;\r\n\r\n/**\r\n * Creates a new buffer of whatever type supported by the environment.\r\n * @param {number|number[]} [sizeOrArray=0] Buffer size or number array\r\n * @returns {Uint8Array|Buffer} Buffer\r\n */\r\nutil.newBuffer = function newBuffer(sizeOrArray) {\r\n    /* istanbul ignore next */\r\n    return typeof sizeOrArray === \"number\"\r\n        ? util.Buffer\r\n            ? util._Buffer_allocUnsafe(sizeOrArray)\r\n            : new util.Array(sizeOrArray)\r\n        : util.Buffer\r\n            ? util._Buffer_from(sizeOrArray)\r\n            : typeof Uint8Array === \"undefined\"\r\n                ? sizeOrArray\r\n                : new Uint8Array(sizeOrArray);\r\n};\r\n\r\n/**\r\n * Array implementation used in the browser. `Uint8Array` if supported, otherwise `Array`.\r\n * @type {Constructor<Uint8Array>}\r\n */\r\nutil.Array = typeof Uint8Array !== \"undefined\" ? Uint8Array /* istanbul ignore next */ : Array;\r\n\r\n/**\r\n * Any compatible Long instance.\r\n * This is a minimal stand-alone definition of a Long instance. The actual type is that exported by long.js.\r\n * @interface Long\r\n * @property {number} low Low bits\r\n * @property {number} high High bits\r\n * @property {boolean} unsigned Whether unsigned or not\r\n */\r\n\r\n/**\r\n * Long.js's Long class if available.\r\n * @type {Constructor<Long>}\r\n */\r\nutil.Long = /* istanbul ignore next */ util.global.dcodeIO && /* istanbul ignore next */ util.global.dcodeIO.Long\r\n         || /* istanbul ignore next */ util.global.Long\r\n         || util.inquire(\"long\");\r\n\r\n/**\r\n * Regular expression used to verify 2 bit (`bool`) map keys.\r\n * @type {RegExp}\r\n * @const\r\n */\r\nutil.key2Re = /^true|false|0|1$/;\r\n\r\n/**\r\n * Regular expression used to verify 32 bit (`int32` etc.) map keys.\r\n * @type {RegExp}\r\n * @const\r\n */\r\nutil.key32Re = /^-?(?:0|[1-9][0-9]*)$/;\r\n\r\n/**\r\n * Regular expression used to verify 64 bit (`int64` etc.) map keys.\r\n * @type {RegExp}\r\n * @const\r\n */\r\nutil.key64Re = /^(?:[\\\\x00-\\\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;\r\n\r\n/**\r\n * Converts a number or long to an 8 characters long hash string.\r\n * @param {Long|number} value Value to convert\r\n * @returns {string} Hash\r\n */\r\nutil.longToHash = function longToHash(value) {\r\n    return value\r\n        ? util.LongBits.from(value).toHash()\r\n        : util.LongBits.zeroHash;\r\n};\r\n\r\n/**\r\n * Converts an 8 characters long hash string to a long or number.\r\n * @param {string} hash Hash\r\n * @param {boolean} [unsigned=false] Whether unsigned or not\r\n * @returns {Long|number} Original value\r\n */\r\nutil.longFromHash = function longFromHash(hash, unsigned) {\r\n    var bits = util.LongBits.fromHash(hash);\r\n    if (util.Long)\r\n        return util.Long.fromBits(bits.lo, bits.hi, unsigned);\r\n    return bits.toNumber(Boolean(unsigned));\r\n};\r\n\r\n/**\r\n * Merges the properties of the source object into the destination object.\r\n * @memberof util\r\n * @param {Object.<string,*>} dst Destination object\r\n * @param {Object.<string,*>} src Source object\r\n * @param {boolean} [ifNotSet=false] Merges only if the key is not already set\r\n * @returns {Object.<string,*>} Destination object\r\n */\r\nfunction merge(dst, src, ifNotSet) { // used by converters\r\n    for (var keys = Object.keys(src), i = 0; i < keys.length; ++i)\r\n        if (dst[keys[i]] === undefined || !ifNotSet)\r\n            dst[keys[i]] = src[keys[i]];\r\n    return dst;\r\n}\r\n\r\nutil.merge = merge;\r\n\r\n/**\r\n * Converts the first character of a string to lower case.\r\n * @param {string} str String to convert\r\n * @returns {string} Converted string\r\n */\r\nutil.lcFirst = function lcFirst(str) {\r\n    return str.charAt(0).toLowerCase() + str.substring(1);\r\n};\r\n\r\n/**\r\n * Creates a custom error constructor.\r\n * @memberof util\r\n * @param {string} name Error name\r\n * @returns {Constructor<Error>} Custom error constructor\r\n */\r\nfunction newError(name) {\r\n\r\n    function CustomError(message, properties) {\r\n\r\n        if (!(this instanceof CustomError))\r\n            return new CustomError(message, properties);\r\n\r\n        // Error.call(this, message);\r\n        // ^ just returns a new error instance because the ctor can be called as a function\r\n\r\n        Object.defineProperty(this, \"message\", { get: function() { return message; } });\r\n\r\n        /* istanbul ignore next */\r\n        if (Error.captureStackTrace) // node\r\n            Error.captureStackTrace(this, CustomError);\r\n        else\r\n            Object.defineProperty(this, \"stack\", { value: new Error().stack || \"\" });\r\n\r\n        if (properties)\r\n            merge(this, properties);\r\n    }\r\n\r\n    CustomError.prototype = Object.create(Error.prototype, {\r\n        constructor: {\r\n            value: CustomError,\r\n            writable: true,\r\n            enumerable: false,\r\n            configurable: true,\r\n        },\r\n        name: {\r\n            get: function get() { return name; },\r\n            set: undefined,\r\n            enumerable: false,\r\n            // configurable: false would accurately preserve the behavior of\r\n            // the original, but I'm guessing that was not intentional.\r\n            // For an actual error subclass, this property would\r\n            // be configurable.\r\n            configurable: true,\r\n        },\r\n        toString: {\r\n            value: function value() { return this.name + \": \" + this.message; },\r\n            writable: true,\r\n            enumerable: false,\r\n            configurable: true,\r\n        },\r\n    });\r\n\r\n    return CustomError;\r\n}\r\n\r\nutil.newError = newError;\r\n\r\n/**\r\n * Constructs a new protocol error.\r\n * @classdesc Error subclass indicating a protocol specifc error.\r\n * @memberof util\r\n * @extends Error\r\n * @template T extends Message<T>\r\n * @constructor\r\n * @param {string} message Error message\r\n * @param {Object.<string,*>} [properties] Additional properties\r\n * @example\r\n * try {\r\n *     MyMessage.decode(someBuffer); // throws if required fields are missing\r\n * } catch (e) {\r\n *     if (e instanceof ProtocolError && e.instance)\r\n *         console.log(\"decoded so far: \" + JSON.stringify(e.instance));\r\n * }\r\n */\r\nutil.ProtocolError = newError(\"ProtocolError\");\r\n\r\n/**\r\n * So far decoded message instance.\r\n * @name util.ProtocolError#instance\r\n * @type {Message<T>}\r\n */\r\n\r\n/**\r\n * A OneOf getter as returned by {@link util.oneOfGetter}.\r\n * @typedef OneOfGetter\r\n * @type {function}\r\n * @returns {string|undefined} Set field name, if any\r\n */\r\n\r\n/**\r\n * Builds a getter for a oneof's present field name.\r\n * @param {string[]} fieldNames Field names\r\n * @returns {OneOfGetter} Unbound getter\r\n */\r\nutil.oneOfGetter = function getOneOf(fieldNames) {\r\n    var fieldMap = {};\r\n    for (var i = 0; i < fieldNames.length; ++i)\r\n        fieldMap[fieldNames[i]] = 1;\r\n\r\n    /**\r\n     * @returns {string|undefined} Set field name, if any\r\n     * @this Object\r\n     * @ignore\r\n     */\r\n    return function() { // eslint-disable-line consistent-return\r\n        for (var keys = Object.keys(this), i = keys.length - 1; i > -1; --i)\r\n            if (fieldMap[keys[i]] === 1 && this[keys[i]] !== undefined && this[keys[i]] !== null)\r\n                return keys[i];\r\n    };\r\n};\r\n\r\n/**\r\n * A OneOf setter as returned by {@link util.oneOfSetter}.\r\n * @typedef OneOfSetter\r\n * @type {function}\r\n * @param {string|undefined} value Field name\r\n * @returns {undefined}\r\n */\r\n\r\n/**\r\n * Builds a setter for a oneof's present field name.\r\n * @param {string[]} fieldNames Field names\r\n * @returns {OneOfSetter} Unbound setter\r\n */\r\nutil.oneOfSetter = function setOneOf(fieldNames) {\r\n\r\n    /**\r\n     * @param {string} name Field name\r\n     * @returns {undefined}\r\n     * @this Object\r\n     * @ignore\r\n     */\r\n    return function(name) {\r\n        for (var i = 0; i < fieldNames.length; ++i)\r\n            if (fieldNames[i] !== name)\r\n                delete this[fieldNames[i]];\r\n    };\r\n};\r\n\r\n/**\r\n * Default conversion options used for {@link Message#toJSON} implementations.\r\n *\r\n * These options are close to proto3's JSON mapping with the exception that internal types like Any are handled just like messages. More precisely:\r\n *\r\n * - Longs become strings\r\n * - Enums become string keys\r\n * - Bytes become base64 encoded strings\r\n * - (Sub-)Messages become plain objects\r\n * - Maps become plain objects with all string keys\r\n * - Repeated fields become arrays\r\n * - NaN and Infinity for float and double fields become strings\r\n *\r\n * @type {IConversionOptions}\r\n * @see https://developers.google.com/protocol-buffers/docs/proto3?hl=en#json\r\n */\r\nutil.toJSONOptions = {\r\n    longs: String,\r\n    enums: String,\r\n    bytes: String,\r\n    json: true\r\n};\r\n\r\n// Sets up buffer utility according to the environment (called in index-minimal)\r\nutil._configure = function() {\r\n    var Buffer = util.Buffer;\r\n    /* istanbul ignore if */\r\n    if (!Buffer) {\r\n        util._Buffer_from = util._Buffer_allocUnsafe = null;\r\n        return;\r\n    }\r\n    // because node 4.x buffers are incompatible & immutable\r\n    // see: https://github.com/dcodeIO/protobuf.js/pull/665\r\n    util._Buffer_from = Buffer.from !== Uint8Array.from && Buffer.from ||\r\n        /* istanbul ignore next */\r\n        function Buffer_from(value, encoding) {\r\n            return new Buffer(value, encoding);\r\n        };\r\n    util._Buffer_allocUnsafe = Buffer.allocUnsafe ||\r\n        /* istanbul ignore next */\r\n        function Buffer_allocUnsafe(size) {\r\n            return new Buffer(size);\r\n        };\r\n};\r\n","\"use strict\";\r\nmodule.exports = verifier;\r\n\r\nvar Enum      = require(\"./enum\"),\r\n    util      = require(\"./util\");\r\n\r\nfunction invalid(field, expected) {\r\n    return field.name + \": \" + expected + (field.repeated && expected !== \"array\" ? \"[]\" : field.map && expected !== \"object\" ? \"{k:\"+field.keyType+\"}\" : \"\") + \" expected\";\r\n}\r\n\r\n/**\r\n * Generates a partial value verifier.\r\n * @param {Codegen} gen Codegen instance\r\n * @param {Field} field Reflected field\r\n * @param {number} fieldIndex Field index\r\n * @param {string} ref Variable reference\r\n * @returns {Codegen} Codegen instance\r\n * @ignore\r\n */\r\nfunction genVerifyValue(gen, field, fieldIndex, ref) {\r\n    /* eslint-disable no-unexpected-multiline */\r\n    if (field.resolvedType) {\r\n        if (field.resolvedType instanceof Enum) { gen\r\n            (\"switch(%s){\", ref)\r\n                (\"default:\")\r\n                    (\"return%j\", invalid(field, \"enum value\"));\r\n            for (var keys = Object.keys(field.resolvedType.values), j = 0; j < keys.length; ++j) gen\r\n                (\"case %i:\", field.resolvedType.values[keys[j]]);\r\n            gen\r\n                    (\"break\")\r\n            (\"}\");\r\n        } else {\r\n            gen\r\n            (\"{\")\r\n                (\"var e=types[%i].verify(%s);\", fieldIndex, ref)\r\n                (\"if(e)\")\r\n                    (\"return%j+e\", field.name + \".\")\r\n            (\"}\");\r\n        }\r\n    } else {\r\n        switch (field.type) {\r\n            case \"int32\":\r\n            case \"uint32\":\r\n            case \"sint32\":\r\n            case \"fixed32\":\r\n            case \"sfixed32\": gen\r\n                (\"if(!util.isInteger(%s))\", ref)\r\n                    (\"return%j\", invalid(field, \"integer\"));\r\n                break;\r\n            case \"int64\":\r\n            case \"uint64\":\r\n            case \"sint64\":\r\n            case \"fixed64\":\r\n            case \"sfixed64\": gen\r\n                (\"if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))\", ref, ref, ref, ref)\r\n                    (\"return%j\", invalid(field, \"integer|Long\"));\r\n                break;\r\n            case \"float\":\r\n            case \"double\": gen\r\n                (\"if(typeof %s!==\\\"number\\\")\", ref)\r\n                    (\"return%j\", invalid(field, \"number\"));\r\n                break;\r\n            case \"bool\": gen\r\n                (\"if(typeof %s!==\\\"boolean\\\")\", ref)\r\n                    (\"return%j\", invalid(field, \"boolean\"));\r\n                break;\r\n            case \"string\": gen\r\n                (\"if(!util.isString(%s))\", ref)\r\n                    (\"return%j\", invalid(field, \"string\"));\r\n                break;\r\n            case \"bytes\": gen\r\n                (\"if(!(%s&&typeof %s.length===\\\"number\\\"||util.isString(%s)))\", ref, ref, ref)\r\n                    (\"return%j\", invalid(field, \"buffer\"));\r\n                break;\r\n        }\r\n    }\r\n    return gen;\r\n    /* eslint-enable no-unexpected-multiline */\r\n}\r\n\r\n/**\r\n * Generates a partial key verifier.\r\n * @param {Codegen} gen Codegen instance\r\n * @param {Field} field Reflected field\r\n * @param {string} ref Variable reference\r\n * @returns {Codegen} Codegen instance\r\n * @ignore\r\n */\r\nfunction genVerifyKey(gen, field, ref) {\r\n    /* eslint-disable no-unexpected-multiline */\r\n    switch (field.keyType) {\r\n        case \"int32\":\r\n        case \"uint32\":\r\n        case \"sint32\":\r\n        case \"fixed32\":\r\n        case \"sfixed32\": gen\r\n            (\"if(!util.key32Re.test(%s))\", ref)\r\n                (\"return%j\", invalid(field, \"integer key\"));\r\n            break;\r\n        case \"int64\":\r\n        case \"uint64\":\r\n        case \"sint64\":\r\n        case \"fixed64\":\r\n        case \"sfixed64\": gen\r\n            (\"if(!util.key64Re.test(%s))\", ref) // see comment above: x is ok, d is not\r\n                (\"return%j\", invalid(field, \"integer|Long key\"));\r\n            break;\r\n        case \"bool\": gen\r\n            (\"if(!util.key2Re.test(%s))\", ref)\r\n                (\"return%j\", invalid(field, \"boolean key\"));\r\n            break;\r\n    }\r\n    return gen;\r\n    /* eslint-enable no-unexpected-multiline */\r\n}\r\n\r\n/**\r\n * Generates a verifier specific to the specified message type.\r\n * @param {Type} mtype Message type\r\n * @returns {Codegen} Codegen instance\r\n */\r\nfunction verifier(mtype) {\r\n    /* eslint-disable no-unexpected-multiline */\r\n\r\n    var gen = util.codegen([\"m\"], mtype.name + \"$verify\")\r\n    (\"if(typeof m!==\\\"object\\\"||m===null)\")\r\n        (\"return%j\", \"object expected\");\r\n    var oneofs = mtype.oneofsArray,\r\n        seenFirstField = {};\r\n    if (oneofs.length) gen\r\n    (\"var p={}\");\r\n\r\n    for (var i = 0; i < /* initializes */ mtype.fieldsArray.length; ++i) {\r\n        var field = mtype._fieldsArray[i].resolve(),\r\n            ref   = \"m\" + util.safeProp(field.name);\r\n\r\n        if (field.optional) gen\r\n        (\"if(%s!=null&&m.hasOwnProperty(%j)){\", ref, field.name); // !== undefined && !== null\r\n\r\n        // map fields\r\n        if (field.map) { gen\r\n            (\"if(!util.isObject(%s))\", ref)\r\n                (\"return%j\", invalid(field, \"object\"))\r\n            (\"var k=Object.keys(%s)\", ref)\r\n            (\"for(var i=0;i<k.length;++i){\");\r\n                genVerifyKey(gen, field, \"k[i]\");\r\n                genVerifyValue(gen, field, i, ref + \"[k[i]]\")\r\n            (\"}\");\r\n\r\n        // repeated fields\r\n        } else if (field.repeated) { gen\r\n            (\"if(!Array.isArray(%s))\", ref)\r\n                (\"return%j\", invalid(field, \"array\"))\r\n            (\"for(var i=0;i<%s.length;++i){\", ref);\r\n                genVerifyValue(gen, field, i, ref + \"[i]\")\r\n            (\"}\");\r\n\r\n        // required or present fields\r\n        } else {\r\n            if (field.partOf) {\r\n                var oneofProp = util.safeProp(field.partOf.name);\r\n                if (seenFirstField[field.partOf.name] === 1) gen\r\n            (\"if(p%s===1)\", oneofProp)\r\n                (\"return%j\", field.partOf.name + \": multiple values\");\r\n                seenFirstField[field.partOf.name] = 1;\r\n                gen\r\n            (\"p%s=1\", oneofProp);\r\n            }\r\n            genVerifyValue(gen, field, i, ref);\r\n        }\r\n        if (field.optional) gen\r\n        (\"}\");\r\n    }\r\n    return gen\r\n    (\"return null\");\r\n    /* eslint-enable no-unexpected-multiline */\r\n}","\"use strict\";\r\n\r\n/**\r\n * Wrappers for common types.\r\n * @type {Object.<string,IWrapper>}\r\n * @const\r\n */\r\nvar wrappers = exports;\r\n\r\nvar Message = require(\"./message\");\r\n\r\n/**\r\n * From object converter part of an {@link IWrapper}.\r\n * @typedef WrapperFromObjectConverter\r\n * @type {function}\r\n * @param {Object.<string,*>} object Plain object\r\n * @returns {Message<{}>} Message instance\r\n * @this Type\r\n */\r\n\r\n/**\r\n * To object converter part of an {@link IWrapper}.\r\n * @typedef WrapperToObjectConverter\r\n * @type {function}\r\n * @param {Message<{}>} message Message instance\r\n * @param {IConversionOptions} [options] Conversion options\r\n * @returns {Object.<string,*>} Plain object\r\n * @this Type\r\n */\r\n\r\n/**\r\n * Common type wrapper part of {@link wrappers}.\r\n * @interface IWrapper\r\n * @property {WrapperFromObjectConverter} [fromObject] From object converter\r\n * @property {WrapperToObjectConverter} [toObject] To object converter\r\n */\r\n\r\n// Custom wrapper for Any\r\nwrappers[\".google.protobuf.Any\"] = {\r\n\r\n    fromObject: function(object) {\r\n\r\n        // unwrap value type if mapped\r\n        if (object && object[\"@type\"]) {\r\n             // Only use fully qualified type name after the last '/'\r\n            var name = object[\"@type\"].substring(object[\"@type\"].lastIndexOf(\"/\") + 1);\r\n            var type = this.lookup(name);\r\n            /* istanbul ignore else */\r\n            if (type) {\r\n                // type_url does not accept leading \".\"\r\n                var type_url = object[\"@type\"].charAt(0) === \".\" ?\r\n                    object[\"@type\"].slice(1) : object[\"@type\"];\r\n                // type_url prefix is optional, but path seperator is required\r\n                if (type_url.indexOf(\"/\") === -1) {\r\n                    type_url = \"/\" + type_url;\r\n                }\r\n                return this.create({\r\n                    type_url: type_url,\r\n                    value: type.encode(type.fromObject(object)).finish()\r\n                });\r\n            }\r\n        }\r\n\r\n        return this.fromObject(object);\r\n    },\r\n\r\n    toObject: function(message, options) {\r\n\r\n        // Default prefix\r\n        var googleApi = \"type.googleapis.com/\";\r\n        var prefix = \"\";\r\n        var name = \"\";\r\n\r\n        // decode value if requested and unmapped\r\n        if (options && options.json && message.type_url && message.value) {\r\n            // Only use fully qualified type name after the last '/'\r\n            name = message.type_url.substring(message.type_url.lastIndexOf(\"/\") + 1);\r\n            // Separate the prefix used\r\n            prefix = message.type_url.substring(0, message.type_url.lastIndexOf(\"/\") + 1);\r\n            var type = this.lookup(name);\r\n            /* istanbul ignore else */\r\n            if (type)\r\n                message = type.decode(message.value);\r\n        }\r\n\r\n        // wrap value if unmapped\r\n        if (!(message instanceof this.ctor) && message instanceof Message) {\r\n            var object = message.$type.toObject(message, options);\r\n            var messageName = message.$type.fullName[0] === \".\" ?\r\n                message.$type.fullName.slice(1) : message.$type.fullName;\r\n            // Default to type.googleapis.com prefix if no prefix is used\r\n            if (prefix === \"\") {\r\n                prefix = googleApi;\r\n            }\r\n            name = prefix + messageName;\r\n            object[\"@type\"] = name;\r\n            return object;\r\n        }\r\n\r\n        return this.toObject(message, options);\r\n    }\r\n};\r\n","\"use strict\";\r\nmodule.exports = Writer;\r\n\r\nvar util      = require(\"./util/minimal\");\r\n\r\nvar BufferWriter; // cyclic\r\n\r\nvar LongBits  = util.LongBits,\r\n    base64    = util.base64,\r\n    utf8      = util.utf8;\r\n\r\n/**\r\n * Constructs a new writer operation instance.\r\n * @classdesc Scheduled writer operation.\r\n * @constructor\r\n * @param {function(*, Uint8Array, number)} fn Function to call\r\n * @param {number} len Value byte length\r\n * @param {*} val Value to write\r\n * @ignore\r\n */\r\nfunction Op(fn, len, val) {\r\n\r\n    /**\r\n     * Function to call.\r\n     * @type {function(Uint8Array, number, *)}\r\n     */\r\n    this.fn = fn;\r\n\r\n    /**\r\n     * Value byte length.\r\n     * @type {number}\r\n     */\r\n    this.len = len;\r\n\r\n    /**\r\n     * Next operation.\r\n     * @type {Writer.Op|undefined}\r\n     */\r\n    this.next = undefined;\r\n\r\n    /**\r\n     * Value to write.\r\n     * @type {*}\r\n     */\r\n    this.val = val; // type varies\r\n}\r\n\r\n/* istanbul ignore next */\r\nfunction noop() {} // eslint-disable-line no-empty-function\r\n\r\n/**\r\n * Constructs a new writer state instance.\r\n * @classdesc Copied writer state.\r\n * @memberof Writer\r\n * @constructor\r\n * @param {Writer} writer Writer to copy state from\r\n * @ignore\r\n */\r\nfunction State(writer) {\r\n\r\n    /**\r\n     * Current head.\r\n     * @type {Writer.Op}\r\n     */\r\n    this.head = writer.head;\r\n\r\n    /**\r\n     * Current tail.\r\n     * @type {Writer.Op}\r\n     */\r\n    this.tail = writer.tail;\r\n\r\n    /**\r\n     * Current buffer length.\r\n     * @type {number}\r\n     */\r\n    this.len = writer.len;\r\n\r\n    /**\r\n     * Next state.\r\n     * @type {State|null}\r\n     */\r\n    this.next = writer.states;\r\n}\r\n\r\n/**\r\n * Constructs a new writer instance.\r\n * @classdesc Wire format writer using `Uint8Array` if available, otherwise `Array`.\r\n * @constructor\r\n */\r\nfunction Writer() {\r\n\r\n    /**\r\n     * Current length.\r\n     * @type {number}\r\n     */\r\n    this.len = 0;\r\n\r\n    /**\r\n     * Operations head.\r\n     * @type {Object}\r\n     */\r\n    this.head = new Op(noop, 0, 0);\r\n\r\n    /**\r\n     * Operations tail\r\n     * @type {Object}\r\n     */\r\n    this.tail = this.head;\r\n\r\n    /**\r\n     * Linked forked states.\r\n     * @type {Object|null}\r\n     */\r\n    this.states = null;\r\n\r\n    // When a value is written, the writer calculates its byte length and puts it into a linked\r\n    // list of operations to perform when finish() is called. This both allows us to allocate\r\n    // buffers of the exact required size and reduces the amount of work we have to do compared\r\n    // to first calculating over objects and then encoding over objects. In our case, the encoding\r\n    // part is just a linked list walk calling operations with already prepared values.\r\n}\r\n\r\nvar create = function create() {\r\n    return util.Buffer\r\n        ? function create_buffer_setup() {\r\n            return (Writer.create = function create_buffer() {\r\n                return new BufferWriter();\r\n            })();\r\n        }\r\n        /* istanbul ignore next */\r\n        : function create_array() {\r\n            return new Writer();\r\n        };\r\n};\r\n\r\n/**\r\n * Creates a new writer.\r\n * @function\r\n * @returns {BufferWriter|Writer} A {@link BufferWriter} when Buffers are supported, otherwise a {@link Writer}\r\n */\r\nWriter.create = create();\r\n\r\n/**\r\n * Allocates a buffer of the specified size.\r\n * @param {number} size Buffer size\r\n * @returns {Uint8Array} Buffer\r\n */\r\nWriter.alloc = function alloc(size) {\r\n    return new util.Array(size);\r\n};\r\n\r\n// Use Uint8Array buffer pool in the browser, just like node does with buffers\r\n/* istanbul ignore else */\r\nif (util.Array !== Array)\r\n    Writer.alloc = util.pool(Writer.alloc, util.Array.prototype.subarray);\r\n\r\n/**\r\n * Pushes a new operation to the queue.\r\n * @param {function(Uint8Array, number, *)} fn Function to call\r\n * @param {number} len Value byte length\r\n * @param {number} val Value to write\r\n * @returns {Writer} `this`\r\n * @private\r\n */\r\nWriter.prototype._push = function push(fn, len, val) {\r\n    this.tail = this.tail.next = new Op(fn, len, val);\r\n    this.len += len;\r\n    return this;\r\n};\r\n\r\nfunction writeByte(val, buf, pos) {\r\n    buf[pos] = val & 255;\r\n}\r\n\r\nfunction writeVarint32(val, buf, pos) {\r\n    while (val > 127) {\r\n        buf[pos++] = val & 127 | 128;\r\n        val >>>= 7;\r\n    }\r\n    buf[pos] = val;\r\n}\r\n\r\n/**\r\n * Constructs a new varint writer operation instance.\r\n * @classdesc Scheduled varint writer operation.\r\n * @extends Op\r\n * @constructor\r\n * @param {number} len Value byte length\r\n * @param {number} val Value to write\r\n * @ignore\r\n */\r\nfunction VarintOp(len, val) {\r\n    this.len = len;\r\n    this.next = undefined;\r\n    this.val = val;\r\n}\r\n\r\nVarintOp.prototype = Object.create(Op.prototype);\r\nVarintOp.prototype.fn = writeVarint32;\r\n\r\n/**\r\n * Writes an unsigned 32 bit value as a varint.\r\n * @param {number} value Value to write\r\n * @returns {Writer} `this`\r\n */\r\nWriter.prototype.uint32 = function write_uint32(value) {\r\n    // here, the call to this.push has been inlined and a varint specific Op subclass is used.\r\n    // uint32 is by far the most frequently used operation and benefits significantly from this.\r\n    this.len += (this.tail = this.tail.next = new VarintOp(\r\n        (value = value >>> 0)\r\n                < 128       ? 1\r\n        : value < 16384     ? 2\r\n        : value < 2097152   ? 3\r\n        : value < 268435456 ? 4\r\n        :                     5,\r\n    value)).len;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Writes a signed 32 bit value as a varint.\r\n * @function\r\n * @param {number} value Value to write\r\n * @returns {Writer} `this`\r\n */\r\nWriter.prototype.int32 = function write_int32(value) {\r\n    return value < 0\r\n        ? this._push(writeVarint64, 10, LongBits.fromNumber(value)) // 10 bytes per spec\r\n        : this.uint32(value);\r\n};\r\n\r\n/**\r\n * Writes a 32 bit value as a varint, zig-zag encoded.\r\n * @param {number} value Value to write\r\n * @returns {Writer} `this`\r\n */\r\nWriter.prototype.sint32 = function write_sint32(value) {\r\n    return this.uint32((value << 1 ^ value >> 31) >>> 0);\r\n};\r\n\r\nfunction writeVarint64(val, buf, pos) {\r\n    while (val.hi) {\r\n        buf[pos++] = val.lo & 127 | 128;\r\n        val.lo = (val.lo >>> 7 | val.hi << 25) >>> 0;\r\n        val.hi >>>= 7;\r\n    }\r\n    while (val.lo > 127) {\r\n        buf[pos++] = val.lo & 127 | 128;\r\n        val.lo = val.lo >>> 7;\r\n    }\r\n    buf[pos++] = val.lo;\r\n}\r\n\r\n/**\r\n * Writes an unsigned 64 bit value as a varint.\r\n * @param {Long|number|string} value Value to write\r\n * @returns {Writer} `this`\r\n * @throws {TypeError} If `value` is a string and no long library is present.\r\n */\r\nWriter.prototype.uint64 = function write_uint64(value) {\r\n    var bits = LongBits.from(value);\r\n    return this._push(writeVarint64, bits.length(), bits);\r\n};\r\n\r\n/**\r\n * Writes a signed 64 bit value as a varint.\r\n * @function\r\n * @param {Long|number|string} value Value to write\r\n * @returns {Writer} `this`\r\n * @throws {TypeError} If `value` is a string and no long library is present.\r\n */\r\nWriter.prototype.int64 = Writer.prototype.uint64;\r\n\r\n/**\r\n * Writes a signed 64 bit value as a varint, zig-zag encoded.\r\n * @param {Long|number|string} value Value to write\r\n * @returns {Writer} `this`\r\n * @throws {TypeError} If `value` is a string and no long library is present.\r\n */\r\nWriter.prototype.sint64 = function write_sint64(value) {\r\n    var bits = LongBits.from(value).zzEncode();\r\n    return this._push(writeVarint64, bits.length(), bits);\r\n};\r\n\r\n/**\r\n * Writes a boolish value as a varint.\r\n * @param {boolean} value Value to write\r\n * @returns {Writer} `this`\r\n */\r\nWriter.prototype.bool = function write_bool(value) {\r\n    return this._push(writeByte, 1, value ? 1 : 0);\r\n};\r\n\r\nfunction writeFixed32(val, buf, pos) {\r\n    buf[pos    ] =  val         & 255;\r\n    buf[pos + 1] =  val >>> 8   & 255;\r\n    buf[pos + 2] =  val >>> 16  & 255;\r\n    buf[pos + 3] =  val >>> 24;\r\n}\r\n\r\n/**\r\n * Writes an unsigned 32 bit value as fixed 32 bits.\r\n * @param {number} value Value to write\r\n * @returns {Writer} `this`\r\n */\r\nWriter.prototype.fixed32 = function write_fixed32(value) {\r\n    return this._push(writeFixed32, 4, value >>> 0);\r\n};\r\n\r\n/**\r\n * Writes a signed 32 bit value as fixed 32 bits.\r\n * @function\r\n * @param {number} value Value to write\r\n * @returns {Writer} `this`\r\n */\r\nWriter.prototype.sfixed32 = Writer.prototype.fixed32;\r\n\r\n/**\r\n * Writes an unsigned 64 bit value as fixed 64 bits.\r\n * @param {Long|number|string} value Value to write\r\n * @returns {Writer} `this`\r\n * @throws {TypeError} If `value` is a string and no long library is present.\r\n */\r\nWriter.prototype.fixed64 = function write_fixed64(value) {\r\n    var bits = LongBits.from(value);\r\n    return this._push(writeFixed32, 4, bits.lo)._push(writeFixed32, 4, bits.hi);\r\n};\r\n\r\n/**\r\n * Writes a signed 64 bit value as fixed 64 bits.\r\n * @function\r\n * @param {Long|number|string} value Value to write\r\n * @returns {Writer} `this`\r\n * @throws {TypeError} If `value` is a string and no long library is present.\r\n */\r\nWriter.prototype.sfixed64 = Writer.prototype.fixed64;\r\n\r\n/**\r\n * Writes a float (32 bit).\r\n * @function\r\n * @param {number} value Value to write\r\n * @returns {Writer} `this`\r\n */\r\nWriter.prototype.float = function write_float(value) {\r\n    return this._push(util.float.writeFloatLE, 4, value);\r\n};\r\n\r\n/**\r\n * Writes a double (64 bit float).\r\n * @function\r\n * @param {number} value Value to write\r\n * @returns {Writer} `this`\r\n */\r\nWriter.prototype.double = function write_double(value) {\r\n    return this._push(util.float.writeDoubleLE, 8, value);\r\n};\r\n\r\nvar writeBytes = util.Array.prototype.set\r\n    ? function writeBytes_set(val, buf, pos) {\r\n        buf.set(val, pos); // also works for plain array values\r\n    }\r\n    /* istanbul ignore next */\r\n    : function writeBytes_for(val, buf, pos) {\r\n        for (var i = 0; i < val.length; ++i)\r\n            buf[pos + i] = val[i];\r\n    };\r\n\r\n/**\r\n * Writes a sequence of bytes.\r\n * @param {Uint8Array|string} value Buffer or base64 encoded string to write\r\n * @returns {Writer} `this`\r\n */\r\nWriter.prototype.bytes = function write_bytes(value) {\r\n    var len = value.length >>> 0;\r\n    if (!len)\r\n        return this._push(writeByte, 1, 0);\r\n    if (util.isString(value)) {\r\n        var buf = Writer.alloc(len = base64.length(value));\r\n        base64.decode(value, buf, 0);\r\n        value = buf;\r\n    }\r\n    return this.uint32(len)._push(writeBytes, len, value);\r\n};\r\n\r\n/**\r\n * Writes a string.\r\n * @param {string} value Value to write\r\n * @returns {Writer} `this`\r\n */\r\nWriter.prototype.string = function write_string(value) {\r\n    var len = utf8.length(value);\r\n    return len\r\n        ? this.uint32(len)._push(utf8.write, len, value)\r\n        : this._push(writeByte, 1, 0);\r\n};\r\n\r\n/**\r\n * Forks this writer's state by pushing it to a stack.\r\n * Calling {@link Writer#reset|reset} or {@link Writer#ldelim|ldelim} resets the writer to the previous state.\r\n * @returns {Writer} `this`\r\n */\r\nWriter.prototype.fork = function fork() {\r\n    this.states = new State(this);\r\n    this.head = this.tail = new Op(noop, 0, 0);\r\n    this.len = 0;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Resets this instance to the last state.\r\n * @returns {Writer} `this`\r\n */\r\nWriter.prototype.reset = function reset() {\r\n    if (this.states) {\r\n        this.head   = this.states.head;\r\n        this.tail   = this.states.tail;\r\n        this.len    = this.states.len;\r\n        this.states = this.states.next;\r\n    } else {\r\n        this.head = this.tail = new Op(noop, 0, 0);\r\n        this.len  = 0;\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Resets to the last state and appends the fork state's current write length as a varint followed by its operations.\r\n * @returns {Writer} `this`\r\n */\r\nWriter.prototype.ldelim = function ldelim() {\r\n    var head = this.head,\r\n        tail = this.tail,\r\n        len  = this.len;\r\n    this.reset().uint32(len);\r\n    if (len) {\r\n        this.tail.next = head.next; // skip noop\r\n        this.tail = tail;\r\n        this.len += len;\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Finishes the write operation.\r\n * @returns {Uint8Array} Finished buffer\r\n */\r\nWriter.prototype.finish = function finish() {\r\n    var head = this.head.next, // skip noop\r\n        buf  = this.constructor.alloc(this.len),\r\n        pos  = 0;\r\n    while (head) {\r\n        head.fn(head.val, buf, pos);\r\n        pos += head.len;\r\n        head = head.next;\r\n    }\r\n    // this.head = this.tail = null;\r\n    return buf;\r\n};\r\n\r\nWriter._configure = function(BufferWriter_) {\r\n    BufferWriter = BufferWriter_;\r\n    Writer.create = create();\r\n    BufferWriter._configure();\r\n};\r\n","\"use strict\";\r\nmodule.exports = BufferWriter;\r\n\r\n// extends Writer\r\nvar Writer = require(\"./writer\");\r\n(BufferWriter.prototype = Object.create(Writer.prototype)).constructor = BufferWriter;\r\n\r\nvar util = require(\"./util/minimal\");\r\n\r\n/**\r\n * Constructs a new buffer writer instance.\r\n * @classdesc Wire format writer using node buffers.\r\n * @extends Writer\r\n * @constructor\r\n */\r\nfunction BufferWriter() {\r\n    Writer.call(this);\r\n}\r\n\r\nBufferWriter._configure = function () {\r\n    /**\r\n     * Allocates a buffer of the specified size.\r\n     * @function\r\n     * @param {number} size Buffer size\r\n     * @returns {Buffer} Buffer\r\n     */\r\n    BufferWriter.alloc = util._Buffer_allocUnsafe;\r\n\r\n    BufferWriter.writeBytesBuffer = util.Buffer && util.Buffer.prototype instanceof Uint8Array && util.Buffer.prototype.set.name === \"set\"\r\n        ? function writeBytesBuffer_set(val, buf, pos) {\r\n          buf.set(val, pos); // faster than copy (requires node >= 4 where Buffers extend Uint8Array and set is properly inherited)\r\n          // also works for plain array values\r\n        }\r\n        /* istanbul ignore next */\r\n        : function writeBytesBuffer_copy(val, buf, pos) {\r\n          if (val.copy) // Buffer values\r\n            val.copy(buf, pos, 0, val.length);\r\n          else for (var i = 0; i < val.length;) // plain array values\r\n            buf[pos++] = val[i++];\r\n        };\r\n};\r\n\r\n\r\n/**\r\n * @override\r\n */\r\nBufferWriter.prototype.bytes = function write_bytes_buffer(value) {\r\n    if (util.isString(value))\r\n        value = util._Buffer_from(value, \"base64\");\r\n    var len = value.length >>> 0;\r\n    this.uint32(len);\r\n    if (len)\r\n        this._push(BufferWriter.writeBytesBuffer, len, value);\r\n    return this;\r\n};\r\n\r\nfunction writeStringBuffer(val, buf, pos) {\r\n    if (val.length < 40) // plain js is faster for short strings (probably due to redundant assertions)\r\n        util.utf8.write(val, buf, pos);\r\n    else if (buf.utf8Write)\r\n        buf.utf8Write(val, pos);\r\n    else\r\n        buf.write(val, pos);\r\n}\r\n\r\n/**\r\n * @override\r\n */\r\nBufferWriter.prototype.string = function write_string_buffer(value) {\r\n    var len = util.Buffer.byteLength(value);\r\n    this.uint32(len);\r\n    if (len)\r\n        this._push(writeStringBuffer, len, value);\r\n    return this;\r\n};\r\n\r\n\r\n/**\r\n * Finishes the write operation.\r\n * @name BufferWriter#finish\r\n * @function\r\n * @returns {Buffer} Finished buffer\r\n */\r\n\r\nBufferWriter._configure();\r\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"DraggableCore\", {\n  enumerable: true,\n  get: function () {\n    return _DraggableCore.default;\n  }\n});\nexports.default = void 0;\nvar React = _interopRequireWildcard(require(\"react\"));\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\nvar _reactDom = _interopRequireDefault(require(\"react-dom\"));\nvar _clsx = _interopRequireDefault(require(\"clsx\"));\nvar _domFns = require(\"./utils/domFns\");\nvar _positionFns = require(\"./utils/positionFns\");\nvar _shims = require(\"./utils/shims\");\nvar _DraggableCore = _interopRequireDefault(require(\"./DraggableCore\"));\nvar _log = _interopRequireDefault(require(\"./utils/log\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); } /*:: import type {ControlPosition, PositionOffsetControlPosition, DraggableCoreProps, DraggableCoreDefaultProps} from './DraggableCore';*/\n/*:: import type {Bounds, DraggableEventHandler} from './utils/types';*/\n/*:: import type {Element as ReactElement} from 'react';*/\n/*:: type DraggableState = {\n  dragging: boolean,\n  dragged: boolean,\n  x: number, y: number,\n  slackX: number, slackY: number,\n  isElementSVG: boolean,\n  prevPropsPosition: ?ControlPosition,\n};*/\n/*:: export type DraggableDefaultProps = {\n  ...DraggableCoreDefaultProps,\n  axis: 'both' | 'x' | 'y' | 'none',\n  bounds: Bounds | string | false,\n  defaultClassName: string,\n  defaultClassNameDragging: string,\n  defaultClassNameDragged: string,\n  defaultPosition: ControlPosition,\n  scale: number,\n};*/\n/*:: export type DraggableProps = {\n  ...DraggableCoreProps,\n  ...DraggableDefaultProps,\n  positionOffset: PositionOffsetControlPosition,\n  position: ControlPosition,\n};*/\n//\n// Define <Draggable>\n//\nclass Draggable extends React.Component /*:: <DraggableProps, DraggableState>*/{\n  // React 16.3+\n  // Arity (props, state)\n  static getDerivedStateFromProps(_ref /*:: */, _ref2 /*:: */) /*: ?Partial<DraggableState>*/{\n    let {\n      position\n    } /*: DraggableProps*/ = _ref /*: DraggableProps*/;\n    let {\n      prevPropsPosition\n    } /*: DraggableState*/ = _ref2 /*: DraggableState*/;\n    // Set x/y if a new position is provided in props that is different than the previous.\n    if (position && (!prevPropsPosition || position.x !== prevPropsPosition.x || position.y !== prevPropsPosition.y)) {\n      (0, _log.default)('Draggable: getDerivedStateFromProps %j', {\n        position,\n        prevPropsPosition\n      });\n      return {\n        x: position.x,\n        y: position.y,\n        prevPropsPosition: {\n          ...position\n        }\n      };\n    }\n    return null;\n  }\n  constructor(props /*: DraggableProps*/) {\n    super(props);\n    _defineProperty(this, \"onDragStart\", (e, coreData) => {\n      (0, _log.default)('Draggable: onDragStart: %j', coreData);\n\n      // Short-circuit if user's callback killed it.\n      const shouldStart = this.props.onStart(e, (0, _positionFns.createDraggableData)(this, coreData));\n      // Kills start event on core as well, so move handlers are never bound.\n      if (shouldStart === false) return false;\n      this.setState({\n        dragging: true,\n        dragged: true\n      });\n    });\n    _defineProperty(this, \"onDrag\", (e, coreData) => {\n      if (!this.state.dragging) return false;\n      (0, _log.default)('Draggable: onDrag: %j', coreData);\n      const uiData = (0, _positionFns.createDraggableData)(this, coreData);\n      const newState = {\n        x: uiData.x,\n        y: uiData.y,\n        slackX: 0,\n        slackY: 0\n      };\n\n      // Keep within bounds.\n      if (this.props.bounds) {\n        // Save original x and y.\n        const {\n          x,\n          y\n        } = newState;\n\n        // Add slack to the values used to calculate bound position. This will ensure that if\n        // we start removing slack, the element won't react to it right away until it's been\n        // completely removed.\n        newState.x += this.state.slackX;\n        newState.y += this.state.slackY;\n\n        // Get bound position. This will ceil/floor the x and y within the boundaries.\n        const [newStateX, newStateY] = (0, _positionFns.getBoundPosition)(this, newState.x, newState.y);\n        newState.x = newStateX;\n        newState.y = newStateY;\n\n        // Recalculate slack by noting how much was shaved by the boundPosition handler.\n        newState.slackX = this.state.slackX + (x - newState.x);\n        newState.slackY = this.state.slackY + (y - newState.y);\n\n        // Update the event we fire to reflect what really happened after bounds took effect.\n        uiData.x = newState.x;\n        uiData.y = newState.y;\n        uiData.deltaX = newState.x - this.state.x;\n        uiData.deltaY = newState.y - this.state.y;\n      }\n\n      // Short-circuit if user's callback killed it.\n      const shouldUpdate = this.props.onDrag(e, uiData);\n      if (shouldUpdate === false) return false;\n      this.setState(newState);\n    });\n    _defineProperty(this, \"onDragStop\", (e, coreData) => {\n      if (!this.state.dragging) return false;\n\n      // Short-circuit if user's callback killed it.\n      const shouldContinue = this.props.onStop(e, (0, _positionFns.createDraggableData)(this, coreData));\n      if (shouldContinue === false) return false;\n      (0, _log.default)('Draggable: onDragStop: %j', coreData);\n      const newState /*: Partial<DraggableState>*/ = {\n        dragging: false,\n        slackX: 0,\n        slackY: 0\n      };\n\n      // If this is a controlled component, the result of this operation will be to\n      // revert back to the old position. We expect a handler on `onDragStop`, at the least.\n      const controlled = Boolean(this.props.position);\n      if (controlled) {\n        const {\n          x,\n          y\n        } = this.props.position;\n        newState.x = x;\n        newState.y = y;\n      }\n      this.setState(newState);\n    });\n    this.state = {\n      // Whether or not we are currently dragging.\n      dragging: false,\n      // Whether or not we have been dragged before.\n      dragged: false,\n      // Current transform x and y.\n      x: props.position ? props.position.x : props.defaultPosition.x,\n      y: props.position ? props.position.y : props.defaultPosition.y,\n      prevPropsPosition: {\n        ...props.position\n      },\n      // Used for compensating for out-of-bounds drags\n      slackX: 0,\n      slackY: 0,\n      // Can only determine if SVG after mounting\n      isElementSVG: false\n    };\n    if (props.position && !(props.onDrag || props.onStop)) {\n      // eslint-disable-next-line no-console\n      console.warn('A `position` was applied to this <Draggable>, without drag handlers. This will make this ' + 'component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the ' + '`position` of this element.');\n    }\n  }\n  componentDidMount() {\n    // Check to see if the element passed is an instanceof SVGElement\n    if (typeof window.SVGElement !== 'undefined' && this.findDOMNode() instanceof window.SVGElement) {\n      this.setState({\n        isElementSVG: true\n      });\n    }\n  }\n  componentWillUnmount() {\n    this.setState({\n      dragging: false\n    }); // prevents invariant if unmounted while dragging\n  }\n\n  // React Strict Mode compatibility: if `nodeRef` is passed, we will use it instead of trying to find\n  // the underlying DOM node ourselves. See the README for more information.\n  findDOMNode() /*: ?HTMLElement*/{\n    var _this$props$nodeRef$c, _this$props;\n    return (_this$props$nodeRef$c = (_this$props = this.props) === null || _this$props === void 0 || (_this$props = _this$props.nodeRef) === null || _this$props === void 0 ? void 0 : _this$props.current) !== null && _this$props$nodeRef$c !== void 0 ? _this$props$nodeRef$c : _reactDom.default.findDOMNode(this);\n  }\n  render() /*: ReactElement<any>*/{\n    const {\n      axis,\n      bounds,\n      children,\n      defaultPosition,\n      defaultClassName,\n      defaultClassNameDragging,\n      defaultClassNameDragged,\n      position,\n      positionOffset,\n      scale,\n      ...draggableCoreProps\n    } = this.props;\n    let style = {};\n    let svgTransform = null;\n\n    // If this is controlled, we don't want to move it - unless it's dragging.\n    const controlled = Boolean(position);\n    const draggable = !controlled || this.state.dragging;\n    const validPosition = position || defaultPosition;\n    const transformOpts = {\n      // Set left if horizontal drag is enabled\n      x: (0, _positionFns.canDragX)(this) && draggable ? this.state.x : validPosition.x,\n      // Set top if vertical drag is enabled\n      y: (0, _positionFns.canDragY)(this) && draggable ? this.state.y : validPosition.y\n    };\n\n    // If this element was SVG, we use the `transform` attribute.\n    if (this.state.isElementSVG) {\n      svgTransform = (0, _domFns.createSVGTransform)(transformOpts, positionOffset);\n    } else {\n      // Add a CSS transform to move the element around. This allows us to move the element around\n      // without worrying about whether or not it is relatively or absolutely positioned.\n      // If the item you are dragging already has a transform set, wrap it in a <span> so <Draggable>\n      // has a clean slate.\n      style = (0, _domFns.createCSSTransform)(transformOpts, positionOffset);\n    }\n\n    // Mark with class while dragging\n    const className = (0, _clsx.default)(children.props.className || '', defaultClassName, {\n      [defaultClassNameDragging]: this.state.dragging,\n      [defaultClassNameDragged]: this.state.dragged\n    });\n\n    // Reuse the child provided\n    // This makes it flexible to use whatever element is wanted (div, ul, etc)\n    return /*#__PURE__*/React.createElement(_DraggableCore.default, _extends({}, draggableCoreProps, {\n      onStart: this.onDragStart,\n      onDrag: this.onDrag,\n      onStop: this.onDragStop\n    }), /*#__PURE__*/React.cloneElement(React.Children.only(children), {\n      className: className,\n      style: {\n        ...children.props.style,\n        ...style\n      },\n      transform: svgTransform\n    }));\n  }\n}\nexports.default = Draggable;\n_defineProperty(Draggable, \"displayName\", 'Draggable');\n_defineProperty(Draggable, \"propTypes\", {\n  // Accepts all props <DraggableCore> accepts.\n  ..._DraggableCore.default.propTypes,\n  /**\n   * `axis` determines which axis the draggable can move.\n   *\n   *  Note that all callbacks will still return data as normal. This only\n   *  controls flushing to the DOM.\n   *\n   * 'both' allows movement horizontally and vertically.\n   * 'x' limits movement to horizontal axis.\n   * 'y' limits movement to vertical axis.\n   * 'none' limits all movement.\n   *\n   * Defaults to 'both'.\n   */\n  axis: _propTypes.default.oneOf(['both', 'x', 'y', 'none']),\n  /**\n   * `bounds` determines the range of movement available to the element.\n   * Available values are:\n   *\n   * 'parent' restricts movement within the Draggable's parent node.\n   *\n   * Alternatively, pass an object with the following properties, all of which are optional:\n   *\n   * {left: LEFT_BOUND, right: RIGHT_BOUND, bottom: BOTTOM_BOUND, top: TOP_BOUND}\n   *\n   * All values are in px.\n   *\n   * Example:\n   *\n   * ```jsx\n   *   let App = React.createClass({\n   *       render: function () {\n   *         return (\n   *            <Draggable bounds={{right: 300, bottom: 300}}>\n   *              <div>Content</div>\n   *           </Draggable>\n   *         );\n   *       }\n   *   });\n   * ```\n   */\n  bounds: _propTypes.default.oneOfType([_propTypes.default.shape({\n    left: _propTypes.default.number,\n    right: _propTypes.default.number,\n    top: _propTypes.default.number,\n    bottom: _propTypes.default.number\n  }), _propTypes.default.string, _propTypes.default.oneOf([false])]),\n  defaultClassName: _propTypes.default.string,\n  defaultClassNameDragging: _propTypes.default.string,\n  defaultClassNameDragged: _propTypes.default.string,\n  /**\n   * `defaultPosition` specifies the x and y that the dragged item should start at\n   *\n   * Example:\n   *\n   * ```jsx\n   *      let App = React.createClass({\n   *          render: function () {\n   *              return (\n   *                  <Draggable defaultPosition={{x: 25, y: 25}}>\n   *                      <div>I start with transformX: 25px and transformY: 25px;</div>\n   *                  </Draggable>\n   *              );\n   *          }\n   *      });\n   * ```\n   */\n  defaultPosition: _propTypes.default.shape({\n    x: _propTypes.default.number,\n    y: _propTypes.default.number\n  }),\n  positionOffset: _propTypes.default.shape({\n    x: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n    y: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string])\n  }),\n  /**\n   * `position`, if present, defines the current position of the element.\n   *\n   *  This is similar to how form elements in React work - if no `position` is supplied, the component\n   *  is uncontrolled.\n   *\n   * Example:\n   *\n   * ```jsx\n   *      let App = React.createClass({\n   *          render: function () {\n   *              return (\n   *                  <Draggable position={{x: 25, y: 25}}>\n   *                      <div>I start with transformX: 25px and transformY: 25px;</div>\n   *                  </Draggable>\n   *              );\n   *          }\n   *      });\n   * ```\n   */\n  position: _propTypes.default.shape({\n    x: _propTypes.default.number,\n    y: _propTypes.default.number\n  }),\n  /**\n   * These properties should be defined on the child, not here.\n   */\n  className: _shims.dontSetMe,\n  style: _shims.dontSetMe,\n  transform: _shims.dontSetMe\n});\n_defineProperty(Draggable, \"defaultProps\", {\n  ..._DraggableCore.default.defaultProps,\n  axis: 'both',\n  bounds: false,\n  defaultClassName: 'react-draggable',\n  defaultClassNameDragging: 'react-draggable-dragging',\n  defaultClassNameDragged: 'react-draggable-dragged',\n  defaultPosition: {\n    x: 0,\n    y: 0\n  },\n  scale: 1\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar React = _interopRequireWildcard(require(\"react\"));\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\nvar _reactDom = _interopRequireDefault(require(\"react-dom\"));\nvar _domFns = require(\"./utils/domFns\");\nvar _positionFns = require(\"./utils/positionFns\");\nvar _shims = require(\"./utils/shims\");\nvar _log = _interopRequireDefault(require(\"./utils/log\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n/*:: import type {EventHandler, MouseTouchEvent} from './utils/types';*/\n/*:: import type {Element as ReactElement} from 'react';*/\n// Simple abstraction for dragging events names.\nconst eventsFor = {\n  touch: {\n    start: 'touchstart',\n    move: 'touchmove',\n    stop: 'touchend'\n  },\n  mouse: {\n    start: 'mousedown',\n    move: 'mousemove',\n    stop: 'mouseup'\n  }\n};\n\n// Default to mouse events.\nlet dragEventFor = eventsFor.mouse;\n/*:: export type DraggableData = {\n  node: HTMLElement,\n  x: number, y: number,\n  deltaX: number, deltaY: number,\n  lastX: number, lastY: number,\n};*/\n/*:: export type DraggableEventHandler = (e: MouseEvent, data: DraggableData) => void | false;*/\n/*:: export type ControlPosition = {x: number, y: number};*/\n/*:: export type PositionOffsetControlPosition = {x: number|string, y: number|string};*/\n/*:: export type DraggableCoreDefaultProps = {\n  allowAnyClick: boolean,\n  disabled: boolean,\n  enableUserSelectHack: boolean,\n  onStart: DraggableEventHandler,\n  onDrag: DraggableEventHandler,\n  onStop: DraggableEventHandler,\n  onMouseDown: (e: MouseEvent) => void,\n  scale: number,\n};*/\n/*:: export type DraggableCoreProps = {\n  ...DraggableCoreDefaultProps,\n  cancel: string,\n  children: ReactElement<any>,\n  offsetParent: HTMLElement,\n  grid: [number, number],\n  handle: string,\n  nodeRef?: ?React.ElementRef<any>,\n};*/\n//\n// Define <DraggableCore>.\n//\n// <DraggableCore> is for advanced usage of <Draggable>. It maintains minimal internal state so it can\n// work well with libraries that require more control over the element.\n//\n\nclass DraggableCore extends React.Component /*:: <DraggableCoreProps>*/{\n  constructor() {\n    super(...arguments);\n    _defineProperty(this, \"dragging\", false);\n    // Used while dragging to determine deltas.\n    _defineProperty(this, \"lastX\", NaN);\n    _defineProperty(this, \"lastY\", NaN);\n    _defineProperty(this, \"touchIdentifier\", null);\n    _defineProperty(this, \"mounted\", false);\n    _defineProperty(this, \"handleDragStart\", e => {\n      // Make it possible to attach event handlers on top of this one.\n      this.props.onMouseDown(e);\n\n      // Only accept left-clicks.\n      if (!this.props.allowAnyClick && typeof e.button === 'number' && e.button !== 0) return false;\n\n      // Get nodes. Be sure to grab relative document (could be iframed)\n      const thisNode = this.findDOMNode();\n      if (!thisNode || !thisNode.ownerDocument || !thisNode.ownerDocument.body) {\n        throw new Error('<DraggableCore> not mounted on DragStart!');\n      }\n      const {\n        ownerDocument\n      } = thisNode;\n\n      // Short circuit if handle or cancel prop was provided and selector doesn't match.\n      if (this.props.disabled || !(e.target instanceof ownerDocument.defaultView.Node) || this.props.handle && !(0, _domFns.matchesSelectorAndParentsTo)(e.target, this.props.handle, thisNode) || this.props.cancel && (0, _domFns.matchesSelectorAndParentsTo)(e.target, this.props.cancel, thisNode)) {\n        return;\n      }\n\n      // Prevent scrolling on mobile devices, like ipad/iphone.\n      // Important that this is after handle/cancel.\n      if (e.type === 'touchstart') e.preventDefault();\n\n      // Set touch identifier in component state if this is a touch event. This allows us to\n      // distinguish between individual touches on multitouch screens by identifying which\n      // touchpoint was set to this element.\n      const touchIdentifier = (0, _domFns.getTouchIdentifier)(e);\n      this.touchIdentifier = touchIdentifier;\n\n      // Get the current drag point from the event. This is used as the offset.\n      const position = (0, _positionFns.getControlPosition)(e, touchIdentifier, this);\n      if (position == null) return; // not possible but satisfies flow\n      const {\n        x,\n        y\n      } = position;\n\n      // Create an event object with all the data parents need to make a decision here.\n      const coreEvent = (0, _positionFns.createCoreData)(this, x, y);\n      (0, _log.default)('DraggableCore: handleDragStart: %j', coreEvent);\n\n      // Call event handler. If it returns explicit false, cancel.\n      (0, _log.default)('calling', this.props.onStart);\n      const shouldUpdate = this.props.onStart(e, coreEvent);\n      if (shouldUpdate === false || this.mounted === false) return;\n\n      // Add a style to the body to disable user-select. This prevents text from\n      // being selected all over the page.\n      if (this.props.enableUserSelectHack) (0, _domFns.addUserSelectStyles)(ownerDocument);\n\n      // Initiate dragging. Set the current x and y as offsets\n      // so we know how much we've moved during the drag. This allows us\n      // to drag elements around even if they have been moved, without issue.\n      this.dragging = true;\n      this.lastX = x;\n      this.lastY = y;\n\n      // Add events to the document directly so we catch when the user's mouse/touch moves outside of\n      // this element. We use different events depending on whether or not we have detected that this\n      // is a touch-capable device.\n      (0, _domFns.addEvent)(ownerDocument, dragEventFor.move, this.handleDrag);\n      (0, _domFns.addEvent)(ownerDocument, dragEventFor.stop, this.handleDragStop);\n    });\n    _defineProperty(this, \"handleDrag\", e => {\n      // Get the current drag point from the event. This is used as the offset.\n      const position = (0, _positionFns.getControlPosition)(e, this.touchIdentifier, this);\n      if (position == null) return;\n      let {\n        x,\n        y\n      } = position;\n\n      // Snap to grid if prop has been provided\n      if (Array.isArray(this.props.grid)) {\n        let deltaX = x - this.lastX,\n          deltaY = y - this.lastY;\n        [deltaX, deltaY] = (0, _positionFns.snapToGrid)(this.props.grid, deltaX, deltaY);\n        if (!deltaX && !deltaY) return; // skip useless drag\n        x = this.lastX + deltaX, y = this.lastY + deltaY;\n      }\n      const coreEvent = (0, _positionFns.createCoreData)(this, x, y);\n      (0, _log.default)('DraggableCore: handleDrag: %j', coreEvent);\n\n      // Call event handler. If it returns explicit false, trigger end.\n      const shouldUpdate = this.props.onDrag(e, coreEvent);\n      if (shouldUpdate === false || this.mounted === false) {\n        try {\n          // $FlowIgnore\n          this.handleDragStop(new MouseEvent('mouseup'));\n        } catch (err) {\n          // Old browsers\n          const event = ((document.createEvent('MouseEvents') /*: any*/) /*: MouseTouchEvent*/);\n          // I see why this insanity was deprecated\n          // $FlowIgnore\n          event.initMouseEvent('mouseup', true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n          this.handleDragStop(event);\n        }\n        return;\n      }\n      this.lastX = x;\n      this.lastY = y;\n    });\n    _defineProperty(this, \"handleDragStop\", e => {\n      if (!this.dragging) return;\n      const position = (0, _positionFns.getControlPosition)(e, this.touchIdentifier, this);\n      if (position == null) return;\n      let {\n        x,\n        y\n      } = position;\n\n      // Snap to grid if prop has been provided\n      if (Array.isArray(this.props.grid)) {\n        let deltaX = x - this.lastX || 0;\n        let deltaY = y - this.lastY || 0;\n        [deltaX, deltaY] = (0, _positionFns.snapToGrid)(this.props.grid, deltaX, deltaY);\n        x = this.lastX + deltaX, y = this.lastY + deltaY;\n      }\n      const coreEvent = (0, _positionFns.createCoreData)(this, x, y);\n\n      // Call event handler\n      const shouldContinue = this.props.onStop(e, coreEvent);\n      if (shouldContinue === false || this.mounted === false) return false;\n      const thisNode = this.findDOMNode();\n      if (thisNode) {\n        // Remove user-select hack\n        if (this.props.enableUserSelectHack) (0, _domFns.removeUserSelectStyles)(thisNode.ownerDocument);\n      }\n      (0, _log.default)('DraggableCore: handleDragStop: %j', coreEvent);\n\n      // Reset the el.\n      this.dragging = false;\n      this.lastX = NaN;\n      this.lastY = NaN;\n      if (thisNode) {\n        // Remove event handlers\n        (0, _log.default)('DraggableCore: Removing handlers');\n        (0, _domFns.removeEvent)(thisNode.ownerDocument, dragEventFor.move, this.handleDrag);\n        (0, _domFns.removeEvent)(thisNode.ownerDocument, dragEventFor.stop, this.handleDragStop);\n      }\n    });\n    _defineProperty(this, \"onMouseDown\", e => {\n      dragEventFor = eventsFor.mouse; // on touchscreen laptops we could switch back to mouse\n\n      return this.handleDragStart(e);\n    });\n    _defineProperty(this, \"onMouseUp\", e => {\n      dragEventFor = eventsFor.mouse;\n      return this.handleDragStop(e);\n    });\n    // Same as onMouseDown (start drag), but now consider this a touch device.\n    _defineProperty(this, \"onTouchStart\", e => {\n      // We're on a touch device now, so change the event handlers\n      dragEventFor = eventsFor.touch;\n      return this.handleDragStart(e);\n    });\n    _defineProperty(this, \"onTouchEnd\", e => {\n      // We're on a touch device now, so change the event handlers\n      dragEventFor = eventsFor.touch;\n      return this.handleDragStop(e);\n    });\n  }\n  componentDidMount() {\n    this.mounted = true;\n    // Touch handlers must be added with {passive: false} to be cancelable.\n    // https://developers.google.com/web/updates/2017/01/scrolling-intervention\n    const thisNode = this.findDOMNode();\n    if (thisNode) {\n      (0, _domFns.addEvent)(thisNode, eventsFor.touch.start, this.onTouchStart, {\n        passive: false\n      });\n    }\n  }\n  componentWillUnmount() {\n    this.mounted = false;\n    // Remove any leftover event handlers. Remove both touch and mouse handlers in case\n    // some browser quirk caused a touch event to fire during a mouse move, or vice versa.\n    const thisNode = this.findDOMNode();\n    if (thisNode) {\n      const {\n        ownerDocument\n      } = thisNode;\n      (0, _domFns.removeEvent)(ownerDocument, eventsFor.mouse.move, this.handleDrag);\n      (0, _domFns.removeEvent)(ownerDocument, eventsFor.touch.move, this.handleDrag);\n      (0, _domFns.removeEvent)(ownerDocument, eventsFor.mouse.stop, this.handleDragStop);\n      (0, _domFns.removeEvent)(ownerDocument, eventsFor.touch.stop, this.handleDragStop);\n      (0, _domFns.removeEvent)(thisNode, eventsFor.touch.start, this.onTouchStart, {\n        passive: false\n      });\n      if (this.props.enableUserSelectHack) (0, _domFns.removeUserSelectStyles)(ownerDocument);\n    }\n  }\n\n  // React Strict Mode compatibility: if `nodeRef` is passed, we will use it instead of trying to find\n  // the underlying DOM node ourselves. See the README for more information.\n  findDOMNode() /*: ?HTMLElement*/{\n    var _this$props, _this$props2;\n    return (_this$props = this.props) !== null && _this$props !== void 0 && _this$props.nodeRef ? (_this$props2 = this.props) === null || _this$props2 === void 0 || (_this$props2 = _this$props2.nodeRef) === null || _this$props2 === void 0 ? void 0 : _this$props2.current : _reactDom.default.findDOMNode(this);\n  }\n  render() /*: React.Element<any>*/{\n    // Reuse the child provided\n    // This makes it flexible to use whatever element is wanted (div, ul, etc)\n    return /*#__PURE__*/React.cloneElement(React.Children.only(this.props.children), {\n      // Note: mouseMove handler is attached to document so it will still function\n      // when the user drags quickly and leaves the bounds of the element.\n      onMouseDown: this.onMouseDown,\n      onMouseUp: this.onMouseUp,\n      // onTouchStart is added on `componentDidMount` so they can be added with\n      // {passive: false}, which allows it to cancel. See\n      // https://developers.google.com/web/updates/2017/01/scrolling-intervention\n      onTouchEnd: this.onTouchEnd\n    });\n  }\n}\nexports.default = DraggableCore;\n_defineProperty(DraggableCore, \"displayName\", 'DraggableCore');\n_defineProperty(DraggableCore, \"propTypes\", {\n  /**\n   * `allowAnyClick` allows dragging using any mouse button.\n   * By default, we only accept the left button.\n   *\n   * Defaults to `false`.\n   */\n  allowAnyClick: _propTypes.default.bool,\n  children: _propTypes.default.node.isRequired,\n  /**\n   * `disabled`, if true, stops the <Draggable> from dragging. All handlers,\n   * with the exception of `onMouseDown`, will not fire.\n   */\n  disabled: _propTypes.default.bool,\n  /**\n   * By default, we add 'user-select:none' attributes to the document body\n   * to prevent ugly text selection during drag. If this is causing problems\n   * for your app, set this to `false`.\n   */\n  enableUserSelectHack: _propTypes.default.bool,\n  /**\n   * `offsetParent`, if set, uses the passed DOM node to compute drag offsets\n   * instead of using the parent node.\n   */\n  offsetParent: function (props /*: DraggableCoreProps*/, propName /*: $Keys<DraggableCoreProps>*/) {\n    if (props[propName] && props[propName].nodeType !== 1) {\n      throw new Error('Draggable\\'s offsetParent must be a DOM Node.');\n    }\n  },\n  /**\n   * `grid` specifies the x and y that dragging should snap to.\n   */\n  grid: _propTypes.default.arrayOf(_propTypes.default.number),\n  /**\n   * `handle` specifies a selector to be used as the handle that initiates drag.\n   *\n   * Example:\n   *\n   * ```jsx\n   *   let App = React.createClass({\n   *       render: function () {\n   *         return (\n   *            <Draggable handle=\".handle\">\n   *              <div>\n   *                  <div className=\"handle\">Click me to drag</div>\n   *                  <div>This is some other content</div>\n   *              </div>\n   *           </Draggable>\n   *         );\n   *       }\n   *   });\n   * ```\n   */\n  handle: _propTypes.default.string,\n  /**\n   * `cancel` specifies a selector to be used to prevent drag initialization.\n   *\n   * Example:\n   *\n   * ```jsx\n   *   let App = React.createClass({\n   *       render: function () {\n   *           return(\n   *               <Draggable cancel=\".cancel\">\n   *                   <div>\n   *                     <div className=\"cancel\">You can't drag from here</div>\n   *                     <div>Dragging here works fine</div>\n   *                   </div>\n   *               </Draggable>\n   *           );\n   *       }\n   *   });\n   * ```\n   */\n  cancel: _propTypes.default.string,\n  /* If running in React Strict mode, ReactDOM.findDOMNode() is deprecated.\n   * Unfortunately, in order for <Draggable> to work properly, we need raw access\n   * to the underlying DOM node. If you want to avoid the warning, pass a `nodeRef`\n   * as in this example:\n   *\n   * function MyComponent() {\n   *   const nodeRef = React.useRef(null);\n   *   return (\n   *     <Draggable nodeRef={nodeRef}>\n   *       <div ref={nodeRef}>Example Target</div>\n   *     </Draggable>\n   *   );\n   * }\n   *\n   * This can be used for arbitrarily nested components, so long as the ref ends up\n   * pointing to the actual child DOM node and not a custom component.\n   */\n  nodeRef: _propTypes.default.object,\n  /**\n   * Called when dragging starts.\n   * If this function returns the boolean false, dragging will be canceled.\n   */\n  onStart: _propTypes.default.func,\n  /**\n   * Called while dragging.\n   * If this function returns the boolean false, dragging will be canceled.\n   */\n  onDrag: _propTypes.default.func,\n  /**\n   * Called when dragging stops.\n   * If this function returns the boolean false, the drag will remain active.\n   */\n  onStop: _propTypes.default.func,\n  /**\n   * A workaround option which can be passed if onMouseDown needs to be accessed,\n   * since it'll always be blocked (as there is internal use of onMouseDown)\n   */\n  onMouseDown: _propTypes.default.func,\n  /**\n   * `scale`, if set, applies scaling while dragging an element\n   */\n  scale: _propTypes.default.number,\n  /**\n   * These properties should be defined on the child, not here.\n   */\n  className: _shims.dontSetMe,\n  style: _shims.dontSetMe,\n  transform: _shims.dontSetMe\n});\n_defineProperty(DraggableCore, \"defaultProps\", {\n  allowAnyClick: false,\n  // by default only accept left click\n  disabled: false,\n  enableUserSelectHack: true,\n  onStart: function () {},\n  onDrag: function () {},\n  onStop: function () {},\n  onMouseDown: function () {},\n  scale: 1\n});","\"use strict\";\n\nconst {\n  default: Draggable,\n  DraggableCore\n} = require('./Draggable');\n\n// Previous versions of this lib exported <Draggable> as the root export. As to no-// them, or TypeScript, we export *both* as the root and as 'default'.\n// See https://github.com/mzabriskie/react-draggable/pull/254\n// and https://github.com/mzabriskie/react-draggable/issues/266\nmodule.exports = Draggable;\nmodule.exports.default = Draggable;\nmodule.exports.DraggableCore = DraggableCore;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.addClassName = addClassName;\nexports.addEvent = addEvent;\nexports.addUserSelectStyles = addUserSelectStyles;\nexports.createCSSTransform = createCSSTransform;\nexports.createSVGTransform = createSVGTransform;\nexports.getTouch = getTouch;\nexports.getTouchIdentifier = getTouchIdentifier;\nexports.getTranslation = getTranslation;\nexports.innerHeight = innerHeight;\nexports.innerWidth = innerWidth;\nexports.matchesSelector = matchesSelector;\nexports.matchesSelectorAndParentsTo = matchesSelectorAndParentsTo;\nexports.offsetXYFromParent = offsetXYFromParent;\nexports.outerHeight = outerHeight;\nexports.outerWidth = outerWidth;\nexports.removeClassName = removeClassName;\nexports.removeEvent = removeEvent;\nexports.removeUserSelectStyles = removeUserSelectStyles;\nvar _shims = require(\"./shims\");\nvar _getPrefix = _interopRequireWildcard(require(\"./getPrefix\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n/*:: import type {ControlPosition, PositionOffsetControlPosition, MouseTouchEvent} from './types';*/\nlet matchesSelectorFunc = '';\nfunction matchesSelector(el /*: Node*/, selector /*: string*/) /*: boolean*/{\n  if (!matchesSelectorFunc) {\n    matchesSelectorFunc = (0, _shims.findInArray)(['matches', 'webkitMatchesSelector', 'mozMatchesSelector', 'msMatchesSelector', 'oMatchesSelector'], function (method) {\n      // $FlowIgnore: Doesn't think elements are indexable\n      return (0, _shims.isFunction)(el[method]);\n    });\n  }\n\n  // Might not be found entirely (not an Element?) - in that case, bail\n  // $FlowIgnore: Doesn't think elements are indexable\n  if (!(0, _shims.isFunction)(el[matchesSelectorFunc])) return false;\n\n  // $FlowIgnore: Doesn't think elements are indexable\n  return el[matchesSelectorFunc](selector);\n}\n\n// Works up the tree to the draggable itself attempting to match selector.\nfunction matchesSelectorAndParentsTo(el /*: Node*/, selector /*: string*/, baseNode /*: Node*/) /*: boolean*/{\n  let node = el;\n  do {\n    if (matchesSelector(node, selector)) return true;\n    if (node === baseNode) return false;\n    // $FlowIgnore[incompatible-type]\n    node = node.parentNode;\n  } while (node);\n  return false;\n}\nfunction addEvent(el /*: ?Node*/, event /*: string*/, handler /*: Function*/, inputOptions /*: Object*/) /*: void*/{\n  if (!el) return;\n  const options = {\n    capture: true,\n    ...inputOptions\n  };\n  // $FlowIgnore[method-unbinding]\n  if (el.addEventListener) {\n    el.addEventListener(event, handler, options);\n  } else if (el.attachEvent) {\n    el.attachEvent('on' + event, handler);\n  } else {\n    // $FlowIgnore: Doesn't think elements are indexable\n    el['on' + event] = handler;\n  }\n}\nfunction removeEvent(el /*: ?Node*/, event /*: string*/, handler /*: Function*/, inputOptions /*: Object*/) /*: void*/{\n  if (!el) return;\n  const options = {\n    capture: true,\n    ...inputOptions\n  };\n  // $FlowIgnore[method-unbinding]\n  if (el.removeEventListener) {\n    el.removeEventListener(event, handler, options);\n  } else if (el.detachEvent) {\n    el.detachEvent('on' + event, handler);\n  } else {\n    // $FlowIgnore: Doesn't think elements are indexable\n    el['on' + event] = null;\n  }\n}\nfunction outerHeight(node /*: HTMLElement*/) /*: number*/{\n  // This is deliberately excluding margin for our calculations, since we are using\n  // offsetTop which is including margin. See getBoundPosition\n  let height = node.clientHeight;\n  const computedStyle = node.ownerDocument.defaultView.getComputedStyle(node);\n  height += (0, _shims.int)(computedStyle.borderTopWidth);\n  height += (0, _shims.int)(computedStyle.borderBottomWidth);\n  return height;\n}\nfunction outerWidth(node /*: HTMLElement*/) /*: number*/{\n  // This is deliberately excluding margin for our calculations, since we are using\n  // offsetLeft which is including margin. See getBoundPosition\n  let width = node.clientWidth;\n  const computedStyle = node.ownerDocument.defaultView.getComputedStyle(node);\n  width += (0, _shims.int)(computedStyle.borderLeftWidth);\n  width += (0, _shims.int)(computedStyle.borderRightWidth);\n  return width;\n}\nfunction innerHeight(node /*: HTMLElement*/) /*: number*/{\n  let height = node.clientHeight;\n  const computedStyle = node.ownerDocument.defaultView.getComputedStyle(node);\n  height -= (0, _shims.int)(computedStyle.paddingTop);\n  height -= (0, _shims.int)(computedStyle.paddingBottom);\n  return height;\n}\nfunction innerWidth(node /*: HTMLElement*/) /*: number*/{\n  let width = node.clientWidth;\n  const computedStyle = node.ownerDocument.defaultView.getComputedStyle(node);\n  width -= (0, _shims.int)(computedStyle.paddingLeft);\n  width -= (0, _shims.int)(computedStyle.paddingRight);\n  return width;\n}\n/*:: interface EventWithOffset {\n  clientX: number, clientY: number\n}*/\n// Get from offsetParent\nfunction offsetXYFromParent(evt /*: EventWithOffset*/, offsetParent /*: HTMLElement*/, scale /*: number*/) /*: ControlPosition*/{\n  const isBody = offsetParent === offsetParent.ownerDocument.body;\n  const offsetParentRect = isBody ? {\n    left: 0,\n    top: 0\n  } : offsetParent.getBoundingClientRect();\n  const x = (evt.clientX + offsetParent.scrollLeft - offsetParentRect.left) / scale;\n  const y = (evt.clientY + offsetParent.scrollTop - offsetParentRect.top) / scale;\n  return {\n    x,\n    y\n  };\n}\nfunction createCSSTransform(controlPos /*: ControlPosition*/, positionOffset /*: PositionOffsetControlPosition*/) /*: Object*/{\n  const translation = getTranslation(controlPos, positionOffset, 'px');\n  return {\n    [(0, _getPrefix.browserPrefixToKey)('transform', _getPrefix.default)]: translation\n  };\n}\nfunction createSVGTransform(controlPos /*: ControlPosition*/, positionOffset /*: PositionOffsetControlPosition*/) /*: string*/{\n  const translation = getTranslation(controlPos, positionOffset, '');\n  return translation;\n}\nfunction getTranslation(_ref /*:: */, positionOffset /*: PositionOffsetControlPosition*/, unitSuffix /*: string*/) /*: string*/{\n  let {\n    x,\n    y\n  } /*: ControlPosition*/ = _ref /*: ControlPosition*/;\n  let translation = \"translate(\".concat(x).concat(unitSuffix, \",\").concat(y).concat(unitSuffix, \")\");\n  if (positionOffset) {\n    const defaultX = \"\".concat(typeof positionOffset.x === 'string' ? positionOffset.x : positionOffset.x + unitSuffix);\n    const defaultY = \"\".concat(typeof positionOffset.y === 'string' ? positionOffset.y : positionOffset.y + unitSuffix);\n    translation = \"translate(\".concat(defaultX, \", \").concat(defaultY, \")\") + translation;\n  }\n  return translation;\n}\nfunction getTouch(e /*: MouseTouchEvent*/, identifier /*: number*/) /*: ?{clientX: number, clientY: number}*/{\n  return e.targetTouches && (0, _shims.findInArray)(e.targetTouches, t => identifier === t.identifier) || e.changedTouches && (0, _shims.findInArray)(e.changedTouches, t => identifier === t.identifier);\n}\nfunction getTouchIdentifier(e /*: MouseTouchEvent*/) /*: ?number*/{\n  if (e.targetTouches && e.targetTouches[0]) return e.targetTouches[0].identifier;\n  if (e.changedTouches && e.changedTouches[0]) return e.changedTouches[0].identifier;\n}\n\n// User-select Hacks:\n//\n// Useful for preventing blue highlights all over everything when dragging.\n\n// Note we're passing `document` b/c we could be iframed\nfunction addUserSelectStyles(doc /*: ?Document*/) {\n  if (!doc) return;\n  let styleEl = doc.getElementById('react-draggable-style-el');\n  if (!styleEl) {\n    styleEl = doc.createElement('style');\n    styleEl.type = 'text/css';\n    styleEl.id = 'react-draggable-style-el';\n    styleEl.innerHTML = '.react-draggable-transparent-selection *::-moz-selection {all: inherit;}\\n';\n    styleEl.innerHTML += '.react-draggable-transparent-selection *::selection {all: inherit;}\\n';\n    doc.getElementsByTagName('head')[0].appendChild(styleEl);\n  }\n  if (doc.body) addClassName(doc.body, 'react-draggable-transparent-selection');\n}\nfunction removeUserSelectStyles(doc /*: ?Document*/) {\n  if (!doc) return;\n  try {\n    if (doc.body) removeClassName(doc.body, 'react-draggable-transparent-selection');\n    // $FlowIgnore: IE\n    if (doc.selection) {\n      // $FlowIgnore: IE\n      doc.selection.empty();\n    } else {\n      // Remove selection caused by scroll, unless it's a focused input\n      // (we use doc.defaultView in case we're in an iframe)\n      const selection = (doc.defaultView || window).getSelection();\n      if (selection && selection.type !== 'Caret') {\n        selection.removeAllRanges();\n      }\n    }\n  } catch (e) {\n    // probably IE\n  }\n}\nfunction addClassName(el /*: HTMLElement*/, className /*: string*/) {\n  if (el.classList) {\n    el.classList.add(className);\n  } else {\n    if (!el.className.match(new RegExp(\"(?:^|\\\\s)\".concat(className, \"(?!\\\\S)\")))) {\n      el.className += \" \".concat(className);\n    }\n  }\n}\nfunction removeClassName(el /*: HTMLElement*/, className /*: string*/) {\n  if (el.classList) {\n    el.classList.remove(className);\n  } else {\n    el.className = el.className.replace(new RegExp(\"(?:^|\\\\s)\".concat(className, \"(?!\\\\S)\"), 'g'), '');\n  }\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.browserPrefixToKey = browserPrefixToKey;\nexports.browserPrefixToStyle = browserPrefixToStyle;\nexports.default = void 0;\nexports.getPrefix = getPrefix;\nconst prefixes = ['Moz', 'Webkit', 'O', 'ms'];\nfunction getPrefix() /*: string*/{\n  var _window$document;\n  let prop /*: string*/ = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'transform';\n  // Ensure we're running in an environment where there is actually a global\n  // `window` obj\n  if (typeof window === 'undefined') return '';\n\n  // If we're in a pseudo-browser server-side environment, this access\n  // path may not exist, so bail out if it doesn't.\n  const style = (_window$document = window.document) === null || _window$document === void 0 || (_window$document = _window$document.documentElement) === null || _window$document === void 0 ? void 0 : _window$document.style;\n  if (!style) return '';\n  if (prop in style) return '';\n  for (let i = 0; i < prefixes.length; i++) {\n    if (browserPrefixToKey(prop, prefixes[i]) in style) return prefixes[i];\n  }\n  return '';\n}\nfunction browserPrefixToKey(prop /*: string*/, prefix /*: string*/) /*: string*/{\n  return prefix ? \"\".concat(prefix).concat(kebabToTitleCase(prop)) : prop;\n}\nfunction browserPrefixToStyle(prop /*: string*/, prefix /*: string*/) /*: string*/{\n  return prefix ? \"-\".concat(prefix.toLowerCase(), \"-\").concat(prop) : prop;\n}\nfunction kebabToTitleCase(str /*: string*/) /*: string*/{\n  let out = '';\n  let shouldCapitalize = true;\n  for (let i = 0; i < str.length; i++) {\n    if (shouldCapitalize) {\n      out += str[i].toUpperCase();\n      shouldCapitalize = false;\n    } else if (str[i] === '-') {\n      shouldCapitalize = true;\n    } else {\n      out += str[i];\n    }\n  }\n  return out;\n}\n\n// Default export is the prefix itself, like 'Moz', 'Webkit', etc\n// Note that you may have to re-test for certain things; for instance, Chrome 50\n// can handle unprefixed `transform`, but not unprefixed `user-select`\nvar _default = exports.default = (getPrefix() /*: string*/);","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = log;\n/*eslint no-console:0*/\nfunction log() {\n  if (undefined) console.log(...arguments);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.canDragX = canDragX;\nexports.canDragY = canDragY;\nexports.createCoreData = createCoreData;\nexports.createDraggableData = createDraggableData;\nexports.getBoundPosition = getBoundPosition;\nexports.getControlPosition = getControlPosition;\nexports.snapToGrid = snapToGrid;\nvar _shims = require(\"./shims\");\nvar _domFns = require(\"./domFns\");\n/*:: import type Draggable from '../Draggable';*/\n/*:: import type {Bounds, ControlPosition, DraggableData, MouseTouchEvent} from './types';*/\n/*:: import type DraggableCore from '../DraggableCore';*/\nfunction getBoundPosition(draggable /*: Draggable*/, x /*: number*/, y /*: number*/) /*: [number, number]*/{\n  // If no bounds, short-circuit and move on\n  if (!draggable.props.bounds) return [x, y];\n\n  // Clone new bounds\n  let {\n    bounds\n  } = draggable.props;\n  bounds = typeof bounds === 'string' ? bounds : cloneBounds(bounds);\n  const node = findDOMNode(draggable);\n  if (typeof bounds === 'string') {\n    const {\n      ownerDocument\n    } = node;\n    const ownerWindow = ownerDocument.defaultView;\n    let boundNode;\n    if (bounds === 'parent') {\n      boundNode = node.parentNode;\n    } else {\n      boundNode = ownerDocument.querySelector(bounds);\n    }\n    if (!(boundNode instanceof ownerWindow.HTMLElement)) {\n      throw new Error('Bounds selector \"' + bounds + '\" could not find an element.');\n    }\n    const boundNodeEl /*: HTMLElement*/ = boundNode; // for Flow, can't seem to refine correctly\n    const nodeStyle = ownerWindow.getComputedStyle(node);\n    const boundNodeStyle = ownerWindow.getComputedStyle(boundNodeEl);\n    // Compute bounds. This is a pain with padding and offsets but this gets it exactly right.\n    bounds = {\n      left: -node.offsetLeft + (0, _shims.int)(boundNodeStyle.paddingLeft) + (0, _shims.int)(nodeStyle.marginLeft),\n      top: -node.offsetTop + (0, _shims.int)(boundNodeStyle.paddingTop) + (0, _shims.int)(nodeStyle.marginTop),\n      right: (0, _domFns.innerWidth)(boundNodeEl) - (0, _domFns.outerWidth)(node) - node.offsetLeft + (0, _shims.int)(boundNodeStyle.paddingRight) - (0, _shims.int)(nodeStyle.marginRight),\n      bottom: (0, _domFns.innerHeight)(boundNodeEl) - (0, _domFns.outerHeight)(node) - node.offsetTop + (0, _shims.int)(boundNodeStyle.paddingBottom) - (0, _shims.int)(nodeStyle.marginBottom)\n    };\n  }\n\n  // Keep x and y below right and bottom limits...\n  if ((0, _shims.isNum)(bounds.right)) x = Math.min(x, bounds.right);\n  if ((0, _shims.isNum)(bounds.bottom)) y = Math.min(y, bounds.bottom);\n\n  // But above left and top limits.\n  if ((0, _shims.isNum)(bounds.left)) x = Math.max(x, bounds.left);\n  if ((0, _shims.isNum)(bounds.top)) y = Math.max(y, bounds.top);\n  return [x, y];\n}\nfunction snapToGrid(grid /*: [number, number]*/, pendingX /*: number*/, pendingY /*: number*/) /*: [number, number]*/{\n  const x = Math.round(pendingX / grid[0]) * grid[0];\n  const y = Math.round(pendingY / grid[1]) * grid[1];\n  return [x, y];\n}\nfunction canDragX(draggable /*: Draggable*/) /*: boolean*/{\n  return draggable.props.axis === 'both' || draggable.props.axis === 'x';\n}\nfunction canDragY(draggable /*: Draggable*/) /*: boolean*/{\n  return draggable.props.axis === 'both' || draggable.props.axis === 'y';\n}\n\n// Get {x, y} positions from event.\nfunction getControlPosition(e /*: MouseTouchEvent*/, touchIdentifier /*: ?number*/, draggableCore /*: DraggableCore*/) /*: ?ControlPosition*/{\n  const touchObj = typeof touchIdentifier === 'number' ? (0, _domFns.getTouch)(e, touchIdentifier) : null;\n  if (typeof touchIdentifier === 'number' && !touchObj) return null; // not the right touch\n  const node = findDOMNode(draggableCore);\n  // User can provide an offsetParent if desired.\n  const offsetParent = draggableCore.props.offsetParent || node.offsetParent || node.ownerDocument.body;\n  return (0, _domFns.offsetXYFromParent)(touchObj || e, offsetParent, draggableCore.props.scale);\n}\n\n// Create an data object exposed by <DraggableCore>'s events\nfunction createCoreData(draggable /*: DraggableCore*/, x /*: number*/, y /*: number*/) /*: DraggableData*/{\n  const isStart = !(0, _shims.isNum)(draggable.lastX);\n  const node = findDOMNode(draggable);\n  if (isStart) {\n    // If this is our first move, use the x and y as last coords.\n    return {\n      node,\n      deltaX: 0,\n      deltaY: 0,\n      lastX: x,\n      lastY: y,\n      x,\n      y\n    };\n  } else {\n    // Otherwise calculate proper values.\n    return {\n      node,\n      deltaX: x - draggable.lastX,\n      deltaY: y - draggable.lastY,\n      lastX: draggable.lastX,\n      lastY: draggable.lastY,\n      x,\n      y\n    };\n  }\n}\n\n// Create an data exposed by <Draggable>'s events\nfunction createDraggableData(draggable /*: Draggable*/, coreData /*: DraggableData*/) /*: DraggableData*/{\n  const scale = draggable.props.scale;\n  return {\n    node: coreData.node,\n    x: draggable.state.x + coreData.deltaX / scale,\n    y: draggable.state.y + coreData.deltaY / scale,\n    deltaX: coreData.deltaX / scale,\n    deltaY: coreData.deltaY / scale,\n    lastX: draggable.state.x,\n    lastY: draggable.state.y\n  };\n}\n\n// A lot faster than stringify/parse\nfunction cloneBounds(bounds /*: Bounds*/) /*: Bounds*/{\n  return {\n    left: bounds.left,\n    top: bounds.top,\n    right: bounds.right,\n    bottom: bounds.bottom\n  };\n}\nfunction findDOMNode(draggable /*: Draggable | DraggableCore*/) /*: HTMLElement*/{\n  const node = draggable.findDOMNode();\n  if (!node) {\n    throw new Error('<DraggableCore>: Unmounted during event!');\n  }\n  // $FlowIgnore we can't assert on HTMLElement due to tests... FIXME\n  return node;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.dontSetMe = dontSetMe;\nexports.findInArray = findInArray;\nexports.int = int;\nexports.isFunction = isFunction;\nexports.isNum = isNum;\n// @credits https://gist.github.com/rogozhnikoff/a43cfed27c41e4e68cdc\nfunction findInArray(array /*: Array<any> | TouchList*/, callback /*: Function*/) /*: any*/{\n  for (let i = 0, length = array.length; i < length; i++) {\n    if (callback.apply(callback, [array[i], i, array])) return array[i];\n  }\n}\nfunction isFunction(func /*: any*/) /*: boolean %checks*/{\n  // $FlowIgnore[method-unbinding]\n  return typeof func === 'function' || Object.prototype.toString.call(func) === '[object Function]';\n}\nfunction isNum(num /*: any*/) /*: boolean %checks*/{\n  return typeof num === 'number' && !isNaN(num);\n}\nfunction int(a /*: string*/) /*: number*/{\n  return parseInt(a, 10);\n}\nfunction dontSetMe(props /*: Object*/, propName /*: string*/, componentName /*: string*/) /*: ?Error*/{\n  if (props[propName]) {\n    return new Error(\"Invalid prop \".concat(propName, \" passed to \").concat(componentName, \" - do not set this, set it on the child.\"));\n  }\n}","function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f);else for(t in e)e[t]&&(n&&(n+=\" \"),n+=t);return n}export function clsx(){for(var e,t,f=0,n=\"\";f<arguments.length;)(e=arguments[f++])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;","/* global Map:readonly, Set:readonly, ArrayBuffer:readonly */\n\nvar hasElementType = typeof Element !== 'undefined';\nvar hasMap = typeof Map === 'function';\nvar hasSet = typeof Set === 'function';\nvar hasArrayBuffer = typeof ArrayBuffer === 'function' && !!ArrayBuffer.isView;\n\n// Note: We **don't** need `envHasBigInt64Array` in fde es6/index.js\n\nfunction equal(a, b) {\n  // START: fast-deep-equal es6/index.js 3.1.3\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n    // START: Modifications:\n    // 1. Extra `has<Type> &&` helpers in initial condition allow es6 code\n    //    to co-exist with es5.\n    // 2. Replace `for of` with es5 compliant iteration using `for`.\n    //    Basically, take:\n    //\n    //    ```js\n    //    for (i of a.entries())\n    //      if (!b.has(i[0])) return false;\n    //    ```\n    //\n    //    ... and convert to:\n    //\n    //    ```js\n    //    it = a.entries();\n    //    while (!(i = it.next()).done)\n    //      if (!b.has(i.value[0])) return false;\n    //    ```\n    //\n    //    **Note**: `i` access switches to `i.value`.\n    var it;\n    if (hasMap && (a instanceof Map) && (b instanceof Map)) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!b.has(i.value[0])) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!equal(i.value[1], b.get(i.value[0]))) return false;\n      return true;\n    }\n\n    if (hasSet && (a instanceof Set) && (b instanceof Set)) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!b.has(i.value[0])) return false;\n      return true;\n    }\n    // END: Modifications\n\n    if (hasArrayBuffer && ArrayBuffer.isView(a) && ArrayBuffer.isView(b)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (a[i] !== b[i]) return false;\n      return true;\n    }\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    // START: Modifications:\n    // Apply guards for `Object.create(null)` handling. See:\n    // - https://github.com/FormidableLabs/react-fast-compare/issues/64\n    // - https://github.com/epoberezkin/fast-deep-equal/issues/49\n    if (a.valueOf !== Object.prototype.valueOf && typeof a.valueOf === 'function' && typeof b.valueOf === 'function') return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString && typeof a.toString === 'function' && typeof b.toString === 'function') return a.toString() === b.toString();\n    // END: Modifications\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n    // END: fast-deep-equal\n\n    // START: react-fast-compare\n    // custom handling for DOM elements\n    if (hasElementType && a instanceof Element) return false;\n\n    // custom handling for React/Preact\n    for (i = length; i-- !== 0;) {\n      if ((keys[i] === '_owner' || keys[i] === '__v' || keys[i] === '__o') && a.$$typeof) {\n        // React-specific: avoid traversing React elements' _owner\n        // Preact-specific: avoid traversing Preact elements' __v and __o\n        //    __v = $_original / $_vnode\n        //    __o = $_owner\n        // These properties contain circular references and are not needed when\n        // comparing the actual elements (and not their owners)\n        // .$$typeof and ._store on just reasonable markers of elements\n\n        continue;\n      }\n\n      // all other properties should be traversed as usual\n      if (!equal(a[keys[i]], b[keys[i]])) return false;\n    }\n    // END: react-fast-compare\n\n    // START: fast-deep-equal\n    return true;\n  }\n\n  return a !== a && b !== b;\n}\n// end fast-deep-equal\n\nmodule.exports = function isEqual(a, b) {\n  try {\n    return equal(a, b);\n  } catch (error) {\n    if (((error.message || '').match(/stack|recursion/i))) {\n      // warn on circular references, don't crash\n      // browsers give this different errors name and messages:\n      // chrome/safari: \"RangeError\", \"Maximum call stack size exceeded\"\n      // firefox: \"InternalError\", too much recursion\"\n      // edge: \"Error\", \"Out of stack space\"\n      console.warn('react-fast-compare cannot handle circular refs');\n      return false;\n    }\n    // some other error. we should definitely know about these\n    throw error;\n  }\n};\n","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactDraggable = require(\"react-draggable\");\n\nvar _reactResizable = require(\"react-resizable\");\n\nvar _utils = require(\"./utils\");\n\nvar _calculateUtils = require(\"./calculateUtils\");\n\nvar _ReactGridLayoutPropTypes = require(\"./ReactGridLayoutPropTypes\");\n\nvar _clsx = _interopRequireDefault(require(\"clsx\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/**\n * An individual item within a ReactGridLayout.\n */\nvar GridItem = /*#__PURE__*/function (_React$Component) {\n  _inherits(GridItem, _React$Component);\n\n  var _super = _createSuper(GridItem);\n\n  function GridItem() {\n    var _this;\n\n    _classCallCheck(this, GridItem);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      resizing: null,\n      dragging: null,\n      className: \"\"\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"elementRef\", /*#__PURE__*/_react.default.createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragStart\", function (e, _ref) {\n      var node = _ref.node;\n      var _this$props = _this.props,\n          onDragStart = _this$props.onDragStart,\n          transformScale = _this$props.transformScale;\n      if (!onDragStart) return;\n      var newPosition\n      /*: PartialPosition*/\n      = {\n        top: 0,\n        left: 0\n      }; // TODO: this wont work on nested parents\n\n      var offsetParent = node.offsetParent;\n      if (!offsetParent) return;\n      var parentRect = offsetParent.getBoundingClientRect();\n      var clientRect = node.getBoundingClientRect();\n      var cLeft = clientRect.left / transformScale;\n      var pLeft = parentRect.left / transformScale;\n      var cTop = clientRect.top / transformScale;\n      var pTop = parentRect.top / transformScale;\n      newPosition.left = cLeft - pLeft + offsetParent.scrollLeft;\n      newPosition.top = cTop - pTop + offsetParent.scrollTop;\n\n      _this.setState({\n        dragging: newPosition\n      }); // Call callback with this data\n\n\n      var _calcXY = (0, _calculateUtils.calcXY)(_this.getPositionParams(), newPosition.top, newPosition.left, _this.props.w, _this.props.h),\n          x = _calcXY.x,\n          y = _calcXY.y;\n\n      return onDragStart.call(_assertThisInitialized(_this), _this.props.i, x, y, {\n        e: e,\n        node: node,\n        newPosition: newPosition\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDrag\", function (e, _ref2) {\n      var node = _ref2.node,\n          deltaX = _ref2.deltaX,\n          deltaY = _ref2.deltaY;\n      var onDrag = _this.props.onDrag;\n      if (!onDrag) return;\n\n      if (!_this.state.dragging) {\n        throw new Error(\"onDrag called before onDragStart.\");\n      }\n\n      var top = _this.state.dragging.top + deltaY;\n      var left = _this.state.dragging.left + deltaX;\n      var _this$props2 = _this.props,\n          isBounded = _this$props2.isBounded,\n          i = _this$props2.i,\n          w = _this$props2.w,\n          h = _this$props2.h,\n          containerWidth = _this$props2.containerWidth;\n\n      var positionParams = _this.getPositionParams(); // Boundary calculations; keeps items within the grid\n\n\n      if (isBounded) {\n        var offsetParent = node.offsetParent;\n\n        if (offsetParent) {\n          var _this$props3 = _this.props,\n              margin = _this$props3.margin,\n              rowHeight = _this$props3.rowHeight;\n          var bottomBoundary = offsetParent.clientHeight - (0, _calculateUtils.calcGridItemWHPx)(h, rowHeight, margin[1]);\n          top = (0, _calculateUtils.clamp)(top, 0, bottomBoundary);\n          var colWidth = (0, _calculateUtils.calcGridColWidth)(positionParams);\n          var rightBoundary = containerWidth - (0, _calculateUtils.calcGridItemWHPx)(w, colWidth, margin[0]);\n          left = (0, _calculateUtils.clamp)(left, 0, rightBoundary);\n        }\n      }\n\n      var newPosition\n      /*: PartialPosition*/\n      = {\n        top: top,\n        left: left\n      };\n\n      _this.setState({\n        dragging: newPosition\n      }); // Call callback with this data\n\n\n      var _calcXY2 = (0, _calculateUtils.calcXY)(positionParams, top, left, w, h),\n          x = _calcXY2.x,\n          y = _calcXY2.y;\n\n      return onDrag.call(_assertThisInitialized(_this), i, x, y, {\n        e: e,\n        node: node,\n        newPosition: newPosition\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragStop\", function (e, _ref3) {\n      var node = _ref3.node;\n      var onDragStop = _this.props.onDragStop;\n      if (!onDragStop) return;\n\n      if (!_this.state.dragging) {\n        throw new Error(\"onDragEnd called before onDragStart.\");\n      }\n\n      var _this$props4 = _this.props,\n          w = _this$props4.w,\n          h = _this$props4.h,\n          i = _this$props4.i;\n      var _this$state$dragging = _this.state.dragging,\n          left = _this$state$dragging.left,\n          top = _this$state$dragging.top;\n      var newPosition\n      /*: PartialPosition*/\n      = {\n        top: top,\n        left: left\n      };\n\n      _this.setState({\n        dragging: null\n      });\n\n      var _calcXY3 = (0, _calculateUtils.calcXY)(_this.getPositionParams(), top, left, w, h),\n          x = _calcXY3.x,\n          y = _calcXY3.y;\n\n      return onDragStop.call(_assertThisInitialized(_this), i, x, y, {\n        e: e,\n        node: node,\n        newPosition: newPosition\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onResizeStop\", function (e, callbackData) {\n      _this.onResizeHandler(e, callbackData, \"onResizeStop\");\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onResizeStart\", function (e, callbackData) {\n      _this.onResizeHandler(e, callbackData, \"onResizeStart\");\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onResize\", function (e, callbackData) {\n      _this.onResizeHandler(e, callbackData, \"onResize\");\n    });\n\n    return _this;\n  }\n\n  _createClass(GridItem, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps\n    /*: Props*/\n    , nextState\n    /*: State*/\n    )\n    /*: boolean*/\n    {\n      // We can't deeply compare children. If the developer memoizes them, we can\n      // use this optimization.\n      if (this.props.children !== nextProps.children) return true;\n      if (this.props.droppingPosition !== nextProps.droppingPosition) return true; // TODO memoize these calculations so they don't take so long?\n\n      var oldPosition = (0, _calculateUtils.calcGridItemPosition)(this.getPositionParams(this.props), this.props.x, this.props.y, this.props.w, this.props.h, this.state);\n      var newPosition = (0, _calculateUtils.calcGridItemPosition)(this.getPositionParams(nextProps), nextProps.x, nextProps.y, nextProps.w, nextProps.h, nextState);\n      return !(0, _utils.fastPositionEqual)(oldPosition, newPosition) || this.props.useCSSTransforms !== nextProps.useCSSTransforms;\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.moveDroppingItem({});\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps\n    /*: Props*/\n    ) {\n      this.moveDroppingItem(prevProps);\n    } // When a droppingPosition is present, this means we should fire a move event, as if we had moved\n    // this element by `x, y` pixels.\n\n  }, {\n    key: \"moveDroppingItem\",\n    value: function moveDroppingItem(prevProps\n    /*: Props*/\n    ) {\n      var droppingPosition = this.props.droppingPosition;\n      if (!droppingPosition) return;\n      var node = this.elementRef.current; // Can't find DOM node (are we unmounted?)\n\n      if (!node) return;\n      var prevDroppingPosition = prevProps.droppingPosition || {\n        left: 0,\n        top: 0\n      };\n      var dragging = this.state.dragging;\n      var shouldDrag = dragging && droppingPosition.left !== prevDroppingPosition.left || droppingPosition.top !== prevDroppingPosition.top;\n\n      if (!dragging) {\n        this.onDragStart(droppingPosition.e, {\n          node: node,\n          deltaX: droppingPosition.left,\n          deltaY: droppingPosition.top\n        });\n      } else if (shouldDrag) {\n        var deltaX = droppingPosition.left - dragging.left;\n        var deltaY = droppingPosition.top - dragging.top;\n        this.onDrag(droppingPosition.e, {\n          node: node,\n          deltaX: deltaX,\n          deltaY: deltaY\n        });\n      }\n    }\n  }, {\n    key: \"getPositionParams\",\n    value: function getPositionParams()\n    /*: PositionParams*/\n    {\n      var props\n      /*: Props*/\n      = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      return {\n        cols: props.cols,\n        containerPadding: props.containerPadding,\n        containerWidth: props.containerWidth,\n        margin: props.margin,\n        maxRows: props.maxRows,\n        rowHeight: props.rowHeight\n      };\n    }\n    /**\n     * This is where we set the grid item's absolute placement. It gets a little tricky because we want to do it\n     * well when server rendering, and the only way to do that properly is to use percentage width/left because\n     * we don't know exactly what the browser viewport is.\n     * Unfortunately, CSS Transforms, which are great for performance, break in this instance because a percentage\n     * left is relative to the item itself, not its container! So we cannot use them on the server rendering pass.\n     *\n     * @param  {Object} pos Position object with width, height, left, top.\n     * @return {Object}     Style object.\n     */\n\n  }, {\n    key: \"createStyle\",\n    value: function createStyle(pos\n    /*: Position*/\n    )\n    /*: { [key: string]: ?string }*/\n    {\n      var _this$props5 = this.props,\n          usePercentages = _this$props5.usePercentages,\n          containerWidth = _this$props5.containerWidth,\n          useCSSTransforms = _this$props5.useCSSTransforms;\n      var style; // CSS Transforms support (default)\n\n      if (useCSSTransforms) {\n        style = (0, _utils.setTransform)(pos);\n      } else {\n        // top,left (slow)\n        style = (0, _utils.setTopLeft)(pos); // This is used for server rendering.\n\n        if (usePercentages) {\n          style.left = (0, _utils.perc)(pos.left / containerWidth);\n          style.width = (0, _utils.perc)(pos.width / containerWidth);\n        }\n      }\n\n      return style;\n    }\n    /**\n     * Mix a Draggable instance into a child.\n     * @param  {Element} child    Child element.\n     * @return {Element}          Child wrapped in Draggable.\n     */\n\n  }, {\n    key: \"mixinDraggable\",\n    value: function mixinDraggable(child\n    /*: ReactElement<any>*/\n    , isDraggable\n    /*: boolean*/\n    )\n    /*: ReactElement<any>*/\n    {\n      return /*#__PURE__*/_react.default.createElement(_reactDraggable.DraggableCore, {\n        disabled: !isDraggable,\n        onStart: this.onDragStart,\n        onDrag: this.onDrag,\n        onStop: this.onDragStop,\n        handle: this.props.handle,\n        cancel: \".react-resizable-handle\" + (this.props.cancel ? \",\" + this.props.cancel : \"\"),\n        scale: this.props.transformScale,\n        nodeRef: this.elementRef\n      }, child);\n    }\n    /**\n     * Mix a Resizable instance into a child.\n     * @param  {Element} child    Child element.\n     * @param  {Object} position  Position object (pixel values)\n     * @return {Element}          Child wrapped in Resizable.\n     */\n\n  }, {\n    key: \"mixinResizable\",\n    value: function mixinResizable(child\n    /*: ReactElement<any>*/\n    , position\n    /*: Position*/\n    , isResizable\n    /*: boolean*/\n    )\n    /*: ReactElement<any>*/\n    {\n      var _this$props6 = this.props,\n          cols = _this$props6.cols,\n          x = _this$props6.x,\n          minW = _this$props6.minW,\n          minH = _this$props6.minH,\n          maxW = _this$props6.maxW,\n          maxH = _this$props6.maxH,\n          transformScale = _this$props6.transformScale,\n          resizeHandles = _this$props6.resizeHandles,\n          resizeHandle = _this$props6.resizeHandle;\n      var positionParams = this.getPositionParams(); // This is the max possible width - doesn't go to infinity because of the width of the window\n\n      var maxWidth = (0, _calculateUtils.calcGridItemPosition)(positionParams, 0, 0, cols - x, 0).width; // Calculate min/max constraints using our min & maxes\n\n      var mins = (0, _calculateUtils.calcGridItemPosition)(positionParams, 0, 0, minW, minH);\n      var maxes = (0, _calculateUtils.calcGridItemPosition)(positionParams, 0, 0, maxW, maxH);\n      var minConstraints = [mins.width, mins.height];\n      var maxConstraints = [Math.min(maxes.width, maxWidth), Math.min(maxes.height, Infinity)];\n      return /*#__PURE__*/_react.default.createElement(_reactResizable.Resizable // These are opts for the resize handle itself\n      , {\n        draggableOpts: {\n          disabled: !isResizable\n        },\n        className: isResizable ? undefined : \"react-resizable-hide\",\n        width: position.width,\n        height: position.height,\n        minConstraints: minConstraints,\n        maxConstraints: maxConstraints,\n        onResizeStop: this.onResizeStop,\n        onResizeStart: this.onResizeStart,\n        onResize: this.onResize,\n        transformScale: transformScale,\n        resizeHandles: resizeHandles,\n        handle: resizeHandle\n      }, child);\n    }\n    /**\n     * onDragStart event handler\n     * @param  {Event}  e             event data\n     * @param  {Object} callbackData  an object with node, delta and position information\n     */\n\n  }, {\n    key: \"onResizeHandler\",\n    value:\n    /**\n     * Wrapper around drag events to provide more useful data.\n     * All drag events call the function with the given handler name,\n     * with the signature (index, x, y).\n     *\n     * @param  {String} handlerName Handler name to wrap.\n     * @return {Function}           Handler function.\n     */\n    function onResizeHandler(e\n    /*: Event*/\n    , _ref4, handlerName\n    /*: string*/\n    )\n    /*: void*/\n    {\n      var node = _ref4.node,\n          size = _ref4.size;\n      var handler = this.props[handlerName];\n      if (!handler) return;\n      var _this$props7 = this.props,\n          cols = _this$props7.cols,\n          x = _this$props7.x,\n          y = _this$props7.y,\n          i = _this$props7.i,\n          maxH = _this$props7.maxH,\n          minH = _this$props7.minH;\n      var _this$props8 = this.props,\n          minW = _this$props8.minW,\n          maxW = _this$props8.maxW; // Get new XY\n\n      var _calcWH = (0, _calculateUtils.calcWH)(this.getPositionParams(), size.width, size.height, x, y),\n          w = _calcWH.w,\n          h = _calcWH.h; // minW should be at least 1 (TODO propTypes validation?)\n\n\n      minW = Math.max(minW, 1); // maxW should be at most (cols - x)\n\n      maxW = Math.min(maxW, cols - x); // Min/max capping\n\n      w = (0, _calculateUtils.clamp)(w, minW, maxW);\n      h = (0, _calculateUtils.clamp)(h, minH, maxH);\n      this.setState({\n        resizing: handlerName === \"onResizeStop\" ? null : size\n      });\n      handler.call(this, i, w, h, {\n        e: e,\n        node: node,\n        size: size\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render()\n    /*: ReactNode*/\n    {\n      var _this$props9 = this.props,\n          x = _this$props9.x,\n          y = _this$props9.y,\n          w = _this$props9.w,\n          h = _this$props9.h,\n          isDraggable = _this$props9.isDraggable,\n          isResizable = _this$props9.isResizable,\n          droppingPosition = _this$props9.droppingPosition,\n          useCSSTransforms = _this$props9.useCSSTransforms;\n      var pos = (0, _calculateUtils.calcGridItemPosition)(this.getPositionParams(), x, y, w, h, this.state);\n\n      var child = _react.default.Children.only(this.props.children); // Create the child element. We clone the existing element but modify its className and style.\n\n\n      var newChild = /*#__PURE__*/_react.default.cloneElement(child, {\n        ref: this.elementRef,\n        className: (0, _clsx.default)(\"react-grid-item\", child.props.className, this.props.className, {\n          static: this.props.static,\n          resizing: Boolean(this.state.resizing),\n          \"react-draggable\": isDraggable,\n          \"react-draggable-dragging\": Boolean(this.state.dragging),\n          dropping: Boolean(droppingPosition),\n          cssTransforms: useCSSTransforms\n        }),\n        // We can set the width and height on the child, but unfortunately we can't set the position.\n        style: _objectSpread(_objectSpread(_objectSpread({}, this.props.style), child.props.style), this.createStyle(pos))\n      }); // Resizable support. This is usually on but the user can toggle it off.\n\n\n      newChild = this.mixinResizable(newChild, pos, isResizable); // Draggable support. This is always on, except for with placeholders.\n\n      newChild = this.mixinDraggable(newChild, isDraggable);\n      return newChild;\n    }\n  }]);\n\n  return GridItem;\n}(_react.default.Component);\n\nexports.default = GridItem;\n\n_defineProperty(GridItem, \"propTypes\", {\n  // Children must be only a single element\n  children: _propTypes.default.element,\n  // General grid attributes\n  cols: _propTypes.default.number.isRequired,\n  containerWidth: _propTypes.default.number.isRequired,\n  rowHeight: _propTypes.default.number.isRequired,\n  margin: _propTypes.default.array.isRequired,\n  maxRows: _propTypes.default.number.isRequired,\n  containerPadding: _propTypes.default.array.isRequired,\n  // These are all in grid units\n  x: _propTypes.default.number.isRequired,\n  y: _propTypes.default.number.isRequired,\n  w: _propTypes.default.number.isRequired,\n  h: _propTypes.default.number.isRequired,\n  // All optional\n  minW: function minW(props\n  /*: Props*/\n  , propName\n  /*: string*/\n  ) {\n    var value = props[propName];\n    if (typeof value !== \"number\") return new Error(\"minWidth not Number\");\n    if (value > props.w || value > props.maxW) return new Error(\"minWidth larger than item width/maxWidth\");\n  },\n  maxW: function maxW(props\n  /*: Props*/\n  , propName\n  /*: string*/\n  ) {\n    var value = props[propName];\n    if (typeof value !== \"number\") return new Error(\"maxWidth not Number\");\n    if (value < props.w || value < props.minW) return new Error(\"maxWidth smaller than item width/minWidth\");\n  },\n  minH: function minH(props\n  /*: Props*/\n  , propName\n  /*: string*/\n  ) {\n    var value = props[propName];\n    if (typeof value !== \"number\") return new Error(\"minHeight not Number\");\n    if (value > props.h || value > props.maxH) return new Error(\"minHeight larger than item height/maxHeight\");\n  },\n  maxH: function maxH(props\n  /*: Props*/\n  , propName\n  /*: string*/\n  ) {\n    var value = props[propName];\n    if (typeof value !== \"number\") return new Error(\"maxHeight not Number\");\n    if (value < props.h || value < props.minH) return new Error(\"maxHeight smaller than item height/minHeight\");\n  },\n  // ID is nice to have for callbacks\n  i: _propTypes.default.string.isRequired,\n  // Resize handle options\n  resizeHandles: _ReactGridLayoutPropTypes.resizeHandleAxesType,\n  resizeHandle: _ReactGridLayoutPropTypes.resizeHandleType,\n  // Functions\n  onDragStop: _propTypes.default.func,\n  onDragStart: _propTypes.default.func,\n  onDrag: _propTypes.default.func,\n  onResizeStop: _propTypes.default.func,\n  onResizeStart: _propTypes.default.func,\n  onResize: _propTypes.default.func,\n  // Flags\n  isDraggable: _propTypes.default.bool.isRequired,\n  isResizable: _propTypes.default.bool.isRequired,\n  isBounded: _propTypes.default.bool.isRequired,\n  static: _propTypes.default.bool,\n  // Use CSS transforms instead of top/left\n  useCSSTransforms: _propTypes.default.bool.isRequired,\n  transformScale: _propTypes.default.number,\n  // Others\n  className: _propTypes.default.string,\n  // Selector for draggable handle\n  handle: _propTypes.default.string,\n  // Selector for draggable cancel (see react-draggable)\n  cancel: _propTypes.default.string,\n  // Current position of a dropping element\n  droppingPosition: _propTypes.default.shape({\n    e: _propTypes.default.object.isRequired,\n    left: _propTypes.default.number.isRequired,\n    top: _propTypes.default.number.isRequired\n  })\n});\n\n_defineProperty(GridItem, \"defaultProps\", {\n  className: \"\",\n  cancel: \"\",\n  handle: \"\",\n  minH: 1,\n  minW: 1,\n  maxH: Infinity,\n  maxW: Infinity,\n  transformScale: 1\n});","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _lodash = _interopRequireDefault(require(\"lodash.isequal\"));\n\nvar _clsx = _interopRequireDefault(require(\"clsx\"));\n\nvar _utils = require(\"./utils\");\n\nvar _calculateUtils = require(\"./calculateUtils\");\n\nvar _GridItem = _interopRequireDefault(require(\"./GridItem\"));\n\nvar _ReactGridLayoutPropTypes = _interopRequireDefault(require(\"./ReactGridLayoutPropTypes\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// End Types\nvar layoutClassName = \"react-grid-layout\";\nvar isFirefox = false; // Try...catch will protect from navigator not existing (e.g. node) or a bad implementation of navigator\n\ntry {\n  isFirefox = /firefox/i.test(navigator.userAgent);\n} catch (e) {\n  /* Ignore */\n}\n/**\n * A reactive, fluid grid layout with draggable, resizable components.\n */\n\n\nvar ReactGridLayout = /*#__PURE__*/function (_React$Component) {\n  _inherits(ReactGridLayout, _React$Component);\n\n  var _super = _createSuper(ReactGridLayout);\n\n  function ReactGridLayout() {\n    var _this;\n\n    _classCallCheck(this, ReactGridLayout);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      activeDrag: null,\n      layout: (0, _utils.synchronizeLayoutWithChildren)(_this.props.layout, _this.props.children, _this.props.cols, // Legacy support for verticalCompact: false\n      (0, _utils.compactType)(_this.props), _this.props.allowOverlap),\n      mounted: false,\n      oldDragItem: null,\n      oldLayout: null,\n      oldResizeItem: null,\n      droppingDOMNode: null,\n      children: []\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"dragEnterCounter\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragStart\", function (i\n    /*: string*/\n    , x\n    /*: number*/\n    , y\n    /*: number*/\n    , _ref) {\n      var e = _ref.e,\n          node = _ref.node;\n      var layout = _this.state.layout;\n      var l = (0, _utils.getLayoutItem)(layout, i);\n      if (!l) return;\n\n      _this.setState({\n        oldDragItem: (0, _utils.cloneLayoutItem)(l),\n        oldLayout: layout\n      });\n\n      return _this.props.onDragStart(layout, l, l, null, e, node);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDrag\", function (i, x, y, _ref2) {\n      var e = _ref2.e,\n          node = _ref2.node;\n      var oldDragItem = _this.state.oldDragItem;\n      var layout = _this.state.layout;\n      var _this$props = _this.props,\n          cols = _this$props.cols,\n          allowOverlap = _this$props.allowOverlap,\n          preventCollision = _this$props.preventCollision;\n      var l = (0, _utils.getLayoutItem)(layout, i);\n      if (!l) return; // Create placeholder (display only)\n\n      var placeholder = {\n        w: l.w,\n        h: l.h,\n        x: l.x,\n        y: l.y,\n        placeholder: true,\n        i: i\n      }; // Move the element to the dragged location.\n\n      var isUserAction = true;\n      layout = (0, _utils.moveElement)(layout, l, x, y, isUserAction, preventCollision, (0, _utils.compactType)(_this.props), cols, allowOverlap);\n\n      _this.props.onDrag(layout, oldDragItem, l, placeholder, e, node);\n\n      _this.setState({\n        layout: allowOverlap ? layout : (0, _utils.compact)(layout, (0, _utils.compactType)(_this.props), cols),\n        activeDrag: placeholder\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragStop\", function (i, x, y, _ref3) {\n      var e = _ref3.e,\n          node = _ref3.node;\n      if (!_this.state.activeDrag) return;\n      var oldDragItem = _this.state.oldDragItem;\n      var layout = _this.state.layout;\n      var _this$props2 = _this.props,\n          cols = _this$props2.cols,\n          preventCollision = _this$props2.preventCollision,\n          allowOverlap = _this$props2.allowOverlap;\n      var l = (0, _utils.getLayoutItem)(layout, i);\n      if (!l) return; // Move the element here\n\n      var isUserAction = true;\n      layout = (0, _utils.moveElement)(layout, l, x, y, isUserAction, preventCollision, (0, _utils.compactType)(_this.props), cols, allowOverlap);\n\n      _this.props.onDragStop(layout, oldDragItem, l, null, e, node); // Set state\n\n\n      var newLayout = allowOverlap ? layout : (0, _utils.compact)(layout, (0, _utils.compactType)(_this.props), cols);\n      var oldLayout = _this.state.oldLayout;\n\n      _this.setState({\n        activeDrag: null,\n        layout: newLayout,\n        oldDragItem: null,\n        oldLayout: null\n      });\n\n      _this.onLayoutMaybeChanged(newLayout, oldLayout);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onResizeStart\", function (i, w, h, _ref4) {\n      var e = _ref4.e,\n          node = _ref4.node;\n      var layout = _this.state.layout;\n      var l = (0, _utils.getLayoutItem)(layout, i);\n      if (!l) return;\n\n      _this.setState({\n        oldResizeItem: (0, _utils.cloneLayoutItem)(l),\n        oldLayout: _this.state.layout\n      });\n\n      _this.props.onResizeStart(layout, l, l, null, e, node);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onResize\", function (i, w, h, _ref5) {\n      var e = _ref5.e,\n          node = _ref5.node;\n      var _this$state = _this.state,\n          layout = _this$state.layout,\n          oldResizeItem = _this$state.oldResizeItem;\n      var _this$props3 = _this.props,\n          cols = _this$props3.cols,\n          preventCollision = _this$props3.preventCollision,\n          allowOverlap = _this$props3.allowOverlap;\n\n      var _withLayoutItem = (0, _utils.withLayoutItem)(layout, i, function (l) {\n        // Something like quad tree should be used\n        // to find collisions faster\n        var hasCollisions;\n\n        if (preventCollision && !allowOverlap) {\n          var collisions = (0, _utils.getAllCollisions)(layout, _objectSpread(_objectSpread({}, l), {}, {\n            w: w,\n            h: h\n          })).filter(function (layoutItem) {\n            return layoutItem.i !== l.i;\n          });\n          hasCollisions = collisions.length > 0; // If we're colliding, we need adjust the placeholder.\n\n          // If we're colliding, we need adjust the placeholder.\n          if (hasCollisions) {\n            // adjust w && h to maximum allowed space\n            var leastX = Infinity,\n                leastY = Infinity;\n            collisions.forEach(function (layoutItem) {\n              if (layoutItem.x > l.x) leastX = Math.min(leastX, layoutItem.x);\n              if (layoutItem.y > l.y) leastY = Math.min(leastY, layoutItem.y);\n            });\n            if (Number.isFinite(leastX)) l.w = leastX - l.x;\n            if (Number.isFinite(leastY)) l.h = leastY - l.y;\n          }\n        }\n\n        if (!hasCollisions) {\n          // Set new width and height.\n          l.w = w;\n          l.h = h;\n        }\n\n        return l;\n      }),\n          _withLayoutItem2 = _slicedToArray(_withLayoutItem, 2),\n          newLayout = _withLayoutItem2[0],\n          l = _withLayoutItem2[1]; // Shouldn't ever happen, but typechecking makes it necessary\n\n\n      if (!l) return; // Create placeholder element (display only)\n\n      var placeholder = {\n        w: l.w,\n        h: l.h,\n        x: l.x,\n        y: l.y,\n        static: true,\n        i: i\n      };\n\n      _this.props.onResize(newLayout, oldResizeItem, l, placeholder, e, node); // Re-compact the newLayout and set the drag placeholder.\n\n\n      _this.setState({\n        layout: allowOverlap ? newLayout : (0, _utils.compact)(newLayout, (0, _utils.compactType)(_this.props), cols),\n        activeDrag: placeholder\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onResizeStop\", function (i, w, h, _ref6) {\n      var e = _ref6.e,\n          node = _ref6.node;\n      var _this$state2 = _this.state,\n          layout = _this$state2.layout,\n          oldResizeItem = _this$state2.oldResizeItem;\n      var _this$props4 = _this.props,\n          cols = _this$props4.cols,\n          allowOverlap = _this$props4.allowOverlap;\n      var l = (0, _utils.getLayoutItem)(layout, i);\n\n      _this.props.onResizeStop(layout, oldResizeItem, l, null, e, node); // Set state\n\n\n      var newLayout = allowOverlap ? layout : (0, _utils.compact)(layout, (0, _utils.compactType)(_this.props), cols);\n      var oldLayout = _this.state.oldLayout;\n\n      _this.setState({\n        activeDrag: null,\n        layout: newLayout,\n        oldResizeItem: null,\n        oldLayout: null\n      });\n\n      _this.onLayoutMaybeChanged(newLayout, oldLayout);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragOver\", function (e) {\n      var _e$nativeEvent$target;\n\n      e.preventDefault(); // Prevent any browser native action\n\n      e.stopPropagation(); // we should ignore events from layout's children in Firefox\n      // to avoid unpredictable jumping of a dropping placeholder\n      // FIXME remove this hack\n\n      if (isFirefox && // $FlowIgnore can't figure this out\n      !((_e$nativeEvent$target = e.nativeEvent.target) !== null && _e$nativeEvent$target !== void 0 && _e$nativeEvent$target.classList.contains(layoutClassName))) {\n        return false;\n      }\n\n      var _this$props5 = _this.props,\n          droppingItem = _this$props5.droppingItem,\n          onDropDragOver = _this$props5.onDropDragOver,\n          margin = _this$props5.margin,\n          cols = _this$props5.cols,\n          rowHeight = _this$props5.rowHeight,\n          maxRows = _this$props5.maxRows,\n          width = _this$props5.width,\n          containerPadding = _this$props5.containerPadding,\n          transformScale = _this$props5.transformScale; // Allow user to customize the dropping item or short-circuit the drop based on the results\n      // of the `onDragOver(e: Event)` callback.\n\n      var onDragOverResult = onDropDragOver === null || onDropDragOver === void 0 ? void 0 : onDropDragOver(e);\n\n      if (onDragOverResult === false) {\n        if (_this.state.droppingDOMNode) {\n          _this.removeDroppingPlaceholder();\n        }\n\n        return false;\n      }\n\n      var finalDroppingItem = _objectSpread(_objectSpread({}, droppingItem), onDragOverResult);\n\n      var layout = _this.state.layout; // This is relative to the DOM element that this event fired for.\n\n      var _e$nativeEvent = e.nativeEvent,\n          layerX = _e$nativeEvent.layerX,\n          layerY = _e$nativeEvent.layerY;\n      var droppingPosition = {\n        left: layerX / transformScale,\n        top: layerY / transformScale,\n        e: e\n      };\n\n      if (!_this.state.droppingDOMNode) {\n        var positionParams\n        /*: PositionParams*/\n        = {\n          cols: cols,\n          margin: margin,\n          maxRows: maxRows,\n          rowHeight: rowHeight,\n          containerWidth: width,\n          containerPadding: containerPadding || margin\n        };\n        var calculatedPosition = (0, _calculateUtils.calcXY)(positionParams, layerY, layerX, finalDroppingItem.w, finalDroppingItem.h);\n\n        _this.setState({\n          droppingDOMNode: /*#__PURE__*/React.createElement(\"div\", {\n            key: finalDroppingItem.i\n          }),\n          droppingPosition: droppingPosition,\n          layout: [].concat(_toConsumableArray(layout), [_objectSpread(_objectSpread({}, finalDroppingItem), {}, {\n            x: calculatedPosition.x,\n            y: calculatedPosition.y,\n            static: false,\n            isDraggable: true\n          })])\n        });\n      } else if (_this.state.droppingPosition) {\n        var _this$state$droppingP = _this.state.droppingPosition,\n            left = _this$state$droppingP.left,\n            top = _this$state$droppingP.top;\n        var shouldUpdatePosition = left != layerX || top != layerY;\n\n        if (shouldUpdatePosition) {\n          _this.setState({\n            droppingPosition: droppingPosition\n          });\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"removeDroppingPlaceholder\", function () {\n      var _this$props6 = _this.props,\n          droppingItem = _this$props6.droppingItem,\n          cols = _this$props6.cols;\n      var layout = _this.state.layout;\n      var newLayout = (0, _utils.compact)(layout.filter(function (l) {\n        return l.i !== droppingItem.i;\n      }), (0, _utils.compactType)(_this.props), cols);\n\n      _this.setState({\n        layout: newLayout,\n        droppingDOMNode: null,\n        activeDrag: null,\n        droppingPosition: undefined\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragLeave\", function (e) {\n      e.preventDefault(); // Prevent any browser native action\n\n      e.stopPropagation();\n      _this.dragEnterCounter--; // onDragLeave can be triggered on each layout's child.\n      // But we know that count of dragEnter and dragLeave events\n      // will be balanced after leaving the layout's container\n      // so we can increase and decrease count of dragEnter and\n      // when it'll be equal to 0 we'll remove the placeholder\n\n      if (_this.dragEnterCounter === 0) {\n        _this.removeDroppingPlaceholder();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragEnter\", function (e) {\n      e.preventDefault(); // Prevent any browser native action\n\n      e.stopPropagation();\n      _this.dragEnterCounter++;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDrop\", function (e\n    /*: Event*/\n    ) {\n      e.preventDefault(); // Prevent any browser native action\n\n      e.stopPropagation();\n      var droppingItem = _this.props.droppingItem;\n      var layout = _this.state.layout;\n      var item = layout.find(function (l) {\n        return l.i === droppingItem.i;\n      }); // reset dragEnter counter on drop\n\n      _this.dragEnterCounter = 0;\n\n      _this.removeDroppingPlaceholder();\n\n      _this.props.onDrop(layout, item, e);\n    });\n\n    return _this;\n  }\n\n  _createClass(ReactGridLayout, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setState({\n        mounted: true\n      }); // Possibly call back with layout on mount. This should be done after correcting the layout width\n      // to ensure we don't rerender with the wrong width.\n\n      this.onLayoutMaybeChanged(this.state.layout, this.props.layout);\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps\n    /*: Props*/\n    , nextState\n    /*: State*/\n    )\n    /*: boolean*/\n    {\n      return (// NOTE: this is almost always unequal. Therefore the only way to get better performance\n        // from SCU is if the user intentionally memoizes children. If they do, and they can\n        // handle changes properly, performance will increase.\n        this.props.children !== nextProps.children || !(0, _utils.fastRGLPropsEqual)(this.props, nextProps, _lodash.default) || this.state.activeDrag !== nextState.activeDrag || this.state.mounted !== nextState.mounted || this.state.droppingPosition !== nextState.droppingPosition\n      );\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps\n    /*: Props*/\n    , prevState\n    /*: State*/\n    ) {\n      if (!this.state.activeDrag) {\n        var newLayout = this.state.layout;\n        var oldLayout = prevState.layout;\n        this.onLayoutMaybeChanged(newLayout, oldLayout);\n      }\n    }\n    /**\n     * Calculates a pixel value for the container.\n     * @return {String} Container height in pixels.\n     */\n\n  }, {\n    key: \"containerHeight\",\n    value: function containerHeight()\n    /*: ?string*/\n    {\n      if (!this.props.autoSize) return;\n      var nbRow = (0, _utils.bottom)(this.state.layout);\n      var containerPaddingY = this.props.containerPadding ? this.props.containerPadding[1] : this.props.margin[1];\n      return nbRow * this.props.rowHeight + (nbRow - 1) * this.props.margin[1] + containerPaddingY * 2 + \"px\";\n    }\n    /**\n     * When dragging starts\n     * @param {String} i Id of the child\n     * @param {Number} x X position of the move\n     * @param {Number} y Y position of the move\n     * @param {Event} e The mousedown event\n     * @param {Element} node The current dragging DOM element\n     */\n\n  }, {\n    key: \"onLayoutMaybeChanged\",\n    value: function onLayoutMaybeChanged(newLayout\n    /*: Layout*/\n    , oldLayout\n    /*: ?Layout*/\n    ) {\n      if (!oldLayout) oldLayout = this.state.layout;\n\n      if (!(0, _lodash.default)(oldLayout, newLayout)) {\n        this.props.onLayoutChange(newLayout);\n      }\n    }\n  }, {\n    key: \"placeholder\",\n    value:\n    /**\n     * Create a placeholder object.\n     * @return {Element} Placeholder div.\n     */\n    function placeholder()\n    /*: ?ReactElement<any>*/\n    {\n      var activeDrag = this.state.activeDrag;\n      if (!activeDrag) return null;\n      var _this$props7 = this.props,\n          width = _this$props7.width,\n          cols = _this$props7.cols,\n          margin = _this$props7.margin,\n          containerPadding = _this$props7.containerPadding,\n          rowHeight = _this$props7.rowHeight,\n          maxRows = _this$props7.maxRows,\n          useCSSTransforms = _this$props7.useCSSTransforms,\n          transformScale = _this$props7.transformScale; // {...this.state.activeDrag} is pretty slow, actually\n\n      return /*#__PURE__*/React.createElement(_GridItem.default, {\n        w: activeDrag.w,\n        h: activeDrag.h,\n        x: activeDrag.x,\n        y: activeDrag.y,\n        i: activeDrag.i,\n        className: \"react-grid-placeholder\",\n        containerWidth: width,\n        cols: cols,\n        margin: margin,\n        containerPadding: containerPadding || margin,\n        maxRows: maxRows,\n        rowHeight: rowHeight,\n        isDraggable: false,\n        isResizable: false,\n        isBounded: false,\n        useCSSTransforms: useCSSTransforms,\n        transformScale: transformScale\n      }, /*#__PURE__*/React.createElement(\"div\", null));\n    }\n    /**\n     * Given a grid item, set its style attributes & surround in a <Draggable>.\n     * @param  {Element} child React element.\n     * @return {Element}       Element wrapped in draggable and properly placed.\n     */\n\n  }, {\n    key: \"processGridItem\",\n    value: function processGridItem(child\n    /*: ReactElement<any>*/\n    , isDroppingItem\n    /*: boolean*/\n    )\n    /*: ?ReactElement<any>*/\n    {\n      if (!child || !child.key) return;\n      var l = (0, _utils.getLayoutItem)(this.state.layout, String(child.key));\n      if (!l) return null;\n      var _this$props8 = this.props,\n          width = _this$props8.width,\n          cols = _this$props8.cols,\n          margin = _this$props8.margin,\n          containerPadding = _this$props8.containerPadding,\n          rowHeight = _this$props8.rowHeight,\n          maxRows = _this$props8.maxRows,\n          isDraggable = _this$props8.isDraggable,\n          isResizable = _this$props8.isResizable,\n          isBounded = _this$props8.isBounded,\n          useCSSTransforms = _this$props8.useCSSTransforms,\n          transformScale = _this$props8.transformScale,\n          draggableCancel = _this$props8.draggableCancel,\n          draggableHandle = _this$props8.draggableHandle,\n          resizeHandles = _this$props8.resizeHandles,\n          resizeHandle = _this$props8.resizeHandle;\n      var _this$state3 = this.state,\n          mounted = _this$state3.mounted,\n          droppingPosition = _this$state3.droppingPosition; // Determine user manipulations possible.\n      // If an item is static, it can't be manipulated by default.\n      // Any properties defined directly on the grid item will take precedence.\n\n      var draggable = typeof l.isDraggable === \"boolean\" ? l.isDraggable : !l.static && isDraggable;\n      var resizable = typeof l.isResizable === \"boolean\" ? l.isResizable : !l.static && isResizable;\n      var resizeHandlesOptions = l.resizeHandles || resizeHandles; // isBounded set on child if set on parent, and child is not explicitly false\n\n      var bounded = draggable && isBounded && l.isBounded !== false;\n      return /*#__PURE__*/React.createElement(_GridItem.default, {\n        containerWidth: width,\n        cols: cols,\n        margin: margin,\n        containerPadding: containerPadding || margin,\n        maxRows: maxRows,\n        rowHeight: rowHeight,\n        cancel: draggableCancel,\n        handle: draggableHandle,\n        onDragStop: this.onDragStop,\n        onDragStart: this.onDragStart,\n        onDrag: this.onDrag,\n        onResizeStart: this.onResizeStart,\n        onResize: this.onResize,\n        onResizeStop: this.onResizeStop,\n        isDraggable: draggable,\n        isResizable: resizable,\n        isBounded: bounded,\n        useCSSTransforms: useCSSTransforms && mounted,\n        usePercentages: !mounted,\n        transformScale: transformScale,\n        w: l.w,\n        h: l.h,\n        x: l.x,\n        y: l.y,\n        i: l.i,\n        minH: l.minH,\n        minW: l.minW,\n        maxH: l.maxH,\n        maxW: l.maxW,\n        static: l.static,\n        droppingPosition: isDroppingItem ? droppingPosition : undefined,\n        resizeHandles: resizeHandlesOptions,\n        resizeHandle: resizeHandle\n      }, child);\n    } // Called while dragging an element. Part of browser native drag/drop API.\n    // Native event target might be the layout itself, or an element within the layout.\n\n  }, {\n    key: \"render\",\n    value: function render()\n    /*: React.Element<\"div\">*/\n    {\n      var _this2 = this;\n\n      var _this$props9 = this.props,\n          className = _this$props9.className,\n          style = _this$props9.style,\n          isDroppable = _this$props9.isDroppable,\n          innerRef = _this$props9.innerRef;\n      var mergedClassName = (0, _clsx.default)(layoutClassName, className);\n\n      var mergedStyle = _objectSpread({\n        height: this.containerHeight()\n      }, style);\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        ref: innerRef,\n        className: mergedClassName,\n        style: mergedStyle,\n        onDrop: isDroppable ? this.onDrop : _utils.noop,\n        onDragLeave: isDroppable ? this.onDragLeave : _utils.noop,\n        onDragEnter: isDroppable ? this.onDragEnter : _utils.noop,\n        onDragOver: isDroppable ? this.onDragOver : _utils.noop\n      }, React.Children.map(this.props.children, function (child) {\n        return _this2.processGridItem(child);\n      }), isDroppable && this.state.droppingDOMNode && this.processGridItem(this.state.droppingDOMNode, true), this.placeholder());\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps\n    /*: Props*/\n    , prevState\n    /*: State*/\n    )\n    /*: $Shape<State> | null*/\n    {\n      var newLayoutBase;\n\n      if (prevState.activeDrag) {\n        return null;\n      } // Legacy support for compactType\n      // Allow parent to set layout directly.\n\n\n      if (!(0, _lodash.default)(nextProps.layout, prevState.propsLayout) || nextProps.compactType !== prevState.compactType) {\n        newLayoutBase = nextProps.layout;\n      } else if (!(0, _utils.childrenEqual)(nextProps.children, prevState.children)) {\n        // If children change, also regenerate the layout. Use our state\n        // as the base in case because it may be more up to date than\n        // what is in props.\n        newLayoutBase = prevState.layout;\n      } // We need to regenerate the layout.\n\n\n      if (newLayoutBase) {\n        var newLayout = (0, _utils.synchronizeLayoutWithChildren)(newLayoutBase, nextProps.children, nextProps.cols, (0, _utils.compactType)(nextProps), nextProps.allowOverlap);\n        return {\n          layout: newLayout,\n          // We need to save these props to state for using\n          // getDerivedStateFromProps instead of componentDidMount (in which we would get extra rerender)\n          compactType: nextProps.compactType,\n          children: nextProps.children,\n          propsLayout: nextProps.layout\n        };\n      }\n\n      return null;\n    }\n  }]);\n\n  return ReactGridLayout;\n}(React.Component);\n\nexports.default = ReactGridLayout;\n\n_defineProperty(ReactGridLayout, \"displayName\", \"ReactGridLayout\");\n\n_defineProperty(ReactGridLayout, \"propTypes\", _ReactGridLayoutPropTypes.default);\n\n_defineProperty(ReactGridLayout, \"defaultProps\", {\n  autoSize: true,\n  cols: 12,\n  className: \"\",\n  style: {},\n  draggableHandle: \"\",\n  draggableCancel: \"\",\n  containerPadding: null,\n  rowHeight: 150,\n  maxRows: Infinity,\n  // infinite vertical growth\n  layout: [],\n  margin: [10, 10],\n  isBounded: false,\n  isDraggable: true,\n  isResizable: true,\n  allowOverlap: false,\n  isDroppable: false,\n  useCSSTransforms: true,\n  transformScale: 1,\n  verticalCompact: true,\n  compactType: \"vertical\",\n  preventCollision: false,\n  droppingItem: {\n    i: \"__dropping-elem__\",\n    h: 1,\n    w: 1\n  },\n  resizeHandles: [\"se\"],\n  onLayoutChange: _utils.noop,\n  onDragStart: _utils.noop,\n  onDrag: _utils.noop,\n  onDragStop: _utils.noop,\n  onResizeStart: _utils.noop,\n  onResize: _utils.noop,\n  onResizeStop: _utils.noop,\n  onDrop: _utils.noop,\n  onDropDragOver: _utils.noop\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.resizeHandleType = exports.resizeHandleAxesType = exports.default = void 0;\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Defines which resize handles should be rendered (default: 'se')\n// Allows for any combination of:\n// 's' - South handle (bottom-center)\n// 'w' - West handle (left-center)\n// 'e' - East handle (right-center)\n// 'n' - North handle (top-center)\n// 'sw' - Southwest handle (bottom-left)\n// 'nw' - Northwest handle (top-left)\n// 'se' - Southeast handle (bottom-right)\n// 'ne' - Northeast handle (top-right)\nvar resizeHandleAxesType\n/*: ReactPropsChainableTypeChecker*/\n= _propTypes.default.arrayOf(_propTypes.default.oneOf([\"s\", \"w\", \"e\", \"n\", \"sw\", \"nw\", \"se\", \"ne\"])); // Custom component for resize handles\n\n\nexports.resizeHandleAxesType = resizeHandleAxesType;\n\nvar resizeHandleType\n/*: ReactPropsChainableTypeChecker*/\n= _propTypes.default.oneOfType([_propTypes.default.node, _propTypes.default.func]);\n/*:: export type Props = {|\n  className: string,\n  style: Object,\n  width: number,\n  autoSize: boolean,\n  cols: number,\n  draggableCancel: string,\n  draggableHandle: string,\n  verticalCompact: boolean,\n  compactType: CompactType,\n  layout: Layout,\n  margin: [number, number],\n  containerPadding: ?[number, number],\n  rowHeight: number,\n  maxRows: number,\n  isBounded: boolean,\n  isDraggable: boolean,\n  isResizable: boolean,\n  isDroppable: boolean,\n  preventCollision: boolean,\n  useCSSTransforms: boolean,\n  transformScale: number,\n  droppingItem: $Shape<LayoutItem>,\n  resizeHandles: ResizeHandleAxis[],\n  resizeHandle?: ResizeHandle,\n  allowOverlap: boolean,\n\n  // Callbacks\n  onLayoutChange: Layout => void,\n  onDrag: EventCallback,\n  onDragStart: EventCallback,\n  onDragStop: EventCallback,\n  onResize: EventCallback,\n  onResizeStart: EventCallback,\n  onResizeStop: EventCallback,\n  onDropDragOver: (e: DragOverEvent) => ?({| w?: number, h?: number |} | false),\n  onDrop: (layout: Layout, item: ?LayoutItem, e: Event) => void,\n  children: ReactChildrenArray<ReactElement<any>>,\n  innerRef?: Ref<\"div\">\n|};*/\n\n/*:: export type DefaultProps = $Diff<\n  Props,\n  {\n    children: ReactChildrenArray<ReactElement<any>>,\n    width: number\n  }\n>;*/\n\n\nexports.resizeHandleType = resizeHandleType;\nvar _default = {\n  //\n  // Basic props\n  //\n  className: _propTypes.default.string,\n  style: _propTypes.default.object,\n  // This can be set explicitly. If it is not set, it will automatically\n  // be set to the container width. Note that resizes will *not* cause this to adjust.\n  // If you need that behavior, use WidthProvider.\n  width: _propTypes.default.number,\n  // If true, the container height swells and contracts to fit contents\n  autoSize: _propTypes.default.bool,\n  // # of cols.\n  cols: _propTypes.default.number,\n  // A selector that will not be draggable.\n  draggableCancel: _propTypes.default.string,\n  // A selector for the draggable handler\n  draggableHandle: _propTypes.default.string,\n  // Deprecated\n  verticalCompact: function verticalCompact(props\n  /*: Props*/\n  ) {\n    if (props.verticalCompact === false && process.env.NODE_ENV !== \"production\") {\n      console.warn( // eslint-disable-line no-console\n      \"`verticalCompact` on <ReactGridLayout> is deprecated and will be removed soon. \" + 'Use `compactType`: \"horizontal\" | \"vertical\" | null.');\n    }\n  },\n  // Choose vertical or hotizontal compaction\n  compactType: (_propTypes.default.oneOf([\"vertical\", \"horizontal\"])\n  /*: ReactPropsChainableTypeChecker*/\n  ),\n  // layout is an array of object with the format:\n  // {x: Number, y: Number, w: Number, h: Number, i: String}\n  layout: function layout(props\n  /*: Props*/\n  ) {\n    var layout = props.layout; // I hope you're setting the data-grid property on the grid items\n\n    if (layout === undefined) return;\n\n    require(\"./utils\").validateLayout(layout, \"layout\");\n  },\n  //\n  // Grid Dimensions\n  //\n  // Margin between items [x, y] in px\n  margin: (_propTypes.default.arrayOf(_propTypes.default.number)\n  /*: ReactPropsChainableTypeChecker*/\n  ),\n  // Padding inside the container [x, y] in px\n  containerPadding: (_propTypes.default.arrayOf(_propTypes.default.number)\n  /*: ReactPropsChainableTypeChecker*/\n  ),\n  // Rows have a static height, but you can change this based on breakpoints if you like\n  rowHeight: _propTypes.default.number,\n  // Default Infinity, but you can specify a max here if you like.\n  // Note that this isn't fully fleshed out and won't error if you specify a layout that\n  // extends beyond the row capacity. It will, however, not allow users to drag/resize\n  // an item past the barrier. They can push items beyond the barrier, though.\n  // Intentionally not documented for this reason.\n  maxRows: _propTypes.default.number,\n  //\n  // Flags\n  //\n  isBounded: _propTypes.default.bool,\n  isDraggable: _propTypes.default.bool,\n  isResizable: _propTypes.default.bool,\n  // If true, grid can be placed one over the other.\n  allowOverlap: _propTypes.default.bool,\n  // If true, grid items won't change position when being dragged over.\n  preventCollision: _propTypes.default.bool,\n  // Use CSS transforms instead of top/left\n  useCSSTransforms: _propTypes.default.bool,\n  // parent layout transform scale\n  transformScale: _propTypes.default.number,\n  // If true, an external element can trigger onDrop callback with a specific grid position as a parameter\n  isDroppable: _propTypes.default.bool,\n  // Resize handle options\n  resizeHandles: resizeHandleAxesType,\n  resizeHandle: resizeHandleType,\n  //\n  // Callbacks\n  //\n  // Callback so you can save the layout. Calls after each drag & resize stops.\n  onLayoutChange: _propTypes.default.func,\n  // Calls when drag starts. Callback is of the signature (layout, oldItem, newItem, placeholder, e, ?node).\n  // All callbacks below have the same signature. 'start' and 'stop' callbacks omit the 'placeholder'.\n  onDragStart: _propTypes.default.func,\n  // Calls on each drag movement.\n  onDrag: _propTypes.default.func,\n  // Calls when drag is complete.\n  onDragStop: _propTypes.default.func,\n  //Calls when resize starts.\n  onResizeStart: _propTypes.default.func,\n  // Calls when resize movement happens.\n  onResize: _propTypes.default.func,\n  // Calls when resize is complete.\n  onResizeStop: _propTypes.default.func,\n  // Calls when some element is dropped.\n  onDrop: _propTypes.default.func,\n  //\n  // Other validations\n  //\n  droppingItem: (_propTypes.default.shape({\n    i: _propTypes.default.string.isRequired,\n    w: _propTypes.default.number.isRequired,\n    h: _propTypes.default.number.isRequired\n  })\n  /*: ReactPropsChainableTypeChecker*/\n  ),\n  // Children must not have duplicate keys.\n  children: function children(props\n  /*: Props*/\n  , propName\n  /*: string*/\n  ) {\n    var children = props[propName]; // Check children keys for duplicates. Throw if found.\n\n    var keys = {};\n\n    _react.default.Children.forEach(children, function (child) {\n      if ((child === null || child === void 0 ? void 0 : child.key) == null) return;\n\n      if (keys[child.key]) {\n        throw new Error('Duplicate child key \"' + child.key + '\" found! This will cause problems in ReactGridLayout.');\n      }\n\n      keys[child.key] = true;\n    });\n  },\n  // Optional ref for getting a reference for the wrapping div.\n  innerRef: _propTypes.default.any\n};\nexports.default = _default;","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _lodash = _interopRequireDefault(require(\"lodash.isequal\"));\n\nvar _utils = require(\"./utils\");\n\nvar _responsiveUtils = require(\"./responsiveUtils\");\n\nvar _ReactGridLayout = _interopRequireDefault(require(\"./ReactGridLayout\"));\n\nvar _excluded = [\"breakpoint\", \"breakpoints\", \"cols\", \"layouts\", \"margin\", \"containerPadding\", \"onBreakpointChange\", \"onLayoutChange\", \"onWidthChange\"];\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// $FlowFixMe[method-unbinding]\nvar type = function type(obj) {\n  return Object.prototype.toString.call(obj);\n};\n/**\n * Get a value of margin or containerPadding.\n *\n * @param  {Array | Object} param Margin | containerPadding, e.g. [10, 10] | {lg: [10, 10], ...}.\n * @param  {String} breakpoint   Breakpoint: lg, md, sm, xs and etc.\n * @return {Array}\n */\n\n\nfunction getIndentationValue\n/*:: <T: ?[number, number]>*/\n(param\n/*: { [key: string]: T } | T*/\n, breakpoint\n/*: string*/\n)\n/*: T*/\n{\n  // $FlowIgnore TODO fix this typedef\n  if (param == null) return null; // $FlowIgnore TODO fix this typedef\n\n  return Array.isArray(param) ? param : param[breakpoint];\n}\n/*:: type State = {\n  layout: Layout,\n  breakpoint: string,\n  cols: number,\n  layouts?: ResponsiveLayout<string>\n};*/\n\n/*:: type Props<Breakpoint: string = string> = {|\n  ...React.ElementConfig<typeof ReactGridLayout>,\n\n  // Responsive config\n  breakpoint?: ?Breakpoint,\n  breakpoints: Breakpoints<Breakpoint>,\n  cols: { [key: Breakpoint]: number },\n  layouts: ResponsiveLayout<Breakpoint>,\n  width: number,\n  margin: { [key: Breakpoint]: [number, number] } | [number, number],\n  /* prettier-ignore *-/\n  containerPadding: { [key: Breakpoint]: ?[number, number] } | ?[number, number],\n\n  // Callbacks\n  onBreakpointChange: (Breakpoint, cols: number) => void,\n  onLayoutChange: OnLayoutChangeCallback,\n  onWidthChange: (\n    containerWidth: number,\n    margin: [number, number],\n    cols: number,\n    containerPadding: ?[number, number]\n  ) => void\n|};*/\n\n/*:: type DefaultProps = Pick<\n  Props<>,\n  {|\n    allowOverlap: 0,\n    breakpoints: 0,\n    cols: 0,\n    containerPadding: 0,\n    layouts: 0,\n    margin: 0,\n    onBreakpointChange: 0,\n    onLayoutChange: 0,\n    onWidthChange: 0\n  |}\n>;*/\n\n\nvar ResponsiveReactGridLayout = /*#__PURE__*/function (_React$Component) {\n  _inherits(ResponsiveReactGridLayout, _React$Component);\n\n  var _super = _createSuper(ResponsiveReactGridLayout);\n\n  function ResponsiveReactGridLayout() {\n    var _this;\n\n    _classCallCheck(this, ResponsiveReactGridLayout);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", _this.generateInitialState());\n\n    _defineProperty(_assertThisInitialized(_this), \"onLayoutChange\", function (layout\n    /*: Layout*/\n    ) {\n      _this.props.onLayoutChange(layout, _objectSpread(_objectSpread({}, _this.props.layouts), {}, _defineProperty({}, _this.state.breakpoint, layout)));\n    });\n\n    return _this;\n  }\n\n  _createClass(ResponsiveReactGridLayout, [{\n    key: \"generateInitialState\",\n    value: function generateInitialState()\n    /*: State*/\n    {\n      var _this$props = this.props,\n          width = _this$props.width,\n          breakpoints = _this$props.breakpoints,\n          layouts = _this$props.layouts,\n          cols = _this$props.cols;\n      var breakpoint = (0, _responsiveUtils.getBreakpointFromWidth)(breakpoints, width);\n      var colNo = (0, _responsiveUtils.getColsFromBreakpoint)(breakpoint, cols); // verticalCompact compatibility, now deprecated\n\n      var compactType = this.props.verticalCompact === false ? null : this.props.compactType; // Get the initial layout. This can tricky; we try to generate one however possible if one doesn't exist\n      // for this layout.\n\n      var initialLayout = (0, _responsiveUtils.findOrGenerateResponsiveLayout)(layouts, breakpoints, breakpoint, breakpoint, colNo, compactType);\n      return {\n        layout: initialLayout,\n        breakpoint: breakpoint,\n        cols: colNo\n      };\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps\n    /*: Props<*>*/\n    ) {\n      // Allow parent to set width or breakpoint directly.\n      if (this.props.width != prevProps.width || this.props.breakpoint !== prevProps.breakpoint || !(0, _lodash.default)(this.props.breakpoints, prevProps.breakpoints) || !(0, _lodash.default)(this.props.cols, prevProps.cols)) {\n        this.onWidthChange(prevProps);\n      }\n    } // wrap layouts so we do not need to pass layouts to child\n\n  }, {\n    key: \"onWidthChange\",\n    value:\n    /**\n     * When the width changes work through breakpoints and reset state with the new width & breakpoint.\n     * Width changes are necessary to figure out the widget widths.\n     */\n    function onWidthChange(prevProps\n    /*: Props<*>*/\n    ) {\n      var _this$props2 = this.props,\n          breakpoints = _this$props2.breakpoints,\n          cols = _this$props2.cols,\n          layouts = _this$props2.layouts,\n          compactType = _this$props2.compactType;\n      var newBreakpoint = this.props.breakpoint || (0, _responsiveUtils.getBreakpointFromWidth)(this.props.breakpoints, this.props.width);\n      var lastBreakpoint = this.state.breakpoint;\n      var newCols\n      /*: number*/\n      = (0, _responsiveUtils.getColsFromBreakpoint)(newBreakpoint, cols);\n\n      var newLayouts = _objectSpread({}, layouts); // Breakpoint change\n\n\n      if (lastBreakpoint !== newBreakpoint || prevProps.breakpoints !== breakpoints || prevProps.cols !== cols) {\n        // Preserve the current layout if the current breakpoint is not present in the next layouts.\n        if (!(lastBreakpoint in newLayouts)) newLayouts[lastBreakpoint] = (0, _utils.cloneLayout)(this.state.layout); // Find or generate a new layout.\n\n        var layout = (0, _responsiveUtils.findOrGenerateResponsiveLayout)(newLayouts, breakpoints, newBreakpoint, lastBreakpoint, newCols, compactType); // This adds missing items.\n\n        layout = (0, _utils.synchronizeLayoutWithChildren)(layout, this.props.children, newCols, compactType, this.props.allowOverlap); // Store the new layout.\n\n        newLayouts[newBreakpoint] = layout; // callbacks\n\n        this.props.onLayoutChange(layout, newLayouts);\n        this.props.onBreakpointChange(newBreakpoint, newCols);\n        this.setState({\n          breakpoint: newBreakpoint,\n          layout: layout,\n          cols: newCols\n        });\n      }\n\n      var margin = getIndentationValue(this.props.margin, newBreakpoint);\n      var containerPadding = getIndentationValue(this.props.containerPadding, newBreakpoint); //call onWidthChange on every change of width, not only on breakpoint changes\n\n      this.props.onWidthChange(this.props.width, margin, newCols, containerPadding);\n    }\n  }, {\n    key: \"render\",\n    value: function render()\n    /*: React.Element<typeof ReactGridLayout>*/\n    {\n      /* eslint-disable no-unused-vars */\n      var _this$props3 = this.props,\n          breakpoint = _this$props3.breakpoint,\n          breakpoints = _this$props3.breakpoints,\n          cols = _this$props3.cols,\n          layouts = _this$props3.layouts,\n          margin = _this$props3.margin,\n          containerPadding = _this$props3.containerPadding,\n          onBreakpointChange = _this$props3.onBreakpointChange,\n          onLayoutChange = _this$props3.onLayoutChange,\n          onWidthChange = _this$props3.onWidthChange,\n          other = _objectWithoutProperties(_this$props3, _excluded);\n      /* eslint-enable no-unused-vars */\n\n\n      return /*#__PURE__*/React.createElement(_ReactGridLayout.default, _extends({}, other, {\n        // $FlowIgnore should allow nullable here due to DefaultProps\n        margin: getIndentationValue(margin, this.state.breakpoint),\n        containerPadding: getIndentationValue(containerPadding, this.state.breakpoint),\n        onLayoutChange: this.onLayoutChange,\n        layout: this.state.layout,\n        cols: this.state.cols\n      }));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps\n    /*: Props<*>*/\n    , prevState\n    /*: State*/\n    )\n    /*: ?$Shape<State>*/\n    {\n      if (!(0, _lodash.default)(nextProps.layouts, prevState.layouts)) {\n        // Allow parent to set layouts directly.\n        var breakpoint = prevState.breakpoint,\n            _cols = prevState.cols; // Since we're setting an entirely new layout object, we must generate a new responsive layout\n        // if one does not exist.\n\n        var newLayout = (0, _responsiveUtils.findOrGenerateResponsiveLayout)(nextProps.layouts, nextProps.breakpoints, breakpoint, breakpoint, _cols, nextProps.compactType);\n        return {\n          layout: newLayout,\n          layouts: nextProps.layouts\n        };\n      }\n\n      return null;\n    }\n  }]);\n\n  return ResponsiveReactGridLayout;\n}(React.Component);\n\nexports.default = ResponsiveReactGridLayout;\n\n_defineProperty(ResponsiveReactGridLayout, \"propTypes\", {\n  //\n  // Basic props\n  //\n  // Optional, but if you are managing width yourself you may want to set the breakpoint\n  // yourself as well.\n  breakpoint: _propTypes.default.string,\n  // {name: pxVal}, e.g. {lg: 1200, md: 996, sm: 768, xs: 480}\n  breakpoints: _propTypes.default.object,\n  allowOverlap: _propTypes.default.bool,\n  // # of cols. This is a breakpoint -> cols map\n  cols: _propTypes.default.object,\n  // # of margin. This is a breakpoint -> margin map\n  // e.g. { lg: [5, 5], md: [10, 10], sm: [15, 15] }\n  // Margin between items [x, y] in px\n  // e.g. [10, 10]\n  margin: _propTypes.default.oneOfType([_propTypes.default.array, _propTypes.default.object]),\n  // # of containerPadding. This is a breakpoint -> containerPadding map\n  // e.g. { lg: [5, 5], md: [10, 10], sm: [15, 15] }\n  // Padding inside the container [x, y] in px\n  // e.g. [10, 10]\n  containerPadding: _propTypes.default.oneOfType([_propTypes.default.array, _propTypes.default.object]),\n  // layouts is an object mapping breakpoints to layouts.\n  // e.g. {lg: Layout, md: Layout, ...}\n  layouts: function layouts(props\n  /*: Props<>*/\n  , propName\n  /*: string*/\n  ) {\n    if (type(props[propName]) !== \"[object Object]\") {\n      throw new Error(\"Layout property must be an object. Received: \" + type(props[propName]));\n    }\n\n    Object.keys(props[propName]).forEach(function (key) {\n      if (!(key in props.breakpoints)) {\n        throw new Error(\"Each key in layouts must align with a key in breakpoints.\");\n      }\n\n      (0, _utils.validateLayout)(props.layouts[key], \"layouts.\" + key);\n    });\n  },\n  // The width of this component.\n  // Required in this propTypes stanza because generateInitialState() will fail without it.\n  width: _propTypes.default.number.isRequired,\n  //\n  // Callbacks\n  //\n  // Calls back with breakpoint and new # cols\n  onBreakpointChange: _propTypes.default.func,\n  // Callback so you can save the layout.\n  // Calls back with (currentLayout, allLayouts). allLayouts are keyed by breakpoint.\n  onLayoutChange: _propTypes.default.func,\n  // Calls back with (containerWidth, margin, cols, containerPadding)\n  onWidthChange: _propTypes.default.func\n});\n\n_defineProperty(ResponsiveReactGridLayout, \"defaultProps\", {\n  breakpoints: {\n    lg: 1200,\n    md: 996,\n    sm: 768,\n    xs: 480,\n    xxs: 0\n  },\n  cols: {\n    lg: 12,\n    md: 10,\n    sm: 6,\n    xs: 4,\n    xxs: 2\n  },\n  containerPadding: {\n    lg: null,\n    md: null,\n    sm: null,\n    xs: null,\n    xxs: null\n  },\n  layouts: {},\n  margin: [10, 10],\n  allowOverlap: false,\n  onBreakpointChange: _utils.noop,\n  onLayoutChange: _utils.noop,\n  onWidthChange: _utils.noop\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.calcGridColWidth = calcGridColWidth;\nexports.calcGridItemPosition = calcGridItemPosition;\nexports.calcGridItemWHPx = calcGridItemWHPx;\nexports.calcWH = calcWH;\nexports.calcXY = calcXY;\nexports.clamp = clamp;\n\n/*:: import type { Position } from \"./utils\";*/\n\n/*:: export type PositionParams = {\n  margin: [number, number],\n  containerPadding: [number, number],\n  containerWidth: number,\n  cols: number,\n  rowHeight: number,\n  maxRows: number\n};*/\n// Helper for generating column width\nfunction calcGridColWidth(positionParams\n/*: PositionParams*/\n)\n/*: number*/\n{\n  var margin = positionParams.margin,\n      containerPadding = positionParams.containerPadding,\n      containerWidth = positionParams.containerWidth,\n      cols = positionParams.cols;\n  return (containerWidth - margin[0] * (cols - 1) - containerPadding[0] * 2) / cols;\n} // This can either be called:\n// calcGridItemWHPx(w, colWidth, margin[0])\n// or\n// calcGridItemWHPx(h, rowHeight, margin[1])\n\n\nfunction calcGridItemWHPx(gridUnits\n/*: number*/\n, colOrRowSize\n/*: number*/\n, marginPx\n/*: number*/\n)\n/*: number*/\n{\n  // 0 * Infinity === NaN, which causes problems with resize contraints\n  if (!Number.isFinite(gridUnits)) return gridUnits;\n  return Math.round(colOrRowSize * gridUnits + Math.max(0, gridUnits - 1) * marginPx);\n}\n/**\n * Return position on the page given an x, y, w, h.\n * left, top, width, height are all in pixels.\n * @param  {PositionParams} positionParams  Parameters of grid needed for coordinates calculations.\n * @param  {Number}  x                      X coordinate in grid units.\n * @param  {Number}  y                      Y coordinate in grid units.\n * @param  {Number}  w                      W coordinate in grid units.\n * @param  {Number}  h                      H coordinate in grid units.\n * @return {Position}                       Object containing coords.\n */\n\n\nfunction calcGridItemPosition(positionParams\n/*: PositionParams*/\n, x\n/*: number*/\n, y\n/*: number*/\n, w\n/*: number*/\n, h\n/*: number*/\n, state\n/*: ?Object*/\n)\n/*: Position*/\n{\n  var margin = positionParams.margin,\n      containerPadding = positionParams.containerPadding,\n      rowHeight = positionParams.rowHeight;\n  var colWidth = calcGridColWidth(positionParams);\n  var out = {}; // If resizing, use the exact width and height as returned from resizing callbacks.\n\n  if (state && state.resizing) {\n    out.width = Math.round(state.resizing.width);\n    out.height = Math.round(state.resizing.height);\n  } // Otherwise, calculate from grid units.\n  else {\n    out.width = calcGridItemWHPx(w, colWidth, margin[0]);\n    out.height = calcGridItemWHPx(h, rowHeight, margin[1]);\n  } // If dragging, use the exact width and height as returned from dragging callbacks.\n\n\n  if (state && state.dragging) {\n    out.top = Math.round(state.dragging.top);\n    out.left = Math.round(state.dragging.left);\n  } // Otherwise, calculate from grid units.\n  else {\n    out.top = Math.round((rowHeight + margin[1]) * y + containerPadding[1]);\n    out.left = Math.round((colWidth + margin[0]) * x + containerPadding[0]);\n  }\n\n  return out;\n}\n/**\n * Translate x and y coordinates from pixels to grid units.\n * @param  {PositionParams} positionParams  Parameters of grid needed for coordinates calculations.\n * @param  {Number} top                     Top position (relative to parent) in pixels.\n * @param  {Number} left                    Left position (relative to parent) in pixels.\n * @param  {Number} w                       W coordinate in grid units.\n * @param  {Number} h                       H coordinate in grid units.\n * @return {Object}                         x and y in grid units.\n */\n\n\nfunction calcXY(positionParams\n/*: PositionParams*/\n, top\n/*: number*/\n, left\n/*: number*/\n, w\n/*: number*/\n, h\n/*: number*/\n)\n/*: { x: number, y: number }*/\n{\n  var margin = positionParams.margin,\n      cols = positionParams.cols,\n      rowHeight = positionParams.rowHeight,\n      maxRows = positionParams.maxRows;\n  var colWidth = calcGridColWidth(positionParams); // left = colWidth * x + margin * (x + 1)\n  // l = cx + m(x+1)\n  // l = cx + mx + m\n  // l - m = cx + mx\n  // l - m = x(c + m)\n  // (l - m) / (c + m) = x\n  // x = (left - margin) / (coldWidth + margin)\n\n  var x = Math.round((left - margin[0]) / (colWidth + margin[0]));\n  var y = Math.round((top - margin[1]) / (rowHeight + margin[1])); // Capping\n\n  x = clamp(x, 0, cols - w);\n  y = clamp(y, 0, maxRows - h);\n  return {\n    x: x,\n    y: y\n  };\n}\n/**\n * Given a height and width in pixel values, calculate grid units.\n * @param  {PositionParams} positionParams  Parameters of grid needed for coordinates calcluations.\n * @param  {Number} height                  Height in pixels.\n * @param  {Number} width                   Width in pixels.\n * @param  {Number} x                       X coordinate in grid units.\n * @param  {Number} y                       Y coordinate in grid units.\n * @return {Object}                         w, h as grid units.\n */\n\n\nfunction calcWH(positionParams\n/*: PositionParams*/\n, width\n/*: number*/\n, height\n/*: number*/\n, x\n/*: number*/\n, y\n/*: number*/\n)\n/*: { w: number, h: number }*/\n{\n  var margin = positionParams.margin,\n      maxRows = positionParams.maxRows,\n      cols = positionParams.cols,\n      rowHeight = positionParams.rowHeight;\n  var colWidth = calcGridColWidth(positionParams); // width = colWidth * w - (margin * (w - 1))\n  // ...\n  // w = (width + margin) / (colWidth + margin)\n\n  var w = Math.round((width + margin[0]) / (colWidth + margin[0]));\n  var h = Math.round((height + margin[1]) / (rowHeight + margin[1])); // Capping\n\n  w = clamp(w, 0, cols - x);\n  h = clamp(h, 0, maxRows - y);\n  return {\n    w: w,\n    h: h\n  };\n} // Similar to _.clamp\n\n\nfunction clamp(num\n/*: number*/\n, lowerBound\n/*: number*/\n, upperBound\n/*: number*/\n)\n/*: number*/\n{\n  return Math.max(Math.min(num, upperBound), lowerBound);\n}","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = WidthProvideRGL;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _clsx = _interopRequireDefault(require(\"clsx\"));\n\nvar _excluded = [\"measureBeforeMount\"];\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar layoutClassName = \"react-grid-layout\";\n/*\n * A simple HOC that provides facility for listening to container resizes.\n *\n * The Flow type is pretty janky here. I can't just spread `WPProps` into this returned object - I wish I could - but it triggers\n * a flow bug of some sort that causes it to stop typechecking.\n */\n\nfunction WidthProvideRGL\n/*:: <Config>*/\n(ComposedComponent\n/*: React.AbstractComponent<Config>*/\n)\n/*: React.AbstractComponent<ComposedProps<Config>>*/\n{\n  var _class;\n\n  return _class = /*#__PURE__*/function (_React$Component) {\n    _inherits(WidthProvider, _React$Component);\n\n    var _super = _createSuper(WidthProvider);\n\n    function WidthProvider() {\n      var _this;\n\n      _classCallCheck(this, WidthProvider);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = _super.call.apply(_super, [this].concat(args));\n\n      _defineProperty(_assertThisInitialized(_this), \"state\", {\n        width: 1280\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"elementRef\", /*#__PURE__*/React.createRef());\n\n      _defineProperty(_assertThisInitialized(_this), \"mounted\", false);\n\n      _defineProperty(_assertThisInitialized(_this), \"onWindowResize\", function () {\n        if (!_this.mounted) return;\n        var node = _this.elementRef.current; // Flow casts this to Text | Element\n        // fix: grid position error when node or parentNode display is none by window resize\n        // #924 #1084\n\n        if (node instanceof HTMLElement && node.offsetWidth) {\n          _this.setState({\n            width: node.offsetWidth\n          });\n        }\n      });\n\n      return _this;\n    }\n\n    _createClass(WidthProvider, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        this.mounted = true;\n        window.addEventListener(\"resize\", this.onWindowResize); // Call to properly set the breakpoint and resize the elements.\n        // Note that if you're doing a full-width element, this can get a little wonky if a scrollbar\n        // appears because of the grid. In that case, fire your own resize event, or set `overflow: scroll` on your body.\n\n        this.onWindowResize();\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        this.mounted = false;\n        window.removeEventListener(\"resize\", this.onWindowResize);\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this$props = this.props,\n            measureBeforeMount = _this$props.measureBeforeMount,\n            rest = _objectWithoutProperties(_this$props, _excluded);\n\n        if (measureBeforeMount && !this.mounted) {\n          return /*#__PURE__*/React.createElement(\"div\", {\n            className: (0, _clsx.default)(this.props.className, layoutClassName),\n            style: this.props.style // $FlowIgnore ref types\n            ,\n            ref: this.elementRef\n          });\n        }\n\n        return /*#__PURE__*/React.createElement(ComposedComponent, _extends({\n          innerRef: this.elementRef\n        }, rest, this.state));\n      }\n    }]);\n\n    return WidthProvider;\n  }(React.Component), _defineProperty(_class, \"defaultProps\", {\n    measureBeforeMount: false\n  }), _defineProperty(_class, \"propTypes\", {\n    // If true, will not render children until mounted. Useful for getting the exact width before\n    // rendering, to prevent any unsightly resizing.\n    measureBeforeMount: _propTypes.default.bool\n  }), _class;\n}","// this file was prevaled\nmodule.exports = function fastRGLPropsEqual(a, b, isEqualImpl) {\n  if (a === b) return true;\n  return a.className === b.className && isEqualImpl(a.style, b.style) && a.width === b.width && a.autoSize === b.autoSize && a.cols === b.cols && a.draggableCancel === b.draggableCancel && a.draggableHandle === b.draggableHandle && isEqualImpl(a.verticalCompact, b.verticalCompact) && isEqualImpl(a.compactType, b.compactType) && isEqualImpl(a.layout, b.layout) && isEqualImpl(a.margin, b.margin) && isEqualImpl(a.containerPadding, b.containerPadding) && a.rowHeight === b.rowHeight && a.maxRows === b.maxRows && a.isBounded === b.isBounded && a.isDraggable === b.isDraggable && a.isResizable === b.isResizable && a.allowOverlap === b.allowOverlap && a.preventCollision === b.preventCollision && a.useCSSTransforms === b.useCSSTransforms && a.transformScale === b.transformScale && a.isDroppable === b.isDroppable && isEqualImpl(a.resizeHandles, b.resizeHandles) && isEqualImpl(a.resizeHandle, b.resizeHandle) && a.onLayoutChange === b.onLayoutChange && a.onDragStart === b.onDragStart && a.onDrag === b.onDrag && a.onDragStop === b.onDragStop && a.onResizeStart === b.onResizeStart && a.onResize === b.onResize && a.onResizeStop === b.onResizeStop && a.onDrop === b.onDrop && isEqualImpl(a.droppingItem, b.droppingItem) && isEqualImpl(a.innerRef, b.innerRef);\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.findOrGenerateResponsiveLayout = findOrGenerateResponsiveLayout;\nexports.getBreakpointFromWidth = getBreakpointFromWidth;\nexports.getColsFromBreakpoint = getColsFromBreakpoint;\nexports.sortBreakpoints = sortBreakpoints;\n\nvar _utils = require(\"./utils\");\n\n/**\n * Given a width, find the highest breakpoint that matches is valid for it (width > breakpoint).\n *\n * @param  {Object} breakpoints Breakpoints object (e.g. {lg: 1200, md: 960, ...})\n * @param  {Number} width Screen width.\n * @return {String}       Highest breakpoint that is less than width.\n */\nfunction getBreakpointFromWidth(breakpoints\n/*: Breakpoints<Breakpoint>*/\n, width\n/*: number*/\n)\n/*: Breakpoint*/\n{\n  var sorted = sortBreakpoints(breakpoints);\n  var matching = sorted[0];\n\n  for (var i = 1, len = sorted.length; i < len; i++) {\n    var breakpointName = sorted[i];\n    if (width > breakpoints[breakpointName]) matching = breakpointName;\n  }\n\n  return matching;\n}\n/**\n * Given a breakpoint, get the # of cols set for it.\n * @param  {String} breakpoint Breakpoint name.\n * @param  {Object} cols       Map of breakpoints to cols.\n * @return {Number}            Number of cols.\n */\n\n\nfunction getColsFromBreakpoint(breakpoint\n/*: Breakpoint*/\n, cols\n/*: Breakpoints<Breakpoint>*/\n)\n/*: number*/\n{\n  if (!cols[breakpoint]) {\n    throw new Error(\"ResponsiveReactGridLayout: `cols` entry for breakpoint \" + breakpoint + \" is missing!\");\n  }\n\n  return cols[breakpoint];\n}\n/**\n * Given existing layouts and a new breakpoint, find or generate a new layout.\n *\n * This finds the layout above the new one and generates from it, if it exists.\n *\n * @param  {Object} layouts     Existing layouts.\n * @param  {Array} breakpoints All breakpoints.\n * @param  {String} breakpoint New breakpoint.\n * @param  {String} breakpoint Last breakpoint (for fallback).\n * @param  {Number} cols       Column count at new breakpoint.\n * @param  {Boolean} verticalCompact Whether or not to compact the layout\n *   vertically.\n * @return {Array}             New layout.\n */\n\n\nfunction findOrGenerateResponsiveLayout(layouts\n/*: ResponsiveLayout<Breakpoint>*/\n, breakpoints\n/*: Breakpoints<Breakpoint>*/\n, breakpoint\n/*: Breakpoint*/\n, lastBreakpoint\n/*: Breakpoint*/\n, cols\n/*: number*/\n, compactType\n/*: CompactType*/\n)\n/*: Layout*/\n{\n  // If it already exists, just return it.\n  if (layouts[breakpoint]) return (0, _utils.cloneLayout)(layouts[breakpoint]); // Find or generate the next layout\n\n  var layout = layouts[lastBreakpoint];\n  var breakpointsSorted = sortBreakpoints(breakpoints);\n  var breakpointsAbove = breakpointsSorted.slice(breakpointsSorted.indexOf(breakpoint));\n\n  for (var i = 0, len = breakpointsAbove.length; i < len; i++) {\n    var b = breakpointsAbove[i];\n\n    if (layouts[b]) {\n      layout = layouts[b];\n      break;\n    }\n  }\n\n  layout = (0, _utils.cloneLayout)(layout || []); // clone layout so we don't modify existing items\n\n  return (0, _utils.compact)((0, _utils.correctBounds)(layout, {\n    cols: cols\n  }), compactType, cols);\n}\n/**\n * Given breakpoints, return an array of breakpoints sorted by width. This is usually\n * e.g. ['xxs', 'xs', 'sm', ...]\n *\n * @param  {Object} breakpoints Key/value pair of breakpoint names to widths.\n * @return {Array}              Sorted breakpoints.\n */\n\n\nfunction sortBreakpoints(breakpoints\n/*: Breakpoints<Breakpoint>*/\n)\n/*: Array<Breakpoint>*/\n{\n  var keys\n  /*: Array<string>*/\n  = Object.keys(breakpoints);\n  return keys.sort(function (a, b) {\n    return breakpoints[a] - breakpoints[b];\n  });\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.bottom = bottom;\nexports.childrenEqual = childrenEqual;\nexports.cloneLayout = cloneLayout;\nexports.cloneLayoutItem = cloneLayoutItem;\nexports.collides = collides;\nexports.compact = compact;\nexports.compactItem = compactItem;\nexports.compactType = compactType;\nexports.correctBounds = correctBounds;\nexports.fastPositionEqual = fastPositionEqual;\nexports.fastRGLPropsEqual = void 0;\nexports.getAllCollisions = getAllCollisions;\nexports.getFirstCollision = getFirstCollision;\nexports.getLayoutItem = getLayoutItem;\nexports.getStatics = getStatics;\nexports.modifyLayout = modifyLayout;\nexports.moveElement = moveElement;\nexports.moveElementAwayFromCollision = moveElementAwayFromCollision;\nexports.noop = void 0;\nexports.perc = perc;\nexports.setTopLeft = setTopLeft;\nexports.setTransform = setTransform;\nexports.sortLayoutItems = sortLayoutItems;\nexports.sortLayoutItemsByColRow = sortLayoutItemsByColRow;\nexports.sortLayoutItemsByRowCol = sortLayoutItemsByRowCol;\nexports.synchronizeLayoutWithChildren = synchronizeLayoutWithChildren;\nexports.validateLayout = validateLayout;\nexports.withLayoutItem = withLayoutItem;\n\nvar _lodash = _interopRequireDefault(require(\"lodash.isequal\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar isProduction = process.env.NODE_ENV === \"production\";\nvar DEBUG = false;\n/**\n * Return the bottom coordinate of the layout.\n *\n * @param  {Array} layout Layout array.\n * @return {Number}       Bottom coordinate.\n */\n\nfunction bottom(layout\n/*: Layout*/\n)\n/*: number*/\n{\n  var max = 0,\n      bottomY;\n\n  for (var i = 0, len = layout.length; i < len; i++) {\n    bottomY = layout[i].y + layout[i].h;\n    if (bottomY > max) max = bottomY;\n  }\n\n  return max;\n}\n\nfunction cloneLayout(layout\n/*: Layout*/\n)\n/*: Layout*/\n{\n  var newLayout = Array(layout.length);\n\n  for (var i = 0, len = layout.length; i < len; i++) {\n    newLayout[i] = cloneLayoutItem(layout[i]);\n  }\n\n  return newLayout;\n} // Modify a layoutItem inside a layout. Returns a new Layout,\n// does not mutate. Carries over all other LayoutItems unmodified.\n\n\nfunction modifyLayout(layout\n/*: Layout*/\n, layoutItem\n/*: LayoutItem*/\n)\n/*: Layout*/\n{\n  var newLayout = Array(layout.length);\n\n  for (var i = 0, len = layout.length; i < len; i++) {\n    if (layoutItem.i === layout[i].i) {\n      newLayout[i] = layoutItem;\n    } else {\n      newLayout[i] = layout[i];\n    }\n  }\n\n  return newLayout;\n} // Function to be called to modify a layout item.\n// Does defensive clones to ensure the layout is not modified.\n\n\nfunction withLayoutItem(layout\n/*: Layout*/\n, itemKey\n/*: string*/\n, cb\n/*: LayoutItem => LayoutItem*/\n)\n/*: [Layout, ?LayoutItem]*/\n{\n  var item = getLayoutItem(layout, itemKey);\n  if (!item) return [layout, null];\n  item = cb(cloneLayoutItem(item)); // defensive clone then modify\n  // FIXME could do this faster if we already knew the index\n\n  layout = modifyLayout(layout, item);\n  return [layout, item];\n} // Fast path to cloning, since this is monomorphic\n\n\nfunction cloneLayoutItem(layoutItem\n/*: LayoutItem*/\n)\n/*: LayoutItem*/\n{\n  return {\n    w: layoutItem.w,\n    h: layoutItem.h,\n    x: layoutItem.x,\n    y: layoutItem.y,\n    i: layoutItem.i,\n    minW: layoutItem.minW,\n    maxW: layoutItem.maxW,\n    minH: layoutItem.minH,\n    maxH: layoutItem.maxH,\n    moved: Boolean(layoutItem.moved),\n    static: Boolean(layoutItem.static),\n    // These can be null/undefined\n    isDraggable: layoutItem.isDraggable,\n    isResizable: layoutItem.isResizable,\n    resizeHandles: layoutItem.resizeHandles,\n    isBounded: layoutItem.isBounded\n  };\n}\n/**\n * Comparing React `children` is a bit difficult. This is a good way to compare them.\n * This will catch differences in keys, order, and length.\n */\n\n\nfunction childrenEqual(a\n/*: ReactChildren*/\n, b\n/*: ReactChildren*/\n)\n/*: boolean*/\n{\n  return (0, _lodash.default)(_react.default.Children.map(a, function (c) {\n    return c === null || c === void 0 ? void 0 : c.key;\n  }), _react.default.Children.map(b, function (c) {\n    return c === null || c === void 0 ? void 0 : c.key;\n  }));\n}\n/**\n * See `fastRGLPropsEqual.js`.\n * We want this to run as fast as possible - it is called often - and to be\n * resilient to new props that we add. So rather than call lodash.isEqual,\n * which isn't suited to comparing props very well, we use this specialized\n * function in conjunction with preval to generate the fastest possible comparison\n * function, tuned for exactly our props.\n */\n\n/*:: type FastRGLPropsEqual = (Object, Object, Function) => boolean;*/\n\n\nvar fastRGLPropsEqual\n/*: FastRGLPropsEqual*/\n= require(\"./fastRGLPropsEqual\"); // Like the above, but a lot simpler.\n\n\nexports.fastRGLPropsEqual = fastRGLPropsEqual;\n\nfunction fastPositionEqual(a\n/*: Position*/\n, b\n/*: Position*/\n)\n/*: boolean*/\n{\n  return a.left === b.left && a.top === b.top && a.width === b.width && a.height === b.height;\n}\n/**\n * Given two layoutitems, check if they collide.\n */\n\n\nfunction collides(l1\n/*: LayoutItem*/\n, l2\n/*: LayoutItem*/\n)\n/*: boolean*/\n{\n  if (l1.i === l2.i) return false; // same element\n\n  if (l1.x + l1.w <= l2.x) return false; // l1 is left of l2\n\n  if (l1.x >= l2.x + l2.w) return false; // l1 is right of l2\n\n  if (l1.y + l1.h <= l2.y) return false; // l1 is above l2\n\n  if (l1.y >= l2.y + l2.h) return false; // l1 is below l2\n\n  return true; // boxes overlap\n}\n/**\n * Given a layout, compact it. This involves going down each y coordinate and removing gaps\n * between items.\n *\n * Does not modify layout items (clones). Creates a new layout array.\n *\n * @param  {Array} layout Layout.\n * @param  {Boolean} verticalCompact Whether or not to compact the layout\n *   vertically.\n * @return {Array}       Compacted Layout.\n */\n\n\nfunction compact(layout\n/*: Layout*/\n, compactType\n/*: CompactType*/\n, cols\n/*: number*/\n)\n/*: Layout*/\n{\n  // Statics go in the compareWith array right away so items flow around them.\n  var compareWith = getStatics(layout); // We go through the items by row and column.\n\n  var sorted = sortLayoutItems(layout, compactType); // Holding for new items.\n\n  var out = Array(layout.length);\n\n  for (var i = 0, len = sorted.length; i < len; i++) {\n    var l = cloneLayoutItem(sorted[i]); // Don't move static elements\n\n    if (!l.static) {\n      l = compactItem(compareWith, l, compactType, cols, sorted); // Add to comparison array. We only collide with items before this one.\n      // Statics are already in this array.\n\n      compareWith.push(l);\n    } // Add to output array to make sure they still come out in the right order.\n\n\n    out[layout.indexOf(sorted[i])] = l; // Clear moved flag, if it exists.\n\n    l.moved = false;\n  }\n\n  return out;\n}\n\nvar heightWidth = {\n  x: \"w\",\n  y: \"h\"\n};\n/**\n * Before moving item down, it will check if the movement will cause collisions and move those items down before.\n */\n\nfunction resolveCompactionCollision(layout\n/*: Layout*/\n, item\n/*: LayoutItem*/\n, moveToCoord\n/*: number*/\n, axis\n/*: \"x\" | \"y\"*/\n) {\n  var sizeProp = heightWidth[axis];\n  item[axis] += 1;\n  var itemIndex = layout.map(function (layoutItem) {\n    return layoutItem.i;\n  }).indexOf(item.i); // Go through each item we collide with.\n\n  for (var i = itemIndex + 1; i < layout.length; i++) {\n    var otherItem = layout[i]; // Ignore static items\n\n    if (otherItem.static) continue; // Optimization: we can break early if we know we're past this el\n    // We can do this b/c it's a sorted layout\n\n    if (otherItem.y > item.y + item.h) break;\n\n    if (collides(item, otherItem)) {\n      resolveCompactionCollision(layout, otherItem, moveToCoord + item[sizeProp], axis);\n    }\n  }\n\n  item[axis] = moveToCoord;\n}\n/**\n * Compact an item in the layout.\n *\n * Modifies item.\n *\n */\n\n\nfunction compactItem(compareWith\n/*: Layout*/\n, l\n/*: LayoutItem*/\n, compactType\n/*: CompactType*/\n, cols\n/*: number*/\n, fullLayout\n/*: Layout*/\n)\n/*: LayoutItem*/\n{\n  var compactV = compactType === \"vertical\";\n  var compactH = compactType === \"horizontal\";\n\n  if (compactV) {\n    // Bottom 'y' possible is the bottom of the layout.\n    // This allows you to do nice stuff like specify {y: Infinity}\n    // This is here because the layout must be sorted in order to get the correct bottom `y`.\n    l.y = Math.min(bottom(compareWith), l.y); // Move the element up as far as it can go without colliding.\n\n    while (l.y > 0 && !getFirstCollision(compareWith, l)) {\n      l.y--;\n    }\n  } else if (compactH) {\n    // Move the element left as far as it can go without colliding.\n    while (l.x > 0 && !getFirstCollision(compareWith, l)) {\n      l.x--;\n    }\n  } // Move it down, and keep moving it down if it's colliding.\n\n\n  var collides;\n\n  while (collides = getFirstCollision(compareWith, l)) {\n    if (compactH) {\n      resolveCompactionCollision(fullLayout, l, collides.x + collides.w, \"x\");\n    } else {\n      resolveCompactionCollision(fullLayout, l, collides.y + collides.h, \"y\");\n    } // Since we can't grow without bounds horizontally, if we've overflown, let's move it down and try again.\n\n\n    if (compactH && l.x + l.w > cols) {\n      l.x = cols - l.w;\n      l.y++;\n    }\n  } // Ensure that there are no negative positions\n\n\n  l.y = Math.max(l.y, 0);\n  l.x = Math.max(l.x, 0);\n  return l;\n}\n/**\n * Given a layout, make sure all elements fit within its bounds.\n *\n * Modifies layout items.\n *\n * @param  {Array} layout Layout array.\n * @param  {Number} bounds Number of columns.\n */\n\n\nfunction correctBounds(layout\n/*: Layout*/\n, bounds\n/*: { cols: number }*/\n)\n/*: Layout*/\n{\n  var collidesWith = getStatics(layout);\n\n  for (var i = 0, len = layout.length; i < len; i++) {\n    var l = layout[i]; // Overflows right\n\n    if (l.x + l.w > bounds.cols) l.x = bounds.cols - l.w; // Overflows left\n\n    if (l.x < 0) {\n      l.x = 0;\n      l.w = bounds.cols;\n    }\n\n    if (!l.static) collidesWith.push(l);else {\n      // If this is static and collides with other statics, we must move it down.\n      // We have to do something nicer than just letting them overlap.\n      while (getFirstCollision(collidesWith, l)) {\n        l.y++;\n      }\n    }\n  }\n\n  return layout;\n}\n/**\n * Get a layout item by ID. Used so we can override later on if necessary.\n *\n * @param  {Array}  layout Layout array.\n * @param  {String} id     ID\n * @return {LayoutItem}    Item at ID.\n */\n\n\nfunction getLayoutItem(layout\n/*: Layout*/\n, id\n/*: string*/\n)\n/*: ?LayoutItem*/\n{\n  for (var i = 0, len = layout.length; i < len; i++) {\n    if (layout[i].i === id) return layout[i];\n  }\n}\n/**\n * Returns the first item this layout collides with.\n * It doesn't appear to matter which order we approach this from, although\n * perhaps that is the wrong thing to do.\n *\n * @param  {Object} layoutItem Layout item.\n * @return {Object|undefined}  A colliding layout item, or undefined.\n */\n\n\nfunction getFirstCollision(layout\n/*: Layout*/\n, layoutItem\n/*: LayoutItem*/\n)\n/*: ?LayoutItem*/\n{\n  for (var i = 0, len = layout.length; i < len; i++) {\n    if (collides(layout[i], layoutItem)) return layout[i];\n  }\n}\n\nfunction getAllCollisions(layout\n/*: Layout*/\n, layoutItem\n/*: LayoutItem*/\n)\n/*: Array<LayoutItem>*/\n{\n  return layout.filter(function (l) {\n    return collides(l, layoutItem);\n  });\n}\n/**\n * Get all static elements.\n * @param  {Array} layout Array of layout objects.\n * @return {Array}        Array of static layout items..\n */\n\n\nfunction getStatics(layout\n/*: Layout*/\n)\n/*: Array<LayoutItem>*/\n{\n  return layout.filter(function (l) {\n    return l.static;\n  });\n}\n/**\n * Move an element. Responsible for doing cascading movements of other elements.\n *\n * Modifies layout items.\n *\n * @param  {Array}      layout            Full layout to modify.\n * @param  {LayoutItem} l                 element to move.\n * @param  {Number}     [x]               X position in grid units.\n * @param  {Number}     [y]               Y position in grid units.\n */\n\n\nfunction moveElement(layout\n/*: Layout*/\n, l\n/*: LayoutItem*/\n, x\n/*: ?number*/\n, y\n/*: ?number*/\n, isUserAction\n/*: ?boolean*/\n, preventCollision\n/*: ?boolean*/\n, compactType\n/*: CompactType*/\n, cols\n/*: number*/\n, allowOverlap\n/*: ?boolean*/\n)\n/*: Layout*/\n{\n  // If this is static and not explicitly enabled as draggable,\n  // no move is possible, so we can short-circuit this immediately.\n  if (l.static && l.isDraggable !== true) return layout; // Short-circuit if nothing to do.\n\n  if (l.y === y && l.x === x) return layout;\n  log(\"Moving element \".concat(l.i, \" to [\").concat(String(x), \",\").concat(String(y), \"] from [\").concat(l.x, \",\").concat(l.y, \"]\"));\n  var oldX = l.x;\n  var oldY = l.y; // This is quite a bit faster than extending the object\n\n  if (typeof x === \"number\") l.x = x;\n  if (typeof y === \"number\") l.y = y;\n  l.moved = true; // If this collides with anything, move it.\n  // When doing this comparison, we have to sort the items we compare with\n  // to ensure, in the case of multiple collisions, that we're getting the\n  // nearest collision.\n\n  var sorted = sortLayoutItems(layout, compactType);\n  var movingUp = compactType === \"vertical\" && typeof y === \"number\" ? oldY >= y : compactType === \"horizontal\" && typeof x === \"number\" ? oldX >= x : false; // $FlowIgnore acceptable modification of read-only array as it was recently cloned\n\n  if (movingUp) sorted = sorted.reverse();\n  var collisions = getAllCollisions(sorted, l);\n  var hasCollisions = collisions.length > 0; // We may have collisions. We can short-circuit if we've turned off collisions or\n  // allowed overlap.\n\n  if (hasCollisions && allowOverlap) {\n    // Easy, we don't need to resolve collisions. But we *did* change the layout,\n    // so clone it on the way out.\n    return cloneLayout(layout);\n  } else if (hasCollisions && preventCollision) {\n    // If we are preventing collision but not allowing overlap, we need to\n    // revert the position of this element so it goes to where it came from, rather\n    // than the user's desired location.\n    log(\"Collision prevented on \".concat(l.i, \", reverting.\"));\n    l.x = oldX;\n    l.y = oldY;\n    l.moved = false;\n    return layout; // did not change so don't clone\n  } // Move each item that collides away from this element.\n\n\n  for (var i = 0, len = collisions.length; i < len; i++) {\n    var collision = collisions[i];\n    log(\"Resolving collision between \".concat(l.i, \" at [\").concat(l.x, \",\").concat(l.y, \"] and \").concat(collision.i, \" at [\").concat(collision.x, \",\").concat(collision.y, \"]\")); // Short circuit so we can't infinite loop\n\n    if (collision.moved) continue; // Don't move static items - we have to move *this* element away\n\n    if (collision.static) {\n      layout = moveElementAwayFromCollision(layout, collision, l, isUserAction, compactType, cols);\n    } else {\n      layout = moveElementAwayFromCollision(layout, l, collision, isUserAction, compactType, cols);\n    }\n  }\n\n  return layout;\n}\n/**\n * This is where the magic needs to happen - given a collision, move an element away from the collision.\n * We attempt to move it up if there's room, otherwise it goes below.\n *\n * @param  {Array} layout            Full layout to modify.\n * @param  {LayoutItem} collidesWith Layout item we're colliding with.\n * @param  {LayoutItem} itemToMove   Layout item we're moving.\n */\n\n\nfunction moveElementAwayFromCollision(layout\n/*: Layout*/\n, collidesWith\n/*: LayoutItem*/\n, itemToMove\n/*: LayoutItem*/\n, isUserAction\n/*: ?boolean*/\n, compactType\n/*: CompactType*/\n, cols\n/*: number*/\n)\n/*: Layout*/\n{\n  var compactH = compactType === \"horizontal\"; // Compact vertically if not set to horizontal\n\n  var compactV = compactType !== \"horizontal\";\n  var preventCollision = collidesWith.static; // we're already colliding (not for static items)\n  // If there is enough space above the collision to put this element, move it there.\n  // We only do this on the main collision as this can get funky in cascades and cause\n  // unwanted swapping behavior.\n\n  if (isUserAction) {\n    // Reset isUserAction flag because we're not in the main collision anymore.\n    isUserAction = false; // Make a mock item so we don't modify the item here, only modify in moveElement.\n\n    var fakeItem\n    /*: LayoutItem*/\n    = {\n      x: compactH ? Math.max(collidesWith.x - itemToMove.w, 0) : itemToMove.x,\n      y: compactV ? Math.max(collidesWith.y - itemToMove.h, 0) : itemToMove.y,\n      w: itemToMove.w,\n      h: itemToMove.h,\n      i: \"-1\"\n    }; // No collision? If so, we can go up there; otherwise, we'll end up moving down as normal\n\n    if (!getFirstCollision(layout, fakeItem)) {\n      log(\"Doing reverse collision on \".concat(itemToMove.i, \" up to [\").concat(fakeItem.x, \",\").concat(fakeItem.y, \"].\"));\n      return moveElement(layout, itemToMove, compactH ? fakeItem.x : undefined, compactV ? fakeItem.y : undefined, isUserAction, preventCollision, compactType, cols);\n    }\n  }\n\n  return moveElement(layout, itemToMove, compactH ? itemToMove.x + 1 : undefined, compactV ? itemToMove.y + 1 : undefined, isUserAction, preventCollision, compactType, cols);\n}\n/**\n * Helper to convert a number to a percentage string.\n *\n * @param  {Number} num Any number\n * @return {String}     That number as a percentage.\n */\n\n\nfunction perc(num\n/*: number*/\n)\n/*: string*/\n{\n  return num * 100 + \"%\";\n}\n\nfunction setTransform(_ref)\n/*: Object*/\n{\n  var top = _ref.top,\n      left = _ref.left,\n      width = _ref.width,\n      height = _ref.height;\n  // Replace unitless items with px\n  var translate = \"translate(\".concat(left, \"px,\").concat(top, \"px)\");\n  return {\n    transform: translate,\n    WebkitTransform: translate,\n    MozTransform: translate,\n    msTransform: translate,\n    OTransform: translate,\n    width: \"\".concat(width, \"px\"),\n    height: \"\".concat(height, \"px\"),\n    position: \"absolute\"\n  };\n}\n\nfunction setTopLeft(_ref2)\n/*: Object*/\n{\n  var top = _ref2.top,\n      left = _ref2.left,\n      width = _ref2.width,\n      height = _ref2.height;\n  return {\n    top: \"\".concat(top, \"px\"),\n    left: \"\".concat(left, \"px\"),\n    width: \"\".concat(width, \"px\"),\n    height: \"\".concat(height, \"px\"),\n    position: \"absolute\"\n  };\n}\n/**\n * Get layout items sorted from top left to right and down.\n *\n * @return {Array} Array of layout objects.\n * @return {Array}        Layout, sorted static items first.\n */\n\n\nfunction sortLayoutItems(layout\n/*: Layout*/\n, compactType\n/*: CompactType*/\n)\n/*: Layout*/\n{\n  if (compactType === \"horizontal\") return sortLayoutItemsByColRow(layout);\n  if (compactType === \"vertical\") return sortLayoutItemsByRowCol(layout);else return layout;\n}\n/**\n * Sort layout items by row ascending and column ascending.\n *\n * Does not modify Layout.\n */\n\n\nfunction sortLayoutItemsByRowCol(layout\n/*: Layout*/\n)\n/*: Layout*/\n{\n  // Slice to clone array as sort modifies\n  return layout.slice(0).sort(function (a, b) {\n    if (a.y > b.y || a.y === b.y && a.x > b.x) {\n      return 1;\n    } else if (a.y === b.y && a.x === b.x) {\n      // Without this, we can get different sort results in IE vs. Chrome/FF\n      return 0;\n    }\n\n    return -1;\n  });\n}\n/**\n * Sort layout items by column ascending then row ascending.\n *\n * Does not modify Layout.\n */\n\n\nfunction sortLayoutItemsByColRow(layout\n/*: Layout*/\n)\n/*: Layout*/\n{\n  return layout.slice(0).sort(function (a, b) {\n    if (a.x > b.x || a.x === b.x && a.y > b.y) {\n      return 1;\n    }\n\n    return -1;\n  });\n}\n/**\n * Generate a layout using the initialLayout and children as a template.\n * Missing entries will be added, extraneous ones will be truncated.\n *\n * Does not modify initialLayout.\n *\n * @param  {Array}  initialLayout Layout passed in through props.\n * @param  {String} breakpoint    Current responsive breakpoint.\n * @param  {?String} compact      Compaction option.\n * @return {Array}                Working layout.\n */\n\n\nfunction synchronizeLayoutWithChildren(initialLayout\n/*: Layout*/\n, children\n/*: ReactChildren*/\n, cols\n/*: number*/\n, compactType\n/*: CompactType*/\n, allowOverlap\n/*: ?boolean*/\n)\n/*: Layout*/\n{\n  initialLayout = initialLayout || []; // Generate one layout item per child.\n\n  var layout\n  /*: LayoutItem[]*/\n  = [];\n\n  _react.default.Children.forEach(children, function (child\n  /*: ReactElement<any>*/\n  ) {\n    // Child may not exist\n    if ((child === null || child === void 0 ? void 0 : child.key) == null) return; // Don't overwrite if it already exists.\n\n    var exists = getLayoutItem(initialLayout, String(child.key));\n\n    if (exists) {\n      layout.push(cloneLayoutItem(exists));\n    } else {\n      if (!isProduction && child.props._grid) {\n        console.warn(\"`_grid` properties on children have been deprecated as of React 15.2. \" + \"Please use `data-grid` or add your properties directly to the `layout`.\");\n      }\n\n      var g = child.props[\"data-grid\"] || child.props._grid; // Hey, this item has a data-grid property, use it.\n\n      if (g) {\n        if (!isProduction) {\n          validateLayout([g], \"ReactGridLayout.children\");\n        } // FIXME clone not really necessary here\n\n\n        layout.push(cloneLayoutItem(_objectSpread(_objectSpread({}, g), {}, {\n          i: child.key\n        })));\n      } else {\n        // Nothing provided: ensure this is added to the bottom\n        // FIXME clone not really necessary here\n        layout.push(cloneLayoutItem({\n          w: 1,\n          h: 1,\n          x: 0,\n          y: bottom(layout),\n          i: String(child.key)\n        }));\n      }\n    }\n  }); // Correct the layout.\n\n\n  var correctedLayout = correctBounds(layout, {\n    cols: cols\n  });\n  return allowOverlap ? correctedLayout : compact(correctedLayout, compactType, cols);\n}\n/**\n * Validate a layout. Throws errors.\n *\n * @param  {Array}  layout        Array of layout items.\n * @param  {String} [contextName] Context name for errors.\n * @throw  {Error}                Validation error.\n */\n\n\nfunction validateLayout(layout\n/*: Layout*/\n)\n/*: void*/\n{\n  var contextName\n  /*: string*/\n  = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"Layout\";\n  var subProps = [\"x\", \"y\", \"w\", \"h\"];\n  if (!Array.isArray(layout)) throw new Error(contextName + \" must be an array!\");\n\n  for (var i = 0, len = layout.length; i < len; i++) {\n    var item = layout[i];\n\n    for (var j = 0; j < subProps.length; j++) {\n      if (typeof item[subProps[j]] !== \"number\") {\n        throw new Error(\"ReactGridLayout: \" + contextName + \"[\" + i + \"].\" + subProps[j] + \" must be a number!\");\n      }\n    }\n  }\n} // Legacy support for verticalCompact: false\n\n\nfunction compactType(props\n/*: ?{ verticalCompact: boolean, compactType: CompactType }*/\n)\n/*: CompactType*/\n{\n  var _ref3 = props || {},\n      verticalCompact = _ref3.verticalCompact,\n      compactType = _ref3.compactType;\n\n  return verticalCompact === false ? null : compactType;\n}\n\nfunction log() {\n  var _console;\n\n  if (!DEBUG) return; // eslint-disable-next-line no-console\n\n  (_console = console).log.apply(_console, arguments);\n}\n\nvar noop = function noop() {};\n\nexports.noop = noop;","module.exports = require(\"./build/ReactGridLayout\").default;\nmodule.exports.utils = require(\"./build/utils\");\nmodule.exports.Responsive =\n  require(\"./build/ResponsiveReactGridLayout\").default;\nmodule.exports.Responsive.utils = require(\"./build/responsiveUtils\");\nmodule.exports.WidthProvider =\n  require(\"./build/components/WidthProvider\").default;\n","function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f);else for(t in e)e[t]&&(n&&(n+=\" \"),n+=t);return n}export function clsx(){for(var e,t,f=0,n=\"\";f<arguments.length;)(e=arguments[f++])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;","import PropTypes from 'prop-types';\nimport withSideEffect from 'react-side-effect';\nimport isEqual from 'react-fast-compare';\nimport React from 'react';\nimport objectAssign from 'object-assign';\n\nvar ATTRIBUTE_NAMES = {\n    BODY: \"bodyAttributes\",\n    HTML: \"htmlAttributes\",\n    TITLE: \"titleAttributes\"\n};\n\nvar TAG_NAMES = {\n    BASE: \"base\",\n    BODY: \"body\",\n    HEAD: \"head\",\n    HTML: \"html\",\n    LINK: \"link\",\n    META: \"meta\",\n    NOSCRIPT: \"noscript\",\n    SCRIPT: \"script\",\n    STYLE: \"style\",\n    TITLE: \"title\"\n};\n\nvar VALID_TAG_NAMES = Object.keys(TAG_NAMES).map(function (name) {\n    return TAG_NAMES[name];\n});\n\nvar TAG_PROPERTIES = {\n    CHARSET: \"charset\",\n    CSS_TEXT: \"cssText\",\n    HREF: \"href\",\n    HTTPEQUIV: \"http-equiv\",\n    INNER_HTML: \"innerHTML\",\n    ITEM_PROP: \"itemprop\",\n    NAME: \"name\",\n    PROPERTY: \"property\",\n    REL: \"rel\",\n    SRC: \"src\",\n    TARGET: \"target\"\n};\n\nvar REACT_TAG_MAP = {\n    accesskey: \"accessKey\",\n    charset: \"charSet\",\n    class: \"className\",\n    contenteditable: \"contentEditable\",\n    contextmenu: \"contextMenu\",\n    \"http-equiv\": \"httpEquiv\",\n    itemprop: \"itemProp\",\n    tabindex: \"tabIndex\"\n};\n\nvar HELMET_PROPS = {\n    DEFAULT_TITLE: \"defaultTitle\",\n    DEFER: \"defer\",\n    ENCODE_SPECIAL_CHARACTERS: \"encodeSpecialCharacters\",\n    ON_CHANGE_CLIENT_STATE: \"onChangeClientState\",\n    TITLE_TEMPLATE: \"titleTemplate\"\n};\n\nvar HTML_TAG_MAP = Object.keys(REACT_TAG_MAP).reduce(function (obj, key) {\n    obj[REACT_TAG_MAP[key]] = key;\n    return obj;\n}, {});\n\nvar SELF_CLOSING_TAGS = [TAG_NAMES.NOSCRIPT, TAG_NAMES.SCRIPT, TAG_NAMES.STYLE];\n\nvar HELMET_ATTRIBUTE = \"data-react-helmet\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar objectWithoutProperties = function (obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n};\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar encodeSpecialCharacters = function encodeSpecialCharacters(str) {\n    var encode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n    if (encode === false) {\n        return String(str);\n    }\n\n    return String(str).replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\").replace(/'/g, \"&#x27;\");\n};\n\nvar getTitleFromPropsList = function getTitleFromPropsList(propsList) {\n    var innermostTitle = getInnermostProperty(propsList, TAG_NAMES.TITLE);\n    var innermostTemplate = getInnermostProperty(propsList, HELMET_PROPS.TITLE_TEMPLATE);\n\n    if (innermostTemplate && innermostTitle) {\n        // use function arg to avoid need to escape $ characters\n        return innermostTemplate.replace(/%s/g, function () {\n            return Array.isArray(innermostTitle) ? innermostTitle.join(\"\") : innermostTitle;\n        });\n    }\n\n    var innermostDefaultTitle = getInnermostProperty(propsList, HELMET_PROPS.DEFAULT_TITLE);\n\n    return innermostTitle || innermostDefaultTitle || undefined;\n};\n\nvar getOnChangeClientState = function getOnChangeClientState(propsList) {\n    return getInnermostProperty(propsList, HELMET_PROPS.ON_CHANGE_CLIENT_STATE) || function () {};\n};\n\nvar getAttributesFromPropsList = function getAttributesFromPropsList(tagType, propsList) {\n    return propsList.filter(function (props) {\n        return typeof props[tagType] !== \"undefined\";\n    }).map(function (props) {\n        return props[tagType];\n    }).reduce(function (tagAttrs, current) {\n        return _extends({}, tagAttrs, current);\n    }, {});\n};\n\nvar getBaseTagFromPropsList = function getBaseTagFromPropsList(primaryAttributes, propsList) {\n    return propsList.filter(function (props) {\n        return typeof props[TAG_NAMES.BASE] !== \"undefined\";\n    }).map(function (props) {\n        return props[TAG_NAMES.BASE];\n    }).reverse().reduce(function (innermostBaseTag, tag) {\n        if (!innermostBaseTag.length) {\n            var keys = Object.keys(tag);\n\n            for (var i = 0; i < keys.length; i++) {\n                var attributeKey = keys[i];\n                var lowerCaseAttributeKey = attributeKey.toLowerCase();\n\n                if (primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 && tag[lowerCaseAttributeKey]) {\n                    return innermostBaseTag.concat(tag);\n                }\n            }\n        }\n\n        return innermostBaseTag;\n    }, []);\n};\n\nvar getTagsFromPropsList = function getTagsFromPropsList(tagName, primaryAttributes, propsList) {\n    // Calculate list of tags, giving priority innermost component (end of the propslist)\n    var approvedSeenTags = {};\n\n    return propsList.filter(function (props) {\n        if (Array.isArray(props[tagName])) {\n            return true;\n        }\n        if (typeof props[tagName] !== \"undefined\") {\n            warn(\"Helmet: \" + tagName + \" should be of type \\\"Array\\\". Instead found type \\\"\" + _typeof(props[tagName]) + \"\\\"\");\n        }\n        return false;\n    }).map(function (props) {\n        return props[tagName];\n    }).reverse().reduce(function (approvedTags, instanceTags) {\n        var instanceSeenTags = {};\n\n        instanceTags.filter(function (tag) {\n            var primaryAttributeKey = void 0;\n            var keys = Object.keys(tag);\n            for (var i = 0; i < keys.length; i++) {\n                var attributeKey = keys[i];\n                var lowerCaseAttributeKey = attributeKey.toLowerCase();\n\n                // Special rule with link tags, since rel and href are both primary tags, rel takes priority\n                if (primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 && !(primaryAttributeKey === TAG_PROPERTIES.REL && tag[primaryAttributeKey].toLowerCase() === \"canonical\") && !(lowerCaseAttributeKey === TAG_PROPERTIES.REL && tag[lowerCaseAttributeKey].toLowerCase() === \"stylesheet\")) {\n                    primaryAttributeKey = lowerCaseAttributeKey;\n                }\n                // Special case for innerHTML which doesn't work lowercased\n                if (primaryAttributes.indexOf(attributeKey) !== -1 && (attributeKey === TAG_PROPERTIES.INNER_HTML || attributeKey === TAG_PROPERTIES.CSS_TEXT || attributeKey === TAG_PROPERTIES.ITEM_PROP)) {\n                    primaryAttributeKey = attributeKey;\n                }\n            }\n\n            if (!primaryAttributeKey || !tag[primaryAttributeKey]) {\n                return false;\n            }\n\n            var value = tag[primaryAttributeKey].toLowerCase();\n\n            if (!approvedSeenTags[primaryAttributeKey]) {\n                approvedSeenTags[primaryAttributeKey] = {};\n            }\n\n            if (!instanceSeenTags[primaryAttributeKey]) {\n                instanceSeenTags[primaryAttributeKey] = {};\n            }\n\n            if (!approvedSeenTags[primaryAttributeKey][value]) {\n                instanceSeenTags[primaryAttributeKey][value] = true;\n                return true;\n            }\n\n            return false;\n        }).reverse().forEach(function (tag) {\n            return approvedTags.push(tag);\n        });\n\n        // Update seen tags with tags from this instance\n        var keys = Object.keys(instanceSeenTags);\n        for (var i = 0; i < keys.length; i++) {\n            var attributeKey = keys[i];\n            var tagUnion = objectAssign({}, approvedSeenTags[attributeKey], instanceSeenTags[attributeKey]);\n\n            approvedSeenTags[attributeKey] = tagUnion;\n        }\n\n        return approvedTags;\n    }, []).reverse();\n};\n\nvar getInnermostProperty = function getInnermostProperty(propsList, property) {\n    for (var i = propsList.length - 1; i >= 0; i--) {\n        var props = propsList[i];\n\n        if (props.hasOwnProperty(property)) {\n            return props[property];\n        }\n    }\n\n    return null;\n};\n\nvar reducePropsToState = function reducePropsToState(propsList) {\n    return {\n        baseTag: getBaseTagFromPropsList([TAG_PROPERTIES.HREF, TAG_PROPERTIES.TARGET], propsList),\n        bodyAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.BODY, propsList),\n        defer: getInnermostProperty(propsList, HELMET_PROPS.DEFER),\n        encode: getInnermostProperty(propsList, HELMET_PROPS.ENCODE_SPECIAL_CHARACTERS),\n        htmlAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.HTML, propsList),\n        linkTags: getTagsFromPropsList(TAG_NAMES.LINK, [TAG_PROPERTIES.REL, TAG_PROPERTIES.HREF], propsList),\n        metaTags: getTagsFromPropsList(TAG_NAMES.META, [TAG_PROPERTIES.NAME, TAG_PROPERTIES.CHARSET, TAG_PROPERTIES.HTTPEQUIV, TAG_PROPERTIES.PROPERTY, TAG_PROPERTIES.ITEM_PROP], propsList),\n        noscriptTags: getTagsFromPropsList(TAG_NAMES.NOSCRIPT, [TAG_PROPERTIES.INNER_HTML], propsList),\n        onChangeClientState: getOnChangeClientState(propsList),\n        scriptTags: getTagsFromPropsList(TAG_NAMES.SCRIPT, [TAG_PROPERTIES.SRC, TAG_PROPERTIES.INNER_HTML], propsList),\n        styleTags: getTagsFromPropsList(TAG_NAMES.STYLE, [TAG_PROPERTIES.CSS_TEXT], propsList),\n        title: getTitleFromPropsList(propsList),\n        titleAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.TITLE, propsList)\n    };\n};\n\nvar rafPolyfill = function () {\n    var clock = Date.now();\n\n    return function (callback) {\n        var currentTime = Date.now();\n\n        if (currentTime - clock > 16) {\n            clock = currentTime;\n            callback(currentTime);\n        } else {\n            setTimeout(function () {\n                rafPolyfill(callback);\n            }, 0);\n        }\n    };\n}();\n\nvar cafPolyfill = function cafPolyfill(id) {\n    return clearTimeout(id);\n};\n\nvar requestAnimationFrame = typeof window !== \"undefined\" ? window.requestAnimationFrame && window.requestAnimationFrame.bind(window) || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || rafPolyfill : global.requestAnimationFrame || rafPolyfill;\n\nvar cancelAnimationFrame = typeof window !== \"undefined\" ? window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || cafPolyfill : global.cancelAnimationFrame || cafPolyfill;\n\nvar warn = function warn(msg) {\n    return console && typeof console.warn === \"function\" && console.warn(msg);\n};\n\nvar _helmetCallback = null;\n\nvar handleClientStateChange = function handleClientStateChange(newState) {\n    if (_helmetCallback) {\n        cancelAnimationFrame(_helmetCallback);\n    }\n\n    if (newState.defer) {\n        _helmetCallback = requestAnimationFrame(function () {\n            commitTagChanges(newState, function () {\n                _helmetCallback = null;\n            });\n        });\n    } else {\n        commitTagChanges(newState);\n        _helmetCallback = null;\n    }\n};\n\nvar commitTagChanges = function commitTagChanges(newState, cb) {\n    var baseTag = newState.baseTag,\n        bodyAttributes = newState.bodyAttributes,\n        htmlAttributes = newState.htmlAttributes,\n        linkTags = newState.linkTags,\n        metaTags = newState.metaTags,\n        noscriptTags = newState.noscriptTags,\n        onChangeClientState = newState.onChangeClientState,\n        scriptTags = newState.scriptTags,\n        styleTags = newState.styleTags,\n        title = newState.title,\n        titleAttributes = newState.titleAttributes;\n\n    updateAttributes(TAG_NAMES.BODY, bodyAttributes);\n    updateAttributes(TAG_NAMES.HTML, htmlAttributes);\n\n    updateTitle(title, titleAttributes);\n\n    var tagUpdates = {\n        baseTag: updateTags(TAG_NAMES.BASE, baseTag),\n        linkTags: updateTags(TAG_NAMES.LINK, linkTags),\n        metaTags: updateTags(TAG_NAMES.META, metaTags),\n        noscriptTags: updateTags(TAG_NAMES.NOSCRIPT, noscriptTags),\n        scriptTags: updateTags(TAG_NAMES.SCRIPT, scriptTags),\n        styleTags: updateTags(TAG_NAMES.STYLE, styleTags)\n    };\n\n    var addedTags = {};\n    var removedTags = {};\n\n    Object.keys(tagUpdates).forEach(function (tagType) {\n        var _tagUpdates$tagType = tagUpdates[tagType],\n            newTags = _tagUpdates$tagType.newTags,\n            oldTags = _tagUpdates$tagType.oldTags;\n\n\n        if (newTags.length) {\n            addedTags[tagType] = newTags;\n        }\n        if (oldTags.length) {\n            removedTags[tagType] = tagUpdates[tagType].oldTags;\n        }\n    });\n\n    cb && cb();\n\n    onChangeClientState(newState, addedTags, removedTags);\n};\n\nvar flattenArray = function flattenArray(possibleArray) {\n    return Array.isArray(possibleArray) ? possibleArray.join(\"\") : possibleArray;\n};\n\nvar updateTitle = function updateTitle(title, attributes) {\n    if (typeof title !== \"undefined\" && document.title !== title) {\n        document.title = flattenArray(title);\n    }\n\n    updateAttributes(TAG_NAMES.TITLE, attributes);\n};\n\nvar updateAttributes = function updateAttributes(tagName, attributes) {\n    var elementTag = document.getElementsByTagName(tagName)[0];\n\n    if (!elementTag) {\n        return;\n    }\n\n    var helmetAttributeString = elementTag.getAttribute(HELMET_ATTRIBUTE);\n    var helmetAttributes = helmetAttributeString ? helmetAttributeString.split(\",\") : [];\n    var attributesToRemove = [].concat(helmetAttributes);\n    var attributeKeys = Object.keys(attributes);\n\n    for (var i = 0; i < attributeKeys.length; i++) {\n        var attribute = attributeKeys[i];\n        var value = attributes[attribute] || \"\";\n\n        if (elementTag.getAttribute(attribute) !== value) {\n            elementTag.setAttribute(attribute, value);\n        }\n\n        if (helmetAttributes.indexOf(attribute) === -1) {\n            helmetAttributes.push(attribute);\n        }\n\n        var indexToSave = attributesToRemove.indexOf(attribute);\n        if (indexToSave !== -1) {\n            attributesToRemove.splice(indexToSave, 1);\n        }\n    }\n\n    for (var _i = attributesToRemove.length - 1; _i >= 0; _i--) {\n        elementTag.removeAttribute(attributesToRemove[_i]);\n    }\n\n    if (helmetAttributes.length === attributesToRemove.length) {\n        elementTag.removeAttribute(HELMET_ATTRIBUTE);\n    } else if (elementTag.getAttribute(HELMET_ATTRIBUTE) !== attributeKeys.join(\",\")) {\n        elementTag.setAttribute(HELMET_ATTRIBUTE, attributeKeys.join(\",\"));\n    }\n};\n\nvar updateTags = function updateTags(type, tags) {\n    var headElement = document.head || document.querySelector(TAG_NAMES.HEAD);\n    var tagNodes = headElement.querySelectorAll(type + \"[\" + HELMET_ATTRIBUTE + \"]\");\n    var oldTags = Array.prototype.slice.call(tagNodes);\n    var newTags = [];\n    var indexToDelete = void 0;\n\n    if (tags && tags.length) {\n        tags.forEach(function (tag) {\n            var newElement = document.createElement(type);\n\n            for (var attribute in tag) {\n                if (tag.hasOwnProperty(attribute)) {\n                    if (attribute === TAG_PROPERTIES.INNER_HTML) {\n                        newElement.innerHTML = tag.innerHTML;\n                    } else if (attribute === TAG_PROPERTIES.CSS_TEXT) {\n                        if (newElement.styleSheet) {\n                            newElement.styleSheet.cssText = tag.cssText;\n                        } else {\n                            newElement.appendChild(document.createTextNode(tag.cssText));\n                        }\n                    } else {\n                        var value = typeof tag[attribute] === \"undefined\" ? \"\" : tag[attribute];\n                        newElement.setAttribute(attribute, value);\n                    }\n                }\n            }\n\n            newElement.setAttribute(HELMET_ATTRIBUTE, \"true\");\n\n            // Remove a duplicate tag from domTagstoRemove, so it isn't cleared.\n            if (oldTags.some(function (existingTag, index) {\n                indexToDelete = index;\n                return newElement.isEqualNode(existingTag);\n            })) {\n                oldTags.splice(indexToDelete, 1);\n            } else {\n                newTags.push(newElement);\n            }\n        });\n    }\n\n    oldTags.forEach(function (tag) {\n        return tag.parentNode.removeChild(tag);\n    });\n    newTags.forEach(function (tag) {\n        return headElement.appendChild(tag);\n    });\n\n    return {\n        oldTags: oldTags,\n        newTags: newTags\n    };\n};\n\nvar generateElementAttributesAsString = function generateElementAttributesAsString(attributes) {\n    return Object.keys(attributes).reduce(function (str, key) {\n        var attr = typeof attributes[key] !== \"undefined\" ? key + \"=\\\"\" + attributes[key] + \"\\\"\" : \"\" + key;\n        return str ? str + \" \" + attr : attr;\n    }, \"\");\n};\n\nvar generateTitleAsString = function generateTitleAsString(type, title, attributes, encode) {\n    var attributeString = generateElementAttributesAsString(attributes);\n    var flattenedTitle = flattenArray(title);\n    return attributeString ? \"<\" + type + \" \" + HELMET_ATTRIBUTE + \"=\\\"true\\\" \" + attributeString + \">\" + encodeSpecialCharacters(flattenedTitle, encode) + \"</\" + type + \">\" : \"<\" + type + \" \" + HELMET_ATTRIBUTE + \"=\\\"true\\\">\" + encodeSpecialCharacters(flattenedTitle, encode) + \"</\" + type + \">\";\n};\n\nvar generateTagsAsString = function generateTagsAsString(type, tags, encode) {\n    return tags.reduce(function (str, tag) {\n        var attributeHtml = Object.keys(tag).filter(function (attribute) {\n            return !(attribute === TAG_PROPERTIES.INNER_HTML || attribute === TAG_PROPERTIES.CSS_TEXT);\n        }).reduce(function (string, attribute) {\n            var attr = typeof tag[attribute] === \"undefined\" ? attribute : attribute + \"=\\\"\" + encodeSpecialCharacters(tag[attribute], encode) + \"\\\"\";\n            return string ? string + \" \" + attr : attr;\n        }, \"\");\n\n        var tagContent = tag.innerHTML || tag.cssText || \"\";\n\n        var isSelfClosing = SELF_CLOSING_TAGS.indexOf(type) === -1;\n\n        return str + \"<\" + type + \" \" + HELMET_ATTRIBUTE + \"=\\\"true\\\" \" + attributeHtml + (isSelfClosing ? \"/>\" : \">\" + tagContent + \"</\" + type + \">\");\n    }, \"\");\n};\n\nvar convertElementAttributestoReactProps = function convertElementAttributestoReactProps(attributes) {\n    var initProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    return Object.keys(attributes).reduce(function (obj, key) {\n        obj[REACT_TAG_MAP[key] || key] = attributes[key];\n        return obj;\n    }, initProps);\n};\n\nvar convertReactPropstoHtmlAttributes = function convertReactPropstoHtmlAttributes(props) {\n    var initAttributes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    return Object.keys(props).reduce(function (obj, key) {\n        obj[HTML_TAG_MAP[key] || key] = props[key];\n        return obj;\n    }, initAttributes);\n};\n\nvar generateTitleAsReactComponent = function generateTitleAsReactComponent(type, title, attributes) {\n    var _initProps;\n\n    // assigning into an array to define toString function on it\n    var initProps = (_initProps = {\n        key: title\n    }, _initProps[HELMET_ATTRIBUTE] = true, _initProps);\n    var props = convertElementAttributestoReactProps(attributes, initProps);\n\n    return [React.createElement(TAG_NAMES.TITLE, props, title)];\n};\n\nvar generateTagsAsReactComponent = function generateTagsAsReactComponent(type, tags) {\n    return tags.map(function (tag, i) {\n        var _mappedTag;\n\n        var mappedTag = (_mappedTag = {\n            key: i\n        }, _mappedTag[HELMET_ATTRIBUTE] = true, _mappedTag);\n\n        Object.keys(tag).forEach(function (attribute) {\n            var mappedAttribute = REACT_TAG_MAP[attribute] || attribute;\n\n            if (mappedAttribute === TAG_PROPERTIES.INNER_HTML || mappedAttribute === TAG_PROPERTIES.CSS_TEXT) {\n                var content = tag.innerHTML || tag.cssText;\n                mappedTag.dangerouslySetInnerHTML = { __html: content };\n            } else {\n                mappedTag[mappedAttribute] = tag[attribute];\n            }\n        });\n\n        return React.createElement(type, mappedTag);\n    });\n};\n\nvar getMethodsForTag = function getMethodsForTag(type, tags, encode) {\n    switch (type) {\n        case TAG_NAMES.TITLE:\n            return {\n                toComponent: function toComponent() {\n                    return generateTitleAsReactComponent(type, tags.title, tags.titleAttributes, encode);\n                },\n                toString: function toString() {\n                    return generateTitleAsString(type, tags.title, tags.titleAttributes, encode);\n                }\n            };\n        case ATTRIBUTE_NAMES.BODY:\n        case ATTRIBUTE_NAMES.HTML:\n            return {\n                toComponent: function toComponent() {\n                    return convertElementAttributestoReactProps(tags);\n                },\n                toString: function toString() {\n                    return generateElementAttributesAsString(tags);\n                }\n            };\n        default:\n            return {\n                toComponent: function toComponent() {\n                    return generateTagsAsReactComponent(type, tags);\n                },\n                toString: function toString() {\n                    return generateTagsAsString(type, tags, encode);\n                }\n            };\n    }\n};\n\nvar mapStateOnServer = function mapStateOnServer(_ref) {\n    var baseTag = _ref.baseTag,\n        bodyAttributes = _ref.bodyAttributes,\n        encode = _ref.encode,\n        htmlAttributes = _ref.htmlAttributes,\n        linkTags = _ref.linkTags,\n        metaTags = _ref.metaTags,\n        noscriptTags = _ref.noscriptTags,\n        scriptTags = _ref.scriptTags,\n        styleTags = _ref.styleTags,\n        _ref$title = _ref.title,\n        title = _ref$title === undefined ? \"\" : _ref$title,\n        titleAttributes = _ref.titleAttributes;\n    return {\n        base: getMethodsForTag(TAG_NAMES.BASE, baseTag, encode),\n        bodyAttributes: getMethodsForTag(ATTRIBUTE_NAMES.BODY, bodyAttributes, encode),\n        htmlAttributes: getMethodsForTag(ATTRIBUTE_NAMES.HTML, htmlAttributes, encode),\n        link: getMethodsForTag(TAG_NAMES.LINK, linkTags, encode),\n        meta: getMethodsForTag(TAG_NAMES.META, metaTags, encode),\n        noscript: getMethodsForTag(TAG_NAMES.NOSCRIPT, noscriptTags, encode),\n        script: getMethodsForTag(TAG_NAMES.SCRIPT, scriptTags, encode),\n        style: getMethodsForTag(TAG_NAMES.STYLE, styleTags, encode),\n        title: getMethodsForTag(TAG_NAMES.TITLE, { title: title, titleAttributes: titleAttributes }, encode)\n    };\n};\n\nvar Helmet = function Helmet(Component) {\n    var _class, _temp;\n\n    return _temp = _class = function (_React$Component) {\n        inherits(HelmetWrapper, _React$Component);\n\n        function HelmetWrapper() {\n            classCallCheck(this, HelmetWrapper);\n            return possibleConstructorReturn(this, _React$Component.apply(this, arguments));\n        }\n\n        HelmetWrapper.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n            return !isEqual(this.props, nextProps);\n        };\n\n        HelmetWrapper.prototype.mapNestedChildrenToProps = function mapNestedChildrenToProps(child, nestedChildren) {\n            if (!nestedChildren) {\n                return null;\n            }\n\n            switch (child.type) {\n                case TAG_NAMES.SCRIPT:\n                case TAG_NAMES.NOSCRIPT:\n                    return {\n                        innerHTML: nestedChildren\n                    };\n\n                case TAG_NAMES.STYLE:\n                    return {\n                        cssText: nestedChildren\n                    };\n            }\n\n            throw new Error(\"<\" + child.type + \" /> elements are self-closing and can not contain children. Refer to our API for more information.\");\n        };\n\n        HelmetWrapper.prototype.flattenArrayTypeChildren = function flattenArrayTypeChildren(_ref) {\n            var _babelHelpers$extends;\n\n            var child = _ref.child,\n                arrayTypeChildren = _ref.arrayTypeChildren,\n                newChildProps = _ref.newChildProps,\n                nestedChildren = _ref.nestedChildren;\n\n            return _extends({}, arrayTypeChildren, (_babelHelpers$extends = {}, _babelHelpers$extends[child.type] = [].concat(arrayTypeChildren[child.type] || [], [_extends({}, newChildProps, this.mapNestedChildrenToProps(child, nestedChildren))]), _babelHelpers$extends));\n        };\n\n        HelmetWrapper.prototype.mapObjectTypeChildren = function mapObjectTypeChildren(_ref2) {\n            var _babelHelpers$extends2, _babelHelpers$extends3;\n\n            var child = _ref2.child,\n                newProps = _ref2.newProps,\n                newChildProps = _ref2.newChildProps,\n                nestedChildren = _ref2.nestedChildren;\n\n            switch (child.type) {\n                case TAG_NAMES.TITLE:\n                    return _extends({}, newProps, (_babelHelpers$extends2 = {}, _babelHelpers$extends2[child.type] = nestedChildren, _babelHelpers$extends2.titleAttributes = _extends({}, newChildProps), _babelHelpers$extends2));\n\n                case TAG_NAMES.BODY:\n                    return _extends({}, newProps, {\n                        bodyAttributes: _extends({}, newChildProps)\n                    });\n\n                case TAG_NAMES.HTML:\n                    return _extends({}, newProps, {\n                        htmlAttributes: _extends({}, newChildProps)\n                    });\n            }\n\n            return _extends({}, newProps, (_babelHelpers$extends3 = {}, _babelHelpers$extends3[child.type] = _extends({}, newChildProps), _babelHelpers$extends3));\n        };\n\n        HelmetWrapper.prototype.mapArrayTypeChildrenToProps = function mapArrayTypeChildrenToProps(arrayTypeChildren, newProps) {\n            var newFlattenedProps = _extends({}, newProps);\n\n            Object.keys(arrayTypeChildren).forEach(function (arrayChildName) {\n                var _babelHelpers$extends4;\n\n                newFlattenedProps = _extends({}, newFlattenedProps, (_babelHelpers$extends4 = {}, _babelHelpers$extends4[arrayChildName] = arrayTypeChildren[arrayChildName], _babelHelpers$extends4));\n            });\n\n            return newFlattenedProps;\n        };\n\n        HelmetWrapper.prototype.warnOnInvalidChildren = function warnOnInvalidChildren(child, nestedChildren) {\n            if (process.env.NODE_ENV !== \"production\") {\n                if (!VALID_TAG_NAMES.some(function (name) {\n                    return child.type === name;\n                })) {\n                    if (typeof child.type === \"function\") {\n                        return warn(\"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.\");\n                    }\n\n                    return warn(\"Only elements types \" + VALID_TAG_NAMES.join(\", \") + \" are allowed. Helmet does not support rendering <\" + child.type + \"> elements. Refer to our API for more information.\");\n                }\n\n                if (nestedChildren && typeof nestedChildren !== \"string\" && (!Array.isArray(nestedChildren) || nestedChildren.some(function (nestedChild) {\n                    return typeof nestedChild !== \"string\";\n                }))) {\n                    throw new Error(\"Helmet expects a string as a child of <\" + child.type + \">. Did you forget to wrap your children in braces? ( <\" + child.type + \">{``}</\" + child.type + \"> ) Refer to our API for more information.\");\n                }\n            }\n\n            return true;\n        };\n\n        HelmetWrapper.prototype.mapChildrenToProps = function mapChildrenToProps(children, newProps) {\n            var _this2 = this;\n\n            var arrayTypeChildren = {};\n\n            React.Children.forEach(children, function (child) {\n                if (!child || !child.props) {\n                    return;\n                }\n\n                var _child$props = child.props,\n                    nestedChildren = _child$props.children,\n                    childProps = objectWithoutProperties(_child$props, [\"children\"]);\n\n                var newChildProps = convertReactPropstoHtmlAttributes(childProps);\n\n                _this2.warnOnInvalidChildren(child, nestedChildren);\n\n                switch (child.type) {\n                    case TAG_NAMES.LINK:\n                    case TAG_NAMES.META:\n                    case TAG_NAMES.NOSCRIPT:\n                    case TAG_NAMES.SCRIPT:\n                    case TAG_NAMES.STYLE:\n                        arrayTypeChildren = _this2.flattenArrayTypeChildren({\n                            child: child,\n                            arrayTypeChildren: arrayTypeChildren,\n                            newChildProps: newChildProps,\n                            nestedChildren: nestedChildren\n                        });\n                        break;\n\n                    default:\n                        newProps = _this2.mapObjectTypeChildren({\n                            child: child,\n                            newProps: newProps,\n                            newChildProps: newChildProps,\n                            nestedChildren: nestedChildren\n                        });\n                        break;\n                }\n            });\n\n            newProps = this.mapArrayTypeChildrenToProps(arrayTypeChildren, newProps);\n            return newProps;\n        };\n\n        HelmetWrapper.prototype.render = function render() {\n            var _props = this.props,\n                children = _props.children,\n                props = objectWithoutProperties(_props, [\"children\"]);\n\n            var newProps = _extends({}, props);\n\n            if (children) {\n                newProps = this.mapChildrenToProps(children, newProps);\n            }\n\n            return React.createElement(Component, newProps);\n        };\n\n        createClass(HelmetWrapper, null, [{\n            key: \"canUseDOM\",\n\n\n            // Component.peek comes from react-side-effect:\n            // For testing, you may use a static peek() method available on the returned component.\n            // It lets you get the current state without resetting the mounted instance stack.\n            // Dont use it for anything other than testing.\n\n            /**\n             * @param {Object} base: {\"target\": \"_blank\", \"href\": \"http://mysite.com/\"}\n             * @param {Object} bodyAttributes: {\"className\": \"root\"}\n             * @param {String} defaultTitle: \"Default Title\"\n             * @param {Boolean} defer: true\n             * @param {Boolean} encodeSpecialCharacters: true\n             * @param {Object} htmlAttributes: {\"lang\": \"en\", \"amp\": undefined}\n             * @param {Array} link: [{\"rel\": \"canonical\", \"href\": \"http://mysite.com/example\"}]\n             * @param {Array} meta: [{\"name\": \"description\", \"content\": \"Test description\"}]\n             * @param {Array} noscript: [{\"innerHTML\": \"<img src='http://mysite.com/js/test.js'\"}]\n             * @param {Function} onChangeClientState: \"(newState) => console.log(newState)\"\n             * @param {Array} script: [{\"type\": \"text/javascript\", \"src\": \"http://mysite.com/js/test.js\"}]\n             * @param {Array} style: [{\"type\": \"text/css\", \"cssText\": \"div { display: block; color: blue; }\"}]\n             * @param {String} title: \"Title\"\n             * @param {Object} titleAttributes: {\"itemprop\": \"name\"}\n             * @param {String} titleTemplate: \"MySite.com - %s\"\n             */\n            set: function set$$1(canUseDOM) {\n                Component.canUseDOM = canUseDOM;\n            }\n        }]);\n        return HelmetWrapper;\n    }(React.Component), _class.propTypes = {\n        base: PropTypes.object,\n        bodyAttributes: PropTypes.object,\n        children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]),\n        defaultTitle: PropTypes.string,\n        defer: PropTypes.bool,\n        encodeSpecialCharacters: PropTypes.bool,\n        htmlAttributes: PropTypes.object,\n        link: PropTypes.arrayOf(PropTypes.object),\n        meta: PropTypes.arrayOf(PropTypes.object),\n        noscript: PropTypes.arrayOf(PropTypes.object),\n        onChangeClientState: PropTypes.func,\n        script: PropTypes.arrayOf(PropTypes.object),\n        style: PropTypes.arrayOf(PropTypes.object),\n        title: PropTypes.string,\n        titleAttributes: PropTypes.object,\n        titleTemplate: PropTypes.string\n    }, _class.defaultProps = {\n        defer: true,\n        encodeSpecialCharacters: true\n    }, _class.peek = Component.peek, _class.rewind = function () {\n        var mappedState = Component.rewind();\n        if (!mappedState) {\n            // provide fallback if mappedState is undefined\n            mappedState = mapStateOnServer({\n                baseTag: [],\n                bodyAttributes: {},\n                encodeSpecialCharacters: true,\n                htmlAttributes: {},\n                linkTags: [],\n                metaTags: [],\n                noscriptTags: [],\n                scriptTags: [],\n                styleTags: [],\n                title: \"\",\n                titleAttributes: {}\n            });\n        }\n\n        return mappedState;\n    }, _temp;\n};\n\nvar NullComponent = function NullComponent() {\n    return null;\n};\n\nvar HelmetSideEffects = withSideEffect(reducePropsToState, handleClientStateChange, mapStateOnServer)(NullComponent);\n\nvar HelmetExport = Helmet(HelmetSideEffects);\nHelmetExport.renderStatic = HelmetExport.rewind;\n\nexport default HelmetExport;\nexport { HelmetExport as Helmet };\n","\"use strict\";\n\nexports.__esModule = true;\nexports.default = void 0;\nvar React = _interopRequireWildcard(require(\"react\"));\nvar _reactDraggable = require(\"react-draggable\");\nvar _utils = require(\"./utils\");\nvar _propTypes = require(\"./propTypes\");\nvar _excluded = [\"children\", \"className\", \"draggableOpts\", \"width\", \"height\", \"handle\", \"handleSize\", \"lockAspectRatio\", \"axis\", \"minConstraints\", \"maxConstraints\", \"onResize\", \"onResizeStop\", \"onResizeStart\", \"resizeHandles\", \"transformScale\"];\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n// The base <Resizable> component.\n// This component does not have state and relies on the parent to set its props based on callback data.\nvar Resizable = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Resizable, _React$Component);\n  function Resizable() {\n    var _this;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.handleRefs = {};\n    _this.lastHandleRect = null;\n    _this.slack = null;\n    return _this;\n  }\n  var _proto = Resizable.prototype;\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.resetData();\n  };\n  _proto.resetData = function resetData() {\n    this.lastHandleRect = this.slack = null;\n  }\n\n  // Clamp width and height within provided constraints\n  ;\n  _proto.runConstraints = function runConstraints(width, height) {\n    var _this$props = this.props,\n      minConstraints = _this$props.minConstraints,\n      maxConstraints = _this$props.maxConstraints,\n      lockAspectRatio = _this$props.lockAspectRatio;\n    // short circuit\n    if (!minConstraints && !maxConstraints && !lockAspectRatio) return [width, height];\n\n    // If constraining to min and max, we need to also fit width and height to aspect ratio.\n    if (lockAspectRatio) {\n      var ratio = this.props.width / this.props.height;\n      var deltaW = width - this.props.width;\n      var deltaH = height - this.props.height;\n\n      // Find which coordinate was greater and should push the other toward it.\n      // E.g.:\n      // ratio = 1, deltaW = 10, deltaH = 5, deltaH should become 10.\n      // ratio = 2, deltaW = 10, deltaH = 6, deltaW should become 12.\n      if (Math.abs(deltaW) > Math.abs(deltaH * ratio)) {\n        height = width / ratio;\n      } else {\n        width = height * ratio;\n      }\n    }\n    var oldW = width,\n      oldH = height;\n\n    // Add slack to the values used to calculate bound position. This will ensure that if\n    // we start removing slack, the element won't react to it right away until it's been\n    // completely removed.\n    var _ref = this.slack || [0, 0],\n      slackW = _ref[0],\n      slackH = _ref[1];\n    width += slackW;\n    height += slackH;\n    if (minConstraints) {\n      width = Math.max(minConstraints[0], width);\n      height = Math.max(minConstraints[1], height);\n    }\n    if (maxConstraints) {\n      width = Math.min(maxConstraints[0], width);\n      height = Math.min(maxConstraints[1], height);\n    }\n\n    // If the width or height changed, we must have introduced some slack. Record it for the next iteration.\n    this.slack = [slackW + (oldW - width), slackH + (oldH - height)];\n    return [width, height];\n  }\n\n  /**\n   * Wrapper around drag events to provide more useful data.\n   *\n   * @param  {String} handlerName Handler name to wrap.\n   * @return {Function}           Handler function.\n   */;\n  _proto.resizeHandler = function resizeHandler(handlerName, axis) {\n    var _this2 = this;\n    return function (e, _ref2) {\n      var node = _ref2.node,\n        deltaX = _ref2.deltaX,\n        deltaY = _ref2.deltaY;\n      // Reset data in case it was left over somehow (should not be possible)\n      if (handlerName === 'onResizeStart') _this2.resetData();\n\n      // Axis restrictions\n      var canDragX = (_this2.props.axis === 'both' || _this2.props.axis === 'x') && axis !== 'n' && axis !== 's';\n      var canDragY = (_this2.props.axis === 'both' || _this2.props.axis === 'y') && axis !== 'e' && axis !== 'w';\n      // No dragging possible.\n      if (!canDragX && !canDragY) return;\n\n      // Decompose axis for later use\n      var axisV = axis[0];\n      var axisH = axis[axis.length - 1]; // intentionally not axis[1], so that this catches axis === 'w' for example\n\n      // Track the element being dragged to account for changes in position.\n      // If a handle's position is changed between callbacks, we need to factor this in to the next callback.\n      // Failure to do so will cause the element to \"skip\" when resized upwards or leftwards.\n      var handleRect = node.getBoundingClientRect();\n      if (_this2.lastHandleRect != null) {\n        // If the handle has repositioned on either axis since last render,\n        // we need to increase our callback values by this much.\n        // Only checking 'n', 'w' since resizing by 's', 'w' won't affect the overall position on page,\n        if (axisH === 'w') {\n          var deltaLeftSinceLast = handleRect.left - _this2.lastHandleRect.left;\n          deltaX += deltaLeftSinceLast;\n        }\n        if (axisV === 'n') {\n          var deltaTopSinceLast = handleRect.top - _this2.lastHandleRect.top;\n          deltaY += deltaTopSinceLast;\n        }\n      }\n      // Storage of last rect so we know how much it has really moved.\n      _this2.lastHandleRect = handleRect;\n\n      // Reverse delta if using top or left drag handles.\n      if (axisH === 'w') deltaX = -deltaX;\n      if (axisV === 'n') deltaY = -deltaY;\n\n      // Update w/h by the deltas. Also factor in transformScale.\n      var width = _this2.props.width + (canDragX ? deltaX / _this2.props.transformScale : 0);\n      var height = _this2.props.height + (canDragY ? deltaY / _this2.props.transformScale : 0);\n\n      // Run user-provided constraints.\n      var _this2$runConstraints = _this2.runConstraints(width, height);\n      width = _this2$runConstraints[0];\n      height = _this2$runConstraints[1];\n      var dimensionsChanged = width !== _this2.props.width || height !== _this2.props.height;\n\n      // Call user-supplied callback if present.\n      var cb = typeof _this2.props[handlerName] === 'function' ? _this2.props[handlerName] : null;\n      // Don't call 'onResize' if dimensions haven't changed.\n      var shouldSkipCb = handlerName === 'onResize' && !dimensionsChanged;\n      if (cb && !shouldSkipCb) {\n        e.persist == null ? void 0 : e.persist();\n        cb(e, {\n          node: node,\n          size: {\n            width: width,\n            height: height\n          },\n          handle: axis\n        });\n      }\n\n      // Reset internal data\n      if (handlerName === 'onResizeStop') _this2.resetData();\n    };\n  }\n\n  // Render a resize handle given an axis & DOM ref. Ref *must* be attached for\n  // the underlying draggable library to work properly.\n  ;\n  _proto.renderResizeHandle = function renderResizeHandle(handleAxis, ref) {\n    var handle = this.props.handle;\n    // No handle provided, make the default\n    if (!handle) {\n      return /*#__PURE__*/React.createElement(\"span\", {\n        className: \"react-resizable-handle react-resizable-handle-\" + handleAxis,\n        ref: ref\n      });\n    }\n    // Handle is a function, such as:\n    // `handle={(handleAxis) => <span className={...} />}`\n    if (typeof handle === 'function') {\n      return handle(handleAxis, ref);\n    }\n    // Handle is a React component (composite or DOM).\n    var isDOMElement = typeof handle.type === 'string';\n    var props = _objectSpread({\n      ref: ref\n    }, isDOMElement ? {} : {\n      handleAxis: handleAxis\n    });\n    return /*#__PURE__*/React.cloneElement(handle, props);\n  };\n  _proto.render = function render() {\n    var _this3 = this;\n    // Pass along only props not meant for the `<Resizable>`.`\n    // eslint-disable-next-line no-unused-vars\n    var _this$props2 = this.props,\n      children = _this$props2.children,\n      className = _this$props2.className,\n      draggableOpts = _this$props2.draggableOpts,\n      width = _this$props2.width,\n      height = _this$props2.height,\n      handle = _this$props2.handle,\n      handleSize = _this$props2.handleSize,\n      lockAspectRatio = _this$props2.lockAspectRatio,\n      axis = _this$props2.axis,\n      minConstraints = _this$props2.minConstraints,\n      maxConstraints = _this$props2.maxConstraints,\n      onResize = _this$props2.onResize,\n      onResizeStop = _this$props2.onResizeStop,\n      onResizeStart = _this$props2.onResizeStart,\n      resizeHandles = _this$props2.resizeHandles,\n      transformScale = _this$props2.transformScale,\n      p = _objectWithoutPropertiesLoose(_this$props2, _excluded);\n\n    // What we're doing here is getting the child of this element, and cloning it with this element's props.\n    // We are then defining its children as:\n    // 1. Its original children (resizable's child's children), and\n    // 2. One or more draggable handles.\n    return (0, _utils.cloneElement)(children, _objectSpread(_objectSpread({}, p), {}, {\n      className: (className ? className + \" \" : '') + \"react-resizable\",\n      children: [].concat(children.props.children, resizeHandles.map(function (handleAxis) {\n        var _this3$handleRefs$han;\n        // Create a ref to the handle so that `<DraggableCore>` doesn't have to use ReactDOM.findDOMNode().\n        var ref = (_this3$handleRefs$han = _this3.handleRefs[handleAxis]) != null ? _this3$handleRefs$han : _this3.handleRefs[handleAxis] = /*#__PURE__*/React.createRef();\n        return /*#__PURE__*/React.createElement(_reactDraggable.DraggableCore, _extends({}, draggableOpts, {\n          nodeRef: ref,\n          key: \"resizableHandle-\" + handleAxis,\n          onStop: _this3.resizeHandler('onResizeStop', handleAxis),\n          onStart: _this3.resizeHandler('onResizeStart', handleAxis),\n          onDrag: _this3.resizeHandler('onResize', handleAxis)\n        }), _this3.renderResizeHandle(handleAxis, ref));\n      }))\n    }));\n  };\n  return Resizable;\n}(React.Component);\nexports.default = Resizable;\nResizable.propTypes = _propTypes.resizableProps;\nResizable.defaultProps = {\n  axis: 'both',\n  handleSize: [20, 20],\n  lockAspectRatio: false,\n  minConstraints: [20, 20],\n  maxConstraints: [Infinity, Infinity],\n  resizeHandles: ['se'],\n  transformScale: 1\n};","\"use strict\";\n\nexports.__esModule = true;\nexports.default = void 0;\nvar React = _interopRequireWildcard(require(\"react\"));\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\nvar _Resizable = _interopRequireDefault(require(\"./Resizable\"));\nvar _propTypes2 = require(\"./propTypes\");\nvar _excluded = [\"handle\", \"handleSize\", \"onResize\", \"onResizeStart\", \"onResizeStop\", \"draggableOpts\", \"minConstraints\", \"maxConstraints\", \"lockAspectRatio\", \"axis\", \"width\", \"height\", \"resizeHandles\", \"style\", \"transformScale\"];\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar ResizableBox = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(ResizableBox, _React$Component);\n  function ResizableBox() {\n    var _this;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.state = {\n      width: _this.props.width,\n      height: _this.props.height,\n      propsWidth: _this.props.width,\n      propsHeight: _this.props.height\n    };\n    _this.onResize = function (e, data) {\n      var size = data.size;\n      if (_this.props.onResize) {\n        e.persist == null ? void 0 : e.persist();\n        _this.setState(size, function () {\n          return _this.props.onResize && _this.props.onResize(e, data);\n        });\n      } else {\n        _this.setState(size);\n      }\n    };\n    return _this;\n  }\n  ResizableBox.getDerivedStateFromProps = function getDerivedStateFromProps(props, state) {\n    // If parent changes height/width, set that in our state.\n    if (state.propsWidth !== props.width || state.propsHeight !== props.height) {\n      return {\n        width: props.width,\n        height: props.height,\n        propsWidth: props.width,\n        propsHeight: props.height\n      };\n    }\n    return null;\n  };\n  var _proto = ResizableBox.prototype;\n  _proto.render = function render() {\n    // Basic wrapper around a Resizable instance.\n    // If you use Resizable directly, you are responsible for updating the child component\n    // with a new width and height.\n    var _this$props = this.props,\n      handle = _this$props.handle,\n      handleSize = _this$props.handleSize,\n      onResize = _this$props.onResize,\n      onResizeStart = _this$props.onResizeStart,\n      onResizeStop = _this$props.onResizeStop,\n      draggableOpts = _this$props.draggableOpts,\n      minConstraints = _this$props.minConstraints,\n      maxConstraints = _this$props.maxConstraints,\n      lockAspectRatio = _this$props.lockAspectRatio,\n      axis = _this$props.axis,\n      width = _this$props.width,\n      height = _this$props.height,\n      resizeHandles = _this$props.resizeHandles,\n      style = _this$props.style,\n      transformScale = _this$props.transformScale,\n      props = _objectWithoutPropertiesLoose(_this$props, _excluded);\n    return /*#__PURE__*/React.createElement(_Resizable.default, {\n      axis: axis,\n      draggableOpts: draggableOpts,\n      handle: handle,\n      handleSize: handleSize,\n      height: this.state.height,\n      lockAspectRatio: lockAspectRatio,\n      maxConstraints: maxConstraints,\n      minConstraints: minConstraints,\n      onResizeStart: onResizeStart,\n      onResize: this.onResize,\n      onResizeStop: onResizeStop,\n      resizeHandles: resizeHandles,\n      transformScale: transformScale,\n      width: this.state.width\n    }, /*#__PURE__*/React.createElement(\"div\", _extends({}, props, {\n      style: _objectSpread(_objectSpread({}, style), {}, {\n        width: this.state.width + 'px',\n        height: this.state.height + 'px'\n      })\n    })));\n  };\n  return ResizableBox;\n}(React.Component);\nexports.default = ResizableBox;\n// PropTypes are identical to <Resizable>, except that children are not strictly required to be present.\nResizableBox.propTypes = _objectSpread(_objectSpread({}, _propTypes2.resizableProps), {}, {\n  children: _propTypes.default.element\n});","\"use strict\";\n\nexports.__esModule = true;\nexports.resizableProps = void 0;\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\nvar _reactDraggable = require(\"react-draggable\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar resizableProps = {\n  /*\n  * Restricts resizing to a particular axis (default: 'both')\n  * 'both' - allows resizing by width or height\n  * 'x' - only allows the width to be changed\n  * 'y' - only allows the height to be changed\n  * 'none' - disables resizing altogether\n  * */\n  axis: _propTypes.default.oneOf(['both', 'x', 'y', 'none']),\n  className: _propTypes.default.string,\n  /*\n  * Require that one and only one child be present.\n  * */\n  children: _propTypes.default.element.isRequired,\n  /*\n  * These will be passed wholesale to react-draggable's DraggableCore\n  * */\n  draggableOpts: _propTypes.default.shape({\n    allowAnyClick: _propTypes.default.bool,\n    cancel: _propTypes.default.string,\n    children: _propTypes.default.node,\n    disabled: _propTypes.default.bool,\n    enableUserSelectHack: _propTypes.default.bool,\n    offsetParent: _propTypes.default.node,\n    grid: _propTypes.default.arrayOf(_propTypes.default.number),\n    handle: _propTypes.default.string,\n    nodeRef: _propTypes.default.object,\n    onStart: _propTypes.default.func,\n    onDrag: _propTypes.default.func,\n    onStop: _propTypes.default.func,\n    onMouseDown: _propTypes.default.func,\n    scale: _propTypes.default.number\n  }),\n  /*\n  * Initial height\n  * */\n  height: function height() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    var props = args[0];\n    // Required if resizing height or both\n    if (props.axis === 'both' || props.axis === 'y') {\n      var _PropTypes$number;\n      return (_PropTypes$number = _propTypes.default.number).isRequired.apply(_PropTypes$number, args);\n    }\n    return _propTypes.default.number.apply(_propTypes.default, args);\n  },\n  /*\n  * Customize cursor resize handle\n  * */\n  handle: _propTypes.default.oneOfType([_propTypes.default.node, _propTypes.default.func]),\n  /*\n  * If you change this, be sure to update your css\n  * */\n  handleSize: _propTypes.default.arrayOf(_propTypes.default.number),\n  lockAspectRatio: _propTypes.default.bool,\n  /*\n  * Max X & Y measure\n  * */\n  maxConstraints: _propTypes.default.arrayOf(_propTypes.default.number),\n  /*\n  * Min X & Y measure\n  * */\n  minConstraints: _propTypes.default.arrayOf(_propTypes.default.number),\n  /*\n  * Called on stop resize event\n  * */\n  onResizeStop: _propTypes.default.func,\n  /*\n  * Called on start resize event\n  * */\n  onResizeStart: _propTypes.default.func,\n  /*\n  * Called on resize event\n  * */\n  onResize: _propTypes.default.func,\n  /*\n  * Defines which resize handles should be rendered (default: 'se')\n  * 's' - South handle (bottom-center)\n  * 'w' - West handle (left-center)\n  * 'e' - East handle (right-center)\n  * 'n' - North handle (top-center)\n  * 'sw' - Southwest handle (bottom-left)\n  * 'nw' - Northwest handle (top-left)\n  * 'se' - Southeast handle (bottom-right)\n  * 'ne' - Northeast handle (top-center)\n  * */\n  resizeHandles: _propTypes.default.arrayOf(_propTypes.default.oneOf(['s', 'w', 'e', 'n', 'sw', 'nw', 'se', 'ne'])),\n  /*\n  * If `transform: scale(n)` is set on the parent, this should be set to `n`.\n  * */\n  transformScale: _propTypes.default.number,\n  /*\n   * Initial width\n   */\n  width: function width() {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n    var props = args[0];\n    // Required if resizing width or both\n    if (props.axis === 'both' || props.axis === 'x') {\n      var _PropTypes$number2;\n      return (_PropTypes$number2 = _propTypes.default.number).isRequired.apply(_PropTypes$number2, args);\n    }\n    return _propTypes.default.number.apply(_propTypes.default, args);\n  }\n};\nexports.resizableProps = resizableProps;","\"use strict\";\n\nexports.__esModule = true;\nexports.cloneElement = cloneElement;\nvar _react = _interopRequireDefault(require(\"react\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n// React.addons.cloneWithProps look-alike that merges style & className.\nfunction cloneElement(element, props) {\n  if (props.style && element.props.style) {\n    props.style = _objectSpread(_objectSpread({}, element.props.style), props.style);\n  }\n  if (props.className && element.props.className) {\n    props.className = element.props.className + \" \" + props.className;\n  }\n  return /*#__PURE__*/_react.default.cloneElement(element, props);\n}","'use strict';\nmodule.exports = function() {\n  throw new Error(\"Don't instantiate Resizable directly! Use require('react-resizable').Resizable\");\n};\n\nmodule.exports.Resizable = require('./build/Resizable').default;\nmodule.exports.ResizableBox = require('./build/ResizableBox').default;\n","'use strict';\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar React = require('react');\nvar React__default = _interopDefault(React);\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nvar canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\nfunction withSideEffect(reducePropsToState, handleStateChangeOnClient, mapStateOnServer) {\n  if (typeof reducePropsToState !== 'function') {\n    throw new Error('Expected reducePropsToState to be a function.');\n  }\n\n  if (typeof handleStateChangeOnClient !== 'function') {\n    throw new Error('Expected handleStateChangeOnClient to be a function.');\n  }\n\n  if (typeof mapStateOnServer !== 'undefined' && typeof mapStateOnServer !== 'function') {\n    throw new Error('Expected mapStateOnServer to either be undefined or a function.');\n  }\n\n  function getDisplayName(WrappedComponent) {\n    return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n  }\n\n  return function wrap(WrappedComponent) {\n    if (typeof WrappedComponent !== 'function') {\n      throw new Error('Expected WrappedComponent to be a React component.');\n    }\n\n    var mountedInstances = [];\n    var state;\n\n    function emitChange() {\n      state = reducePropsToState(mountedInstances.map(function (instance) {\n        return instance.props;\n      }));\n\n      if (SideEffect.canUseDOM) {\n        handleStateChangeOnClient(state);\n      } else if (mapStateOnServer) {\n        state = mapStateOnServer(state);\n      }\n    }\n\n    var SideEffect =\n    /*#__PURE__*/\n    function (_PureComponent) {\n      _inheritsLoose(SideEffect, _PureComponent);\n\n      function SideEffect() {\n        return _PureComponent.apply(this, arguments) || this;\n      }\n\n      // Try to use displayName of wrapped component\n      // Expose canUseDOM so tests can monkeypatch it\n      SideEffect.peek = function peek() {\n        return state;\n      };\n\n      SideEffect.rewind = function rewind() {\n        if (SideEffect.canUseDOM) {\n          throw new Error('You may only call rewind() on the server. Call peek() to read the current state.');\n        }\n\n        var recordedState = state;\n        state = undefined;\n        mountedInstances = [];\n        return recordedState;\n      };\n\n      var _proto = SideEffect.prototype;\n\n      _proto.UNSAFE_componentWillMount = function UNSAFE_componentWillMount() {\n        mountedInstances.push(this);\n        emitChange();\n      };\n\n      _proto.componentDidUpdate = function componentDidUpdate() {\n        emitChange();\n      };\n\n      _proto.componentWillUnmount = function componentWillUnmount() {\n        var index = mountedInstances.indexOf(this);\n        mountedInstances.splice(index, 1);\n        emitChange();\n      };\n\n      _proto.render = function render() {\n        return React__default.createElement(WrappedComponent, this.props);\n      };\n\n      return SideEffect;\n    }(React.PureComponent);\n\n    _defineProperty(SideEffect, \"displayName\", \"SideEffect(\" + getDisplayName(WrappedComponent) + \")\");\n\n    _defineProperty(SideEffect, \"canUseDOM\", canUseDOM);\n\n    return SideEffect;\n  };\n}\n\nmodule.exports = withSideEffect;\n","export var noop = function () { };\nexport function on(obj) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    if (obj && obj.addEventListener) {\n        obj.addEventListener.apply(obj, args);\n    }\n}\nexport function off(obj) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    if (obj && obj.removeEventListener) {\n        obj.removeEventListener.apply(obj, args);\n    }\n}\nexport var isBrowser = typeof window !== 'undefined';\nexport var isNavigator = typeof navigator !== 'undefined';\n","import { useCallback, useState, useRef, useLayoutEffect } from 'react';\nimport { isBrowser, noop } from './misc/util';\nvar useLocalStorage = function (key, initialValue, options) {\n    if (!isBrowser) {\n        return [initialValue, noop, noop];\n    }\n    if (!key) {\n        throw new Error('useLocalStorage key may not be falsy');\n    }\n    var deserializer = options\n        ? options.raw\n            ? function (value) { return value; }\n            : options.deserializer\n        : JSON.parse;\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var initializer = useRef(function (key) {\n        try {\n            var serializer = options ? (options.raw ? String : options.serializer) : JSON.stringify;\n            var localStorageValue = localStorage.getItem(key);\n            if (localStorageValue !== null) {\n                return deserializer(localStorageValue);\n            }\n            else {\n                initialValue && localStorage.setItem(key, serializer(initialValue));\n                return initialValue;\n            }\n        }\n        catch (_a) {\n            // If user is in private mode or has storage restriction\n            // localStorage can throw. JSON.parse and JSON.stringify\n            // can throw, too.\n            return initialValue;\n        }\n    });\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var _a = useState(function () { return initializer.current(key); }), state = _a[0], setState = _a[1];\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useLayoutEffect(function () { return setState(initializer.current(key)); }, [key]);\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var set = useCallback(function (valOrFunc) {\n        try {\n            var newState = typeof valOrFunc === 'function' ? valOrFunc(state) : valOrFunc;\n            if (typeof newState === 'undefined')\n                return;\n            var value = void 0;\n            if (options)\n                if (options.raw)\n                    if (typeof newState === 'string')\n                        value = newState;\n                    else\n                        value = JSON.stringify(newState);\n                else if (options.serializer)\n                    value = options.serializer(newState);\n                else\n                    value = JSON.stringify(newState);\n            else\n                value = JSON.stringify(newState);\n            localStorage.setItem(key, value);\n            setState(deserializer(value));\n        }\n        catch (_a) {\n            // If user is in private mode or has storage restriction\n            // localStorage can throw. Also JSON.stringify can throw.\n        }\n    }, [key, setState]);\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var remove = useCallback(function () {\n        try {\n            localStorage.removeItem(key);\n            setState(undefined);\n        }\n        catch (_a) {\n            // If user is in private mode or has storage restriction\n            // localStorage can throw.\n        }\n    }, [key, setState]);\n    return [state, set, remove];\n};\nexport default useLocalStorage;\n","/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","export function noop() { }\n//# sourceMappingURL=noop.js.map","export var COMPLETE_NOTIFICATION = (function () { return createNotification('C', undefined, undefined); })();\nexport function errorNotification(error) {\n    return createNotification('E', undefined, error);\n}\nexport function nextNotification(value) {\n    return createNotification('N', value, undefined);\n}\nexport function createNotification(kind, value, error) {\n    return {\n        kind: kind,\n        value: value,\n        error: error,\n    };\n}\n//# sourceMappingURL=NotificationFactories.js.map","import { __extends } from \"tslib\";\nimport { isFunction } from './util/isFunction';\nimport { isSubscription, Subscription } from './Subscription';\nimport { config } from './config';\nimport { reportUnhandledError } from './util/reportUnhandledError';\nimport { noop } from './util/noop';\nimport { nextNotification, errorNotification, COMPLETE_NOTIFICATION } from './NotificationFactories';\nimport { timeoutProvider } from './scheduler/timeoutProvider';\nimport { captureError } from './util/errorContext';\nvar Subscriber = (function (_super) {\n    __extends(Subscriber, _super);\n    function Subscriber(destination) {\n        var _this = _super.call(this) || this;\n        _this.isStopped = false;\n        if (destination) {\n            _this.destination = destination;\n            if (isSubscription(destination)) {\n                destination.add(_this);\n            }\n        }\n        else {\n            _this.destination = EMPTY_OBSERVER;\n        }\n        return _this;\n    }\n    Subscriber.create = function (next, error, complete) {\n        return new SafeSubscriber(next, error, complete);\n    };\n    Subscriber.prototype.next = function (value) {\n        if (this.isStopped) {\n            handleStoppedNotification(nextNotification(value), this);\n        }\n        else {\n            this._next(value);\n        }\n    };\n    Subscriber.prototype.error = function (err) {\n        if (this.isStopped) {\n            handleStoppedNotification(errorNotification(err), this);\n        }\n        else {\n            this.isStopped = true;\n            this._error(err);\n        }\n    };\n    Subscriber.prototype.complete = function () {\n        if (this.isStopped) {\n            handleStoppedNotification(COMPLETE_NOTIFICATION, this);\n        }\n        else {\n            this.isStopped = true;\n            this._complete();\n        }\n    };\n    Subscriber.prototype.unsubscribe = function () {\n        if (!this.closed) {\n            this.isStopped = true;\n            _super.prototype.unsubscribe.call(this);\n            this.destination = null;\n        }\n    };\n    Subscriber.prototype._next = function (value) {\n        this.destination.next(value);\n    };\n    Subscriber.prototype._error = function (err) {\n        try {\n            this.destination.error(err);\n        }\n        finally {\n            this.unsubscribe();\n        }\n    };\n    Subscriber.prototype._complete = function () {\n        try {\n            this.destination.complete();\n        }\n        finally {\n            this.unsubscribe();\n        }\n    };\n    return Subscriber;\n}(Subscription));\nexport { Subscriber };\nvar _bind = Function.prototype.bind;\nfunction bind(fn, thisArg) {\n    return _bind.call(fn, thisArg);\n}\nvar ConsumerObserver = (function () {\n    function ConsumerObserver(partialObserver) {\n        this.partialObserver = partialObserver;\n    }\n    ConsumerObserver.prototype.next = function (value) {\n        var partialObserver = this.partialObserver;\n        if (partialObserver.next) {\n            try {\n                partialObserver.next(value);\n            }\n            catch (error) {\n                handleUnhandledError(error);\n            }\n        }\n    };\n    ConsumerObserver.prototype.error = function (err) {\n        var partialObserver = this.partialObserver;\n        if (partialObserver.error) {\n            try {\n                partialObserver.error(err);\n            }\n            catch (error) {\n                handleUnhandledError(error);\n            }\n        }\n        else {\n            handleUnhandledError(err);\n        }\n    };\n    ConsumerObserver.prototype.complete = function () {\n        var partialObserver = this.partialObserver;\n        if (partialObserver.complete) {\n            try {\n                partialObserver.complete();\n            }\n            catch (error) {\n                handleUnhandledError(error);\n            }\n        }\n    };\n    return ConsumerObserver;\n}());\nvar SafeSubscriber = (function (_super) {\n    __extends(SafeSubscriber, _super);\n    function SafeSubscriber(observerOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        var partialObserver;\n        if (isFunction(observerOrNext) || !observerOrNext) {\n            partialObserver = {\n                next: (observerOrNext !== null && observerOrNext !== void 0 ? observerOrNext : undefined),\n                error: error !== null && error !== void 0 ? error : undefined,\n                complete: complete !== null && complete !== void 0 ? complete : undefined,\n            };\n        }\n        else {\n            var context_1;\n            if (_this && config.useDeprecatedNextContext) {\n                context_1 = Object.create(observerOrNext);\n                context_1.unsubscribe = function () { return _this.unsubscribe(); };\n                partialObserver = {\n                    next: observerOrNext.next && bind(observerOrNext.next, context_1),\n                    error: observerOrNext.error && bind(observerOrNext.error, context_1),\n                    complete: observerOrNext.complete && bind(observerOrNext.complete, context_1),\n                };\n            }\n            else {\n                partialObserver = observerOrNext;\n            }\n        }\n        _this.destination = new ConsumerObserver(partialObserver);\n        return _this;\n    }\n    return SafeSubscriber;\n}(Subscriber));\nexport { SafeSubscriber };\nfunction handleUnhandledError(error) {\n    if (config.useDeprecatedSynchronousErrorHandling) {\n        captureError(error);\n    }\n    else {\n        reportUnhandledError(error);\n    }\n}\nfunction defaultErrorHandler(err) {\n    throw err;\n}\nfunction handleStoppedNotification(notification, subscriber) {\n    var onStoppedNotification = config.onStoppedNotification;\n    onStoppedNotification && timeoutProvider.setTimeout(function () { return onStoppedNotification(notification, subscriber); });\n}\nexport var EMPTY_OBSERVER = {\n    closed: true,\n    next: noop,\n    error: defaultErrorHandler,\n    complete: noop,\n};\n//# sourceMappingURL=Subscriber.js.map","import { createErrorClass } from './createErrorClass';\nexport var UnsubscriptionError = createErrorClass(function (_super) {\n    return function UnsubscriptionErrorImpl(errors) {\n        _super(this);\n        this.message = errors\n            ? errors.length + \" errors occurred during unsubscription:\\n\" + errors.map(function (err, i) { return i + 1 + \") \" + err.toString(); }).join('\\n  ')\n            : '';\n        this.name = 'UnsubscriptionError';\n        this.errors = errors;\n    };\n});\n//# sourceMappingURL=UnsubscriptionError.js.map","export function createErrorClass(createImpl) {\n    var _super = function (instance) {\n        Error.call(instance);\n        instance.stack = new Error().stack;\n    };\n    var ctorFunc = createImpl(_super);\n    ctorFunc.prototype = Object.create(Error.prototype);\n    ctorFunc.prototype.constructor = ctorFunc;\n    return ctorFunc;\n}\n//# sourceMappingURL=createErrorClass.js.map","export function arrRemove(arr, item) {\n    if (arr) {\n        var index = arr.indexOf(item);\n        0 <= index && arr.splice(index, 1);\n    }\n}\n//# sourceMappingURL=arrRemove.js.map","import { __read, __spreadArray, __values } from \"tslib\";\nimport { isFunction } from './util/isFunction';\nimport { UnsubscriptionError } from './util/UnsubscriptionError';\nimport { arrRemove } from './util/arrRemove';\nvar Subscription = (function () {\n    function Subscription(initialTeardown) {\n        this.initialTeardown = initialTeardown;\n        this.closed = false;\n        this._parentage = null;\n        this._finalizers = null;\n    }\n    Subscription.prototype.unsubscribe = function () {\n        var e_1, _a, e_2, _b;\n        var errors;\n        if (!this.closed) {\n            this.closed = true;\n            var _parentage = this._parentage;\n            if (_parentage) {\n                this._parentage = null;\n                if (Array.isArray(_parentage)) {\n                    try {\n                        for (var _parentage_1 = __values(_parentage), _parentage_1_1 = _parentage_1.next(); !_parentage_1_1.done; _parentage_1_1 = _parentage_1.next()) {\n                            var parent_1 = _parentage_1_1.value;\n                            parent_1.remove(this);\n                        }\n                    }\n                    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                    finally {\n                        try {\n                            if (_parentage_1_1 && !_parentage_1_1.done && (_a = _parentage_1.return)) _a.call(_parentage_1);\n                        }\n                        finally { if (e_1) throw e_1.error; }\n                    }\n                }\n                else {\n                    _parentage.remove(this);\n                }\n            }\n            var initialFinalizer = this.initialTeardown;\n            if (isFunction(initialFinalizer)) {\n                try {\n                    initialFinalizer();\n                }\n                catch (e) {\n                    errors = e instanceof UnsubscriptionError ? e.errors : [e];\n                }\n            }\n            var _finalizers = this._finalizers;\n            if (_finalizers) {\n                this._finalizers = null;\n                try {\n                    for (var _finalizers_1 = __values(_finalizers), _finalizers_1_1 = _finalizers_1.next(); !_finalizers_1_1.done; _finalizers_1_1 = _finalizers_1.next()) {\n                        var finalizer = _finalizers_1_1.value;\n                        try {\n                            execFinalizer(finalizer);\n                        }\n                        catch (err) {\n                            errors = errors !== null && errors !== void 0 ? errors : [];\n                            if (err instanceof UnsubscriptionError) {\n                                errors = __spreadArray(__spreadArray([], __read(errors)), __read(err.errors));\n                            }\n                            else {\n                                errors.push(err);\n                            }\n                        }\n                    }\n                }\n                catch (e_2_1) { e_2 = { error: e_2_1 }; }\n                finally {\n                    try {\n                        if (_finalizers_1_1 && !_finalizers_1_1.done && (_b = _finalizers_1.return)) _b.call(_finalizers_1);\n                    }\n                    finally { if (e_2) throw e_2.error; }\n                }\n            }\n            if (errors) {\n                throw new UnsubscriptionError(errors);\n            }\n        }\n    };\n    Subscription.prototype.add = function (teardown) {\n        var _a;\n        if (teardown && teardown !== this) {\n            if (this.closed) {\n                execFinalizer(teardown);\n            }\n            else {\n                if (teardown instanceof Subscription) {\n                    if (teardown.closed || teardown._hasParent(this)) {\n                        return;\n                    }\n                    teardown._addParent(this);\n                }\n                (this._finalizers = (_a = this._finalizers) !== null && _a !== void 0 ? _a : []).push(teardown);\n            }\n        }\n    };\n    Subscription.prototype._hasParent = function (parent) {\n        var _parentage = this._parentage;\n        return _parentage === parent || (Array.isArray(_parentage) && _parentage.includes(parent));\n    };\n    Subscription.prototype._addParent = function (parent) {\n        var _parentage = this._parentage;\n        this._parentage = Array.isArray(_parentage) ? (_parentage.push(parent), _parentage) : _parentage ? [_parentage, parent] : parent;\n    };\n    Subscription.prototype._removeParent = function (parent) {\n        var _parentage = this._parentage;\n        if (_parentage === parent) {\n            this._parentage = null;\n        }\n        else if (Array.isArray(_parentage)) {\n            arrRemove(_parentage, parent);\n        }\n    };\n    Subscription.prototype.remove = function (teardown) {\n        var _finalizers = this._finalizers;\n        _finalizers && arrRemove(_finalizers, teardown);\n        if (teardown instanceof Subscription) {\n            teardown._removeParent(this);\n        }\n    };\n    Subscription.EMPTY = (function () {\n        var empty = new Subscription();\n        empty.closed = true;\n        return empty;\n    })();\n    return Subscription;\n}());\nexport { Subscription };\nexport var EMPTY_SUBSCRIPTION = Subscription.EMPTY;\nexport function isSubscription(value) {\n    return (value instanceof Subscription ||\n        (value && 'closed' in value && isFunction(value.remove) && isFunction(value.add) && isFunction(value.unsubscribe)));\n}\nfunction execFinalizer(finalizer) {\n    if (isFunction(finalizer)) {\n        finalizer();\n    }\n    else {\n        finalizer.unsubscribe();\n    }\n}\n//# sourceMappingURL=Subscription.js.map","export var config = {\n    onUnhandledError: null,\n    onStoppedNotification: null,\n    Promise: undefined,\n    useDeprecatedSynchronousErrorHandling: false,\n    useDeprecatedNextContext: false,\n};\n//# sourceMappingURL=config.js.map","import { __extends } from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function createOperatorSubscriber(destination, onNext, onComplete, onError, onFinalize) {\n    return new OperatorSubscriber(destination, onNext, onComplete, onError, onFinalize);\n}\nvar OperatorSubscriber = (function (_super) {\n    __extends(OperatorSubscriber, _super);\n    function OperatorSubscriber(destination, onNext, onComplete, onError, onFinalize, shouldUnsubscribe) {\n        var _this = _super.call(this, destination) || this;\n        _this.onFinalize = onFinalize;\n        _this.shouldUnsubscribe = shouldUnsubscribe;\n        _this._next = onNext\n            ? function (value) {\n                try {\n                    onNext(value);\n                }\n                catch (err) {\n                    destination.error(err);\n                }\n            }\n            : _super.prototype._next;\n        _this._error = onError\n            ? function (err) {\n                try {\n                    onError(err);\n                }\n                catch (err) {\n                    destination.error(err);\n                }\n                finally {\n                    this.unsubscribe();\n                }\n            }\n            : _super.prototype._error;\n        _this._complete = onComplete\n            ? function () {\n                try {\n                    onComplete();\n                }\n                catch (err) {\n                    destination.error(err);\n                }\n                finally {\n                    this.unsubscribe();\n                }\n            }\n            : _super.prototype._complete;\n        return _this;\n    }\n    OperatorSubscriber.prototype.unsubscribe = function () {\n        var _a;\n        if (!this.shouldUnsubscribe || this.shouldUnsubscribe()) {\n            var closed_1 = this.closed;\n            _super.prototype.unsubscribe.call(this);\n            !closed_1 && ((_a = this.onFinalize) === null || _a === void 0 ? void 0 : _a.call(this));\n        }\n    };\n    return OperatorSubscriber;\n}(Subscriber));\nexport { OperatorSubscriber };\n//# sourceMappingURL=OperatorSubscriber.js.map","import { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function map(project, thisArg) {\n    return operate(function (source, subscriber) {\n        var index = 0;\n        source.subscribe(createOperatorSubscriber(subscriber, function (value) {\n            subscriber.next(project.call(thisArg, value, index++));\n        }));\n    });\n}\n//# sourceMappingURL=map.js.map","import { __read, __spreadArray } from \"tslib\";\nexport var timeoutProvider = {\n    setTimeout: function (handler, timeout) {\n        var args = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            args[_i - 2] = arguments[_i];\n        }\n        var delegate = timeoutProvider.delegate;\n        if (delegate === null || delegate === void 0 ? void 0 : delegate.setTimeout) {\n            return delegate.setTimeout.apply(delegate, __spreadArray([handler, timeout], __read(args)));\n        }\n        return setTimeout.apply(void 0, __spreadArray([handler, timeout], __read(args)));\n    },\n    clearTimeout: function (handle) {\n        var delegate = timeoutProvider.delegate;\n        return ((delegate === null || delegate === void 0 ? void 0 : delegate.clearTimeout) || clearTimeout)(handle);\n    },\n    delegate: undefined,\n};\n//# sourceMappingURL=timeoutProvider.js.map","import { config } from '../config';\nvar context = null;\nexport function errorContext(cb) {\n    if (config.useDeprecatedSynchronousErrorHandling) {\n        var isRoot = !context;\n        if (isRoot) {\n            context = { errorThrown: false, error: null };\n        }\n        cb();\n        if (isRoot) {\n            var _a = context, errorThrown = _a.errorThrown, error = _a.error;\n            context = null;\n            if (errorThrown) {\n                throw error;\n            }\n        }\n    }\n    else {\n        cb();\n    }\n}\nexport function captureError(err) {\n    if (config.useDeprecatedSynchronousErrorHandling && context) {\n        context.errorThrown = true;\n        context.error = err;\n    }\n}\n//# sourceMappingURL=errorContext.js.map","export function identity(x) {\n    return x;\n}\n//# sourceMappingURL=identity.js.map","export function isFunction(value) {\n    return typeof value === 'function';\n}\n//# sourceMappingURL=isFunction.js.map","import { isFunction } from './isFunction';\nexport function hasLift(source) {\n    return isFunction(source === null || source === void 0 ? void 0 : source.lift);\n}\nexport function operate(init) {\n    return function (source) {\n        if (hasLift(source)) {\n            return source.lift(function (liftedSource) {\n                try {\n                    return init(liftedSource, this);\n                }\n                catch (err) {\n                    this.error(err);\n                }\n            });\n        }\n        throw new TypeError('Unable to lift unknown Observable type');\n    };\n}\n//# sourceMappingURL=lift.js.map","import { config } from '../config';\nimport { timeoutProvider } from '../scheduler/timeoutProvider';\nexport function reportUnhandledError(err) {\n    timeoutProvider.setTimeout(function () {\n        var onUnhandledError = config.onUnhandledError;\n        if (onUnhandledError) {\n            onUnhandledError(err);\n        }\n        else {\n            throw err;\n        }\n    });\n}\n//# sourceMappingURL=reportUnhandledError.js.map","'use strict';\n\nvar isArrayish = require('is-arrayish');\n\nvar concat = Array.prototype.concat;\nvar slice = Array.prototype.slice;\n\nvar swizzle = module.exports = function swizzle(args) {\n\tvar results = [];\n\n\tfor (var i = 0, len = args.length; i < len; i++) {\n\t\tvar arg = args[i];\n\n\t\tif (isArrayish(arg)) {\n\t\t\t// http://jsperf.com/javascript-array-concat-vs-push/98\n\t\t\tresults = concat.call(results, slice.call(arg));\n\t\t} else {\n\t\t\tresults.push(arg);\n\t\t}\n\t}\n\n\treturn results;\n};\n\nswizzle.wrap = function (fn) {\n\treturn function () {\n\t\treturn fn(swizzle(arguments));\n\t};\n};\n","module.exports = function isArrayish(obj) {\n\tif (!obj || typeof obj === 'string') {\n\t\treturn false;\n\t}\n\n\treturn obj instanceof Array || Array.isArray(obj) ||\n\t\t(obj.length >= 0 && (obj.splice instanceof Function ||\n\t\t\t(Object.getOwnPropertyDescriptor(obj, (obj.length - 1)) && obj.constructor.name !== 'String')));\n};\n","/////////////////////////////////////////////////////////////////////////////////\n/* UAParser.js v1.0.38\n   Copyright  2012-2021 Faisal Salman <f@faisalman.com>\n   MIT License *//*\n   Detect Browser, Engine, OS, CPU, and Device type/model from User-Agent data.\n   Supports browser & node.js environment. \n   Demo   : https://faisalman.github.io/ua-parser-js\n   Source : https://github.com/faisalman/ua-parser-js */\n/////////////////////////////////////////////////////////////////////////////////\n\n(function (window, undefined) {\n\n    'use strict';\n\n    //////////////\n    // Constants\n    /////////////\n\n\n    var LIBVERSION  = '1.0.38',\n        EMPTY       = '',\n        UNKNOWN     = '?',\n        FUNC_TYPE   = 'function',\n        UNDEF_TYPE  = 'undefined',\n        OBJ_TYPE    = 'object',\n        STR_TYPE    = 'string',\n        MAJOR       = 'major',\n        MODEL       = 'model',\n        NAME        = 'name',\n        TYPE        = 'type',\n        VENDOR      = 'vendor',\n        VERSION     = 'version',\n        ARCHITECTURE= 'architecture',\n        CONSOLE     = 'console',\n        MOBILE      = 'mobile',\n        TABLET      = 'tablet',\n        SMARTTV     = 'smarttv',\n        WEARABLE    = 'wearable',\n        EMBEDDED    = 'embedded',\n        UA_MAX_LENGTH = 500;\n\n    var AMAZON  = 'Amazon',\n        APPLE   = 'Apple',\n        ASUS    = 'ASUS',\n        BLACKBERRY = 'BlackBerry',\n        BROWSER = 'Browser',\n        CHROME  = 'Chrome',\n        EDGE    = 'Edge',\n        FIREFOX = 'Firefox',\n        GOOGLE  = 'Google',\n        HUAWEI  = 'Huawei',\n        LG      = 'LG',\n        MICROSOFT = 'Microsoft',\n        MOTOROLA  = 'Motorola',\n        OPERA   = 'Opera',\n        SAMSUNG = 'Samsung',\n        SHARP   = 'Sharp',\n        SONY    = 'Sony',\n        XIAOMI  = 'Xiaomi',\n        ZEBRA   = 'Zebra',\n        FACEBOOK    = 'Facebook',\n        CHROMIUM_OS = 'Chromium OS',\n        MAC_OS  = 'Mac OS';\n\n    ///////////\n    // Helper\n    //////////\n\n    var extend = function (regexes, extensions) {\n            var mergedRegexes = {};\n            for (var i in regexes) {\n                if (extensions[i] && extensions[i].length % 2 === 0) {\n                    mergedRegexes[i] = extensions[i].concat(regexes[i]);\n                } else {\n                    mergedRegexes[i] = regexes[i];\n                }\n            }\n            return mergedRegexes;\n        },\n        enumerize = function (arr) {\n            var enums = {};\n            for (var i=0; i<arr.length; i++) {\n                enums[arr[i].toUpperCase()] = arr[i];\n            }\n            return enums;\n        },\n        has = function (str1, str2) {\n            return typeof str1 === STR_TYPE ? lowerize(str2).indexOf(lowerize(str1)) !== -1 : false;\n        },\n        lowerize = function (str) {\n            return str.toLowerCase();\n        },\n        majorize = function (version) {\n            return typeof(version) === STR_TYPE ? version.replace(/[^\\d\\.]/g, EMPTY).split('.')[0] : undefined;\n        },\n        trim = function (str, len) {\n            if (typeof(str) === STR_TYPE) {\n                str = str.replace(/^\\s\\s*/, EMPTY);\n                return typeof(len) === UNDEF_TYPE ? str : str.substring(0, UA_MAX_LENGTH);\n            }\n    };\n\n    ///////////////\n    // Map helper\n    //////////////\n\n    var rgxMapper = function (ua, arrays) {\n\n            var i = 0, j, k, p, q, matches, match;\n\n            // loop through all regexes maps\n            while (i < arrays.length && !matches) {\n\n                var regex = arrays[i],       // even sequence (0,2,4,..)\n                    props = arrays[i + 1];   // odd sequence (1,3,5,..)\n                j = k = 0;\n\n                // try matching uastring with regexes\n                while (j < regex.length && !matches) {\n\n                    if (!regex[j]) { break; }\n                    matches = regex[j++].exec(ua);\n\n                    if (!!matches) {\n                        for (p = 0; p < props.length; p++) {\n                            match = matches[++k];\n                            q = props[p];\n                            // check if given property is actually array\n                            if (typeof q === OBJ_TYPE && q.length > 0) {\n                                if (q.length === 2) {\n                                    if (typeof q[1] == FUNC_TYPE) {\n                                        // assign modified match\n                                        this[q[0]] = q[1].call(this, match);\n                                    } else {\n                                        // assign given value, ignore regex match\n                                        this[q[0]] = q[1];\n                                    }\n                                } else if (q.length === 3) {\n                                    // check whether function or regex\n                                    if (typeof q[1] === FUNC_TYPE && !(q[1].exec && q[1].test)) {\n                                        // call function (usually string mapper)\n                                        this[q[0]] = match ? q[1].call(this, match, q[2]) : undefined;\n                                    } else {\n                                        // sanitize match using given regex\n                                        this[q[0]] = match ? match.replace(q[1], q[2]) : undefined;\n                                    }\n                                } else if (q.length === 4) {\n                                        this[q[0]] = match ? q[3].call(this, match.replace(q[1], q[2])) : undefined;\n                                }\n                            } else {\n                                this[q] = match ? match : undefined;\n                            }\n                        }\n                    }\n                }\n                i += 2;\n            }\n        },\n\n        strMapper = function (str, map) {\n\n            for (var i in map) {\n                // check if current value is array\n                if (typeof map[i] === OBJ_TYPE && map[i].length > 0) {\n                    for (var j = 0; j < map[i].length; j++) {\n                        if (has(map[i][j], str)) {\n                            return (i === UNKNOWN) ? undefined : i;\n                        }\n                    }\n                } else if (has(map[i], str)) {\n                    return (i === UNKNOWN) ? undefined : i;\n                }\n            }\n            return str;\n    };\n\n    ///////////////\n    // String map\n    //////////////\n\n    // Safari < 3.0\n    var oldSafariMap = {\n            '1.0'   : '/8',\n            '1.2'   : '/1',\n            '1.3'   : '/3',\n            '2.0'   : '/412',\n            '2.0.2' : '/416',\n            '2.0.3' : '/417',\n            '2.0.4' : '/419',\n            '?'     : '/'\n        },\n        windowsVersionMap = {\n            'ME'        : '4.90',\n            'NT 3.11'   : 'NT3.51',\n            'NT 4.0'    : 'NT4.0',\n            '2000'      : 'NT 5.0',\n            'XP'        : ['NT 5.1', 'NT 5.2'],\n            'Vista'     : 'NT 6.0',\n            '7'         : 'NT 6.1',\n            '8'         : 'NT 6.2',\n            '8.1'       : 'NT 6.3',\n            '10'        : ['NT 6.4', 'NT 10.0'],\n            'RT'        : 'ARM'\n    };\n\n    //////////////\n    // Regex map\n    /////////////\n\n    var regexes = {\n\n        browser : [[\n\n            /\\b(?:crmo|crios)\\/([\\w\\.]+)/i                                      // Chrome for Android/iOS\n            ], [VERSION, [NAME, 'Chrome']], [\n            /edg(?:e|ios|a)?\\/([\\w\\.]+)/i                                       // Microsoft Edge\n            ], [VERSION, [NAME, 'Edge']], [\n\n            // Presto based\n            /(opera mini)\\/([-\\w\\.]+)/i,                                        // Opera Mini\n            /(opera [mobiletab]{3,6})\\b.+version\\/([-\\w\\.]+)/i,                 // Opera Mobi/Tablet\n            /(opera)(?:.+version\\/|[\\/ ]+)([\\w\\.]+)/i                           // Opera\n            ], [NAME, VERSION], [\n            /opios[\\/ ]+([\\w\\.]+)/i                                             // Opera mini on iphone >= 8.0\n            ], [VERSION, [NAME, OPERA+' Mini']], [\n            /\\bop(?:rg)?x\\/([\\w\\.]+)/i                                          // Opera GX\n            ], [VERSION, [NAME, OPERA+' GX']], [\n            /\\bopr\\/([\\w\\.]+)/i                                                 // Opera Webkit\n            ], [VERSION, [NAME, OPERA]], [\n\n            // Mixed\n            /\\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\\/ ]?([\\w\\.]+)/i            // Baidu\n            ], [VERSION, [NAME, 'Baidu']], [\n            /(kindle)\\/([\\w\\.]+)/i,                                             // Kindle\n            /(lunascape|maxthon|netfront|jasmine|blazer)[\\/ ]?([\\w\\.]*)/i,      // Lunascape/Maxthon/Netfront/Jasmine/Blazer\n            // Trident based\n            /(avant|iemobile|slim)\\s?(?:browser)?[\\/ ]?([\\w\\.]*)/i,             // Avant/IEMobile/SlimBrowser\n            /(?:ms|\\()(ie) ([\\w\\.]+)/i,                                         // Internet Explorer\n\n            // Webkit/KHTML based                                               // Flock/RockMelt/Midori/Epiphany/Silk/Skyfire/Bolt/Iron/Iridium/PhantomJS/Bowser/QupZilla/Falkon\n            /(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\\/([-\\w\\.]+)/i,\n                                                                                // Rekonq/Puffin/Brave/Whale/QQBrowserLite/QQ, aka ShouQ\n            /(heytap|ovi)browser\\/([\\d\\.]+)/i,                                  // Heytap/Ovi\n            /(weibo)__([\\d\\.]+)/i                                               // Weibo\n            ], [NAME, VERSION], [\n            /\\bddg\\/([\\w\\.]+)/i                                                 // DuckDuckGo\n            ], [VERSION, [NAME, 'DuckDuckGo']], [\n            /(?:\\buc? ?browser|(?:juc.+)ucweb)[\\/ ]?([\\w\\.]+)/i                 // UCBrowser\n            ], [VERSION, [NAME, 'UC'+BROWSER]], [\n            /microm.+\\bqbcore\\/([\\w\\.]+)/i,                                     // WeChat Desktop for Windows Built-in Browser\n            /\\bqbcore\\/([\\w\\.]+).+microm/i,\n            /micromessenger\\/([\\w\\.]+)/i                                        // WeChat\n            ], [VERSION, [NAME, 'WeChat']], [\n            /konqueror\\/([\\w\\.]+)/i                                             // Konqueror\n            ], [VERSION, [NAME, 'Konqueror']], [\n            /trident.+rv[: ]([\\w\\.]{1,9})\\b.+like gecko/i                       // IE11\n            ], [VERSION, [NAME, 'IE']], [\n            /ya(?:search)?browser\\/([\\w\\.]+)/i                                  // Yandex\n            ], [VERSION, [NAME, 'Yandex']], [\n            /slbrowser\\/([\\w\\.]+)/i                                             // Smart Lenovo Browser\n            ], [VERSION, [NAME, 'Smart Lenovo '+BROWSER]], [\n            /(avast|avg)\\/([\\w\\.]+)/i                                           // Avast/AVG Secure Browser\n            ], [[NAME, /(.+)/, '$1 Secure '+BROWSER], VERSION], [\n            /\\bfocus\\/([\\w\\.]+)/i                                               // Firefox Focus\n            ], [VERSION, [NAME, FIREFOX+' Focus']], [\n            /\\bopt\\/([\\w\\.]+)/i                                                 // Opera Touch\n            ], [VERSION, [NAME, OPERA+' Touch']], [\n            /coc_coc\\w+\\/([\\w\\.]+)/i                                            // Coc Coc Browser\n            ], [VERSION, [NAME, 'Coc Coc']], [\n            /dolfin\\/([\\w\\.]+)/i                                                // Dolphin\n            ], [VERSION, [NAME, 'Dolphin']], [\n            /coast\\/([\\w\\.]+)/i                                                 // Opera Coast\n            ], [VERSION, [NAME, OPERA+' Coast']], [\n            /miuibrowser\\/([\\w\\.]+)/i                                           // MIUI Browser\n            ], [VERSION, [NAME, 'MIUI '+BROWSER]], [\n            /fxios\\/([-\\w\\.]+)/i                                                // Firefox for iOS\n            ], [VERSION, [NAME, FIREFOX]], [\n            /\\bqihu|(qi?ho?o?|360)browser/i                                     // 360\n            ], [[NAME, '360 ' + BROWSER]], [\n            /(oculus|sailfish|huawei|vivo)browser\\/([\\w\\.]+)/i\n            ], [[NAME, /(.+)/, '$1 ' + BROWSER], VERSION], [                    // Oculus/Sailfish/HuaweiBrowser/VivoBrowser\n            /samsungbrowser\\/([\\w\\.]+)/i                                        // Samsung Internet\n            ], [VERSION, [NAME, SAMSUNG + ' Internet']], [\n            /(comodo_dragon)\\/([\\w\\.]+)/i                                       // Comodo Dragon\n            ], [[NAME, /_/g, ' '], VERSION], [\n            /metasr[\\/ ]?([\\d\\.]+)/i                                            // Sogou Explorer\n            ], [VERSION, [NAME, 'Sogou Explorer']], [\n            /(sogou)mo\\w+\\/([\\d\\.]+)/i                                          // Sogou Mobile\n            ], [[NAME, 'Sogou Mobile'], VERSION], [\n            /(electron)\\/([\\w\\.]+) safari/i,                                    // Electron-based App\n            /(tesla)(?: qtcarbrowser|\\/(20\\d\\d\\.[-\\w\\.]+))/i,                   // Tesla\n            /m?(qqbrowser|2345Explorer)[\\/ ]?([\\w\\.]+)/i                        // QQBrowser/2345 Browser\n            ], [NAME, VERSION], [\n            /(lbbrowser)/i,                                                     // LieBao Browser\n            /\\[(linkedin)app\\]/i                                                // LinkedIn App for iOS & Android\n            ], [NAME], [\n\n            // WebView\n            /((?:fban\\/fbios|fb_iab\\/fb4a)(?!.+fbav)|;fbav\\/([\\w\\.]+);)/i       // Facebook App for iOS & Android\n            ], [[NAME, FACEBOOK], VERSION], [\n            /(Klarna)\\/([\\w\\.]+)/i,                                             // Klarna Shopping Browser for iOS & Android\n            /(kakao(?:talk|story))[\\/ ]([\\w\\.]+)/i,                             // Kakao App\n            /(naver)\\(.*?(\\d+\\.[\\w\\.]+).*\\)/i,                                  // Naver InApp\n            /safari (line)\\/([\\w\\.]+)/i,                                        // Line App for iOS\n            /\\b(line)\\/([\\w\\.]+)\\/iab/i,                                        // Line App for Android\n            /(alipay)client\\/([\\w\\.]+)/i,                                       // Alipay\n            /(twitter)(?:and| f.+e\\/([\\w\\.]+))/i,                               // Twitter\n            /(chromium|instagram|snapchat)[\\/ ]([-\\w\\.]+)/i                     // Chromium/Instagram/Snapchat\n            ], [NAME, VERSION], [\n            /\\bgsa\\/([\\w\\.]+) .*safari\\//i                                      // Google Search Appliance on iOS\n            ], [VERSION, [NAME, 'GSA']], [\n            /musical_ly(?:.+app_?version\\/|_)([\\w\\.]+)/i                        // TikTok\n            ], [VERSION, [NAME, 'TikTok']], [\n\n            /headlesschrome(?:\\/([\\w\\.]+)| )/i                                  // Chrome Headless\n            ], [VERSION, [NAME, CHROME+' Headless']], [\n\n            / wv\\).+(chrome)\\/([\\w\\.]+)/i                                       // Chrome WebView\n            ], [[NAME, CHROME+' WebView'], VERSION], [\n\n            /droid.+ version\\/([\\w\\.]+)\\b.+(?:mobile safari|safari)/i           // Android Browser\n            ], [VERSION, [NAME, 'Android '+BROWSER]], [\n\n            /(chrome|omniweb|arora|[tizenoka]{5} ?browser)\\/v?([\\w\\.]+)/i       // Chrome/OmniWeb/Arora/Tizen/Nokia\n            ], [NAME, VERSION], [\n\n            /version\\/([\\w\\.\\,]+) .*mobile\\/\\w+ (safari)/i                      // Mobile Safari\n            ], [VERSION, [NAME, 'Mobile Safari']], [\n            /version\\/([\\w(\\.|\\,)]+) .*(mobile ?safari|safari)/i                // Safari & Safari Mobile\n            ], [VERSION, NAME], [\n            /webkit.+?(mobile ?safari|safari)(\\/[\\w\\.]+)/i                      // Safari < 3.0\n            ], [NAME, [VERSION, strMapper, oldSafariMap]], [\n\n            /(webkit|khtml)\\/([\\w\\.]+)/i\n            ], [NAME, VERSION], [\n\n            // Gecko based\n            /(navigator|netscape\\d?)\\/([-\\w\\.]+)/i                              // Netscape\n            ], [[NAME, 'Netscape'], VERSION], [\n            /mobile vr; rv:([\\w\\.]+)\\).+firefox/i                               // Firefox Reality\n            ], [VERSION, [NAME, FIREFOX+' Reality']], [\n            /ekiohf.+(flow)\\/([\\w\\.]+)/i,                                       // Flow\n            /(swiftfox)/i,                                                      // Swiftfox\n            /(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\\/ ]?([\\w\\.\\+]+)/i,\n                                                                                // IceDragon/Iceweasel/Camino/Chimera/Fennec/Maemo/Minimo/Conkeror/Klar\n            /(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\\/([-\\w\\.]+)$/i,\n                                                                                // Firefox/SeaMonkey/K-Meleon/IceCat/IceApe/Firebird/Phoenix\n            /(firefox)\\/([\\w\\.]+)/i,                                            // Other Firefox-based\n            /(mozilla)\\/([\\w\\.]+) .+rv\\:.+gecko\\/\\d+/i,                         // Mozilla\n\n            // Other\n            /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\\. ]?browser)[-\\/ ]?v?([\\w\\.]+)/i,\n                                                                                // Polaris/Lynx/Dillo/iCab/Doris/Amaya/w3m/NetSurf/Sleipnir/Obigo/Mosaic/Go/ICE/UP.Browser\n            /(links) \\(([\\w\\.]+)/i,                                             // Links\n            /panasonic;(viera)/i                                                // Panasonic Viera\n            ], [NAME, VERSION], [\n            \n            /(cobalt)\\/([\\w\\.]+)/i                                              // Cobalt\n            ], [NAME, [VERSION, /master.|lts./, \"\"]]\n        ],\n\n        cpu : [[\n\n            /(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\\)]/i                     // AMD64 (x64)\n            ], [[ARCHITECTURE, 'amd64']], [\n\n            /(ia32(?=;))/i                                                      // IA32 (quicktime)\n            ], [[ARCHITECTURE, lowerize]], [\n\n            /((?:i[346]|x)86)[;\\)]/i                                            // IA32 (x86)\n            ], [[ARCHITECTURE, 'ia32']], [\n\n            /\\b(aarch64|arm(v?8e?l?|_?64))\\b/i                                 // ARM64\n            ], [[ARCHITECTURE, 'arm64']], [\n\n            /\\b(arm(?:v[67])?ht?n?[fl]p?)\\b/i                                   // ARMHF\n            ], [[ARCHITECTURE, 'armhf']], [\n\n            // PocketPC mistakenly identified as PowerPC\n            /windows (ce|mobile); ppc;/i\n            ], [[ARCHITECTURE, 'arm']], [\n\n            /((?:ppc|powerpc)(?:64)?)(?: mac|;|\\))/i                            // PowerPC\n            ], [[ARCHITECTURE, /ower/, EMPTY, lowerize]], [\n\n            /(sun4\\w)[;\\)]/i                                                    // SPARC\n            ], [[ARCHITECTURE, 'sparc']], [\n\n            /((?:avr32|ia64(?=;))|68k(?=\\))|\\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\\b|pa-risc)/i\n                                                                                // IA64, 68K, ARM/64, AVR/32, IRIX/64, MIPS/64, SPARC/64, PA-RISC\n            ], [[ARCHITECTURE, lowerize]]\n        ],\n\n        device : [[\n\n            //////////////////////////\n            // MOBILES & TABLETS\n            /////////////////////////\n\n            // Samsung\n            /\\b(sch-i[89]0\\d|shw-m380s|sm-[ptx]\\w{2,4}|gt-[pn]\\d{2,4}|sgh-t8[56]9|nexus 10)/i\n            ], [MODEL, [VENDOR, SAMSUNG], [TYPE, TABLET]], [\n            /\\b((?:s[cgp]h|gt|sm)-\\w+|sc[g-]?[\\d]+a?|galaxy nexus)/i,\n            /samsung[- ]([-\\w]+)/i,\n            /sec-(sgh\\w+)/i\n            ], [MODEL, [VENDOR, SAMSUNG], [TYPE, MOBILE]], [\n\n            // Apple\n            /(?:\\/|\\()(ip(?:hone|od)[\\w, ]*)(?:\\/|;)/i                          // iPod/iPhone\n            ], [MODEL, [VENDOR, APPLE], [TYPE, MOBILE]], [\n            /\\((ipad);[-\\w\\),; ]+apple/i,                                       // iPad\n            /applecoremedia\\/[\\w\\.]+ \\((ipad)/i,\n            /\\b(ipad)\\d\\d?,\\d\\d?[;\\]].+ios/i\n            ], [MODEL, [VENDOR, APPLE], [TYPE, TABLET]], [\n            /(macintosh);/i\n            ], [MODEL, [VENDOR, APPLE]], [\n\n            // Sharp\n            /\\b(sh-?[altvz]?\\d\\d[a-ekm]?)/i\n            ], [MODEL, [VENDOR, SHARP], [TYPE, MOBILE]], [\n\n            // Huawei\n            /\\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\\d{2})\\b(?!.+d\\/s)/i\n            ], [MODEL, [VENDOR, HUAWEI], [TYPE, TABLET]], [\n            /(?:huawei|honor)([-\\w ]+)[;\\)]/i,\n            /\\b(nexus 6p|\\w{2,4}e?-[atu]?[ln][\\dx][012359c][adn]?)\\b(?!.+d\\/s)/i\n            ], [MODEL, [VENDOR, HUAWEI], [TYPE, MOBILE]], [\n\n            // Xiaomi\n            /\\b(poco[\\w ]+|m2\\d{3}j\\d\\d[a-z]{2})(?: bui|\\))/i,                  // Xiaomi POCO\n            /\\b; (\\w+) build\\/hm\\1/i,                                           // Xiaomi Hongmi 'numeric' models\n            /\\b(hm[-_ ]?note?[_ ]?(?:\\d\\w)?) bui/i,                             // Xiaomi Hongmi\n            /\\b(redmi[\\-_ ]?(?:note|k)?[\\w_ ]+)(?: bui|\\))/i,                   // Xiaomi Redmi\n            /oid[^\\)]+; (m?[12][0-389][01]\\w{3,6}[c-y])( bui|; wv|\\))/i,        // Xiaomi Redmi 'numeric' models\n            /\\b(mi[-_ ]?(?:a\\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\\d?\\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\\))/i // Xiaomi Mi\n            ], [[MODEL, /_/g, ' '], [VENDOR, XIAOMI], [TYPE, MOBILE]], [\n            /oid[^\\)]+; (2\\d{4}(283|rpbf)[cgl])( bui|\\))/i,                     // Redmi Pad\n            /\\b(mi[-_ ]?(?:pad)(?:[\\w_ ]+))(?: bui|\\))/i                        // Mi Pad tablets\n            ],[[MODEL, /_/g, ' '], [VENDOR, XIAOMI], [TYPE, TABLET]], [\n\n            // OPPO\n            /; (\\w+) bui.+ oppo/i,\n            /\\b(cph[12]\\d{3}|p(?:af|c[al]|d\\w|e[ar])[mt]\\d0|x9007|a101op)\\b/i\n            ], [MODEL, [VENDOR, 'OPPO'], [TYPE, MOBILE]], [\n            /\\b(opd2\\d{3}a?) bui/i\n            ], [MODEL, [VENDOR, 'OPPO'], [TYPE, TABLET]], [\n\n            // Vivo\n            /vivo (\\w+)(?: bui|\\))/i,\n            /\\b(v[12]\\d{3}\\w?[at])(?: bui|;)/i\n            ], [MODEL, [VENDOR, 'Vivo'], [TYPE, MOBILE]], [\n\n            // Realme\n            /\\b(rmx[1-3]\\d{3})(?: bui|;|\\))/i\n            ], [MODEL, [VENDOR, 'Realme'], [TYPE, MOBILE]], [\n\n            // Motorola\n            /\\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\\b[\\w ]+build\\//i,\n            /\\bmot(?:orola)?[- ](\\w*)/i,\n            /((?:moto[\\w\\(\\) ]+|xt\\d{3,4}|nexus 6)(?= bui|\\)))/i\n            ], [MODEL, [VENDOR, MOTOROLA], [TYPE, MOBILE]], [\n            /\\b(mz60\\d|xoom[2 ]{0,2}) build\\//i\n            ], [MODEL, [VENDOR, MOTOROLA], [TYPE, TABLET]], [\n\n            // LG\n            /((?=lg)?[vl]k\\-?\\d{3}) bui| 3\\.[-\\w; ]{10}lg?-([06cv9]{3,4})/i\n            ], [MODEL, [VENDOR, LG], [TYPE, TABLET]], [\n            /(lm(?:-?f100[nv]?|-[\\w\\.]+)(?= bui|\\))|nexus [45])/i,\n            /\\blg[-e;\\/ ]+((?!browser|netcast|android tv)\\w+)/i,\n            /\\blg-?([\\d\\w]+) bui/i\n            ], [MODEL, [VENDOR, LG], [TYPE, MOBILE]], [\n\n            // Lenovo\n            /(ideatab[-\\w ]+)/i,\n            /lenovo ?(s[56]000[-\\w]+|tab(?:[\\w ]+)|yt[-\\d\\w]{6}|tb[-\\d\\w]{6})/i\n            ], [MODEL, [VENDOR, 'Lenovo'], [TYPE, TABLET]], [\n\n            // Nokia\n            /(?:maemo|nokia).*(n900|lumia \\d+)/i,\n            /nokia[-_ ]?([-\\w\\.]*)/i\n            ], [[MODEL, /_/g, ' '], [VENDOR, 'Nokia'], [TYPE, MOBILE]], [\n\n            // Google\n            /(pixel c)\\b/i                                                      // Google Pixel C\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, TABLET]], [\n            /droid.+; (pixel[\\daxl ]{0,6})(?: bui|\\))/i                         // Google Pixel\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, MOBILE]], [\n\n            // Sony\n            /droid.+ (a?\\d[0-2]{2}so|[c-g]\\d{4}|so[-gl]\\w+|xq-a\\w[4-7][12])(?= bui|\\).+chrome\\/(?![1-6]{0,1}\\d\\.))/i\n            ], [MODEL, [VENDOR, SONY], [TYPE, MOBILE]], [\n            /sony tablet [ps]/i,\n            /\\b(?:sony)?sgp\\w+(?: bui|\\))/i\n            ], [[MODEL, 'Xperia Tablet'], [VENDOR, SONY], [TYPE, TABLET]], [\n\n            // OnePlus\n            / (kb2005|in20[12]5|be20[12][59])\\b/i,\n            /(?:one)?(?:plus)? (a\\d0\\d\\d)(?: b|\\))/i\n            ], [MODEL, [VENDOR, 'OnePlus'], [TYPE, MOBILE]], [\n\n            // Amazon\n            /(alexa)webm/i,\n            /(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\\))/i,                             // Kindle Fire without Silk / Echo Show\n            /(kf[a-z]+)( bui|\\)).+silk\\//i                                      // Kindle Fire HD\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, TABLET]], [\n            /((?:sd|kf)[0349hijorstuw]+)( bui|\\)).+silk\\//i                     // Fire Phone\n            ], [[MODEL, /(.+)/g, 'Fire Phone $1'], [VENDOR, AMAZON], [TYPE, MOBILE]], [\n\n            // BlackBerry\n            /(playbook);[-\\w\\),; ]+(rim)/i                                      // BlackBerry PlayBook\n            ], [MODEL, VENDOR, [TYPE, TABLET]], [\n            /\\b((?:bb[a-f]|st[hv])100-\\d)/i,\n            /\\(bb10; (\\w+)/i                                                    // BlackBerry 10\n            ], [MODEL, [VENDOR, BLACKBERRY], [TYPE, MOBILE]], [\n\n            // Asus\n            /(?:\\b|asus_)(transfo[prime ]{4,10} \\w+|eeepc|slider \\w+|nexus 7|padfone|p00[cj])/i\n            ], [MODEL, [VENDOR, ASUS], [TYPE, TABLET]], [\n            / (z[bes]6[027][012][km][ls]|zenfone \\d\\w?)\\b/i\n            ], [MODEL, [VENDOR, ASUS], [TYPE, MOBILE]], [\n\n            // HTC\n            /(nexus 9)/i                                                        // HTC Nexus 9\n            ], [MODEL, [VENDOR, 'HTC'], [TYPE, TABLET]], [\n            /(htc)[-;_ ]{1,2}([\\w ]+(?=\\)| bui)|\\w+)/i,                         // HTC\n\n            // ZTE\n            /(zte)[- ]([\\w ]+?)(?: bui|\\/|\\))/i,\n            /(alcatel|geeksphone|nexian|panasonic(?!(?:;|\\.))|sony(?!-bra))[-_ ]?([-\\w]*)/i         // Alcatel/GeeksPhone/Nexian/Panasonic/Sony\n            ], [VENDOR, [MODEL, /_/g, ' '], [TYPE, MOBILE]], [\n\n            // Acer\n            /droid.+; ([ab][1-7]-?[0178a]\\d\\d?)/i\n            ], [MODEL, [VENDOR, 'Acer'], [TYPE, TABLET]], [\n\n            // Meizu\n            /droid.+; (m[1-5] note) bui/i,\n            /\\bmz-([-\\w]{2,})/i\n            ], [MODEL, [VENDOR, 'Meizu'], [TYPE, MOBILE]], [\n                \n            // Ulefone\n            /; ((?:power )?armor(?:[\\w ]{0,8}))(?: bui|\\))/i\n            ], [MODEL, [VENDOR, 'Ulefone'], [TYPE, MOBILE]], [\n\n            // MIXED\n            /(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\\w]*)/i,\n                                                                                // BlackBerry/BenQ/Palm/Sony-Ericsson/Acer/Asus/Dell/Meizu/Motorola/Polytron\n            /(hp) ([\\w ]+\\w)/i,                                                 // HP iPAQ\n            /(asus)-?(\\w+)/i,                                                   // Asus\n            /(microsoft); (lumia[\\w ]+)/i,                                      // Microsoft Lumia\n            /(lenovo)[-_ ]?([-\\w]+)/i,                                          // Lenovo\n            /(jolla)/i,                                                         // Jolla\n            /(oppo) ?([\\w ]+) bui/i                                             // OPPO\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n\n            /(kobo)\\s(ereader|touch)/i,                                         // Kobo\n            /(archos) (gamepad2?)/i,                                            // Archos\n            /(hp).+(touchpad(?!.+tablet)|tablet)/i,                             // HP TouchPad\n            /(kindle)\\/([\\w\\.]+)/i,                                             // Kindle\n            /(nook)[\\w ]+build\\/(\\w+)/i,                                        // Nook\n            /(dell) (strea[kpr\\d ]*[\\dko])/i,                                   // Dell Streak\n            /(le[- ]+pan)[- ]+(\\w{1,9}) bui/i,                                  // Le Pan Tablets\n            /(trinity)[- ]*(t\\d{3}) bui/i,                                      // Trinity Tablets\n            /(gigaset)[- ]+(q\\w{1,9}) bui/i,                                    // Gigaset Tablets\n            /(vodafone) ([\\w ]+)(?:\\)| bui)/i                                   // Vodafone\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /(surface duo)/i                                                    // Surface Duo\n            ], [MODEL, [VENDOR, MICROSOFT], [TYPE, TABLET]], [\n            /droid [\\d\\.]+; (fp\\du?)(?: b|\\))/i                                 // Fairphone\n            ], [MODEL, [VENDOR, 'Fairphone'], [TYPE, MOBILE]], [\n            /(u304aa)/i                                                         // AT&T\n            ], [MODEL, [VENDOR, 'AT&T'], [TYPE, MOBILE]], [\n            /\\bsie-(\\w*)/i                                                      // Siemens\n            ], [MODEL, [VENDOR, 'Siemens'], [TYPE, MOBILE]], [\n            /\\b(rct\\w+) b/i                                                     // RCA Tablets\n            ], [MODEL, [VENDOR, 'RCA'], [TYPE, TABLET]], [\n            /\\b(venue[\\d ]{2,7}) b/i                                            // Dell Venue Tablets\n            ], [MODEL, [VENDOR, 'Dell'], [TYPE, TABLET]], [\n            /\\b(q(?:mv|ta)\\w+) b/i                                              // Verizon Tablet\n            ], [MODEL, [VENDOR, 'Verizon'], [TYPE, TABLET]], [\n            /\\b(?:barnes[& ]+noble |bn[rt])([\\w\\+ ]*) b/i                       // Barnes & Noble Tablet\n            ], [MODEL, [VENDOR, 'Barnes & Noble'], [TYPE, TABLET]], [\n            /\\b(tm\\d{3}\\w+) b/i\n            ], [MODEL, [VENDOR, 'NuVision'], [TYPE, TABLET]], [\n            /\\b(k88) b/i                                                        // ZTE K Series Tablet\n            ], [MODEL, [VENDOR, 'ZTE'], [TYPE, TABLET]], [\n            /\\b(nx\\d{3}j) b/i                                                   // ZTE Nubia\n            ], [MODEL, [VENDOR, 'ZTE'], [TYPE, MOBILE]], [\n            /\\b(gen\\d{3}) b.+49h/i                                              // Swiss GEN Mobile\n            ], [MODEL, [VENDOR, 'Swiss'], [TYPE, MOBILE]], [\n            /\\b(zur\\d{3}) b/i                                                   // Swiss ZUR Tablet\n            ], [MODEL, [VENDOR, 'Swiss'], [TYPE, TABLET]], [\n            /\\b((zeki)?tb.*\\b) b/i                                              // Zeki Tablets\n            ], [MODEL, [VENDOR, 'Zeki'], [TYPE, TABLET]], [\n            /\\b([yr]\\d{2}) b/i,\n            /\\b(dragon[- ]+touch |dt)(\\w{5}) b/i                                // Dragon Touch Tablet\n            ], [[VENDOR, 'Dragon Touch'], MODEL, [TYPE, TABLET]], [\n            /\\b(ns-?\\w{0,9}) b/i                                                // Insignia Tablets\n            ], [MODEL, [VENDOR, 'Insignia'], [TYPE, TABLET]], [\n            /\\b((nxa|next)-?\\w{0,9}) b/i                                        // NextBook Tablets\n            ], [MODEL, [VENDOR, 'NextBook'], [TYPE, TABLET]], [\n            /\\b(xtreme\\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i                  // Voice Xtreme Phones\n            ], [[VENDOR, 'Voice'], MODEL, [TYPE, MOBILE]], [\n            /\\b(lvtel\\-)?(v1[12]) b/i                                           // LvTel Phones\n            ], [[VENDOR, 'LvTel'], MODEL, [TYPE, MOBILE]], [\n            /\\b(ph-1) /i                                                        // Essential PH-1\n            ], [MODEL, [VENDOR, 'Essential'], [TYPE, MOBILE]], [\n            /\\b(v(100md|700na|7011|917g).*\\b) b/i                               // Envizen Tablets\n            ], [MODEL, [VENDOR, 'Envizen'], [TYPE, TABLET]], [\n            /\\b(trio[-\\w\\. ]+) b/i                                              // MachSpeed Tablets\n            ], [MODEL, [VENDOR, 'MachSpeed'], [TYPE, TABLET]], [\n            /\\btu_(1491) b/i                                                    // Rotor Tablets\n            ], [MODEL, [VENDOR, 'Rotor'], [TYPE, TABLET]], [\n            /(shield[\\w ]+) b/i                                                 // Nvidia Shield Tablets\n            ], [MODEL, [VENDOR, 'Nvidia'], [TYPE, TABLET]], [\n            /(sprint) (\\w+)/i                                                   // Sprint Phones\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n            /(kin\\.[onetw]{3})/i                                                // Microsoft Kin\n            ], [[MODEL, /\\./g, ' '], [VENDOR, MICROSOFT], [TYPE, MOBILE]], [\n            /droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\\)/i             // Zebra\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, TABLET]], [\n            /droid.+; (ec30|ps20|tc[2-8]\\d[kx])\\)/i\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, MOBILE]], [\n\n            ///////////////////\n            // SMARTTVS\n            ///////////////////\n\n            /smart-tv.+(samsung)/i                                              // Samsung\n            ], [VENDOR, [TYPE, SMARTTV]], [\n            /hbbtv.+maple;(\\d+)/i\n            ], [[MODEL, /^/, 'SmartTV'], [VENDOR, SAMSUNG], [TYPE, SMARTTV]], [\n            /(nux; netcast.+smarttv|lg (netcast\\.tv-201\\d|android tv))/i        // LG SmartTV\n            ], [[VENDOR, LG], [TYPE, SMARTTV]], [\n            /(apple) ?tv/i                                                      // Apple TV\n            ], [VENDOR, [MODEL, APPLE+' TV'], [TYPE, SMARTTV]], [\n            /crkey/i                                                            // Google Chromecast\n            ], [[MODEL, CHROME+'cast'], [VENDOR, GOOGLE], [TYPE, SMARTTV]], [\n            /droid.+aft(\\w+)( bui|\\))/i                                         // Fire TV\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, SMARTTV]], [\n            /\\(dtv[\\);].+(aquos)/i,\n            /(aquos-tv[\\w ]+)\\)/i                                               // Sharp\n            ], [MODEL, [VENDOR, SHARP], [TYPE, SMARTTV]],[\n            /(bravia[\\w ]+)( bui|\\))/i                                              // Sony\n            ], [MODEL, [VENDOR, SONY], [TYPE, SMARTTV]], [\n            /(mitv-\\w{5}) bui/i                                                 // Xiaomi\n            ], [MODEL, [VENDOR, XIAOMI], [TYPE, SMARTTV]], [\n            /Hbbtv.*(technisat) (.*);/i                                         // TechniSAT\n            ], [VENDOR, MODEL, [TYPE, SMARTTV]], [\n            /\\b(roku)[\\dx]*[\\)\\/]((?:dvp-)?[\\d\\.]*)/i,                          // Roku\n            /hbbtv\\/\\d+\\.\\d+\\.\\d+ +\\([\\w\\+ ]*; *([\\w\\d][^;]*);([^;]*)/i         // HbbTV devices\n            ], [[VENDOR, trim], [MODEL, trim], [TYPE, SMARTTV]], [\n            /\\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\\b/i                   // SmartTV from Unidentified Vendors\n            ], [[TYPE, SMARTTV]], [\n\n            ///////////////////\n            // CONSOLES\n            ///////////////////\n\n            /(ouya)/i,                                                          // Ouya\n            /(nintendo) ([wids3utch]+)/i                                        // Nintendo\n            ], [VENDOR, MODEL, [TYPE, CONSOLE]], [\n            /droid.+; (shield) bui/i                                            // Nvidia\n            ], [MODEL, [VENDOR, 'Nvidia'], [TYPE, CONSOLE]], [\n            /(playstation [345portablevi]+)/i                                   // Playstation\n            ], [MODEL, [VENDOR, SONY], [TYPE, CONSOLE]], [\n            /\\b(xbox(?: one)?(?!; xbox))[\\); ]/i                                // Microsoft Xbox\n            ], [MODEL, [VENDOR, MICROSOFT], [TYPE, CONSOLE]], [\n\n            ///////////////////\n            // WEARABLES\n            ///////////////////\n\n            /((pebble))app/i                                                    // Pebble\n            ], [VENDOR, MODEL, [TYPE, WEARABLE]], [\n            /(watch)(?: ?os[,\\/]|\\d,\\d\\/)[\\d\\.]+/i                              // Apple Watch\n            ], [MODEL, [VENDOR, APPLE], [TYPE, WEARABLE]], [\n            /droid.+; (glass) \\d/i                                              // Google Glass\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, WEARABLE]], [\n            /droid.+; (wt63?0{2,3})\\)/i\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, WEARABLE]], [\n            /(quest( \\d| pro)?)/i                                               // Oculus Quest\n            ], [MODEL, [VENDOR, FACEBOOK], [TYPE, WEARABLE]], [\n\n            ///////////////////\n            // EMBEDDED\n            ///////////////////\n\n            /(tesla)(?: qtcarbrowser|\\/[-\\w\\.]+)/i                              // Tesla\n            ], [VENDOR, [TYPE, EMBEDDED]], [\n            /(aeobc)\\b/i                                                        // Echo Dot\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, EMBEDDED]], [\n\n            ////////////////////\n            // MIXED (GENERIC)\n            ///////////////////\n\n            /droid .+?; ([^;]+?)(?: bui|; wv\\)|\\) applew).+? mobile safari/i    // Android Phones from Unidentified Vendors\n            ], [MODEL, [TYPE, MOBILE]], [\n            /droid .+?; ([^;]+?)(?: bui|\\) applew).+?(?! mobile) safari/i       // Android Tablets from Unidentified Vendors\n            ], [MODEL, [TYPE, TABLET]], [\n            /\\b((tablet|tab)[;\\/]|focus\\/\\d(?!.+mobile))/i                      // Unidentifiable Tablet\n            ], [[TYPE, TABLET]], [\n            /(phone|mobile(?:[;\\/]| [ \\w\\/\\.]*safari)|pda(?=.+windows ce))/i    // Unidentifiable Mobile\n            ], [[TYPE, MOBILE]], [\n            /(android[-\\w\\. ]{0,9});.+buil/i                                    // Generic Android Device\n            ], [MODEL, [VENDOR, 'Generic']]\n        ],\n\n        engine : [[\n\n            /windows.+ edge\\/([\\w\\.]+)/i                                       // EdgeHTML\n            ], [VERSION, [NAME, EDGE+'HTML']], [\n\n            /webkit\\/537\\.36.+chrome\\/(?!27)([\\w\\.]+)/i                         // Blink\n            ], [VERSION, [NAME, 'Blink']], [\n\n            /(presto)\\/([\\w\\.]+)/i,                                             // Presto\n            /(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\\/([\\w\\.]+)/i, // WebKit/Trident/NetFront/NetSurf/Amaya/Lynx/w3m/Goanna\n            /ekioh(flow)\\/([\\w\\.]+)/i,                                          // Flow\n            /(khtml|tasman|links)[\\/ ]\\(?([\\w\\.]+)/i,                           // KHTML/Tasman/Links\n            /(icab)[\\/ ]([23]\\.[\\d\\.]+)/i,                                      // iCab\n            /\\b(libweb)/i\n            ], [NAME, VERSION], [\n\n            /rv\\:([\\w\\.]{1,9})\\b.+(gecko)/i                                     // Gecko\n            ], [VERSION, NAME]\n        ],\n\n        os : [[\n\n            // Windows\n            /microsoft (windows) (vista|xp)/i                                   // Windows (iTunes)\n            ], [NAME, VERSION], [\n            /(windows (?:phone(?: os)?|mobile))[\\/ ]?([\\d\\.\\w ]*)/i             // Windows Phone\n            ], [NAME, [VERSION, strMapper, windowsVersionMap]], [\n            /windows nt 6\\.2; (arm)/i,                                        // Windows RT\n            /windows[\\/ ]?([ntce\\d\\. ]+\\w)(?!.+xbox)/i,\n            /(?:win(?=3|9|n)|win 9x )([nt\\d\\.]+)/i\n            ], [[VERSION, strMapper, windowsVersionMap], [NAME, 'Windows']], [\n\n            // iOS/macOS\n            /ip[honead]{2,4}\\b(?:.*os ([\\w]+) like mac|; opera)/i,              // iOS\n            /(?:ios;fbsv\\/|iphone.+ios[\\/ ])([\\d\\.]+)/i,\n            /cfnetwork\\/.+darwin/i\n            ], [[VERSION, /_/g, '.'], [NAME, 'iOS']], [\n            /(mac os x) ?([\\w\\. ]*)/i,\n            /(macintosh|mac_powerpc\\b)(?!.+haiku)/i                             // Mac OS\n            ], [[NAME, MAC_OS], [VERSION, /_/g, '.']], [\n\n            // Mobile OSes\n            /droid ([\\w\\.]+)\\b.+(android[- ]x86|harmonyos)/i                    // Android-x86/HarmonyOS\n            ], [VERSION, NAME], [                                               // Android/WebOS/QNX/Bada/RIM/Maemo/MeeGo/Sailfish OS\n            /(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\\/ ]?([\\w\\.]*)/i,\n            /(blackberry)\\w*\\/([\\w\\.]*)/i,                                      // Blackberry\n            /(tizen|kaios)[\\/ ]([\\w\\.]+)/i,                                     // Tizen/KaiOS\n            /\\((series40);/i                                                    // Series 40\n            ], [NAME, VERSION], [\n            /\\(bb(10);/i                                                        // BlackBerry 10\n            ], [VERSION, [NAME, BLACKBERRY]], [\n            /(?:symbian ?os|symbos|s60(?=;)|series60)[-\\/ ]?([\\w\\.]*)/i         // Symbian\n            ], [VERSION, [NAME, 'Symbian']], [\n            /mozilla\\/[\\d\\.]+ \\((?:mobile|tablet|tv|mobile; [\\w ]+); rv:.+ gecko\\/([\\w\\.]+)/i // Firefox OS\n            ], [VERSION, [NAME, FIREFOX+' OS']], [\n            /web0s;.+rt(tv)/i,\n            /\\b(?:hp)?wos(?:browser)?\\/([\\w\\.]+)/i                              // WebOS\n            ], [VERSION, [NAME, 'webOS']], [\n            /watch(?: ?os[,\\/]|\\d,\\d\\/)([\\d\\.]+)/i                              // watchOS\n            ], [VERSION, [NAME, 'watchOS']], [\n\n            // Google Chromecast\n            /crkey\\/([\\d\\.]+)/i                                                 // Google Chromecast\n            ], [VERSION, [NAME, CHROME+'cast']], [\n            /(cros) [\\w]+(?:\\)| ([\\w\\.]+)\\b)/i                                  // Chromium OS\n            ], [[NAME, CHROMIUM_OS], VERSION],[\n\n            // Smart TVs\n            /panasonic;(viera)/i,                                               // Panasonic Viera\n            /(netrange)mmh/i,                                                   // Netrange\n            /(nettv)\\/(\\d+\\.[\\w\\.]+)/i,                                         // NetTV\n\n            // Console\n            /(nintendo|playstation) ([wids345portablevuch]+)/i,                 // Nintendo/Playstation\n            /(xbox); +xbox ([^\\);]+)/i,                                         // Microsoft Xbox (360, One, X, S, Series X, Series S)\n\n            // Other\n            /\\b(joli|palm)\\b ?(?:os)?\\/?([\\w\\.]*)/i,                            // Joli/Palm\n            /(mint)[\\/\\(\\) ]?(\\w*)/i,                                           // Mint\n            /(mageia|vectorlinux)[; ]/i,                                        // Mageia/VectorLinux\n            /([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\\/ ]?(?!chrom|package)([-\\w\\.]*)/i,\n                                                                                // Ubuntu/Debian/SUSE/Gentoo/Arch/Slackware/Fedora/Mandriva/CentOS/PCLinuxOS/RedHat/Zenwalk/Linpus/Raspbian/Plan9/Minix/RISCOS/Contiki/Deepin/Manjaro/elementary/Sabayon/Linspire\n            /(hurd|linux) ?([\\w\\.]*)/i,                                         // Hurd/Linux\n            /(gnu) ?([\\w\\.]*)/i,                                                // GNU\n            /\\b([-frentopcghs]{0,5}bsd|dragonfly)[\\/ ]?(?!amd|[ix346]{1,2}86)([\\w\\.]*)/i, // FreeBSD/NetBSD/OpenBSD/PC-BSD/GhostBSD/DragonFly\n            /(haiku) (\\w+)/i                                                    // Haiku\n            ], [NAME, VERSION], [\n            /(sunos) ?([\\w\\.\\d]*)/i                                             // Solaris\n            ], [[NAME, 'Solaris'], VERSION], [\n            /((?:open)?solaris)[-\\/ ]?([\\w\\.]*)/i,                              // Solaris\n            /(aix) ((\\d)(?=\\.|\\)| )[\\w\\.])*/i,                                  // AIX\n            /\\b(beos|os\\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i, // BeOS/OS2/AmigaOS/MorphOS/OpenVMS/Fuchsia/HP-UX/SerenityOS\n            /(unix) ?([\\w\\.]*)/i                                                // UNIX\n            ], [NAME, VERSION]\n        ]\n    };\n\n    /////////////////\n    // Constructor\n    ////////////////\n\n    var UAParser = function (ua, extensions) {\n\n        if (typeof ua === OBJ_TYPE) {\n            extensions = ua;\n            ua = undefined;\n        }\n\n        if (!(this instanceof UAParser)) {\n            return new UAParser(ua, extensions).getResult();\n        }\n\n        var _navigator = (typeof window !== UNDEF_TYPE && window.navigator) ? window.navigator : undefined;\n        var _ua = ua || ((_navigator && _navigator.userAgent) ? _navigator.userAgent : EMPTY);\n        var _uach = (_navigator && _navigator.userAgentData) ? _navigator.userAgentData : undefined;\n        var _rgxmap = extensions ? extend(regexes, extensions) : regexes;\n        var _isSelfNav = _navigator && _navigator.userAgent == _ua;\n\n        this.getBrowser = function () {\n            var _browser = {};\n            _browser[NAME] = undefined;\n            _browser[VERSION] = undefined;\n            rgxMapper.call(_browser, _ua, _rgxmap.browser);\n            _browser[MAJOR] = majorize(_browser[VERSION]);\n            // Brave-specific detection\n            if (_isSelfNav && _navigator && _navigator.brave && typeof _navigator.brave.isBrave == FUNC_TYPE) {\n                _browser[NAME] = 'Brave';\n            }\n            return _browser;\n        };\n        this.getCPU = function () {\n            var _cpu = {};\n            _cpu[ARCHITECTURE] = undefined;\n            rgxMapper.call(_cpu, _ua, _rgxmap.cpu);\n            return _cpu;\n        };\n        this.getDevice = function () {\n            var _device = {};\n            _device[VENDOR] = undefined;\n            _device[MODEL] = undefined;\n            _device[TYPE] = undefined;\n            rgxMapper.call(_device, _ua, _rgxmap.device);\n            if (_isSelfNav && !_device[TYPE] && _uach && _uach.mobile) {\n                _device[TYPE] = MOBILE;\n            }\n            // iPadOS-specific detection: identified as Mac, but has some iOS-only properties\n            if (_isSelfNav && _device[MODEL] == 'Macintosh' && _navigator && typeof _navigator.standalone !== UNDEF_TYPE && _navigator.maxTouchPoints && _navigator.maxTouchPoints > 2) {\n                _device[MODEL] = 'iPad';\n                _device[TYPE] = TABLET;\n            }\n            return _device;\n        };\n        this.getEngine = function () {\n            var _engine = {};\n            _engine[NAME] = undefined;\n            _engine[VERSION] = undefined;\n            rgxMapper.call(_engine, _ua, _rgxmap.engine);\n            return _engine;\n        };\n        this.getOS = function () {\n            var _os = {};\n            _os[NAME] = undefined;\n            _os[VERSION] = undefined;\n            rgxMapper.call(_os, _ua, _rgxmap.os);\n            if (_isSelfNav && !_os[NAME] && _uach && _uach.platform && _uach.platform != 'Unknown') {\n                _os[NAME] = _uach.platform  \n                                    .replace(/chrome os/i, CHROMIUM_OS)\n                                    .replace(/macos/i, MAC_OS);           // backward compatibility\n            }\n            return _os;\n        };\n        this.getResult = function () {\n            return {\n                ua      : this.getUA(),\n                browser : this.getBrowser(),\n                engine  : this.getEngine(),\n                os      : this.getOS(),\n                device  : this.getDevice(),\n                cpu     : this.getCPU()\n            };\n        };\n        this.getUA = function () {\n            return _ua;\n        };\n        this.setUA = function (ua) {\n            _ua = (typeof ua === STR_TYPE && ua.length > UA_MAX_LENGTH) ? trim(ua, UA_MAX_LENGTH) : ua;\n            return this;\n        };\n        this.setUA(_ua);\n        return this;\n    };\n\n    UAParser.VERSION = LIBVERSION;\n    UAParser.BROWSER =  enumerize([NAME, VERSION, MAJOR]);\n    UAParser.CPU = enumerize([ARCHITECTURE]);\n    UAParser.DEVICE = enumerize([MODEL, VENDOR, TYPE, CONSOLE, MOBILE, SMARTTV, TABLET, WEARABLE, EMBEDDED]);\n    UAParser.ENGINE = UAParser.OS = enumerize([NAME, VERSION]);\n\n    ///////////\n    // Export\n    //////////\n\n    // check js environment\n    if (typeof(exports) !== UNDEF_TYPE) {\n        // nodejs env\n        if (typeof module !== UNDEF_TYPE && module.exports) {\n            exports = module.exports = UAParser;\n        }\n        exports.UAParser = UAParser;\n    } else {\n        // requirejs env (optional)\n        if (typeof(define) === FUNC_TYPE && define.amd) {\n            define(function () {\n                return UAParser;\n            });\n        } else if (typeof window !== UNDEF_TYPE) {\n            // browser env\n            window.UAParser = UAParser;\n        }\n    }\n\n    // jQuery/Zepto specific (optional)\n    // Note:\n    //   In AMD env the global scope should be kept clean, but jQuery is an exception.\n    //   jQuery always exports to global scope, unless jQuery.noConflict(true) is used,\n    //   and we should catch that.\n    var $ = typeof window !== UNDEF_TYPE && (window.jQuery || window.Zepto);\n    if ($ && !$.ua) {\n        var parser = new UAParser();\n        $.ua = parser.getResult();\n        $.ua.get = function () {\n            return parser.getUA();\n        };\n        $.ua.set = function (ua) {\n            parser.setUA(ua);\n            var result = parser.getResult();\n            for (var prop in result) {\n                $.ua[prop] = result[prop];\n            }\n        };\n    }\n\n})(typeof window === 'object' ? window : this);\n","import { __assign } from './_virtual/_tslib.js';\nimport { symbolObservable, toInvokeSource, mapContext, isMachine } from './utils.js';\nimport { provide } from './serviceScope.js';\n\nfunction createNullActor(id) {\n  var _a;\n\n  return _a = {\n    id: id,\n    send: function () {\n      return void 0;\n    },\n    subscribe: function () {\n      return {\n        unsubscribe: function () {\n          return void 0;\n        }\n      };\n    },\n    getSnapshot: function () {\n      return undefined;\n    },\n    toJSON: function () {\n      return {\n        id: id\n      };\n    }\n  }, _a[symbolObservable] = function () {\n    return this;\n  }, _a;\n}\n/**\r\n * Creates a deferred actor that is able to be invoked given the provided\r\n * invocation information in its `.meta` value.\r\n *\r\n * @param invokeDefinition The meta information needed to invoke the actor.\r\n */\n\nfunction createInvocableActor(invokeDefinition, machine, context, _event) {\n  var _a;\n\n  var invokeSrc = toInvokeSource(invokeDefinition.src);\n  var serviceCreator = (_a = machine === null || machine === void 0 ? void 0 : machine.options.services) === null || _a === void 0 ? void 0 : _a[invokeSrc.type];\n  var resolvedData = invokeDefinition.data ? mapContext(invokeDefinition.data, context, _event) : undefined;\n  var tempActor = serviceCreator ? createDeferredActor(serviceCreator, invokeDefinition.id, resolvedData) : createNullActor(invokeDefinition.id); // @ts-ignore\n\n  tempActor.meta = invokeDefinition;\n  return tempActor;\n}\nfunction createDeferredActor(entity, id, data) {\n  var tempActor = createNullActor(id); // @ts-ignore\n\n  tempActor.deferred = true;\n\n  if (isMachine(entity)) {\n    // \"mute\" the existing service scope so potential spawned actors within the `.initialState` stay deferred here\n    var initialState_1 = tempActor.state = provide(undefined, function () {\n      return (data ? entity.withContext(data) : entity).initialState;\n    });\n\n    tempActor.getSnapshot = function () {\n      return initialState_1;\n    };\n  }\n\n  return tempActor;\n}\nfunction isActor(item) {\n  try {\n    return typeof item.send === 'function';\n  } catch (e) {\n    return false;\n  }\n}\nfunction isSpawnedActor(item) {\n  return isActor(item) && 'id' in item;\n} // TODO: refactor the return type, this could be written in a better way but it's best to avoid unneccessary breaking changes now\n\nfunction toActorRef(actorRefLike) {\n  var _a;\n\n  return __assign((_a = {\n    subscribe: function () {\n      return {\n        unsubscribe: function () {\n          return void 0;\n        }\n      };\n    },\n    id: 'anonymous',\n    getSnapshot: function () {\n      return undefined;\n    }\n  }, _a[symbolObservable] = function () {\n    return this;\n  }, _a), actorRefLike);\n}\n\nexport { createDeferredActor, createInvocableActor, createNullActor, isActor, isSpawnedActor, toActorRef };\n","import { __assign, __rest } from './_virtual/_tslib.js';\nimport './types.js';\nimport { invoke } from './actionTypes.js';\nimport './utils.js';\nimport './environment.js';\n\nfunction toInvokeSource(src) {\n  if (typeof src === 'string') {\n    var simpleSrc = {\n      type: src\n    };\n\n    simpleSrc.toString = function () {\n      return src;\n    }; // v4 compat - TODO: remove in v5\n\n\n    return simpleSrc;\n  }\n\n  return src;\n}\nfunction toInvokeDefinition(invokeConfig) {\n  return __assign(__assign({\n    type: invoke\n  }, invokeConfig), {\n    toJSON: function () {\n      invokeConfig.onDone;\n          invokeConfig.onError;\n          var invokeDef = __rest(invokeConfig, [\"onDone\", \"onError\"]);\n\n      return __assign(__assign({}, invokeDef), {\n        type: invoke,\n        src: toInvokeSource(invokeConfig.src)\n      });\n    }\n  });\n}\n\nexport { toInvokeDefinition, toInvokeSource };\n","import { __assign, __spreadArray, __read, __values, __rest } from './_virtual/_tslib.js';\nimport { isFunction, mapValues, isArray, flatten, toArray, toStateValue, isString, getEventType, toSCXMLEvent, matchesState, path, evaluateGuard, mapContext, isRaisableAction, pathToStateValue, isBuiltInEvent, partition, updateHistoryValue, toStatePath, mapFilterValues, warn, toStatePaths, nestedPath, normalizeTarget, toGuard, toTransitionConfigArray, isMachine, createInvokeId } from './utils.js';\nimport { State, stateValuesEqual } from './State.js';\nimport { start as start$1, stop as stop$1, invoke, update, nullEvent } from './actionTypes.js';\nimport { done, start, toActionObjects, raise, stop, resolveActions, doneInvoke, error, toActionObject, toActivityDefinition, after, send, cancel, initEvent } from './actions.js';\nimport { IS_PRODUCTION } from './environment.js';\nimport { STATE_DELIMITER } from './constants.js';\nimport { getAllStateNodes, getConfiguration, isInFinalState, getTagsFromConfiguration, has, getChildren, getValue, isLeafNode, getAllChildren } from './stateUtils.js';\nimport { createInvocableActor } from './Actor.js';\nimport { toInvokeDefinition } from './invokeUtils.js';\n\nvar NULL_EVENT = '';\nvar STATE_IDENTIFIER = '#';\nvar WILDCARD = '*';\nvar EMPTY_OBJECT = {};\n\nvar isStateId = function (str) {\n  return str[0] === STATE_IDENTIFIER;\n};\n\nvar createDefaultOptions = function () {\n  return {\n    actions: {},\n    guards: {},\n    services: {},\n    activities: {},\n    delays: {}\n  };\n};\n\nvar validateArrayifiedTransitions = function (stateNode, event, transitions) {\n  var hasNonLastUnguardedTarget = transitions.slice(0, -1).some(function (transition) {\n    return !('cond' in transition) && !('in' in transition) && (isString(transition.target) || isMachine(transition.target));\n  });\n  var eventText = event === NULL_EVENT ? 'the transient event' : \"event '\".concat(event, \"'\");\n  warn(!hasNonLastUnguardedTarget, \"One or more transitions for \".concat(eventText, \" on state '\").concat(stateNode.id, \"' are unreachable. \") + \"Make sure that the default transition is the last one defined.\");\n};\n\nvar StateNode =\n/*#__PURE__*/\n\n/** @class */\nfunction () {\n  function StateNode(\n  /**\r\n   * The raw config used to create the machine.\r\n   */\n  config, options,\n  /**\r\n   * The initial extended state\r\n   */\n  _context, // TODO: this is unsafe, but we're removing it in v5 anyway\n  _stateInfo) {\n    if (_context === void 0) {\n      _context = 'context' in config ? config.context : undefined;\n    }\n\n    var _this = this;\n\n    var _a;\n\n    this.config = config;\n    this._context = _context;\n    /**\r\n     * The order this state node appears. Corresponds to the implicit SCXML document order.\r\n     */\n\n    this.order = -1;\n    this.__xstatenode = true;\n    this.__cache = {\n      events: undefined,\n      relativeValue: new Map(),\n      initialStateValue: undefined,\n      initialState: undefined,\n      on: undefined,\n      transitions: undefined,\n      candidates: {},\n      delayedTransitions: undefined\n    };\n    this.idMap = {};\n    this.tags = [];\n    this.options = Object.assign(createDefaultOptions(), options);\n    this.parent = _stateInfo === null || _stateInfo === void 0 ? void 0 : _stateInfo.parent;\n    this.key = this.config.key || (_stateInfo === null || _stateInfo === void 0 ? void 0 : _stateInfo.key) || this.config.id || '(machine)';\n    this.machine = this.parent ? this.parent.machine : this;\n    this.path = this.parent ? this.parent.path.concat(this.key) : [];\n    this.delimiter = this.config.delimiter || (this.parent ? this.parent.delimiter : STATE_DELIMITER);\n    this.id = this.config.id || __spreadArray([this.machine.key], __read(this.path), false).join(this.delimiter);\n    this.version = this.parent ? this.parent.version : this.config.version;\n    this.type = this.config.type || (this.config.parallel ? 'parallel' : this.config.states && Object.keys(this.config.states).length ? 'compound' : this.config.history ? 'history' : 'atomic');\n    this.schema = this.parent ? this.machine.schema : (_a = this.config.schema) !== null && _a !== void 0 ? _a : {};\n    this.description = this.config.description;\n\n    if (!IS_PRODUCTION) {\n      warn(!('parallel' in this.config), \"The \\\"parallel\\\" property is deprecated and will be removed in version 4.1. \".concat(this.config.parallel ? \"Replace with `type: 'parallel'`\" : \"Use `type: '\".concat(this.type, \"'`\"), \" in the config for state node '\").concat(this.id, \"' instead.\"));\n    }\n\n    this.initial = this.config.initial;\n    this.states = this.config.states ? mapValues(this.config.states, function (stateConfig, key) {\n      var _a;\n\n      var stateNode = new StateNode(stateConfig, {}, undefined, {\n        parent: _this,\n        key: key\n      });\n      Object.assign(_this.idMap, __assign((_a = {}, _a[stateNode.id] = stateNode, _a), stateNode.idMap));\n      return stateNode;\n    }) : EMPTY_OBJECT; // Document order\n\n    var order = 0;\n\n    function dfs(stateNode) {\n      var e_1, _a;\n\n      stateNode.order = order++;\n\n      try {\n        for (var _b = __values(getAllChildren(stateNode)), _c = _b.next(); !_c.done; _c = _b.next()) {\n          var child = _c.value;\n          dfs(child);\n        }\n      } catch (e_1_1) {\n        e_1 = {\n          error: e_1_1\n        };\n      } finally {\n        try {\n          if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        } finally {\n          if (e_1) throw e_1.error;\n        }\n      }\n    }\n\n    dfs(this); // History config\n\n    this.history = this.config.history === true ? 'shallow' : this.config.history || false;\n    this._transient = !!this.config.always || (!this.config.on ? false : Array.isArray(this.config.on) ? this.config.on.some(function (_a) {\n      var event = _a.event;\n      return event === NULL_EVENT;\n    }) : NULL_EVENT in this.config.on);\n    this.strict = !!this.config.strict; // TODO: deprecate (entry)\n\n    this.onEntry = toArray(this.config.entry || this.config.onEntry).map(function (action) {\n      return toActionObject(action);\n    }); // TODO: deprecate (exit)\n\n    this.onExit = toArray(this.config.exit || this.config.onExit).map(function (action) {\n      return toActionObject(action);\n    });\n    this.meta = this.config.meta;\n    this.doneData = this.type === 'final' ? this.config.data : undefined;\n    this.invoke = toArray(this.config.invoke).map(function (invokeConfig, i) {\n      var _a, _b;\n\n      if (isMachine(invokeConfig)) {\n        var invokeId = createInvokeId(_this.id, i);\n        _this.machine.options.services = __assign((_a = {}, _a[invokeId] = invokeConfig, _a), _this.machine.options.services);\n        return toInvokeDefinition({\n          src: invokeId,\n          id: invokeId\n        });\n      } else if (isString(invokeConfig.src)) {\n        var invokeId = invokeConfig.id || createInvokeId(_this.id, i);\n        return toInvokeDefinition(__assign(__assign({}, invokeConfig), {\n          id: invokeId,\n          src: invokeConfig.src\n        }));\n      } else if (isMachine(invokeConfig.src) || isFunction(invokeConfig.src)) {\n        var invokeId = invokeConfig.id || createInvokeId(_this.id, i);\n        _this.machine.options.services = __assign((_b = {}, _b[invokeId] = invokeConfig.src, _b), _this.machine.options.services);\n        return toInvokeDefinition(__assign(__assign({\n          id: invokeId\n        }, invokeConfig), {\n          src: invokeId\n        }));\n      } else {\n        var invokeSource = invokeConfig.src;\n        return toInvokeDefinition(__assign(__assign({\n          id: createInvokeId(_this.id, i)\n        }, invokeConfig), {\n          src: invokeSource\n        }));\n      }\n    });\n    this.activities = toArray(this.config.activities).concat(this.invoke).map(function (activity) {\n      return toActivityDefinition(activity);\n    });\n    this.transition = this.transition.bind(this);\n    this.tags = toArray(this.config.tags); // TODO: this is the real fix for initialization once\n    // state node getters are deprecated\n    // if (!this.parent) {\n    //   this._init();\n    // }\n  }\n\n  StateNode.prototype._init = function () {\n    if (this.__cache.transitions) {\n      return;\n    }\n\n    getAllStateNodes(this).forEach(function (stateNode) {\n      return stateNode.on;\n    });\n  };\n  /**\r\n   * Clones this state machine with custom options and context.\r\n   *\r\n   * @param options Options (actions, guards, activities, services) to recursively merge with the existing options.\r\n   * @param context Custom context (will override predefined context)\r\n   */\n\n\n  StateNode.prototype.withConfig = function (options, context) {\n    var _a = this.options,\n        actions = _a.actions,\n        activities = _a.activities,\n        guards = _a.guards,\n        services = _a.services,\n        delays = _a.delays;\n    return new StateNode(this.config, {\n      actions: __assign(__assign({}, actions), options.actions),\n      activities: __assign(__assign({}, activities), options.activities),\n      guards: __assign(__assign({}, guards), options.guards),\n      services: __assign(__assign({}, services), options.services),\n      delays: __assign(__assign({}, delays), options.delays)\n    }, context !== null && context !== void 0 ? context : this.context);\n  };\n  /**\r\n   * Clones this state machine with custom context.\r\n   *\r\n   * @param context Custom context (will override predefined context, not recursive)\r\n   */\n\n\n  StateNode.prototype.withContext = function (context) {\n    return new StateNode(this.config, this.options, context);\n  };\n\n  Object.defineProperty(StateNode.prototype, \"context\", {\n    get: function () {\n      return isFunction(this._context) ? this._context() : this._context;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(StateNode.prototype, \"definition\", {\n    /**\r\n     * The well-structured state node definition.\r\n     */\n    get: function () {\n      return {\n        id: this.id,\n        key: this.key,\n        version: this.version,\n        context: this.context,\n        type: this.type,\n        initial: this.initial,\n        history: this.history,\n        states: mapValues(this.states, function (state) {\n          return state.definition;\n        }),\n        on: this.on,\n        transitions: this.transitions,\n        entry: this.onEntry,\n        exit: this.onExit,\n        activities: this.activities || [],\n        meta: this.meta,\n        order: this.order || -1,\n        data: this.doneData,\n        invoke: this.invoke,\n        description: this.description,\n        tags: this.tags\n      };\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  StateNode.prototype.toJSON = function () {\n    return this.definition;\n  };\n\n  Object.defineProperty(StateNode.prototype, \"on\", {\n    /**\r\n     * The mapping of events to transitions.\r\n     */\n    get: function () {\n      if (this.__cache.on) {\n        return this.__cache.on;\n      }\n\n      var transitions = this.transitions;\n      return this.__cache.on = transitions.reduce(function (map, transition) {\n        map[transition.eventType] = map[transition.eventType] || [];\n        map[transition.eventType].push(transition);\n        return map;\n      }, {});\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(StateNode.prototype, \"after\", {\n    get: function () {\n      return this.__cache.delayedTransitions || (this.__cache.delayedTransitions = this.getDelayedTransitions(), this.__cache.delayedTransitions);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(StateNode.prototype, \"transitions\", {\n    /**\r\n     * All the transitions that can be taken from this state node.\r\n     */\n    get: function () {\n      return this.__cache.transitions || (this.__cache.transitions = this.formatTransitions(), this.__cache.transitions);\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  StateNode.prototype.getCandidates = function (eventName) {\n    if (this.__cache.candidates[eventName]) {\n      return this.__cache.candidates[eventName];\n    }\n\n    var transient = eventName === NULL_EVENT;\n    var candidates = this.transitions.filter(function (transition) {\n      var sameEventType = transition.eventType === eventName; // null events should only match against eventless transitions\n\n      return transient ? sameEventType : sameEventType || transition.eventType === WILDCARD;\n    });\n    this.__cache.candidates[eventName] = candidates;\n    return candidates;\n  };\n  /**\r\n   * All delayed transitions from the config.\r\n   */\n\n\n  StateNode.prototype.getDelayedTransitions = function () {\n    var _this = this;\n\n    var afterConfig = this.config.after;\n\n    if (!afterConfig) {\n      return [];\n    }\n\n    var mutateEntryExit = function (delay, i) {\n      var delayRef = isFunction(delay) ? \"\".concat(_this.id, \":delay[\").concat(i, \"]\") : delay;\n      var eventType = after(delayRef, _this.id);\n\n      _this.onEntry.push(send(eventType, {\n        delay: delay\n      }));\n\n      _this.onExit.push(cancel(eventType));\n\n      return eventType;\n    };\n\n    var delayedTransitions = isArray(afterConfig) ? afterConfig.map(function (transition, i) {\n      var eventType = mutateEntryExit(transition.delay, i);\n      return __assign(__assign({}, transition), {\n        event: eventType\n      });\n    }) : flatten(Object.keys(afterConfig).map(function (delay, i) {\n      var configTransition = afterConfig[delay];\n      var resolvedTransition = isString(configTransition) ? {\n        target: configTransition\n      } : configTransition;\n      var resolvedDelay = !isNaN(+delay) ? +delay : delay;\n      var eventType = mutateEntryExit(resolvedDelay, i);\n      return toArray(resolvedTransition).map(function (transition) {\n        return __assign(__assign({}, transition), {\n          event: eventType,\n          delay: resolvedDelay\n        });\n      });\n    }));\n    return delayedTransitions.map(function (delayedTransition) {\n      var delay = delayedTransition.delay;\n      return __assign(__assign({}, _this.formatTransition(delayedTransition)), {\n        delay: delay\n      });\n    });\n  };\n  /**\r\n   * Returns the state nodes represented by the current state value.\r\n   *\r\n   * @param state The state value or State instance\r\n   */\n\n\n  StateNode.prototype.getStateNodes = function (state) {\n    var _a;\n\n    var _this = this;\n\n    if (!state) {\n      return [];\n    }\n\n    var stateValue = state instanceof State ? state.value : toStateValue(state, this.delimiter);\n\n    if (isString(stateValue)) {\n      var initialStateValue = this.getStateNode(stateValue).initial;\n      return initialStateValue !== undefined ? this.getStateNodes((_a = {}, _a[stateValue] = initialStateValue, _a)) : [this, this.states[stateValue]];\n    }\n\n    var subStateKeys = Object.keys(stateValue);\n    var subStateNodes = [this];\n    subStateNodes.push.apply(subStateNodes, __spreadArray([], __read(flatten(subStateKeys.map(function (subStateKey) {\n      return _this.getStateNode(subStateKey).getStateNodes(stateValue[subStateKey]);\n    }))), false));\n    return subStateNodes;\n  };\n  /**\r\n   * Returns `true` if this state node explicitly handles the given event.\r\n   *\r\n   * @param event The event in question\r\n   */\n\n\n  StateNode.prototype.handles = function (event) {\n    var eventType = getEventType(event);\n    return this.events.includes(eventType);\n  };\n  /**\r\n   * Resolves the given `state` to a new `State` instance relative to this machine.\r\n   *\r\n   * This ensures that `.events` and `.nextEvents` represent the correct values.\r\n   *\r\n   * @param state The state to resolve\r\n   */\n\n\n  StateNode.prototype.resolveState = function (state) {\n    var stateFromConfig = state instanceof State ? state : State.create(state);\n    var configuration = Array.from(getConfiguration([], this.getStateNodes(stateFromConfig.value)));\n    return new State(__assign(__assign({}, stateFromConfig), {\n      value: this.resolve(stateFromConfig.value),\n      configuration: configuration,\n      done: isInFinalState(configuration, this),\n      tags: getTagsFromConfiguration(configuration),\n      machine: this.machine\n    }));\n  };\n\n  StateNode.prototype.transitionLeafNode = function (stateValue, state, _event) {\n    var stateNode = this.getStateNode(stateValue);\n    var next = stateNode.next(state, _event);\n\n    if (!next || !next.transitions.length) {\n      return this.next(state, _event);\n    }\n\n    return next;\n  };\n\n  StateNode.prototype.transitionCompoundNode = function (stateValue, state, _event) {\n    var subStateKeys = Object.keys(stateValue);\n    var stateNode = this.getStateNode(subStateKeys[0]);\n\n    var next = stateNode._transition(stateValue[subStateKeys[0]], state, _event);\n\n    if (!next || !next.transitions.length) {\n      return this.next(state, _event);\n    }\n\n    return next;\n  };\n\n  StateNode.prototype.transitionParallelNode = function (stateValue, state, _event) {\n    var e_2, _a;\n\n    var transitionMap = {};\n\n    try {\n      for (var _b = __values(Object.keys(stateValue)), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var subStateKey = _c.value;\n        var subStateValue = stateValue[subStateKey];\n\n        if (!subStateValue) {\n          continue;\n        }\n\n        var subStateNode = this.getStateNode(subStateKey);\n\n        var next = subStateNode._transition(subStateValue, state, _event);\n\n        if (next) {\n          transitionMap[subStateKey] = next;\n        }\n      }\n    } catch (e_2_1) {\n      e_2 = {\n        error: e_2_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_2) throw e_2.error;\n      }\n    }\n\n    var stateTransitions = Object.keys(transitionMap).map(function (key) {\n      return transitionMap[key];\n    });\n    var enabledTransitions = flatten(stateTransitions.map(function (st) {\n      return st.transitions;\n    }));\n    var willTransition = stateTransitions.some(function (st) {\n      return st.transitions.length > 0;\n    });\n\n    if (!willTransition) {\n      return this.next(state, _event);\n    }\n\n    var configuration = flatten(Object.keys(transitionMap).map(function (key) {\n      return transitionMap[key].configuration;\n    }));\n    return {\n      transitions: enabledTransitions,\n      exitSet: flatten(stateTransitions.map(function (t) {\n        return t.exitSet;\n      })),\n      configuration: configuration,\n      source: state,\n      actions: flatten(Object.keys(transitionMap).map(function (key) {\n        return transitionMap[key].actions;\n      }))\n    };\n  };\n\n  StateNode.prototype._transition = function (stateValue, state, _event) {\n    // leaf node\n    if (isString(stateValue)) {\n      return this.transitionLeafNode(stateValue, state, _event);\n    } // hierarchical node\n\n\n    if (Object.keys(stateValue).length === 1) {\n      return this.transitionCompoundNode(stateValue, state, _event);\n    } // orthogonal node\n\n\n    return this.transitionParallelNode(stateValue, state, _event);\n  };\n\n  StateNode.prototype.getTransitionData = function (state, event) {\n    return this._transition(state.value, state, toSCXMLEvent(event));\n  };\n\n  StateNode.prototype.next = function (state, _event) {\n    var e_3, _a;\n\n    var _this = this;\n\n    var eventName = _event.name;\n    var actions = [];\n    var nextStateNodes = [];\n    var selectedTransition;\n\n    try {\n      for (var _b = __values(this.getCandidates(eventName)), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var candidate = _c.value;\n        var cond = candidate.cond,\n            stateIn = candidate.in;\n        var resolvedContext = state.context;\n        var isInState = stateIn ? isString(stateIn) && isStateId(stateIn) ? // Check if in state by ID\n        state.matches(toStateValue(this.getStateNodeById(stateIn).path, this.delimiter)) : // Check if in state by relative grandparent\n        matchesState(toStateValue(stateIn, this.delimiter), path(this.path.slice(0, -2))(state.value)) : true;\n        var guardPassed = false;\n\n        try {\n          guardPassed = !cond || evaluateGuard(this.machine, cond, resolvedContext, _event, state);\n        } catch (err) {\n          throw new Error(\"Unable to evaluate guard '\".concat(cond.name || cond.type, \"' in transition for event '\").concat(eventName, \"' in state node '\").concat(this.id, \"':\\n\").concat(err.message));\n        }\n\n        if (guardPassed && isInState) {\n          if (candidate.target !== undefined) {\n            nextStateNodes = candidate.target;\n          }\n\n          actions.push.apply(actions, __spreadArray([], __read(candidate.actions), false));\n          selectedTransition = candidate;\n          break;\n        }\n      }\n    } catch (e_3_1) {\n      e_3 = {\n        error: e_3_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_3) throw e_3.error;\n      }\n    }\n\n    if (!selectedTransition) {\n      return undefined;\n    }\n\n    if (!nextStateNodes.length) {\n      return {\n        transitions: [selectedTransition],\n        exitSet: [],\n        configuration: state.value ? [this] : [],\n        source: state,\n        actions: actions\n      };\n    }\n\n    var allNextStateNodes = flatten(nextStateNodes.map(function (stateNode) {\n      return _this.getRelativeStateNodes(stateNode, state.historyValue);\n    }));\n    var isInternal = !!selectedTransition.internal;\n    return {\n      transitions: [selectedTransition],\n      exitSet: isInternal ? [] : flatten(nextStateNodes.map(function (targetNode) {\n        return _this.getPotentiallyReenteringNodes(targetNode);\n      })),\n      configuration: allNextStateNodes,\n      source: state,\n      actions: actions\n    };\n  }; // even though the name of this function mentions reentry nodes\n  // we are pushing its result into `exitSet`\n  // that's because what we exit might be reentered (it's an invariant of reentrancy)\n\n\n  StateNode.prototype.getPotentiallyReenteringNodes = function (targetNode) {\n    if (this.order < targetNode.order) {\n      return [this];\n    }\n\n    var nodes = [];\n    var marker = this;\n    var possibleAncestor = targetNode;\n\n    while (marker && marker !== possibleAncestor) {\n      nodes.push(marker);\n      marker = marker.parent;\n    }\n\n    if (marker !== possibleAncestor) {\n      // we never got to `possibleAncestor`, therefore the initial `marker` \"escapes\" it\n      // it's in a different part of the tree so no states will be reentered for such an external transition\n      return [];\n    }\n\n    nodes.push(possibleAncestor);\n    return nodes;\n  };\n\n  StateNode.prototype.getActions = function (resolvedConfig, isDone, transition, currentContext, _event, prevState, predictableExec) {\n    var e_4, _a, e_5, _b;\n\n    var _this = this;\n\n    var prevConfig = prevState ? getConfiguration([], this.getStateNodes(prevState.value)) : [];\n    var entrySet = new Set();\n\n    try {\n      for (var _c = __values(Array.from(resolvedConfig).sort(function (a, b) {\n        return a.order - b.order;\n      })), _d = _c.next(); !_d.done; _d = _c.next()) {\n        var sn = _d.value;\n\n        if (!has(prevConfig, sn) || has(transition.exitSet, sn) || sn.parent && entrySet.has(sn.parent)) {\n          entrySet.add(sn);\n        }\n      }\n    } catch (e_4_1) {\n      e_4 = {\n        error: e_4_1\n      };\n    } finally {\n      try {\n        if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n      } finally {\n        if (e_4) throw e_4.error;\n      }\n    }\n\n    try {\n      for (var prevConfig_1 = __values(prevConfig), prevConfig_1_1 = prevConfig_1.next(); !prevConfig_1_1.done; prevConfig_1_1 = prevConfig_1.next()) {\n        var sn = prevConfig_1_1.value;\n\n        if (!has(resolvedConfig, sn) || has(transition.exitSet, sn.parent)) {\n          transition.exitSet.push(sn);\n        }\n      }\n    } catch (e_5_1) {\n      e_5 = {\n        error: e_5_1\n      };\n    } finally {\n      try {\n        if (prevConfig_1_1 && !prevConfig_1_1.done && (_b = prevConfig_1.return)) _b.call(prevConfig_1);\n      } finally {\n        if (e_5) throw e_5.error;\n      }\n    }\n\n    transition.exitSet.sort(function (a, b) {\n      return b.order - a.order;\n    });\n    var entryStates = Array.from(entrySet).sort(function (a, b) {\n      return a.order - b.order;\n    });\n    var exitStates = new Set(transition.exitSet);\n    var doneEvents = flatten(entryStates.map(function (sn) {\n      var events = [];\n\n      if (sn.type !== 'final') {\n        return events;\n      }\n\n      var parent = sn.parent;\n\n      if (!parent.parent) {\n        return events;\n      }\n\n      events.push(done(sn.id, sn.doneData), // TODO: deprecate - final states should not emit done events for their own state.\n      done(parent.id, sn.doneData ? mapContext(sn.doneData, currentContext, _event) : undefined));\n      var grandparent = parent.parent;\n\n      if (grandparent.type === 'parallel') {\n        if (getChildren(grandparent).every(function (parentNode) {\n          return isInFinalState(transition.configuration, parentNode);\n        })) {\n          events.push(done(grandparent.id));\n        }\n      }\n\n      return events;\n    }));\n    var entryActions = entryStates.map(function (stateNode) {\n      var entryActions = stateNode.onEntry;\n      var invokeActions = stateNode.activities.map(function (activity) {\n        return start(activity);\n      });\n      return {\n        type: 'entry',\n        actions: toActionObjects(predictableExec ? __spreadArray(__spreadArray([], __read(entryActions), false), __read(invokeActions), false) : __spreadArray(__spreadArray([], __read(invokeActions), false), __read(entryActions), false), _this.machine.options.actions)\n      };\n    }).concat({\n      type: 'state_done',\n      actions: doneEvents.map(function (event) {\n        return raise(event);\n      })\n    });\n    var exitActions = Array.from(exitStates).map(function (stateNode) {\n      return {\n        type: 'exit',\n        actions: toActionObjects(__spreadArray(__spreadArray([], __read(stateNode.onExit), false), __read(stateNode.activities.map(function (activity) {\n          return stop(activity);\n        })), false), _this.machine.options.actions)\n      };\n    });\n    var actions = exitActions.concat({\n      type: 'transition',\n      actions: toActionObjects(transition.actions, this.machine.options.actions)\n    }).concat(entryActions);\n\n    if (isDone) {\n      var stopActions = toActionObjects(flatten(__spreadArray([], __read(resolvedConfig), false).sort(function (a, b) {\n        return b.order - a.order;\n      }).map(function (stateNode) {\n        return stateNode.onExit;\n      })), this.machine.options.actions).filter(function (action) {\n        return !isRaisableAction(action);\n      });\n      return actions.concat({\n        type: 'stop',\n        actions: stopActions\n      });\n    }\n\n    return actions;\n  };\n  /**\r\n   * Determines the next state given the current `state` and sent `event`.\r\n   *\r\n   * @param state The current State instance or state value\r\n   * @param event The event that was sent at the current state\r\n   * @param context The current context (extended state) of the current state\r\n   */\n\n\n  StateNode.prototype.transition = function (state, event, context, exec) {\n    if (state === void 0) {\n      state = this.initialState;\n    }\n\n    var _event = toSCXMLEvent(event);\n\n    var currentState;\n\n    if (state instanceof State) {\n      currentState = context === undefined ? state : this.resolveState(State.from(state, context));\n    } else {\n      var resolvedStateValue = isString(state) ? this.resolve(pathToStateValue(this.getResolvedPath(state))) : this.resolve(state);\n      var resolvedContext = context !== null && context !== void 0 ? context : this.machine.context;\n      currentState = this.resolveState(State.from(resolvedStateValue, resolvedContext));\n    }\n\n    if (!IS_PRODUCTION && _event.name === WILDCARD) {\n      throw new Error(\"An event cannot have the wildcard type ('\".concat(WILDCARD, \"')\"));\n    }\n\n    if (this.strict) {\n      if (!this.events.includes(_event.name) && !isBuiltInEvent(_event.name)) {\n        throw new Error(\"Machine '\".concat(this.id, \"' does not accept event '\").concat(_event.name, \"'\"));\n      }\n    }\n\n    var stateTransition = this._transition(currentState.value, currentState, _event) || {\n      transitions: [],\n      configuration: [],\n      exitSet: [],\n      source: currentState,\n      actions: []\n    };\n    var prevConfig = getConfiguration([], this.getStateNodes(currentState.value));\n    var resolvedConfig = stateTransition.configuration.length ? getConfiguration(prevConfig, stateTransition.configuration) : prevConfig;\n    stateTransition.configuration = __spreadArray([], __read(resolvedConfig), false);\n    return this.resolveTransition(stateTransition, currentState, currentState.context, exec, _event);\n  };\n\n  StateNode.prototype.resolveRaisedTransition = function (state, _event, originalEvent, predictableExec) {\n    var _a;\n\n    var currentActions = state.actions;\n    state = this.transition(state, _event, undefined, predictableExec); // Save original event to state\n    // TODO: this should be the raised event! Delete in V5 (breaking)\n\n    state._event = originalEvent;\n    state.event = originalEvent.data;\n\n    (_a = state.actions).unshift.apply(_a, __spreadArray([], __read(currentActions), false));\n\n    return state;\n  };\n\n  StateNode.prototype.resolveTransition = function (stateTransition, currentState, context, predictableExec, _event) {\n    var e_6, _a, e_7, _b;\n\n    var _this = this;\n\n    if (_event === void 0) {\n      _event = initEvent;\n    }\n\n    var configuration = stateTransition.configuration; // Transition will \"apply\" if:\n    // - this is the initial state (there is no current state)\n    // - OR there are transitions\n\n    var willTransition = !currentState || stateTransition.transitions.length > 0;\n    var resolvedConfiguration = willTransition ? stateTransition.configuration : currentState ? currentState.configuration : [];\n    var isDone = isInFinalState(resolvedConfiguration, this);\n    var resolvedStateValue = willTransition ? getValue(this.machine, configuration) : undefined;\n    var historyValue = currentState ? currentState.historyValue ? currentState.historyValue : stateTransition.source ? this.machine.historyValue(currentState.value) : undefined : undefined;\n    var actionBlocks = this.getActions(new Set(resolvedConfiguration), isDone, stateTransition, context, _event, currentState, predictableExec);\n    var activities = currentState ? __assign({}, currentState.activities) : {};\n\n    try {\n      for (var actionBlocks_1 = __values(actionBlocks), actionBlocks_1_1 = actionBlocks_1.next(); !actionBlocks_1_1.done; actionBlocks_1_1 = actionBlocks_1.next()) {\n        var block = actionBlocks_1_1.value;\n\n        try {\n          for (var _c = (e_7 = void 0, __values(block.actions)), _d = _c.next(); !_d.done; _d = _c.next()) {\n            var action = _d.value;\n\n            if (action.type === start$1) {\n              activities[action.activity.id || action.activity.type] = action;\n            } else if (action.type === stop$1) {\n              activities[action.activity.id || action.activity.type] = false;\n            }\n          }\n        } catch (e_7_1) {\n          e_7 = {\n            error: e_7_1\n          };\n        } finally {\n          try {\n            if (_d && !_d.done && (_b = _c.return)) _b.call(_c);\n          } finally {\n            if (e_7) throw e_7.error;\n          }\n        }\n      }\n    } catch (e_6_1) {\n      e_6 = {\n        error: e_6_1\n      };\n    } finally {\n      try {\n        if (actionBlocks_1_1 && !actionBlocks_1_1.done && (_a = actionBlocks_1.return)) _a.call(actionBlocks_1);\n      } finally {\n        if (e_6) throw e_6.error;\n      }\n    }\n\n    var _e = __read(resolveActions(this, currentState, context, _event, actionBlocks, predictableExec, this.machine.config.predictableActionArguments || this.machine.config.preserveActionOrder), 2),\n        resolvedActions = _e[0],\n        updatedContext = _e[1];\n\n    var _f = __read(partition(resolvedActions, isRaisableAction), 2),\n        raisedEvents = _f[0],\n        nonRaisedActions = _f[1];\n\n    var invokeActions = resolvedActions.filter(function (action) {\n      var _a;\n\n      return action.type === start$1 && ((_a = action.activity) === null || _a === void 0 ? void 0 : _a.type) === invoke;\n    });\n    var children = invokeActions.reduce(function (acc, action) {\n      acc[action.activity.id] = createInvocableActor(action.activity, _this.machine, updatedContext, _event);\n      return acc;\n    }, currentState ? __assign({}, currentState.children) : {});\n    var nextState = new State({\n      value: resolvedStateValue || currentState.value,\n      context: updatedContext,\n      _event: _event,\n      // Persist _sessionid between states\n      _sessionid: currentState ? currentState._sessionid : null,\n      historyValue: resolvedStateValue ? historyValue ? updateHistoryValue(historyValue, resolvedStateValue) : undefined : currentState ? currentState.historyValue : undefined,\n      history: !resolvedStateValue || stateTransition.source ? currentState : undefined,\n      actions: resolvedStateValue ? nonRaisedActions : [],\n      activities: resolvedStateValue ? activities : currentState ? currentState.activities : {},\n      events: [],\n      configuration: resolvedConfiguration,\n      transitions: stateTransition.transitions,\n      children: children,\n      done: isDone,\n      tags: getTagsFromConfiguration(resolvedConfiguration),\n      machine: this\n    });\n    var didUpdateContext = context !== updatedContext;\n    nextState.changed = _event.name === update || didUpdateContext; // Dispose of penultimate histories to prevent memory leaks\n\n    var history = nextState.history;\n\n    if (history) {\n      delete history.history;\n    } // There are transient transitions if the machine is not in a final state\n    // and if some of the state nodes have transient (\"always\") transitions.\n\n\n    var hasAlwaysTransitions = !isDone && (this._transient || configuration.some(function (stateNode) {\n      return stateNode._transient;\n    })); // If there are no enabled transitions, check if there are transient transitions.\n    // If there are transient transitions, continue checking for more transitions\n    // because an transient transition should be triggered even if there are no\n    // enabled transitions.\n    //\n    // If we're already working on an transient transition then stop to prevent an infinite loop.\n    //\n    // Otherwise, if there are no enabled nor transient transitions, we are done.\n\n    if (!willTransition && (!hasAlwaysTransitions || _event.name === NULL_EVENT)) {\n      return nextState;\n    }\n\n    var maybeNextState = nextState;\n\n    if (!isDone) {\n      if (hasAlwaysTransitions) {\n        maybeNextState = this.resolveRaisedTransition(maybeNextState, {\n          type: nullEvent\n        }, _event, predictableExec);\n      }\n\n      while (raisedEvents.length) {\n        var raisedEvent = raisedEvents.shift();\n        maybeNextState = this.resolveRaisedTransition(maybeNextState, raisedEvent._event, _event, predictableExec);\n      }\n    } // Detect if state changed\n\n\n    var changed = maybeNextState.changed || (history ? !!maybeNextState.actions.length || didUpdateContext || typeof history.value !== typeof maybeNextState.value || !stateValuesEqual(maybeNextState.value, history.value) : undefined);\n    maybeNextState.changed = changed; // Preserve original history after raised events\n\n    maybeNextState.history = history;\n    return maybeNextState;\n  };\n  /**\r\n   * Returns the child state node from its relative `stateKey`, or throws.\r\n   */\n\n\n  StateNode.prototype.getStateNode = function (stateKey) {\n    if (isStateId(stateKey)) {\n      return this.machine.getStateNodeById(stateKey);\n    }\n\n    if (!this.states) {\n      throw new Error(\"Unable to retrieve child state '\".concat(stateKey, \"' from '\").concat(this.id, \"'; no child states exist.\"));\n    }\n\n    var result = this.states[stateKey];\n\n    if (!result) {\n      throw new Error(\"Child state '\".concat(stateKey, \"' does not exist on '\").concat(this.id, \"'\"));\n    }\n\n    return result;\n  };\n  /**\r\n   * Returns the state node with the given `stateId`, or throws.\r\n   *\r\n   * @param stateId The state ID. The prefix \"#\" is removed.\r\n   */\n\n\n  StateNode.prototype.getStateNodeById = function (stateId) {\n    var resolvedStateId = isStateId(stateId) ? stateId.slice(STATE_IDENTIFIER.length) : stateId;\n\n    if (resolvedStateId === this.id) {\n      return this;\n    }\n\n    var stateNode = this.machine.idMap[resolvedStateId];\n\n    if (!stateNode) {\n      throw new Error(\"Child state node '#\".concat(resolvedStateId, \"' does not exist on machine '\").concat(this.id, \"'\"));\n    }\n\n    return stateNode;\n  };\n  /**\r\n   * Returns the relative state node from the given `statePath`, or throws.\r\n   *\r\n   * @param statePath The string or string array relative path to the state node.\r\n   */\n\n\n  StateNode.prototype.getStateNodeByPath = function (statePath) {\n    if (typeof statePath === 'string' && isStateId(statePath)) {\n      try {\n        return this.getStateNodeById(statePath.slice(1));\n      } catch (e) {// try individual paths\n        // throw e;\n      }\n    }\n\n    var arrayStatePath = toStatePath(statePath, this.delimiter).slice();\n    var currentStateNode = this;\n\n    while (arrayStatePath.length) {\n      var key = arrayStatePath.shift();\n\n      if (!key.length) {\n        break;\n      }\n\n      currentStateNode = currentStateNode.getStateNode(key);\n    }\n\n    return currentStateNode;\n  };\n  /**\r\n   * Resolves a partial state value with its full representation in this machine.\r\n   *\r\n   * @param stateValue The partial state value to resolve.\r\n   */\n\n\n  StateNode.prototype.resolve = function (stateValue) {\n    var _a;\n\n    var _this = this;\n\n    if (!stateValue) {\n      return this.initialStateValue || EMPTY_OBJECT; // TODO: type-specific properties\n    }\n\n    switch (this.type) {\n      case 'parallel':\n        return mapValues(this.initialStateValue, function (subStateValue, subStateKey) {\n          return subStateValue ? _this.getStateNode(subStateKey).resolve(stateValue[subStateKey] || subStateValue) : EMPTY_OBJECT;\n        });\n\n      case 'compound':\n        if (isString(stateValue)) {\n          var subStateNode = this.getStateNode(stateValue);\n\n          if (subStateNode.type === 'parallel' || subStateNode.type === 'compound') {\n            return _a = {}, _a[stateValue] = subStateNode.initialStateValue, _a;\n          }\n\n          return stateValue;\n        }\n\n        if (!Object.keys(stateValue).length) {\n          return this.initialStateValue || {};\n        }\n\n        return mapValues(stateValue, function (subStateValue, subStateKey) {\n          return subStateValue ? _this.getStateNode(subStateKey).resolve(subStateValue) : EMPTY_OBJECT;\n        });\n\n      default:\n        return stateValue || EMPTY_OBJECT;\n    }\n  };\n\n  StateNode.prototype.getResolvedPath = function (stateIdentifier) {\n    if (isStateId(stateIdentifier)) {\n      var stateNode = this.machine.idMap[stateIdentifier.slice(STATE_IDENTIFIER.length)];\n\n      if (!stateNode) {\n        throw new Error(\"Unable to find state node '\".concat(stateIdentifier, \"'\"));\n      }\n\n      return stateNode.path;\n    }\n\n    return toStatePath(stateIdentifier, this.delimiter);\n  };\n\n  Object.defineProperty(StateNode.prototype, \"initialStateValue\", {\n    get: function () {\n      var _a;\n\n      if (this.__cache.initialStateValue) {\n        return this.__cache.initialStateValue;\n      }\n\n      var initialStateValue;\n\n      if (this.type === 'parallel') {\n        initialStateValue = mapFilterValues(this.states, function (state) {\n          return state.initialStateValue || EMPTY_OBJECT;\n        }, function (stateNode) {\n          return !(stateNode.type === 'history');\n        });\n      } else if (this.initial !== undefined) {\n        if (!this.states[this.initial]) {\n          throw new Error(\"Initial state '\".concat(this.initial, \"' not found on '\").concat(this.key, \"'\"));\n        }\n\n        initialStateValue = isLeafNode(this.states[this.initial]) ? this.initial : (_a = {}, _a[this.initial] = this.states[this.initial].initialStateValue, _a);\n      } else {\n        // The finite state value of a machine without child states is just an empty object\n        initialStateValue = {};\n      }\n\n      this.__cache.initialStateValue = initialStateValue;\n      return this.__cache.initialStateValue;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  StateNode.prototype.getInitialState = function (stateValue, context) {\n    this._init(); // TODO: this should be in the constructor (see note in constructor)\n\n\n    var configuration = this.getStateNodes(stateValue);\n    return this.resolveTransition({\n      configuration: configuration,\n      exitSet: [],\n      transitions: [],\n      source: undefined,\n      actions: []\n    }, undefined, context !== null && context !== void 0 ? context : this.machine.context, undefined);\n  };\n\n  Object.defineProperty(StateNode.prototype, \"initialState\", {\n    /**\r\n     * The initial State instance, which includes all actions to be executed from\r\n     * entering the initial state.\r\n     */\n    get: function () {\n      var initialStateValue = this.initialStateValue;\n\n      if (!initialStateValue) {\n        throw new Error(\"Cannot retrieve initial state from simple state '\".concat(this.id, \"'.\"));\n      }\n\n      return this.getInitialState(initialStateValue);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(StateNode.prototype, \"target\", {\n    /**\r\n     * The target state value of the history state node, if it exists. This represents the\r\n     * default state value to transition to if no history value exists yet.\r\n     */\n    get: function () {\n      var target;\n\n      if (this.type === 'history') {\n        var historyConfig = this.config;\n\n        if (isString(historyConfig.target)) {\n          target = isStateId(historyConfig.target) ? pathToStateValue(this.machine.getStateNodeById(historyConfig.target).path.slice(this.path.length - 1)) : historyConfig.target;\n        } else {\n          target = historyConfig.target;\n        }\n      }\n\n      return target;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  /**\r\n   * Returns the leaf nodes from a state path relative to this state node.\r\n   *\r\n   * @param relativeStateId The relative state path to retrieve the state nodes\r\n   * @param history The previous state to retrieve history\r\n   * @param resolve Whether state nodes should resolve to initial child state nodes\r\n   */\n\n  StateNode.prototype.getRelativeStateNodes = function (relativeStateId, historyValue, resolve) {\n    if (resolve === void 0) {\n      resolve = true;\n    }\n\n    return resolve ? relativeStateId.type === 'history' ? relativeStateId.resolveHistory(historyValue) : relativeStateId.initialStateNodes : [relativeStateId];\n  };\n\n  Object.defineProperty(StateNode.prototype, \"initialStateNodes\", {\n    get: function () {\n      var _this = this;\n\n      if (isLeafNode(this)) {\n        return [this];\n      } // Case when state node is compound but no initial state is defined\n\n\n      if (this.type === 'compound' && !this.initial) {\n        if (!IS_PRODUCTION) {\n          warn(false, \"Compound state node '\".concat(this.id, \"' has no initial state.\"));\n        }\n\n        return [this];\n      }\n\n      var initialStateNodePaths = toStatePaths(this.initialStateValue);\n      return flatten(initialStateNodePaths.map(function (initialPath) {\n        return _this.getFromRelativePath(initialPath);\n      }));\n    },\n    enumerable: false,\n    configurable: true\n  });\n  /**\r\n   * Retrieves state nodes from a relative path to this state node.\r\n   *\r\n   * @param relativePath The relative path from this state node\r\n   * @param historyValue\r\n   */\n\n  StateNode.prototype.getFromRelativePath = function (relativePath) {\n    if (!relativePath.length) {\n      return [this];\n    }\n\n    var _a = __read(relativePath),\n        stateKey = _a[0],\n        childStatePath = _a.slice(1);\n\n    if (!this.states) {\n      throw new Error(\"Cannot retrieve subPath '\".concat(stateKey, \"' from node with no states\"));\n    }\n\n    var childStateNode = this.getStateNode(stateKey);\n\n    if (childStateNode.type === 'history') {\n      return childStateNode.resolveHistory();\n    }\n\n    if (!this.states[stateKey]) {\n      throw new Error(\"Child state '\".concat(stateKey, \"' does not exist on '\").concat(this.id, \"'\"));\n    }\n\n    return this.states[stateKey].getFromRelativePath(childStatePath);\n  };\n\n  StateNode.prototype.historyValue = function (relativeStateValue) {\n    if (!Object.keys(this.states).length) {\n      return undefined;\n    }\n\n    return {\n      current: relativeStateValue || this.initialStateValue,\n      states: mapFilterValues(this.states, function (stateNode, key) {\n        if (!relativeStateValue) {\n          return stateNode.historyValue();\n        }\n\n        var subStateValue = isString(relativeStateValue) ? undefined : relativeStateValue[key];\n        return stateNode.historyValue(subStateValue || stateNode.initialStateValue);\n      }, function (stateNode) {\n        return !stateNode.history;\n      })\n    };\n  };\n  /**\r\n   * Resolves to the historical value(s) of the parent state node,\r\n   * represented by state nodes.\r\n   *\r\n   * @param historyValue\r\n   */\n\n\n  StateNode.prototype.resolveHistory = function (historyValue) {\n    var _this = this;\n\n    if (this.type !== 'history') {\n      return [this];\n    }\n\n    var parent = this.parent;\n\n    if (!historyValue) {\n      var historyTarget = this.target;\n      return historyTarget ? flatten(toStatePaths(historyTarget).map(function (relativeChildPath) {\n        return parent.getFromRelativePath(relativeChildPath);\n      })) : parent.initialStateNodes;\n    }\n\n    var subHistoryValue = nestedPath(parent.path, 'states')(historyValue).current;\n\n    if (isString(subHistoryValue)) {\n      return [parent.getStateNode(subHistoryValue)];\n    }\n\n    return flatten(toStatePaths(subHistoryValue).map(function (subStatePath) {\n      return _this.history === 'deep' ? parent.getFromRelativePath(subStatePath) : [parent.states[subStatePath[0]]];\n    }));\n  };\n\n  Object.defineProperty(StateNode.prototype, \"stateIds\", {\n    /**\r\n     * All the state node IDs of this state node and its descendant state nodes.\r\n     */\n    get: function () {\n      var _this = this;\n\n      var childStateIds = flatten(Object.keys(this.states).map(function (stateKey) {\n        return _this.states[stateKey].stateIds;\n      }));\n      return [this.id].concat(childStateIds);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(StateNode.prototype, \"events\", {\n    /**\r\n     * All the event types accepted by this state node and its descendants.\r\n     */\n    get: function () {\n      var e_8, _a, e_9, _b;\n\n      if (this.__cache.events) {\n        return this.__cache.events;\n      }\n\n      var states = this.states;\n      var events = new Set(this.ownEvents);\n\n      if (states) {\n        try {\n          for (var _c = __values(Object.keys(states)), _d = _c.next(); !_d.done; _d = _c.next()) {\n            var stateId = _d.value;\n            var state = states[stateId];\n\n            if (state.states) {\n              try {\n                for (var _e = (e_9 = void 0, __values(state.events)), _f = _e.next(); !_f.done; _f = _e.next()) {\n                  var event_1 = _f.value;\n                  events.add(\"\".concat(event_1));\n                }\n              } catch (e_9_1) {\n                e_9 = {\n                  error: e_9_1\n                };\n              } finally {\n                try {\n                  if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n                } finally {\n                  if (e_9) throw e_9.error;\n                }\n              }\n            }\n          }\n        } catch (e_8_1) {\n          e_8 = {\n            error: e_8_1\n          };\n        } finally {\n          try {\n            if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n          } finally {\n            if (e_8) throw e_8.error;\n          }\n        }\n      }\n\n      return this.__cache.events = Array.from(events);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(StateNode.prototype, \"ownEvents\", {\n    /**\r\n     * All the events that have transitions directly from this state node.\r\n     *\r\n     * Excludes any inert events.\r\n     */\n    get: function () {\n      var events = new Set(this.transitions.filter(function (transition) {\n        return !(!transition.target && !transition.actions.length && transition.internal);\n      }).map(function (transition) {\n        return transition.eventType;\n      }));\n      return Array.from(events);\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  StateNode.prototype.resolveTarget = function (_target) {\n    var _this = this;\n\n    if (_target === undefined) {\n      // an undefined target signals that the state node should not transition from that state when receiving that event\n      return undefined;\n    }\n\n    return _target.map(function (target) {\n      if (!isString(target)) {\n        return target;\n      }\n\n      var isInternalTarget = target[0] === _this.delimiter; // If internal target is defined on machine,\n      // do not include machine key on target\n\n      if (isInternalTarget && !_this.parent) {\n        return _this.getStateNodeByPath(target.slice(1));\n      }\n\n      var resolvedTarget = isInternalTarget ? _this.key + target : target;\n\n      if (_this.parent) {\n        try {\n          var targetStateNode = _this.parent.getStateNodeByPath(resolvedTarget);\n\n          return targetStateNode;\n        } catch (err) {\n          throw new Error(\"Invalid transition definition for state node '\".concat(_this.id, \"':\\n\").concat(err.message));\n        }\n      } else {\n        return _this.getStateNodeByPath(resolvedTarget);\n      }\n    });\n  };\n\n  StateNode.prototype.formatTransition = function (transitionConfig) {\n    var _this = this;\n\n    var normalizedTarget = normalizeTarget(transitionConfig.target);\n    var internal = 'internal' in transitionConfig ? transitionConfig.internal : normalizedTarget ? normalizedTarget.some(function (_target) {\n      return isString(_target) && _target[0] === _this.delimiter;\n    }) : true;\n    var guards = this.machine.options.guards;\n    var target = this.resolveTarget(normalizedTarget);\n\n    var transition = __assign(__assign({}, transitionConfig), {\n      actions: toActionObjects(toArray(transitionConfig.actions)),\n      cond: toGuard(transitionConfig.cond, guards),\n      target: target,\n      source: this,\n      internal: internal,\n      eventType: transitionConfig.event,\n      toJSON: function () {\n        return __assign(__assign({}, transition), {\n          target: transition.target ? transition.target.map(function (t) {\n            return \"#\".concat(t.id);\n          }) : undefined,\n          source: \"#\".concat(_this.id)\n        });\n      }\n    });\n\n    return transition;\n  };\n\n  StateNode.prototype.formatTransitions = function () {\n    var e_10, _a;\n\n    var _this = this;\n\n    var onConfig;\n\n    if (!this.config.on) {\n      onConfig = [];\n    } else if (Array.isArray(this.config.on)) {\n      onConfig = this.config.on;\n    } else {\n      var _b = this.config.on,\n          _c = WILDCARD,\n          _d = _b[_c],\n          wildcardConfigs = _d === void 0 ? [] : _d,\n          strictTransitionConfigs_1 = __rest(_b, [typeof _c === \"symbol\" ? _c : _c + \"\"]);\n\n      onConfig = flatten(Object.keys(strictTransitionConfigs_1).map(function (key) {\n        if (!IS_PRODUCTION && key === NULL_EVENT) {\n          warn(false, \"Empty string transition configs (e.g., `{ on: { '': ... }}`) for transient transitions are deprecated. Specify the transition in the `{ always: ... }` property instead. \" + \"Please check the `on` configuration for \\\"#\".concat(_this.id, \"\\\".\"));\n        }\n\n        var transitionConfigArray = toTransitionConfigArray(key, strictTransitionConfigs_1[key]);\n\n        if (!IS_PRODUCTION) {\n          validateArrayifiedTransitions(_this, key, transitionConfigArray);\n        }\n\n        return transitionConfigArray;\n      }).concat(toTransitionConfigArray(WILDCARD, wildcardConfigs)));\n    }\n\n    var eventlessConfig = this.config.always ? toTransitionConfigArray('', this.config.always) : [];\n    var doneConfig = this.config.onDone ? toTransitionConfigArray(String(done(this.id)), this.config.onDone) : [];\n\n    if (!IS_PRODUCTION) {\n      warn(!(this.config.onDone && !this.parent), \"Root nodes cannot have an \\\".onDone\\\" transition. Please check the config of \\\"\".concat(this.id, \"\\\".\"));\n    }\n\n    var invokeConfig = flatten(this.invoke.map(function (invokeDef) {\n      var settleTransitions = [];\n\n      if (invokeDef.onDone) {\n        settleTransitions.push.apply(settleTransitions, __spreadArray([], __read(toTransitionConfigArray(String(doneInvoke(invokeDef.id)), invokeDef.onDone)), false));\n      }\n\n      if (invokeDef.onError) {\n        settleTransitions.push.apply(settleTransitions, __spreadArray([], __read(toTransitionConfigArray(String(error(invokeDef.id)), invokeDef.onError)), false));\n      }\n\n      return settleTransitions;\n    }));\n    var delayedTransitions = this.after;\n    var formattedTransitions = flatten(__spreadArray(__spreadArray(__spreadArray(__spreadArray([], __read(doneConfig), false), __read(invokeConfig), false), __read(onConfig), false), __read(eventlessConfig), false).map(function (transitionConfig) {\n      return toArray(transitionConfig).map(function (transition) {\n        return _this.formatTransition(transition);\n      });\n    }));\n\n    try {\n      for (var delayedTransitions_1 = __values(delayedTransitions), delayedTransitions_1_1 = delayedTransitions_1.next(); !delayedTransitions_1_1.done; delayedTransitions_1_1 = delayedTransitions_1.next()) {\n        var delayedTransition = delayedTransitions_1_1.value;\n        formattedTransitions.push(delayedTransition);\n      }\n    } catch (e_10_1) {\n      e_10 = {\n        error: e_10_1\n      };\n    } finally {\n      try {\n        if (delayedTransitions_1_1 && !delayedTransitions_1_1.done && (_a = delayedTransitions_1.return)) _a.call(delayedTransitions_1);\n      } finally {\n        if (e_10) throw e_10.error;\n      }\n    }\n\n    return formattedTransitions;\n  };\n\n  return StateNode;\n}();\n\nexport { StateNode };\n","import { StateNode } from './StateNode.js';\nimport { IS_PRODUCTION } from './environment.js';\n\nvar warned = false;\nfunction Machine(config, options, initialContext) {\n  if (initialContext === void 0) {\n    initialContext = config.context;\n  }\n\n  return new StateNode(config, options, initialContext);\n}\nfunction createMachine(config, options) {\n  if (!IS_PRODUCTION && !('predictableActionArguments' in config) && !warned) {\n    warned = true;\n    console.warn('It is highly recommended to set `predictableActionArguments` to `true` when using `createMachine`. https://xstate.js.org/docs/guides/actions.html');\n  }\n\n  return new StateNode(config, options);\n}\n\nexport { Machine, createMachine };\n","import { __assign, __spreadArray, __read, __rest } from './_virtual/_tslib.js';\nimport { EMPTY_ACTIVITY_MAP } from './constants.js';\nimport { isString, matchesState, warn } from './utils.js';\nimport { getMeta, nextEvents } from './stateUtils.js';\nimport { initEvent } from './actions.js';\nimport { IS_PRODUCTION } from './environment.js';\n\nfunction stateValuesEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  if (a === undefined || b === undefined) {\n    return false;\n  }\n\n  if (isString(a) || isString(b)) {\n    return a === b;\n  }\n\n  var aKeys = Object.keys(a);\n  var bKeys = Object.keys(b);\n  return aKeys.length === bKeys.length && aKeys.every(function (key) {\n    return stateValuesEqual(a[key], b[key]);\n  });\n}\nfunction isStateConfig(state) {\n  if (typeof state !== 'object' || state === null) {\n    return false;\n  }\n\n  return 'value' in state && '_event' in state;\n}\n/**\r\n * @deprecated Use `isStateConfig(object)` or `state instanceof State` instead.\r\n */\n\nvar isState = isStateConfig;\nfunction bindActionToState(action, state) {\n  var exec = action.exec;\n\n  var boundAction = __assign(__assign({}, action), {\n    exec: exec !== undefined ? function () {\n      return exec(state.context, state.event, {\n        action: action,\n        state: state,\n        _event: state._event\n      });\n    } : undefined\n  });\n\n  return boundAction;\n}\n\nvar State =\n/*#__PURE__*/\n\n/** @class */\nfunction () {\n  /**\r\n   * Creates a new State instance.\r\n   * @param value The state value\r\n   * @param context The extended state\r\n   * @param historyValue The tree representing historical values of the state nodes\r\n   * @param history The previous state\r\n   * @param actions An array of action objects to execute as side-effects\r\n   * @param activities A mapping of activities and whether they are started (`true`) or stopped (`false`).\r\n   * @param meta\r\n   * @param events Internal event queue. Should be empty with run-to-completion semantics.\r\n   * @param configuration\r\n   */\n  function State(config) {\n    var _this = this;\n\n    var _a;\n\n    this.actions = [];\n    this.activities = EMPTY_ACTIVITY_MAP;\n    this.meta = {};\n    this.events = [];\n    this.value = config.value;\n    this.context = config.context;\n    this._event = config._event;\n    this._sessionid = config._sessionid;\n    this.event = this._event.data;\n    this.historyValue = config.historyValue;\n    this.history = config.history;\n    this.actions = config.actions || [];\n    this.activities = config.activities || EMPTY_ACTIVITY_MAP;\n    this.meta = getMeta(config.configuration);\n    this.events = config.events || [];\n    this.matches = this.matches.bind(this);\n    this.toStrings = this.toStrings.bind(this);\n    this.configuration = config.configuration;\n    this.transitions = config.transitions;\n    this.children = config.children;\n    this.done = !!config.done;\n    this.tags = (_a = Array.isArray(config.tags) ? new Set(config.tags) : config.tags) !== null && _a !== void 0 ? _a : new Set();\n    this.machine = config.machine;\n    Object.defineProperty(this, 'nextEvents', {\n      get: function () {\n        return nextEvents(_this.configuration);\n      }\n    });\n  }\n  /**\r\n   * Creates a new State instance for the given `stateValue` and `context`.\r\n   * @param stateValue\r\n   * @param context\r\n   */\n\n\n  State.from = function (stateValue, context) {\n    if (stateValue instanceof State) {\n      if (stateValue.context !== context) {\n        return new State({\n          value: stateValue.value,\n          context: context,\n          _event: stateValue._event,\n          _sessionid: null,\n          historyValue: stateValue.historyValue,\n          history: stateValue.history,\n          actions: [],\n          activities: stateValue.activities,\n          meta: {},\n          events: [],\n          configuration: [],\n          transitions: [],\n          children: {}\n        });\n      }\n\n      return stateValue;\n    }\n\n    var _event = initEvent;\n    return new State({\n      value: stateValue,\n      context: context,\n      _event: _event,\n      _sessionid: null,\n      historyValue: undefined,\n      history: undefined,\n      actions: [],\n      activities: undefined,\n      meta: undefined,\n      events: [],\n      configuration: [],\n      transitions: [],\n      children: {}\n    });\n  };\n  /**\r\n   * Creates a new State instance for the given `config`.\r\n   * @param config The state config\r\n   */\n\n\n  State.create = function (config) {\n    return new State(config);\n  };\n  /**\r\n   * Creates a new `State` instance for the given `stateValue` and `context` with no actions (side-effects).\r\n   * @param stateValue\r\n   * @param context\r\n   */\n\n\n  State.inert = function (stateValue, context) {\n    if (stateValue instanceof State) {\n      if (!stateValue.actions.length) {\n        return stateValue;\n      }\n\n      var _event = initEvent;\n      return new State({\n        value: stateValue.value,\n        context: context,\n        _event: _event,\n        _sessionid: null,\n        historyValue: stateValue.historyValue,\n        history: stateValue.history,\n        activities: stateValue.activities,\n        configuration: stateValue.configuration,\n        transitions: [],\n        children: {}\n      });\n    }\n\n    return State.from(stateValue, context);\n  };\n  /**\r\n   * Returns an array of all the string leaf state node paths.\r\n   * @param stateValue\r\n   * @param delimiter The character(s) that separate each subpath in the string state node path.\r\n   */\n\n\n  State.prototype.toStrings = function (stateValue, delimiter) {\n    var _this = this;\n\n    if (stateValue === void 0) {\n      stateValue = this.value;\n    }\n\n    if (delimiter === void 0) {\n      delimiter = '.';\n    }\n\n    if (isString(stateValue)) {\n      return [stateValue];\n    }\n\n    var valueKeys = Object.keys(stateValue);\n    return valueKeys.concat.apply(valueKeys, __spreadArray([], __read(valueKeys.map(function (key) {\n      return _this.toStrings(stateValue[key], delimiter).map(function (s) {\n        return key + delimiter + s;\n      });\n    })), false));\n  };\n\n  State.prototype.toJSON = function () {\n    var _a = this;\n        _a.configuration;\n        _a.transitions;\n        var tags = _a.tags;\n        _a.machine;\n        var jsonValues = __rest(_a, [\"configuration\", \"transitions\", \"tags\", \"machine\"]);\n\n    return __assign(__assign({}, jsonValues), {\n      tags: Array.from(tags)\n    });\n  };\n\n  State.prototype.matches = function (parentStateValue) {\n    return matchesState(parentStateValue, this.value);\n  };\n  /**\r\n   * Whether the current state configuration has a state node with the specified `tag`.\r\n   * @param tag\r\n   */\n\n\n  State.prototype.hasTag = function (tag) {\n    return this.tags.has(tag);\n  };\n  /**\r\n   * Determines whether sending the `event` will cause a non-forbidden transition\r\n   * to be selected, even if the transitions have no actions nor\r\n   * change the state value.\r\n   *\r\n   * @param event The event to test\r\n   * @returns Whether the event will cause a transition\r\n   */\n\n\n  State.prototype.can = function (event) {\n    var _a;\n\n    if (IS_PRODUCTION) {\n      warn(!!this.machine, \"state.can(...) used outside of a machine-created State object; this will always return false.\");\n    }\n\n    var transitionData = (_a = this.machine) === null || _a === void 0 ? void 0 : _a.getTransitionData(this, event);\n    return !!(transitionData === null || transitionData === void 0 ? void 0 : transitionData.transitions.length) && // Check that at least one transition is not forbidden\n    transitionData.transitions.some(function (t) {\n      return t.target !== undefined || t.actions.length;\n    });\n  };\n\n  return State;\n}();\n\nexport { State, bindActionToState, isState, isStateConfig, stateValuesEqual };\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nfunction __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nfunction __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nfunction __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\n\nexport { __assign, __read, __rest, __spreadArray, __values };\n","import { ActionTypes } from './types.js';\n\nvar start = ActionTypes.Start;\nvar stop = ActionTypes.Stop;\nvar raise = ActionTypes.Raise;\nvar send = ActionTypes.Send;\nvar cancel = ActionTypes.Cancel;\nvar nullEvent = ActionTypes.NullEvent;\nvar assign = ActionTypes.Assign;\nvar after = ActionTypes.After;\nvar doneState = ActionTypes.DoneState;\nvar log = ActionTypes.Log;\nvar init = ActionTypes.Init;\nvar invoke = ActionTypes.Invoke;\nvar errorExecution = ActionTypes.ErrorExecution;\nvar errorPlatform = ActionTypes.ErrorPlatform;\nvar error = ActionTypes.ErrorCustom;\nvar update = ActionTypes.Update;\nvar choose = ActionTypes.Choose;\nvar pure = ActionTypes.Pure;\n\nexport { after, assign, cancel, choose, doneState, error, errorExecution, errorPlatform, init, invoke, log, nullEvent, pure, raise, send, start, stop, update };\n","import { __assign, __spreadArray, __read, __values } from './_virtual/_tslib.js';\nimport { SpecialTargets, ActionTypes } from './types.js';\nimport { init, raise as raise$1, send as send$1, update, log as log$1, cancel as cancel$1, assign as assign$1, error as error$1, stop as stop$1, pure as pure$1, choose as choose$1 } from './actionTypes.js';\nimport * as actionTypes from './actionTypes.js';\nexport { actionTypes };\nimport { toSCXMLEvent, isString, isFunction, toEventObject, getEventType, updateContext, flatten, isArray, toArray, toGuard, evaluateGuard, warn } from './utils.js';\nimport { IS_PRODUCTION } from './environment.js';\n\nvar initEvent = /*#__PURE__*/toSCXMLEvent({\n  type: init\n});\nfunction getActionFunction(actionType, actionFunctionMap) {\n  return actionFunctionMap ? actionFunctionMap[actionType] || undefined : undefined;\n}\nfunction toActionObject(action, actionFunctionMap) {\n  var actionObject;\n\n  if (isString(action) || typeof action === 'number') {\n    var exec = getActionFunction(action, actionFunctionMap);\n\n    if (isFunction(exec)) {\n      actionObject = {\n        type: action,\n        exec: exec\n      };\n    } else if (exec) {\n      actionObject = exec;\n    } else {\n      actionObject = {\n        type: action,\n        exec: undefined\n      };\n    }\n  } else if (isFunction(action)) {\n    actionObject = {\n      // Convert action to string if unnamed\n      type: action.name || action.toString(),\n      exec: action\n    };\n  } else {\n    var exec = getActionFunction(action.type, actionFunctionMap);\n\n    if (isFunction(exec)) {\n      actionObject = __assign(__assign({}, action), {\n        exec: exec\n      });\n    } else if (exec) {\n      var actionType = exec.type || action.type;\n      actionObject = __assign(__assign(__assign({}, exec), action), {\n        type: actionType\n      });\n    } else {\n      actionObject = action;\n    }\n  }\n\n  return actionObject;\n}\nvar toActionObjects = function (action, actionFunctionMap) {\n  if (!action) {\n    return [];\n  }\n\n  var actions = isArray(action) ? action : [action];\n  return actions.map(function (subAction) {\n    return toActionObject(subAction, actionFunctionMap);\n  });\n};\nfunction toActivityDefinition(action) {\n  var actionObject = toActionObject(action);\n  return __assign(__assign({\n    id: isString(action) ? action : actionObject.id\n  }, actionObject), {\n    type: actionObject.type\n  });\n}\n/**\r\n * Raises an event. This places the event in the internal event queue, so that\r\n * the event is immediately consumed by the machine in the current step.\r\n *\r\n * @param eventType The event to raise.\r\n */\n\nfunction raise(event, options) {\n  return {\n    type: raise$1,\n    event: typeof event === 'function' ? event : toEventObject(event),\n    delay: options ? options.delay : undefined,\n    id: options === null || options === void 0 ? void 0 : options.id\n  };\n}\nfunction resolveRaise(action, ctx, _event, delaysMap) {\n  var meta = {\n    _event: _event\n  };\n  var resolvedEvent = toSCXMLEvent(isFunction(action.event) ? action.event(ctx, _event.data, meta) : action.event);\n  var resolvedDelay;\n\n  if (isString(action.delay)) {\n    var configDelay = delaysMap && delaysMap[action.delay];\n    resolvedDelay = isFunction(configDelay) ? configDelay(ctx, _event.data, meta) : configDelay;\n  } else {\n    resolvedDelay = isFunction(action.delay) ? action.delay(ctx, _event.data, meta) : action.delay;\n  }\n\n  return __assign(__assign({}, action), {\n    type: raise$1,\n    _event: resolvedEvent,\n    delay: resolvedDelay\n  });\n}\n/**\r\n * Sends an event. This returns an action that will be read by an interpreter to\r\n * send the event in the next step, after the current step is finished executing.\r\n *\r\n * @deprecated Use the `sendTo(...)` action creator instead.\r\n *\r\n * @param event The event to send.\r\n * @param options Options to pass into the send event:\r\n *  - `id` - The unique send event identifier (used with `cancel()`).\r\n *  - `delay` - The number of milliseconds to delay the sending of the event.\r\n *  - `to` - The target of this event (by default, the machine the event was sent from).\r\n */\n\nfunction send(event, options) {\n  return {\n    to: options ? options.to : undefined,\n    type: send$1,\n    event: isFunction(event) ? event : toEventObject(event),\n    delay: options ? options.delay : undefined,\n    // TODO: don't auto-generate IDs here like that\n    // there is too big chance of the ID collision\n    id: options && options.id !== undefined ? options.id : isFunction(event) ? event.name : getEventType(event)\n  };\n}\nfunction resolveSend(action, ctx, _event, delaysMap) {\n  var meta = {\n    _event: _event\n  }; // TODO: helper function for resolving Expr\n\n  var resolvedEvent = toSCXMLEvent(isFunction(action.event) ? action.event(ctx, _event.data, meta) : action.event);\n  var resolvedDelay;\n\n  if (isString(action.delay)) {\n    var configDelay = delaysMap && delaysMap[action.delay];\n    resolvedDelay = isFunction(configDelay) ? configDelay(ctx, _event.data, meta) : configDelay;\n  } else {\n    resolvedDelay = isFunction(action.delay) ? action.delay(ctx, _event.data, meta) : action.delay;\n  }\n\n  var resolvedTarget = isFunction(action.to) ? action.to(ctx, _event.data, meta) : action.to;\n  return __assign(__assign({}, action), {\n    to: resolvedTarget,\n    _event: resolvedEvent,\n    event: resolvedEvent.data,\n    delay: resolvedDelay\n  });\n}\n/**\r\n * Sends an event to this machine's parent.\r\n *\r\n * @param event The event to send to the parent machine.\r\n * @param options Options to pass into the send event.\r\n */\n\nfunction sendParent(event, options) {\n  return send(event, __assign(__assign({}, options), {\n    to: SpecialTargets.Parent\n  }));\n}\n/**\r\n * Sends an event to an actor.\r\n *\r\n * @param actor The `ActorRef` to send the event to.\r\n * @param event The event to send, or an expression that evaluates to the event to send\r\n * @param options Send action options\r\n * @returns An XState send action object\r\n */\n\nfunction sendTo(actor, event, options) {\n  return send(event, __assign(__assign({}, options), {\n    to: actor\n  }));\n}\n/**\r\n * Sends an update event to this machine's parent.\r\n */\n\nfunction sendUpdate() {\n  return sendParent(update);\n}\n/**\r\n * Sends an event back to the sender of the original event.\r\n *\r\n * @param event The event to send back to the sender\r\n * @param options Options to pass into the send event\r\n */\n\nfunction respond(event, options) {\n  return send(event, __assign(__assign({}, options), {\n    to: function (_, __, _a) {\n      var _event = _a._event;\n      return _event.origin; // TODO: handle when _event.origin is undefined\n    }\n  }));\n}\n\nvar defaultLogExpr = function (context, event) {\n  return {\n    context: context,\n    event: event\n  };\n};\n/**\r\n *\r\n * @param expr The expression function to evaluate which will be logged.\r\n *  Takes in 2 arguments:\r\n *  - `ctx` - the current state context\r\n *  - `event` - the event that caused this action to be executed.\r\n * @param label The label to give to the logged expression.\r\n */\n\n\nfunction log(expr, label) {\n  if (expr === void 0) {\n    expr = defaultLogExpr;\n  }\n\n  return {\n    type: log$1,\n    label: label,\n    expr: expr\n  };\n}\nvar resolveLog = function (action, ctx, _event) {\n  return __assign(__assign({}, action), {\n    value: isString(action.expr) ? action.expr : action.expr(ctx, _event.data, {\n      _event: _event\n    })\n  });\n};\n/**\r\n * Cancels an in-flight `send(...)` action. A canceled sent action will not\r\n * be executed, nor will its event be sent, unless it has already been sent\r\n * (e.g., if `cancel(...)` is called after the `send(...)` action's `delay`).\r\n *\r\n * @param sendId The `id` of the `send(...)` action to cancel.\r\n */\n\nvar cancel = function (sendId) {\n  return {\n    type: cancel$1,\n    sendId: sendId\n  };\n};\n/**\r\n * Starts an activity.\r\n *\r\n * @param activity The activity to start.\r\n */\n\nfunction start(activity) {\n  var activityDef = toActivityDefinition(activity);\n  return {\n    type: ActionTypes.Start,\n    activity: activityDef,\n    exec: undefined\n  };\n}\n/**\r\n * Stops an activity.\r\n *\r\n * @param actorRef The activity to stop.\r\n */\n\nfunction stop(actorRef) {\n  var activity = isFunction(actorRef) ? actorRef : toActivityDefinition(actorRef);\n  return {\n    type: ActionTypes.Stop,\n    activity: activity,\n    exec: undefined\n  };\n}\nfunction resolveStop(action, context, _event) {\n  var actorRefOrString = isFunction(action.activity) ? action.activity(context, _event.data) : action.activity;\n  var resolvedActorRef = typeof actorRefOrString === 'string' ? {\n    id: actorRefOrString\n  } : actorRefOrString;\n  var actionObject = {\n    type: ActionTypes.Stop,\n    activity: resolvedActorRef\n  };\n  return actionObject;\n}\n/**\r\n * Updates the current context of the machine.\r\n *\r\n * @param assignment An object that represents the partial context to update.\r\n */\n\nvar assign = function (assignment) {\n  return {\n    type: assign$1,\n    assignment: assignment\n  };\n};\nfunction isActionObject(action) {\n  return typeof action === 'object' && 'type' in action;\n}\n/**\r\n * Returns an event type that represents an implicit event that\r\n * is sent after the specified `delay`.\r\n *\r\n * @param delayRef The delay in milliseconds\r\n * @param id The state node ID where this event is handled\r\n */\n\nfunction after(delayRef, id) {\n  var idSuffix = id ? \"#\".concat(id) : '';\n  return \"\".concat(ActionTypes.After, \"(\").concat(delayRef, \")\").concat(idSuffix);\n}\n/**\r\n * Returns an event that represents that a final state node\r\n * has been reached in the parent state node.\r\n *\r\n * @param id The final state node's parent state node `id`\r\n * @param data The data to pass into the event\r\n */\n\nfunction done(id, data) {\n  var type = \"\".concat(ActionTypes.DoneState, \".\").concat(id);\n  var eventObject = {\n    type: type,\n    data: data\n  };\n\n  eventObject.toString = function () {\n    return type;\n  };\n\n  return eventObject;\n}\n/**\r\n * Returns an event that represents that an invoked service has terminated.\r\n *\r\n * An invoked service is terminated when it has reached a top-level final state node,\r\n * but not when it is canceled.\r\n *\r\n * @param id The final state node ID\r\n * @param data The data to pass into the event\r\n */\n\nfunction doneInvoke(id, data) {\n  var type = \"\".concat(ActionTypes.DoneInvoke, \".\").concat(id);\n  var eventObject = {\n    type: type,\n    data: data\n  };\n\n  eventObject.toString = function () {\n    return type;\n  };\n\n  return eventObject;\n}\nfunction error(id, data) {\n  var type = \"\".concat(ActionTypes.ErrorPlatform, \".\").concat(id);\n  var eventObject = {\n    type: type,\n    data: data\n  };\n\n  eventObject.toString = function () {\n    return type;\n  };\n\n  return eventObject;\n}\nfunction pure(getActions) {\n  return {\n    type: ActionTypes.Pure,\n    get: getActions\n  };\n}\n/**\r\n * Forwards (sends) an event to a specified service.\r\n *\r\n * @param target The target service to forward the event to.\r\n * @param options Options to pass into the send action creator.\r\n */\n\nfunction forwardTo(target, options) {\n  if (!IS_PRODUCTION && (!target || typeof target === 'function')) {\n    var originalTarget_1 = target;\n\n    target = function () {\n      var args = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n\n      var resolvedTarget = typeof originalTarget_1 === 'function' ? originalTarget_1.apply(void 0, __spreadArray([], __read(args), false)) : originalTarget_1;\n\n      if (!resolvedTarget) {\n        throw new Error(\"Attempted to forward event to undefined actor. This risks an infinite loop in the sender.\");\n      }\n\n      return resolvedTarget;\n    };\n  }\n\n  return send(function (_, event) {\n    return event;\n  }, __assign(__assign({}, options), {\n    to: target\n  }));\n}\n/**\r\n * Escalates an error by sending it as an event to this machine's parent.\r\n *\r\n * @param errorData The error data to send, or the expression function that\r\n * takes in the `context`, `event`, and `meta`, and returns the error data to send.\r\n * @param options Options to pass into the send action creator.\r\n */\n\nfunction escalate(errorData, options) {\n  return sendParent(function (context, event, meta) {\n    return {\n      type: error$1,\n      data: isFunction(errorData) ? errorData(context, event, meta) : errorData\n    };\n  }, __assign(__assign({}, options), {\n    to: SpecialTargets.Parent\n  }));\n}\nfunction choose(conds) {\n  return {\n    type: ActionTypes.Choose,\n    conds: conds\n  };\n}\n\nvar pluckAssigns = function (actionBlocks) {\n  var e_1, _a;\n\n  var assignActions = [];\n\n  try {\n    for (var actionBlocks_1 = __values(actionBlocks), actionBlocks_1_1 = actionBlocks_1.next(); !actionBlocks_1_1.done; actionBlocks_1_1 = actionBlocks_1.next()) {\n      var block = actionBlocks_1_1.value;\n      var i = 0;\n\n      while (i < block.actions.length) {\n        if (block.actions[i].type === assign$1) {\n          assignActions.push(block.actions[i]);\n          block.actions.splice(i, 1);\n          continue;\n        }\n\n        i++;\n      }\n    }\n  } catch (e_1_1) {\n    e_1 = {\n      error: e_1_1\n    };\n  } finally {\n    try {\n      if (actionBlocks_1_1 && !actionBlocks_1_1.done && (_a = actionBlocks_1.return)) _a.call(actionBlocks_1);\n    } finally {\n      if (e_1) throw e_1.error;\n    }\n  }\n\n  return assignActions;\n};\n\nfunction resolveActions(machine, currentState, currentContext, _event, actionBlocks, predictableExec, preserveActionOrder) {\n  if (preserveActionOrder === void 0) {\n    preserveActionOrder = false;\n  }\n\n  var assignActions = preserveActionOrder ? [] : pluckAssigns(actionBlocks);\n  var updatedContext = assignActions.length ? updateContext(currentContext, _event, assignActions, currentState) : currentContext;\n  var preservedContexts = preserveActionOrder ? [currentContext] : undefined;\n  var deferredToBlockEnd = [];\n\n  function handleAction(blockType, actionObject) {\n    var _a;\n\n    switch (actionObject.type) {\n      case raise$1:\n        {\n          var raisedAction = resolveRaise(actionObject, updatedContext, _event, machine.options.delays);\n\n          if (predictableExec && typeof raisedAction.delay === 'number') {\n            predictableExec(raisedAction, updatedContext, _event);\n          }\n\n          return raisedAction;\n        }\n\n      case send$1:\n        var sendAction = resolveSend(actionObject, updatedContext, _event, machine.options.delays); // TODO: fix ActionTypes.Init\n\n        if (!IS_PRODUCTION) {\n          var configuredDelay = actionObject.delay; // warn after resolving as we can create better contextual message here\n\n          warn(!isString(configuredDelay) || typeof sendAction.delay === 'number', // tslint:disable-next-line:max-line-length\n          \"No delay reference for delay expression '\".concat(configuredDelay, \"' was found on machine '\").concat(machine.id, \"'\"));\n        }\n\n        if (predictableExec && sendAction.to !== SpecialTargets.Internal) {\n          if (blockType === 'entry') {\n            deferredToBlockEnd.push(sendAction);\n          } else {\n            predictableExec(sendAction, updatedContext, _event);\n          }\n        }\n\n        return sendAction;\n\n      case log$1:\n        {\n          var resolved = resolveLog(actionObject, updatedContext, _event);\n          predictableExec === null || predictableExec === void 0 ? void 0 : predictableExec(resolved, updatedContext, _event);\n          return resolved;\n        }\n\n      case choose$1:\n        {\n          var chooseAction = actionObject;\n          var matchedActions = (_a = chooseAction.conds.find(function (condition) {\n            var guard = toGuard(condition.cond, machine.options.guards);\n            return !guard || evaluateGuard(machine, guard, updatedContext, _event, !predictableExec ? currentState : undefined);\n          })) === null || _a === void 0 ? void 0 : _a.actions;\n\n          if (!matchedActions) {\n            return [];\n          }\n\n          var _b = __read(resolveActions(machine, currentState, updatedContext, _event, [{\n            type: blockType,\n            actions: toActionObjects(toArray(matchedActions), machine.options.actions)\n          }], predictableExec, preserveActionOrder), 2),\n              resolvedActionsFromChoose = _b[0],\n              resolvedContextFromChoose = _b[1];\n\n          updatedContext = resolvedContextFromChoose;\n          preservedContexts === null || preservedContexts === void 0 ? void 0 : preservedContexts.push(updatedContext);\n          return resolvedActionsFromChoose;\n        }\n\n      case pure$1:\n        {\n          var matchedActions = actionObject.get(updatedContext, _event.data);\n\n          if (!matchedActions) {\n            return [];\n          }\n\n          var _c = __read(resolveActions(machine, currentState, updatedContext, _event, [{\n            type: blockType,\n            actions: toActionObjects(toArray(matchedActions), machine.options.actions)\n          }], predictableExec, preserveActionOrder), 2),\n              resolvedActionsFromPure = _c[0],\n              resolvedContext = _c[1];\n\n          updatedContext = resolvedContext;\n          preservedContexts === null || preservedContexts === void 0 ? void 0 : preservedContexts.push(updatedContext);\n          return resolvedActionsFromPure;\n        }\n\n      case stop$1:\n        {\n          var resolved = resolveStop(actionObject, updatedContext, _event);\n          predictableExec === null || predictableExec === void 0 ? void 0 : predictableExec(resolved, currentContext, _event);\n          return resolved;\n        }\n\n      case assign$1:\n        {\n          updatedContext = updateContext(updatedContext, _event, [actionObject], !predictableExec ? currentState : undefined);\n          preservedContexts === null || preservedContexts === void 0 ? void 0 : preservedContexts.push(updatedContext);\n          break;\n        }\n\n      default:\n        var resolvedActionObject = toActionObject(actionObject, machine.options.actions);\n        var exec_1 = resolvedActionObject.exec;\n\n        if (predictableExec) {\n          predictableExec(resolvedActionObject, updatedContext, _event);\n        } else if (exec_1 && preservedContexts) {\n          var contextIndex_1 = preservedContexts.length - 1;\n\n          var wrapped = __assign(__assign({}, resolvedActionObject), {\n            exec: function (_ctx) {\n              var args = [];\n\n              for (var _i = 1; _i < arguments.length; _i++) {\n                args[_i - 1] = arguments[_i];\n              }\n\n              exec_1.apply(void 0, __spreadArray([preservedContexts[contextIndex_1]], __read(args), false));\n            }\n          });\n\n          resolvedActionObject = wrapped;\n        }\n\n        return resolvedActionObject;\n    }\n  }\n\n  function processBlock(block) {\n    var e_2, _a;\n\n    var resolvedActions = [];\n\n    try {\n      for (var _b = __values(block.actions), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var action = _c.value;\n        var resolved = handleAction(block.type, action);\n\n        if (resolved) {\n          resolvedActions = resolvedActions.concat(resolved);\n        }\n      }\n    } catch (e_2_1) {\n      e_2 = {\n        error: e_2_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_2) throw e_2.error;\n      }\n    }\n\n    deferredToBlockEnd.forEach(function (action) {\n      predictableExec(action, updatedContext, _event);\n    });\n    deferredToBlockEnd.length = 0;\n    return resolvedActions;\n  }\n\n  var resolvedActions = flatten(actionBlocks.map(processBlock));\n  return [resolvedActions, updatedContext];\n}\n\nexport { after, assign, cancel, choose, done, doneInvoke, error, escalate, forwardTo, getActionFunction, initEvent, isActionObject, log, pure, raise, resolveActions, resolveLog, resolveRaise, resolveSend, resolveStop, respond, send, sendParent, sendTo, sendUpdate, start, stop, toActionObject, toActionObjects, toActivityDefinition };\n","var STATE_DELIMITER = '.';\nvar EMPTY_ACTIVITY_MAP = {};\nvar DEFAULT_GUARD_TYPE = 'xstate.guard';\nvar TARGETLESS_KEY = '';\n\nexport { DEFAULT_GUARD_TYPE, EMPTY_ACTIVITY_MAP, STATE_DELIMITER, TARGETLESS_KEY };\n","var IS_PRODUCTION = process.env.NODE_ENV === 'production';\n\nexport { IS_PRODUCTION };\n","import { assign as assign$1, cancel as cancel$1, send as send$1, sendTo as sendTo$1, sendParent as sendParent$1, sendUpdate as sendUpdate$1, forwardTo as forwardTo$1, doneInvoke as doneInvoke$1, raise as raise$1, log as log$1, pure as pure$1, choose as choose$1, stop as stop$1 } from './actions.js';\nimport * as actions from './actions.js';\nexport { actions };\nexport { toActorRef } from './Actor.js';\nexport { Interpreter, InterpreterStatus, interpret, spawn } from './interpreter.js';\nexport { Machine, createMachine } from './Machine.js';\nexport { mapState } from './mapState.js';\nexport { matchState } from './match.js';\nexport { createSchema, t } from './schema.js';\nexport { State } from './State.js';\nexport { StateNode } from './StateNode.js';\nexport { spawnBehavior } from './behaviors.js';\nexport { ActionTypes, SpecialTargets } from './types.js';\nexport { matchesState, toEventObject, toObserver, toSCXMLEvent } from './utils.js';\n\nvar assign = assign$1,\n    cancel = cancel$1,\n    send = send$1,\n    sendTo = sendTo$1,\n    sendParent = sendParent$1,\n    sendUpdate = sendUpdate$1,\n    forwardTo = forwardTo$1,\n    doneInvoke = doneInvoke$1,\n    raise = raise$1,\n    log = log$1,\n    pure = pure$1,\n    choose = choose$1,\n    stop = stop$1;\n\nexport { assign, cancel, choose, doneInvoke, forwardTo, log, pure, raise, send, sendParent, sendTo, sendUpdate, stop };\n","import { __assign } from './_virtual/_tslib.js';\n\nvar defaultOptions = {\n  deferEvents: false\n};\n\nvar Scheduler =\n/*#__PURE__*/\n\n/** @class */\nfunction () {\n  function Scheduler(options) {\n    this.processingEvent = false;\n    this.queue = [];\n    this.initialized = false;\n    this.options = __assign(__assign({}, defaultOptions), options);\n  }\n\n  Scheduler.prototype.initialize = function (callback) {\n    this.initialized = true;\n\n    if (callback) {\n      if (!this.options.deferEvents) {\n        this.schedule(callback);\n        return;\n      }\n\n      this.process(callback);\n    }\n\n    this.flushEvents();\n  };\n\n  Scheduler.prototype.schedule = function (task) {\n    if (!this.initialized || this.processingEvent) {\n      this.queue.push(task);\n      return;\n    }\n\n    if (this.queue.length !== 0) {\n      throw new Error('Event queue should be empty when it is not processing events');\n    }\n\n    this.process(task);\n    this.flushEvents();\n  };\n\n  Scheduler.prototype.clear = function () {\n    this.queue = [];\n  };\n\n  Scheduler.prototype.flushEvents = function () {\n    var nextCallback = this.queue.shift();\n\n    while (nextCallback) {\n      this.process(nextCallback);\n      nextCallback = this.queue.shift();\n    }\n  };\n\n  Scheduler.prototype.process = function (callback) {\n    this.processingEvent = true;\n\n    try {\n      callback();\n    } catch (e) {\n      // there is no use to keep the future events\n      // as the situation is not anymore the same\n      this.clear();\n      throw e;\n    } finally {\n      this.processingEvent = false;\n    }\n  };\n\n  return Scheduler;\n}();\n\nexport { Scheduler };\n","var children = /*#__PURE__*/new Map();\nvar sessionIdIndex = 0;\nvar registry = {\n  bookId: function () {\n    return \"x:\".concat(sessionIdIndex++);\n  },\n  register: function (id, actor) {\n    children.set(id, actor);\n    return id;\n  },\n  get: function (id) {\n    return children.get(id);\n  },\n  free: function (id) {\n    children.delete(id);\n  }\n};\n\nexport { registry };\n","import { IS_PRODUCTION } from './environment.js';\n\nfunction getGlobal() {\n  if (typeof globalThis !== 'undefined') {\n    return globalThis;\n  }\n\n  if (typeof self !== 'undefined') {\n    return self;\n  }\n\n  if (typeof window !== 'undefined') {\n    return window;\n  }\n\n  if (typeof global !== 'undefined') {\n    return global;\n  }\n\n  if (!IS_PRODUCTION) {\n    console.warn('XState could not find a global object in this environment. Please let the maintainers know and raise an issue here: https://github.com/statelyai/xstate/issues');\n  }\n}\n\nfunction getDevTools() {\n  var global = getGlobal();\n\n  if (global && '__xstate__' in global) {\n    return global.__xstate__;\n  }\n\n  return undefined;\n}\n\nfunction registerService(service) {\n  if (!getGlobal()) {\n    return;\n  }\n\n  var devTools = getDevTools();\n\n  if (devTools) {\n    devTools.register(service);\n  }\n}\n\nexport { getGlobal, registerService };\n","import { error, doneInvoke } from './actions.js';\nimport { toActorRef } from './Actor.js';\nimport { toObserver } from './utils.js';\n\n/**\r\n * Returns an actor behavior from a reducer and its initial state.\r\n *\r\n * @param transition The pure reducer that returns the next state given the current state and event.\r\n * @param initialState The initial state of the reducer.\r\n * @returns An actor behavior\r\n */\n\nfunction fromReducer(transition, initialState) {\n  return {\n    transition: transition,\n    initialState: initialState\n  };\n}\nfunction fromPromise(promiseFn) {\n  var initialState = {\n    error: undefined,\n    data: undefined,\n    status: 'pending'\n  };\n  return {\n    transition: function (state, event, _a) {\n      var parent = _a.parent,\n          id = _a.id,\n          observers = _a.observers;\n\n      switch (event.type) {\n        case 'fulfill':\n          parent === null || parent === void 0 ? void 0 : parent.send(doneInvoke(id, event.data));\n          return {\n            error: undefined,\n            data: event.data,\n            status: 'fulfilled'\n          };\n\n        case 'reject':\n          parent === null || parent === void 0 ? void 0 : parent.send(error(id, event.error));\n          observers.forEach(function (observer) {\n            observer.error(event.error);\n          });\n          return {\n            error: event.error,\n            data: undefined,\n            status: 'rejected'\n          };\n\n        default:\n          return state;\n      }\n    },\n    initialState: initialState,\n    start: function (_a) {\n      var self = _a.self;\n      promiseFn().then(function (data) {\n        self.send({\n          type: 'fulfill',\n          data: data\n        });\n      }, function (reason) {\n        self.send({\n          type: 'reject',\n          error: reason\n        });\n      });\n      return initialState;\n    }\n  };\n}\nfunction spawnBehavior(behavior, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var state = behavior.initialState;\n  var observers = new Set();\n  var mailbox = [];\n  var flushing = false;\n\n  var flush = function () {\n    if (flushing) {\n      return;\n    }\n\n    flushing = true;\n\n    while (mailbox.length > 0) {\n      var event_1 = mailbox.shift();\n      state = behavior.transition(state, event_1, actorCtx);\n      observers.forEach(function (observer) {\n        return observer.next(state);\n      });\n    }\n\n    flushing = false;\n  };\n\n  var actor = toActorRef({\n    id: options.id,\n    send: function (event) {\n      mailbox.push(event);\n      flush();\n    },\n    getSnapshot: function () {\n      return state;\n    },\n    subscribe: function (next, handleError, complete) {\n      var observer = toObserver(next, handleError, complete);\n      observers.add(observer);\n      observer.next(state);\n      return {\n        unsubscribe: function () {\n          observers.delete(observer);\n        }\n      };\n    }\n  });\n  var actorCtx = {\n    parent: options.parent,\n    self: actor,\n    id: options.id || 'anonymous',\n    observers: observers\n  };\n  state = behavior.start ? behavior.start(actorCtx) : state;\n  return actor;\n}\n\nexport { fromPromise, fromReducer, spawnBehavior };\n","import { __values, __spreadArray, __read, __assign } from './_virtual/_tslib.js';\nimport { SpecialTargets, ActionTypes } from './types.js';\nimport { isStateConfig, State, bindActionToState } from './State.js';\nimport { errorPlatform, update, error as error$1, log, stop, start, cancel, send, raise } from './actionTypes.js';\nimport { initEvent, doneInvoke, toActionObjects, resolveActions, error, getActionFunction } from './actions.js';\nimport { IS_PRODUCTION } from './environment.js';\nimport { warn, mapContext, toObserver, isFunction, toSCXMLEvent, flatten, isRaisableAction, isPromiseLike, isObservable, isMachine, isBehavior, reportUnhandledExceptionOnInvocation, symbolObservable, isArray, toEventObject, isString, isActor, toInvokeSource, uniqueId } from './utils.js';\nimport { Scheduler } from './scheduler.js';\nimport { createDeferredActor, isSpawnedActor } from './Actor.js';\nimport { registry } from './registry.js';\nimport { getGlobal, registerService } from './devTools.js';\nimport { provide, consume } from './serviceScope.js';\nimport { spawnBehavior } from './behaviors.js';\n\nvar DEFAULT_SPAWN_OPTIONS = {\n  sync: false,\n  autoForward: false\n};\nvar InterpreterStatus;\n\n(function (InterpreterStatus) {\n  InterpreterStatus[InterpreterStatus[\"NotStarted\"] = 0] = \"NotStarted\";\n  InterpreterStatus[InterpreterStatus[\"Running\"] = 1] = \"Running\";\n  InterpreterStatus[InterpreterStatus[\"Stopped\"] = 2] = \"Stopped\";\n})(InterpreterStatus || (InterpreterStatus = {}));\n\nvar Interpreter =\n/*#__PURE__*/\n\n/** @class */\nfunction () {\n  /**\r\n   * Creates a new Interpreter instance (i.e., service) for the given machine with the provided options, if any.\r\n   *\r\n   * @param machine The machine to be interpreted\r\n   * @param options Interpreter options\r\n   */\n  function Interpreter(machine, options) {\n    if (options === void 0) {\n      options = Interpreter.defaultOptions;\n    }\n\n    var _this = this;\n\n    this.machine = machine;\n    this.delayedEventsMap = {};\n    this.listeners = new Set();\n    this.contextListeners = new Set();\n    this.stopListeners = new Set();\n    this.doneListeners = new Set();\n    this.eventListeners = new Set();\n    this.sendListeners = new Set();\n    /**\r\n     * Whether the service is started.\r\n     */\n\n    this.initialized = false;\n    this.status = InterpreterStatus.NotStarted;\n    this.children = new Map();\n    this.forwardTo = new Set();\n    this._outgoingQueue = [];\n    /**\r\n     * Alias for Interpreter.prototype.start\r\n     */\n\n    this.init = this.start;\n    /**\r\n     * Sends an event to the running interpreter to trigger a transition.\r\n     *\r\n     * An array of events (batched) can be sent as well, which will send all\r\n     * batched events to the running interpreter. The listeners will be\r\n     * notified only **once** when all events are processed.\r\n     *\r\n     * @param event The event(s) to send\r\n     */\n\n    this.send = function (event, payload) {\n      if (isArray(event)) {\n        _this.batch(event);\n\n        return _this.state;\n      }\n\n      var _event = toSCXMLEvent(toEventObject(event, payload));\n\n      if (_this.status === InterpreterStatus.Stopped) {\n        // do nothing\n        if (!IS_PRODUCTION) {\n          warn(false, \"Event \\\"\".concat(_event.name, \"\\\" was sent to stopped service \\\"\").concat(_this.machine.id, \"\\\". This service has already reached its final state, and will not transition.\\nEvent: \").concat(JSON.stringify(_event.data)));\n        }\n\n        return _this.state;\n      }\n\n      if (_this.status !== InterpreterStatus.Running && !_this.options.deferEvents) {\n        throw new Error(\"Event \\\"\".concat(_event.name, \"\\\" was sent to uninitialized service \\\"\").concat(_this.machine.id // tslint:disable-next-line:max-line-length\n        , \"\\\". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.\\nEvent: \").concat(JSON.stringify(_event.data)));\n      }\n\n      _this.scheduler.schedule(function () {\n        // Forward copy of event to child actors\n        _this.forward(_event);\n\n        var nextState = _this._nextState(_event);\n\n        _this.update(nextState, _event);\n      });\n\n      return _this._state; // TODO: deprecate (should return void)\n      // tslint:disable-next-line:semicolon\n    };\n\n    this.sendTo = function (event, to, immediate) {\n      var isParent = _this.parent && (to === SpecialTargets.Parent || _this.parent.id === to);\n      var target = isParent ? _this.parent : isString(to) ? to === SpecialTargets.Internal ? _this : _this.children.get(to) || registry.get(to) : isActor(to) ? to : undefined;\n\n      if (!target) {\n        if (!isParent) {\n          throw new Error(\"Unable to send event to child '\".concat(to, \"' from service '\").concat(_this.id, \"'.\"));\n        } // tslint:disable-next-line:no-console\n\n\n        if (!IS_PRODUCTION) {\n          warn(false, \"Service '\".concat(_this.id, \"' has no parent: unable to send event \").concat(event.type));\n        }\n\n        return;\n      }\n\n      if ('machine' in target) {\n        // perhaps those events should be rejected in the parent\n        // but atm it doesn't have easy access to all of the information that is required to do it reliably\n        if (_this.status !== InterpreterStatus.Stopped || _this.parent !== target || // we need to send events to the parent from exit handlers of a machine that reached its final state\n        _this.state.done) {\n          // Send SCXML events to machines\n          var scxmlEvent = __assign(__assign({}, event), {\n            name: event.name === error$1 ? \"\".concat(error(_this.id)) : event.name,\n            origin: _this.sessionId\n          });\n\n          if (!immediate && _this.machine.config.predictableActionArguments) {\n            _this._outgoingQueue.push([target, scxmlEvent]);\n          } else {\n            target.send(scxmlEvent);\n          }\n        }\n      } else {\n        // Send normal events to other targets\n        if (!immediate && _this.machine.config.predictableActionArguments) {\n          _this._outgoingQueue.push([target, event.data]);\n        } else {\n          target.send(event.data);\n        }\n      }\n    };\n\n    this._exec = function (action, context, _event, actionFunctionMap) {\n      if (actionFunctionMap === void 0) {\n        actionFunctionMap = _this.machine.options.actions;\n      }\n\n      var actionOrExec = action.exec || getActionFunction(action.type, actionFunctionMap);\n      var exec = isFunction(actionOrExec) ? actionOrExec : actionOrExec ? actionOrExec.exec : action.exec;\n\n      if (exec) {\n        try {\n          return exec(context, _event.data, !_this.machine.config.predictableActionArguments ? {\n            action: action,\n            state: _this.state,\n            _event: _event\n          } : {\n            action: action,\n            _event: _event\n          });\n        } catch (err) {\n          if (_this.parent) {\n            _this.parent.send({\n              type: 'xstate.error',\n              data: err\n            });\n          }\n\n          throw err;\n        }\n      }\n\n      switch (action.type) {\n        case raise:\n          {\n            // if raise action reached the interpreter then it's a delayed one\n            var sendAction_1 = action;\n\n            _this.defer(sendAction_1);\n\n            break;\n          }\n\n        case send:\n          var sendAction = action;\n\n          if (typeof sendAction.delay === 'number') {\n            _this.defer(sendAction);\n\n            return;\n          } else {\n            if (sendAction.to) {\n              _this.sendTo(sendAction._event, sendAction.to, _event === initEvent);\n            } else {\n              _this.send(sendAction._event);\n            }\n          }\n\n          break;\n\n        case cancel:\n          _this.cancel(action.sendId);\n\n          break;\n\n        case start:\n          {\n            if (_this.status !== InterpreterStatus.Running) {\n              return;\n            }\n\n            var activity = action.activity; // If the activity will be stopped right after it's started\n            // (such as in transient states)\n            // don't bother starting the activity.\n\n            if ( // in v4 with `predictableActionArguments` invokes are called eagerly when the `this.state` still points to the previous state\n            !_this.machine.config.predictableActionArguments && !_this.state.activities[activity.id || activity.type]) {\n              break;\n            } // Invoked services\n\n\n            if (activity.type === ActionTypes.Invoke) {\n              var invokeSource = toInvokeSource(activity.src);\n              var serviceCreator = _this.machine.options.services ? _this.machine.options.services[invokeSource.type] : undefined;\n              var id = activity.id,\n                  data = activity.data;\n\n              if (!IS_PRODUCTION) {\n                warn(!('forward' in activity), // tslint:disable-next-line:max-line-length\n                \"`forward` property is deprecated (found in invocation of '\".concat(activity.src, \"' in in machine '\").concat(_this.machine.id, \"'). \") + \"Please use `autoForward` instead.\");\n              }\n\n              var autoForward = 'autoForward' in activity ? activity.autoForward : !!activity.forward;\n\n              if (!serviceCreator) {\n                // tslint:disable-next-line:no-console\n                if (!IS_PRODUCTION) {\n                  warn(false, \"No service found for invocation '\".concat(activity.src, \"' in machine '\").concat(_this.machine.id, \"'.\"));\n                }\n\n                return;\n              }\n\n              var resolvedData = data ? mapContext(data, context, _event) : undefined;\n\n              if (typeof serviceCreator === 'string') {\n                // TODO: warn\n                return;\n              }\n\n              var source = isFunction(serviceCreator) ? serviceCreator(context, _event.data, {\n                data: resolvedData,\n                src: invokeSource,\n                meta: activity.meta\n              }) : serviceCreator;\n\n              if (!source) {\n                // TODO: warn?\n                return;\n              }\n\n              var options = void 0;\n\n              if (isMachine(source)) {\n                source = resolvedData ? source.withContext(resolvedData) : source;\n                options = {\n                  autoForward: autoForward\n                };\n              }\n\n              _this.spawn(source, id, options);\n            } else {\n              _this.spawnActivity(activity);\n            }\n\n            break;\n          }\n\n        case stop:\n          {\n            _this.stopChild(action.activity.id);\n\n            break;\n          }\n\n        case log:\n          var _a = action,\n              label = _a.label,\n              value = _a.value;\n\n          if (label) {\n            _this.logger(label, value);\n          } else {\n            _this.logger(value);\n          }\n\n          break;\n\n        default:\n          if (!IS_PRODUCTION) {\n            warn(false, \"No implementation found for action type '\".concat(action.type, \"'\"));\n          }\n\n          break;\n      }\n    };\n\n    var resolvedOptions = __assign(__assign({}, Interpreter.defaultOptions), options);\n\n    var clock = resolvedOptions.clock,\n        logger = resolvedOptions.logger,\n        parent = resolvedOptions.parent,\n        id = resolvedOptions.id;\n    var resolvedId = id !== undefined ? id : machine.id;\n    this.id = resolvedId;\n    this.logger = logger;\n    this.clock = clock;\n    this.parent = parent;\n    this.options = resolvedOptions;\n    this.scheduler = new Scheduler({\n      deferEvents: this.options.deferEvents\n    });\n    this.sessionId = registry.bookId();\n  }\n\n  Object.defineProperty(Interpreter.prototype, \"initialState\", {\n    get: function () {\n      var _this = this;\n\n      if (this._initialState) {\n        return this._initialState;\n      }\n\n      return provide(this, function () {\n        _this._initialState = _this.machine.initialState;\n        return _this._initialState;\n      });\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Interpreter.prototype, \"state\", {\n    /**\r\n     * @deprecated Use `.getSnapshot()` instead.\r\n     */\n    get: function () {\n      if (!IS_PRODUCTION) {\n        warn(this.status !== InterpreterStatus.NotStarted, \"Attempted to read state from uninitialized service '\".concat(this.id, \"'. Make sure the service is started first.\"));\n      }\n\n      return this._state;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  /**\r\n   * Executes the actions of the given state, with that state's `context` and `event`.\r\n   *\r\n   * @param state The state whose actions will be executed\r\n   * @param actionsConfig The action implementations to use\r\n   */\n\n  Interpreter.prototype.execute = function (state, actionsConfig) {\n    var e_1, _a;\n\n    try {\n      for (var _b = __values(state.actions), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var action = _c.value;\n        this.exec(action, state, actionsConfig);\n      }\n    } catch (e_1_1) {\n      e_1 = {\n        error: e_1_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    }\n  };\n\n  Interpreter.prototype.update = function (state, _event) {\n    var e_2, _a, e_3, _b, e_4, _c, e_5, _d;\n\n    var _this = this; // Attach session ID to state\n\n\n    state._sessionid = this.sessionId; // Update state\n\n    this._state = state; // Execute actions\n\n    if ((!this.machine.config.predictableActionArguments || // this is currently required to execute initial actions as the `initialState` gets cached\n    // we can't just recompute it (and execute actions while doing so) because we try to preserve identity of actors created within initial assigns\n    _event === initEvent) && this.options.execute) {\n      this.execute(this.state);\n    } else {\n      var item = void 0;\n\n      while (item = this._outgoingQueue.shift()) {\n        item[0].send(item[1]);\n      }\n    } // Update children\n\n\n    this.children.forEach(function (child) {\n      _this.state.children[child.id] = child;\n    }); // Dev tools\n\n    if (this.devTools) {\n      this.devTools.send(_event.data, state);\n    } // Execute listeners\n\n\n    if (state.event) {\n      try {\n        for (var _e = __values(this.eventListeners), _f = _e.next(); !_f.done; _f = _e.next()) {\n          var listener = _f.value;\n          listener(state.event);\n        }\n      } catch (e_2_1) {\n        e_2 = {\n          error: e_2_1\n        };\n      } finally {\n        try {\n          if (_f && !_f.done && (_a = _e.return)) _a.call(_e);\n        } finally {\n          if (e_2) throw e_2.error;\n        }\n      }\n    }\n\n    try {\n      for (var _g = __values(this.listeners), _h = _g.next(); !_h.done; _h = _g.next()) {\n        var listener = _h.value;\n        listener(state, state.event);\n      }\n    } catch (e_3_1) {\n      e_3 = {\n        error: e_3_1\n      };\n    } finally {\n      try {\n        if (_h && !_h.done && (_b = _g.return)) _b.call(_g);\n      } finally {\n        if (e_3) throw e_3.error;\n      }\n    }\n\n    try {\n      for (var _j = __values(this.contextListeners), _k = _j.next(); !_k.done; _k = _j.next()) {\n        var contextListener = _k.value;\n        contextListener(this.state.context, this.state.history ? this.state.history.context : undefined);\n      }\n    } catch (e_4_1) {\n      e_4 = {\n        error: e_4_1\n      };\n    } finally {\n      try {\n        if (_k && !_k.done && (_c = _j.return)) _c.call(_j);\n      } finally {\n        if (e_4) throw e_4.error;\n      }\n    }\n\n    if (this.state.done) {\n      // get final child state node\n      var finalChildStateNode = state.configuration.find(function (sn) {\n        return sn.type === 'final' && sn.parent === _this.machine;\n      });\n      var doneData = finalChildStateNode && finalChildStateNode.doneData ? mapContext(finalChildStateNode.doneData, state.context, _event) : undefined;\n      this._doneEvent = doneInvoke(this.id, doneData);\n\n      try {\n        for (var _l = __values(this.doneListeners), _m = _l.next(); !_m.done; _m = _l.next()) {\n          var listener = _m.value;\n          listener(this._doneEvent);\n        }\n      } catch (e_5_1) {\n        e_5 = {\n          error: e_5_1\n        };\n      } finally {\n        try {\n          if (_m && !_m.done && (_d = _l.return)) _d.call(_l);\n        } finally {\n          if (e_5) throw e_5.error;\n        }\n      }\n\n      this._stop();\n\n      this._stopChildren();\n\n      registry.free(this.sessionId);\n    }\n  };\n  /*\r\n   * Adds a listener that is notified whenever a state transition happens. The listener is called with\r\n   * the next state and the event object that caused the state transition.\r\n   *\r\n   * @param listener The state listener\r\n   */\n\n\n  Interpreter.prototype.onTransition = function (listener) {\n    this.listeners.add(listener); // Send current state to listener\n\n    if (this.status === InterpreterStatus.Running) {\n      listener(this.state, this.state.event);\n    }\n\n    return this;\n  };\n\n  Interpreter.prototype.subscribe = function (nextListenerOrObserver, _, // TODO: error listener\n  completeListener) {\n    var _this = this;\n\n    var observer = toObserver(nextListenerOrObserver, _, completeListener);\n    this.listeners.add(observer.next); // Send current state to listener\n\n    if (this.status !== InterpreterStatus.NotStarted) {\n      observer.next(this.state);\n    }\n\n    var completeOnce = function () {\n      _this.doneListeners.delete(completeOnce);\n\n      _this.stopListeners.delete(completeOnce);\n\n      observer.complete();\n    };\n\n    if (this.status === InterpreterStatus.Stopped) {\n      observer.complete();\n    } else {\n      this.onDone(completeOnce);\n      this.onStop(completeOnce);\n    }\n\n    return {\n      unsubscribe: function () {\n        _this.listeners.delete(observer.next);\n\n        _this.doneListeners.delete(completeOnce);\n\n        _this.stopListeners.delete(completeOnce);\n      }\n    };\n  };\n  /**\r\n   * Adds an event listener that is notified whenever an event is sent to the running interpreter.\r\n   * @param listener The event listener\r\n   */\n\n\n  Interpreter.prototype.onEvent = function (listener) {\n    this.eventListeners.add(listener);\n    return this;\n  };\n  /**\r\n   * Adds an event listener that is notified whenever a `send` event occurs.\r\n   * @param listener The event listener\r\n   */\n\n\n  Interpreter.prototype.onSend = function (listener) {\n    this.sendListeners.add(listener);\n    return this;\n  };\n  /**\r\n   * Adds a context listener that is notified whenever the state context changes.\r\n   * @param listener The context listener\r\n   */\n\n\n  Interpreter.prototype.onChange = function (listener) {\n    this.contextListeners.add(listener);\n    return this;\n  };\n  /**\r\n   * Adds a listener that is notified when the machine is stopped.\r\n   * @param listener The listener\r\n   */\n\n\n  Interpreter.prototype.onStop = function (listener) {\n    this.stopListeners.add(listener);\n    return this;\n  };\n  /**\r\n   * Adds a state listener that is notified when the statechart has reached its final state.\r\n   * @param listener The state listener\r\n   */\n\n\n  Interpreter.prototype.onDone = function (listener) {\n    if (this.status === InterpreterStatus.Stopped && this._doneEvent) {\n      listener(this._doneEvent);\n    } else {\n      this.doneListeners.add(listener);\n    }\n\n    return this;\n  };\n  /**\r\n   * Removes a listener.\r\n   * @param listener The listener to remove\r\n   */\n\n\n  Interpreter.prototype.off = function (listener) {\n    this.listeners.delete(listener);\n    this.eventListeners.delete(listener);\n    this.sendListeners.delete(listener);\n    this.stopListeners.delete(listener);\n    this.doneListeners.delete(listener);\n    this.contextListeners.delete(listener);\n    return this;\n  };\n  /**\r\n   * Starts the interpreter from the given state, or the initial state.\r\n   * @param initialState The state to start the statechart from\r\n   */\n\n\n  Interpreter.prototype.start = function (initialState) {\n    var _this = this;\n\n    if (this.status === InterpreterStatus.Running) {\n      // Do not restart the service if it is already started\n      return this;\n    } // yes, it's a hack but we need the related cache to be populated for some things to work (like delayed transitions)\n    // this is usually called by `machine.getInitialState` but if we rehydrate from a state we might bypass this call\n    // we also don't want to call this method here as it resolves the full initial state which might involve calling assign actions\n    // and that could potentially lead to some unwanted side-effects (even such as creating some rogue actors)\n\n\n    this.machine._init();\n\n    registry.register(this.sessionId, this);\n    this.initialized = true;\n    this.status = InterpreterStatus.Running;\n    var resolvedState = initialState === undefined ? this.initialState : provide(this, function () {\n      return isStateConfig(initialState) ? _this.machine.resolveState(initialState) : _this.machine.resolveState(State.from(initialState, _this.machine.context));\n    });\n\n    if (this.options.devTools) {\n      this.attachDev();\n    }\n\n    this.scheduler.initialize(function () {\n      _this.update(resolvedState, initEvent);\n    });\n    return this;\n  };\n\n  Interpreter.prototype._stopChildren = function () {\n    // TODO: think about converting those to actions\n    this.children.forEach(function (child) {\n      if (isFunction(child.stop)) {\n        child.stop();\n      }\n    });\n    this.children.clear();\n  };\n\n  Interpreter.prototype._stop = function () {\n    var e_6, _a, e_7, _b, e_8, _c, e_9, _d, e_10, _e;\n\n    try {\n      for (var _f = __values(this.listeners), _g = _f.next(); !_g.done; _g = _f.next()) {\n        var listener = _g.value;\n        this.listeners.delete(listener);\n      }\n    } catch (e_6_1) {\n      e_6 = {\n        error: e_6_1\n      };\n    } finally {\n      try {\n        if (_g && !_g.done && (_a = _f.return)) _a.call(_f);\n      } finally {\n        if (e_6) throw e_6.error;\n      }\n    }\n\n    try {\n      for (var _h = __values(this.stopListeners), _j = _h.next(); !_j.done; _j = _h.next()) {\n        var listener = _j.value; // call listener, then remove\n\n        listener();\n        this.stopListeners.delete(listener);\n      }\n    } catch (e_7_1) {\n      e_7 = {\n        error: e_7_1\n      };\n    } finally {\n      try {\n        if (_j && !_j.done && (_b = _h.return)) _b.call(_h);\n      } finally {\n        if (e_7) throw e_7.error;\n      }\n    }\n\n    try {\n      for (var _k = __values(this.contextListeners), _l = _k.next(); !_l.done; _l = _k.next()) {\n        var listener = _l.value;\n        this.contextListeners.delete(listener);\n      }\n    } catch (e_8_1) {\n      e_8 = {\n        error: e_8_1\n      };\n    } finally {\n      try {\n        if (_l && !_l.done && (_c = _k.return)) _c.call(_k);\n      } finally {\n        if (e_8) throw e_8.error;\n      }\n    }\n\n    try {\n      for (var _m = __values(this.doneListeners), _o = _m.next(); !_o.done; _o = _m.next()) {\n        var listener = _o.value;\n        this.doneListeners.delete(listener);\n      }\n    } catch (e_9_1) {\n      e_9 = {\n        error: e_9_1\n      };\n    } finally {\n      try {\n        if (_o && !_o.done && (_d = _m.return)) _d.call(_m);\n      } finally {\n        if (e_9) throw e_9.error;\n      }\n    }\n\n    if (!this.initialized) {\n      // Interpreter already stopped; do nothing\n      return this;\n    }\n\n    this.initialized = false;\n    this.status = InterpreterStatus.Stopped;\n    this._initialState = undefined;\n\n    try {\n      // we are going to stop within the current sync frame\n      // so we can safely just cancel this here as nothing async should be fired anyway\n      for (var _p = __values(Object.keys(this.delayedEventsMap)), _q = _p.next(); !_q.done; _q = _p.next()) {\n        var key = _q.value;\n        this.clock.clearTimeout(this.delayedEventsMap[key]);\n      }\n    } catch (e_10_1) {\n      e_10 = {\n        error: e_10_1\n      };\n    } finally {\n      try {\n        if (_q && !_q.done && (_e = _p.return)) _e.call(_p);\n      } finally {\n        if (e_10) throw e_10.error;\n      }\n    } // clear everything that might be enqueued\n\n\n    this.scheduler.clear();\n    this.scheduler = new Scheduler({\n      deferEvents: this.options.deferEvents\n    });\n  };\n  /**\r\n   * Stops the interpreter and unsubscribe all listeners.\r\n   *\r\n   * This will also notify the `onStop` listeners.\r\n   */\n\n\n  Interpreter.prototype.stop = function () {\n    // TODO: add warning for stopping non-root interpreters\n    var _this = this; // grab the current scheduler as it will be replaced in _stop\n\n\n    var scheduler = this.scheduler;\n\n    this._stop(); // let what is currently processed to be finished\n\n\n    scheduler.schedule(function () {\n      var _a;\n\n      if ((_a = _this._state) === null || _a === void 0 ? void 0 : _a.done) {\n        return;\n      } // it feels weird to handle this here but we need to handle this even slightly \"out of band\"\n\n\n      var _event = toSCXMLEvent({\n        type: 'xstate.stop'\n      });\n\n      var nextState = provide(_this, function () {\n        var exitActions = flatten(__spreadArray([], __read(_this.state.configuration), false).sort(function (a, b) {\n          return b.order - a.order;\n        }).map(function (stateNode) {\n          return toActionObjects(stateNode.onExit, _this.machine.options.actions);\n        }));\n\n        var _a = __read(resolveActions(_this.machine, _this.state, _this.state.context, _event, [{\n          type: 'exit',\n          actions: exitActions\n        }], _this.machine.config.predictableActionArguments ? _this._exec : undefined, _this.machine.config.predictableActionArguments || _this.machine.config.preserveActionOrder), 2),\n            resolvedActions = _a[0],\n            updatedContext = _a[1];\n\n        var newState = new State({\n          value: _this.state.value,\n          context: updatedContext,\n          _event: _event,\n          _sessionid: _this.sessionId,\n          historyValue: undefined,\n          history: _this.state,\n          actions: resolvedActions.filter(function (action) {\n            return !isRaisableAction(action);\n          }),\n          activities: {},\n          events: [],\n          configuration: [],\n          transitions: [],\n          children: {},\n          done: _this.state.done,\n          tags: _this.state.tags,\n          machine: _this.machine\n        });\n        newState.changed = true;\n        return newState;\n      });\n\n      _this.update(nextState, _event);\n\n      _this._stopChildren();\n\n      registry.free(_this.sessionId);\n    });\n    return this;\n  };\n\n  Interpreter.prototype.batch = function (events) {\n    var _this = this;\n\n    if (this.status === InterpreterStatus.NotStarted && this.options.deferEvents) {\n      // tslint:disable-next-line:no-console\n      if (!IS_PRODUCTION) {\n        warn(false, \"\".concat(events.length, \" event(s) were sent to uninitialized service \\\"\").concat(this.machine.id, \"\\\" and are deferred. Make sure .start() is called for this service.\\nEvent: \").concat(JSON.stringify(event)));\n      }\n    } else if (this.status !== InterpreterStatus.Running) {\n      throw new Error( // tslint:disable-next-line:max-line-length\n      \"\".concat(events.length, \" event(s) were sent to uninitialized service \\\"\").concat(this.machine.id, \"\\\". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.\"));\n    }\n\n    if (!events.length) {\n      return;\n    }\n\n    var exec = !!this.machine.config.predictableActionArguments && this._exec;\n    this.scheduler.schedule(function () {\n      var e_11, _a;\n\n      var nextState = _this.state;\n      var batchChanged = false;\n      var batchedActions = [];\n\n      var _loop_1 = function (event_1) {\n        var _event = toSCXMLEvent(event_1);\n\n        _this.forward(_event);\n\n        nextState = provide(_this, function () {\n          return _this.machine.transition(nextState, _event, undefined, exec || undefined);\n        });\n        batchedActions.push.apply(batchedActions, __spreadArray([], __read(_this.machine.config.predictableActionArguments ? nextState.actions : nextState.actions.map(function (a) {\n          return bindActionToState(a, nextState);\n        })), false));\n        batchChanged = batchChanged || !!nextState.changed;\n      };\n\n      try {\n        for (var events_1 = __values(events), events_1_1 = events_1.next(); !events_1_1.done; events_1_1 = events_1.next()) {\n          var event_1 = events_1_1.value;\n\n          _loop_1(event_1);\n        }\n      } catch (e_11_1) {\n        e_11 = {\n          error: e_11_1\n        };\n      } finally {\n        try {\n          if (events_1_1 && !events_1_1.done && (_a = events_1.return)) _a.call(events_1);\n        } finally {\n          if (e_11) throw e_11.error;\n        }\n      }\n\n      nextState.changed = batchChanged;\n      nextState.actions = batchedActions;\n\n      _this.update(nextState, toSCXMLEvent(events[events.length - 1]));\n    });\n  };\n  /**\r\n   * Returns a send function bound to this interpreter instance.\r\n   *\r\n   * @param event The event to be sent by the sender.\r\n   */\n\n\n  Interpreter.prototype.sender = function (event) {\n    return this.send.bind(this, event);\n  };\n\n  Interpreter.prototype._nextState = function (event, exec) {\n    var _this = this;\n\n    if (exec === void 0) {\n      exec = !!this.machine.config.predictableActionArguments && this._exec;\n    }\n\n    var _event = toSCXMLEvent(event);\n\n    if (_event.name.indexOf(errorPlatform) === 0 && !this.state.nextEvents.some(function (nextEvent) {\n      return nextEvent.indexOf(errorPlatform) === 0;\n    })) {\n      throw _event.data.data;\n    }\n\n    var nextState = provide(this, function () {\n      return _this.machine.transition(_this.state, _event, undefined, exec || undefined);\n    });\n    return nextState;\n  };\n  /**\r\n   * Returns the next state given the interpreter's current state and the event.\r\n   *\r\n   * This is a pure method that does _not_ update the interpreter's state.\r\n   *\r\n   * @param event The event to determine the next state\r\n   */\n\n\n  Interpreter.prototype.nextState = function (event) {\n    return this._nextState(event, false);\n  };\n\n  Interpreter.prototype.forward = function (event) {\n    var e_12, _a;\n\n    try {\n      for (var _b = __values(this.forwardTo), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var id = _c.value;\n        var child = this.children.get(id);\n\n        if (!child) {\n          throw new Error(\"Unable to forward event '\".concat(event, \"' from interpreter '\").concat(this.id, \"' to nonexistant child '\").concat(id, \"'.\"));\n        }\n\n        child.send(event);\n      }\n    } catch (e_12_1) {\n      e_12 = {\n        error: e_12_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_12) throw e_12.error;\n      }\n    }\n  };\n\n  Interpreter.prototype.defer = function (sendAction) {\n    var _this = this;\n\n    var timerId = this.clock.setTimeout(function () {\n      if ('to' in sendAction && sendAction.to) {\n        _this.sendTo(sendAction._event, sendAction.to, true);\n      } else {\n        _this.send(sendAction._event);\n      }\n    }, sendAction.delay);\n\n    if (sendAction.id) {\n      this.delayedEventsMap[sendAction.id] = timerId;\n    }\n  };\n\n  Interpreter.prototype.cancel = function (sendId) {\n    this.clock.clearTimeout(this.delayedEventsMap[sendId]);\n    delete this.delayedEventsMap[sendId];\n  };\n\n  Interpreter.prototype.exec = function (action, state, actionFunctionMap) {\n    if (actionFunctionMap === void 0) {\n      actionFunctionMap = this.machine.options.actions;\n    }\n\n    this._exec(action, state.context, state._event, actionFunctionMap);\n  };\n\n  Interpreter.prototype.removeChild = function (childId) {\n    var _a;\n\n    this.children.delete(childId);\n    this.forwardTo.delete(childId); // this.state might not exist at the time this is called,\n    // such as when a child is added then removed while initializing the state\n\n    (_a = this.state) === null || _a === void 0 ? true : delete _a.children[childId];\n  };\n\n  Interpreter.prototype.stopChild = function (childId) {\n    var child = this.children.get(childId);\n\n    if (!child) {\n      return;\n    }\n\n    this.removeChild(childId);\n\n    if (isFunction(child.stop)) {\n      child.stop();\n    }\n  };\n\n  Interpreter.prototype.spawn = function (entity, name, options) {\n    if (this.status !== InterpreterStatus.Running) {\n      return createDeferredActor(entity, name);\n    }\n\n    if (isPromiseLike(entity)) {\n      return this.spawnPromise(Promise.resolve(entity), name);\n    } else if (isFunction(entity)) {\n      return this.spawnCallback(entity, name);\n    } else if (isSpawnedActor(entity)) {\n      return this.spawnActor(entity, name);\n    } else if (isObservable(entity)) {\n      return this.spawnObservable(entity, name);\n    } else if (isMachine(entity)) {\n      return this.spawnMachine(entity, __assign(__assign({}, options), {\n        id: name\n      }));\n    } else if (isBehavior(entity)) {\n      return this.spawnBehavior(entity, name);\n    } else {\n      throw new Error(\"Unable to spawn entity \\\"\".concat(name, \"\\\" of type \\\"\").concat(typeof entity, \"\\\".\"));\n    }\n  };\n\n  Interpreter.prototype.spawnMachine = function (machine, options) {\n    var _this = this;\n\n    if (options === void 0) {\n      options = {};\n    }\n\n    var childService = new Interpreter(machine, __assign(__assign({}, this.options), {\n      parent: this,\n      id: options.id || machine.id\n    }));\n\n    var resolvedOptions = __assign(__assign({}, DEFAULT_SPAWN_OPTIONS), options);\n\n    if (resolvedOptions.sync) {\n      childService.onTransition(function (state) {\n        _this.send(update, {\n          state: state,\n          id: childService.id\n        });\n      });\n    }\n\n    var actor = childService;\n    this.children.set(childService.id, actor);\n\n    if (resolvedOptions.autoForward) {\n      this.forwardTo.add(childService.id);\n    }\n\n    childService.onDone(function (doneEvent) {\n      _this.removeChild(childService.id);\n\n      _this.send(toSCXMLEvent(doneEvent, {\n        origin: childService.id\n      }));\n    }).start();\n    return actor;\n  };\n\n  Interpreter.prototype.spawnBehavior = function (behavior, id) {\n    var actorRef = spawnBehavior(behavior, {\n      id: id,\n      parent: this\n    });\n    this.children.set(id, actorRef);\n    return actorRef;\n  };\n\n  Interpreter.prototype.spawnPromise = function (promise, id) {\n    var _a;\n\n    var _this = this;\n\n    var canceled = false;\n    var resolvedData;\n    promise.then(function (response) {\n      if (!canceled) {\n        resolvedData = response;\n\n        _this.removeChild(id);\n\n        _this.send(toSCXMLEvent(doneInvoke(id, response), {\n          origin: id\n        }));\n      }\n    }, function (errorData) {\n      if (!canceled) {\n        _this.removeChild(id);\n\n        var errorEvent = error(id, errorData);\n\n        try {\n          // Send \"error.platform.id\" to this (parent).\n          _this.send(toSCXMLEvent(errorEvent, {\n            origin: id\n          }));\n        } catch (error) {\n          reportUnhandledExceptionOnInvocation(errorData, error, id);\n\n          if (_this.devTools) {\n            _this.devTools.send(errorEvent, _this.state);\n          }\n\n          if (_this.machine.strict) {\n            // it would be better to always stop the state machine if unhandled\n            // exception/promise rejection happens but because we don't want to\n            // break existing code so enforce it on strict mode only especially so\n            // because documentation says that onError is optional\n            _this.stop();\n          }\n        }\n      }\n    });\n    var actor = (_a = {\n      id: id,\n      send: function () {\n        return void 0;\n      },\n      subscribe: function (next, handleError, complete) {\n        var observer = toObserver(next, handleError, complete);\n        var unsubscribed = false;\n        promise.then(function (response) {\n          if (unsubscribed) {\n            return;\n          }\n\n          observer.next(response);\n\n          if (unsubscribed) {\n            return;\n          }\n\n          observer.complete();\n        }, function (err) {\n          if (unsubscribed) {\n            return;\n          }\n\n          observer.error(err);\n        });\n        return {\n          unsubscribe: function () {\n            return unsubscribed = true;\n          }\n        };\n      },\n      stop: function () {\n        canceled = true;\n      },\n      toJSON: function () {\n        return {\n          id: id\n        };\n      },\n      getSnapshot: function () {\n        return resolvedData;\n      }\n    }, _a[symbolObservable] = function () {\n      return this;\n    }, _a);\n    this.children.set(id, actor);\n    return actor;\n  };\n\n  Interpreter.prototype.spawnCallback = function (callback, id) {\n    var _a;\n\n    var _this = this;\n\n    var canceled = false;\n    var receivers = new Set();\n    var listeners = new Set();\n    var emitted;\n\n    var receive = function (e) {\n      emitted = e;\n      listeners.forEach(function (listener) {\n        return listener(e);\n      });\n\n      if (canceled) {\n        return;\n      }\n\n      _this.send(toSCXMLEvent(e, {\n        origin: id\n      }));\n    };\n\n    var callbackStop;\n\n    try {\n      callbackStop = callback(receive, function (newListener) {\n        receivers.add(newListener);\n      });\n    } catch (err) {\n      this.send(error(id, err));\n    }\n\n    if (isPromiseLike(callbackStop)) {\n      // it turned out to be an async function, can't reliably check this before calling `callback`\n      // because transpiled async functions are not recognizable\n      return this.spawnPromise(callbackStop, id);\n    }\n\n    var actor = (_a = {\n      id: id,\n      send: function (event) {\n        return receivers.forEach(function (receiver) {\n          return receiver(event);\n        });\n      },\n      subscribe: function (next) {\n        var observer = toObserver(next);\n        listeners.add(observer.next);\n        return {\n          unsubscribe: function () {\n            listeners.delete(observer.next);\n          }\n        };\n      },\n      stop: function () {\n        canceled = true;\n\n        if (isFunction(callbackStop)) {\n          callbackStop();\n        }\n      },\n      toJSON: function () {\n        return {\n          id: id\n        };\n      },\n      getSnapshot: function () {\n        return emitted;\n      }\n    }, _a[symbolObservable] = function () {\n      return this;\n    }, _a);\n    this.children.set(id, actor);\n    return actor;\n  };\n\n  Interpreter.prototype.spawnObservable = function (source, id) {\n    var _a;\n\n    var _this = this;\n\n    var emitted;\n    var subscription = source.subscribe(function (value) {\n      emitted = value;\n\n      _this.send(toSCXMLEvent(value, {\n        origin: id\n      }));\n    }, function (err) {\n      _this.removeChild(id);\n\n      _this.send(toSCXMLEvent(error(id, err), {\n        origin: id\n      }));\n    }, function () {\n      _this.removeChild(id);\n\n      _this.send(toSCXMLEvent(doneInvoke(id), {\n        origin: id\n      }));\n    });\n    var actor = (_a = {\n      id: id,\n      send: function () {\n        return void 0;\n      },\n      subscribe: function (next, handleError, complete) {\n        return source.subscribe(next, handleError, complete);\n      },\n      stop: function () {\n        return subscription.unsubscribe();\n      },\n      getSnapshot: function () {\n        return emitted;\n      },\n      toJSON: function () {\n        return {\n          id: id\n        };\n      }\n    }, _a[symbolObservable] = function () {\n      return this;\n    }, _a);\n    this.children.set(id, actor);\n    return actor;\n  };\n\n  Interpreter.prototype.spawnActor = function (actor, name) {\n    this.children.set(name, actor);\n    return actor;\n  };\n\n  Interpreter.prototype.spawnActivity = function (activity) {\n    var implementation = this.machine.options && this.machine.options.activities ? this.machine.options.activities[activity.type] : undefined;\n\n    if (!implementation) {\n      if (!IS_PRODUCTION) {\n        warn(false, \"No implementation found for activity '\".concat(activity.type, \"'\"));\n      } // tslint:disable-next-line:no-console\n\n\n      return;\n    } // Start implementation\n\n\n    var dispose = implementation(this.state.context, activity);\n    this.spawnEffect(activity.id, dispose);\n  };\n\n  Interpreter.prototype.spawnEffect = function (id, dispose) {\n    var _a;\n\n    this.children.set(id, (_a = {\n      id: id,\n      send: function () {\n        return void 0;\n      },\n      subscribe: function () {\n        return {\n          unsubscribe: function () {\n            return void 0;\n          }\n        };\n      },\n      stop: dispose || undefined,\n      getSnapshot: function () {\n        return undefined;\n      },\n      toJSON: function () {\n        return {\n          id: id\n        };\n      }\n    }, _a[symbolObservable] = function () {\n      return this;\n    }, _a));\n  };\n\n  Interpreter.prototype.attachDev = function () {\n    var global = getGlobal();\n\n    if (this.options.devTools && global) {\n      if (global.__REDUX_DEVTOOLS_EXTENSION__) {\n        var devToolsOptions = typeof this.options.devTools === 'object' ? this.options.devTools : undefined;\n        this.devTools = global.__REDUX_DEVTOOLS_EXTENSION__.connect(__assign(__assign({\n          name: this.id,\n          autoPause: true,\n          stateSanitizer: function (state) {\n            return {\n              value: state.value,\n              context: state.context,\n              actions: state.actions\n            };\n          }\n        }, devToolsOptions), {\n          features: __assign({\n            jump: false,\n            skip: false\n          }, devToolsOptions ? devToolsOptions.features : undefined)\n        }), this.machine);\n        this.devTools.init(this.state);\n      } // add XState-specific dev tooling hook\n\n\n      registerService(this);\n    }\n  };\n\n  Interpreter.prototype.toJSON = function () {\n    return {\n      id: this.id\n    };\n  };\n\n  Interpreter.prototype[symbolObservable] = function () {\n    return this;\n  };\n\n  Interpreter.prototype.getSnapshot = function () {\n    if (this.status === InterpreterStatus.NotStarted) {\n      return this.initialState;\n    }\n\n    return this._state;\n  };\n  /**\r\n   * The default interpreter options:\r\n   *\r\n   * - `clock` uses the global `setTimeout` and `clearTimeout` functions\r\n   * - `logger` uses the global `console.log()` method\r\n   */\n\n\n  Interpreter.defaultOptions = {\n    execute: true,\n    deferEvents: true,\n    clock: {\n      setTimeout: function (fn, ms) {\n        return setTimeout(fn, ms);\n      },\n      clearTimeout: function (id) {\n        return clearTimeout(id);\n      }\n    },\n    logger: /*#__PURE__*/console.log.bind(console),\n    devTools: false\n  };\n  Interpreter.interpret = interpret;\n  return Interpreter;\n}();\n\nvar resolveSpawnOptions = function (nameOrOptions) {\n  if (isString(nameOrOptions)) {\n    return __assign(__assign({}, DEFAULT_SPAWN_OPTIONS), {\n      name: nameOrOptions\n    });\n  }\n\n  return __assign(__assign(__assign({}, DEFAULT_SPAWN_OPTIONS), {\n    name: uniqueId()\n  }), nameOrOptions);\n};\n\nfunction spawn(entity, nameOrOptions) {\n  var resolvedOptions = resolveSpawnOptions(nameOrOptions);\n  return consume(function (service) {\n    if (!IS_PRODUCTION) {\n      var isLazyEntity = isMachine(entity) || isFunction(entity);\n      warn(!!service || isLazyEntity, \"Attempted to spawn an Actor (ID: \\\"\".concat(isMachine(entity) ? entity.id : 'undefined', \"\\\") outside of a service. This will have no effect.\"));\n    }\n\n    if (service) {\n      return service.spawn(entity, resolvedOptions.name, resolvedOptions);\n    } else {\n      return createDeferredActor(entity, resolvedOptions.name);\n    }\n  });\n}\n/**\r\n * Creates a new Interpreter instance for the given machine with the provided options, if any.\r\n *\r\n * @param machine The machine to interpret\r\n * @param options Interpreter options\r\n */\n\nfunction interpret(machine, options) {\n  var interpreter = new Interpreter(machine, options);\n  return interpreter;\n}\n\nexport { Interpreter, InterpreterStatus, interpret, spawn };\n","/**\r\n * Maintains a stack of the current service in scope.\r\n * This is used to provide the correct service to spawn().\r\n */\nvar serviceStack = [];\nvar provide = function (service, fn) {\n  serviceStack.push(service);\n  var result = fn(service);\n  serviceStack.pop();\n  return result;\n};\nvar consume = function (fn) {\n  return fn(serviceStack[serviceStack.length - 1]);\n};\n\nexport { consume, provide };\n","import { __values, __spreadArray, __read } from './_virtual/_tslib.js';\nimport { flatten } from './utils.js';\n\nvar isLeafNode = function (stateNode) {\n  return stateNode.type === 'atomic' || stateNode.type === 'final';\n};\nfunction getAllChildren(stateNode) {\n  return Object.keys(stateNode.states).map(function (key) {\n    return stateNode.states[key];\n  });\n}\nfunction getChildren(stateNode) {\n  return getAllChildren(stateNode).filter(function (sn) {\n    return sn.type !== 'history';\n  });\n}\nfunction getAllStateNodes(stateNode) {\n  var stateNodes = [stateNode];\n\n  if (isLeafNode(stateNode)) {\n    return stateNodes;\n  }\n\n  return stateNodes.concat(flatten(getChildren(stateNode).map(getAllStateNodes)));\n}\nfunction getConfiguration(prevStateNodes, stateNodes) {\n  var e_1, _a, e_2, _b, e_3, _c, e_4, _d;\n\n  var prevConfiguration = new Set(prevStateNodes);\n  var prevAdjList = getAdjList(prevConfiguration);\n  var configuration = new Set(stateNodes);\n\n  try {\n    // add all ancestors\n    for (var configuration_1 = __values(configuration), configuration_1_1 = configuration_1.next(); !configuration_1_1.done; configuration_1_1 = configuration_1.next()) {\n      var s = configuration_1_1.value;\n      var m = s.parent;\n\n      while (m && !configuration.has(m)) {\n        configuration.add(m);\n        m = m.parent;\n      }\n    }\n  } catch (e_1_1) {\n    e_1 = {\n      error: e_1_1\n    };\n  } finally {\n    try {\n      if (configuration_1_1 && !configuration_1_1.done && (_a = configuration_1.return)) _a.call(configuration_1);\n    } finally {\n      if (e_1) throw e_1.error;\n    }\n  }\n\n  var adjList = getAdjList(configuration);\n\n  try {\n    // add descendants\n    for (var configuration_2 = __values(configuration), configuration_2_1 = configuration_2.next(); !configuration_2_1.done; configuration_2_1 = configuration_2.next()) {\n      var s = configuration_2_1.value; // if previously active, add existing child nodes\n\n      if (s.type === 'compound' && (!adjList.get(s) || !adjList.get(s).length)) {\n        if (prevAdjList.get(s)) {\n          prevAdjList.get(s).forEach(function (sn) {\n            return configuration.add(sn);\n          });\n        } else {\n          s.initialStateNodes.forEach(function (sn) {\n            return configuration.add(sn);\n          });\n        }\n      } else {\n        if (s.type === 'parallel') {\n          try {\n            for (var _e = (e_3 = void 0, __values(getChildren(s))), _f = _e.next(); !_f.done; _f = _e.next()) {\n              var child = _f.value;\n\n              if (!configuration.has(child)) {\n                configuration.add(child);\n\n                if (prevAdjList.get(child)) {\n                  prevAdjList.get(child).forEach(function (sn) {\n                    return configuration.add(sn);\n                  });\n                } else {\n                  child.initialStateNodes.forEach(function (sn) {\n                    return configuration.add(sn);\n                  });\n                }\n              }\n            }\n          } catch (e_3_1) {\n            e_3 = {\n              error: e_3_1\n            };\n          } finally {\n            try {\n              if (_f && !_f.done && (_c = _e.return)) _c.call(_e);\n            } finally {\n              if (e_3) throw e_3.error;\n            }\n          }\n        }\n      }\n    }\n  } catch (e_2_1) {\n    e_2 = {\n      error: e_2_1\n    };\n  } finally {\n    try {\n      if (configuration_2_1 && !configuration_2_1.done && (_b = configuration_2.return)) _b.call(configuration_2);\n    } finally {\n      if (e_2) throw e_2.error;\n    }\n  }\n\n  try {\n    // add all ancestors\n    for (var configuration_3 = __values(configuration), configuration_3_1 = configuration_3.next(); !configuration_3_1.done; configuration_3_1 = configuration_3.next()) {\n      var s = configuration_3_1.value;\n      var m = s.parent;\n\n      while (m && !configuration.has(m)) {\n        configuration.add(m);\n        m = m.parent;\n      }\n    }\n  } catch (e_4_1) {\n    e_4 = {\n      error: e_4_1\n    };\n  } finally {\n    try {\n      if (configuration_3_1 && !configuration_3_1.done && (_d = configuration_3.return)) _d.call(configuration_3);\n    } finally {\n      if (e_4) throw e_4.error;\n    }\n  }\n\n  return configuration;\n}\n\nfunction getValueFromAdj(baseNode, adjList) {\n  var childStateNodes = adjList.get(baseNode);\n\n  if (!childStateNodes) {\n    return {}; // todo: fix?\n  }\n\n  if (baseNode.type === 'compound') {\n    var childStateNode = childStateNodes[0];\n\n    if (childStateNode) {\n      if (isLeafNode(childStateNode)) {\n        return childStateNode.key;\n      }\n    } else {\n      return {};\n    }\n  }\n\n  var stateValue = {};\n  childStateNodes.forEach(function (csn) {\n    stateValue[csn.key] = getValueFromAdj(csn, adjList);\n  });\n  return stateValue;\n}\n\nfunction getAdjList(configuration) {\n  var e_5, _a;\n\n  var adjList = new Map();\n\n  try {\n    for (var configuration_4 = __values(configuration), configuration_4_1 = configuration_4.next(); !configuration_4_1.done; configuration_4_1 = configuration_4.next()) {\n      var s = configuration_4_1.value;\n\n      if (!adjList.has(s)) {\n        adjList.set(s, []);\n      }\n\n      if (s.parent) {\n        if (!adjList.has(s.parent)) {\n          adjList.set(s.parent, []);\n        }\n\n        adjList.get(s.parent).push(s);\n      }\n    }\n  } catch (e_5_1) {\n    e_5 = {\n      error: e_5_1\n    };\n  } finally {\n    try {\n      if (configuration_4_1 && !configuration_4_1.done && (_a = configuration_4.return)) _a.call(configuration_4);\n    } finally {\n      if (e_5) throw e_5.error;\n    }\n  }\n\n  return adjList;\n}\nfunction getValue(rootNode, configuration) {\n  var config = getConfiguration([rootNode], configuration);\n  return getValueFromAdj(rootNode, getAdjList(config));\n}\nfunction has(iterable, item) {\n  if (Array.isArray(iterable)) {\n    return iterable.some(function (member) {\n      return member === item;\n    });\n  }\n\n  if (iterable instanceof Set) {\n    return iterable.has(item);\n  }\n\n  return false; // TODO: fix\n}\nfunction nextEvents(configuration) {\n  return __spreadArray([], __read(new Set(flatten(__spreadArray([], __read(configuration.map(function (sn) {\n    return sn.ownEvents;\n  })), false)))), false);\n}\nfunction isInFinalState(configuration, stateNode) {\n  if (stateNode.type === 'compound') {\n    return getChildren(stateNode).some(function (s) {\n      return s.type === 'final' && has(configuration, s);\n    });\n  }\n\n  if (stateNode.type === 'parallel') {\n    return getChildren(stateNode).every(function (sn) {\n      return isInFinalState(configuration, sn);\n    });\n  }\n\n  return false;\n}\nfunction getMeta(configuration) {\n  if (configuration === void 0) {\n    configuration = [];\n  }\n\n  return configuration.reduce(function (acc, stateNode) {\n    if (stateNode.meta !== undefined) {\n      acc[stateNode.id] = stateNode.meta;\n    }\n\n    return acc;\n  }, {});\n}\nfunction getTagsFromConfiguration(configuration) {\n  return new Set(flatten(configuration.map(function (sn) {\n    return sn.tags;\n  })));\n}\n\nexport { getAdjList, getAllChildren, getAllStateNodes, getChildren, getConfiguration, getMeta, getTagsFromConfiguration, getValue, has, isInFinalState, isLeafNode, nextEvents };\n","var ActionTypes;\n\n(function (ActionTypes) {\n  ActionTypes[\"Start\"] = \"xstate.start\";\n  ActionTypes[\"Stop\"] = \"xstate.stop\";\n  ActionTypes[\"Raise\"] = \"xstate.raise\";\n  ActionTypes[\"Send\"] = \"xstate.send\";\n  ActionTypes[\"Cancel\"] = \"xstate.cancel\";\n  ActionTypes[\"NullEvent\"] = \"\";\n  ActionTypes[\"Assign\"] = \"xstate.assign\";\n  ActionTypes[\"After\"] = \"xstate.after\";\n  ActionTypes[\"DoneState\"] = \"done.state\";\n  ActionTypes[\"DoneInvoke\"] = \"done.invoke\";\n  ActionTypes[\"Log\"] = \"xstate.log\";\n  ActionTypes[\"Init\"] = \"xstate.init\";\n  ActionTypes[\"Invoke\"] = \"xstate.invoke\";\n  ActionTypes[\"ErrorExecution\"] = \"error.execution\";\n  ActionTypes[\"ErrorCommunication\"] = \"error.communication\";\n  ActionTypes[\"ErrorPlatform\"] = \"error.platform\";\n  ActionTypes[\"ErrorCustom\"] = \"xstate.error\";\n  ActionTypes[\"Update\"] = \"xstate.update\";\n  ActionTypes[\"Pure\"] = \"xstate.pure\";\n  ActionTypes[\"Choose\"] = \"xstate.choose\";\n})(ActionTypes || (ActionTypes = {}));\n\nvar SpecialTargets;\n\n(function (SpecialTargets) {\n  SpecialTargets[\"Parent\"] = \"#_parent\";\n  SpecialTargets[\"Internal\"] = \"#_internal\";\n})(SpecialTargets || (SpecialTargets = {}));\n\nexport { ActionTypes, SpecialTargets };\n","import { __values, __spreadArray, __read, __assign } from './_virtual/_tslib.js';\nimport { SpecialTargets } from './types.js';\nimport { raise, send } from './actionTypes.js';\nimport { DEFAULT_GUARD_TYPE, TARGETLESS_KEY, STATE_DELIMITER } from './constants.js';\nimport { IS_PRODUCTION } from './environment.js';\n\nvar _a;\nfunction keys(value) {\n  return Object.keys(value);\n}\nfunction matchesState(parentStateId, childStateId, delimiter) {\n  if (delimiter === void 0) {\n    delimiter = STATE_DELIMITER;\n  }\n\n  var parentStateValue = toStateValue(parentStateId, delimiter);\n  var childStateValue = toStateValue(childStateId, delimiter);\n\n  if (isString(childStateValue)) {\n    if (isString(parentStateValue)) {\n      return childStateValue === parentStateValue;\n    } // Parent more specific than child\n\n\n    return false;\n  }\n\n  if (isString(parentStateValue)) {\n    return parentStateValue in childStateValue;\n  }\n\n  return Object.keys(parentStateValue).every(function (key) {\n    if (!(key in childStateValue)) {\n      return false;\n    }\n\n    return matchesState(parentStateValue[key], childStateValue[key]);\n  });\n}\nfunction getEventType(event) {\n  try {\n    return isString(event) || typeof event === 'number' ? \"\".concat(event) : event.type;\n  } catch (e) {\n    throw new Error('Events must be strings or objects with a string event.type property.');\n  }\n}\nfunction getActionType(action) {\n  try {\n    return isString(action) || typeof action === 'number' ? \"\".concat(action) : isFunction(action) ? action.name : action.type;\n  } catch (e) {\n    throw new Error('Actions must be strings or objects with a string action.type property.');\n  }\n}\nfunction toStatePath(stateId, delimiter) {\n  try {\n    if (isArray(stateId)) {\n      return stateId;\n    }\n\n    return stateId.toString().split(delimiter);\n  } catch (e) {\n    throw new Error(\"'\".concat(stateId, \"' is not a valid state path.\"));\n  }\n}\nfunction isStateLike(state) {\n  return typeof state === 'object' && 'value' in state && 'context' in state && 'event' in state && '_event' in state;\n}\nfunction toStateValue(stateValue, delimiter) {\n  if (isStateLike(stateValue)) {\n    return stateValue.value;\n  }\n\n  if (isArray(stateValue)) {\n    return pathToStateValue(stateValue);\n  }\n\n  if (typeof stateValue !== 'string') {\n    return stateValue;\n  }\n\n  var statePath = toStatePath(stateValue, delimiter);\n  return pathToStateValue(statePath);\n}\nfunction pathToStateValue(statePath) {\n  if (statePath.length === 1) {\n    return statePath[0];\n  }\n\n  var value = {};\n  var marker = value;\n\n  for (var i = 0; i < statePath.length - 1; i++) {\n    if (i === statePath.length - 2) {\n      marker[statePath[i]] = statePath[i + 1];\n    } else {\n      marker[statePath[i]] = {};\n      marker = marker[statePath[i]];\n    }\n  }\n\n  return value;\n}\nfunction mapValues(collection, iteratee) {\n  var result = {};\n  var collectionKeys = Object.keys(collection);\n\n  for (var i = 0; i < collectionKeys.length; i++) {\n    var key = collectionKeys[i];\n    result[key] = iteratee(collection[key], key, collection, i);\n  }\n\n  return result;\n}\nfunction mapFilterValues(collection, iteratee, predicate) {\n  var e_1, _a;\n\n  var result = {};\n\n  try {\n    for (var _b = __values(Object.keys(collection)), _c = _b.next(); !_c.done; _c = _b.next()) {\n      var key = _c.value;\n      var item = collection[key];\n\n      if (!predicate(item)) {\n        continue;\n      }\n\n      result[key] = iteratee(item, key, collection);\n    }\n  } catch (e_1_1) {\n    e_1 = {\n      error: e_1_1\n    };\n  } finally {\n    try {\n      if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n    } finally {\n      if (e_1) throw e_1.error;\n    }\n  }\n\n  return result;\n}\n/**\r\n * Retrieves a value at the given path.\r\n * @param props The deep path to the prop of the desired value\r\n */\n\nvar path = function (props) {\n  return function (object) {\n    var e_2, _a;\n\n    var result = object;\n\n    try {\n      for (var props_1 = __values(props), props_1_1 = props_1.next(); !props_1_1.done; props_1_1 = props_1.next()) {\n        var prop = props_1_1.value;\n        result = result[prop];\n      }\n    } catch (e_2_1) {\n      e_2 = {\n        error: e_2_1\n      };\n    } finally {\n      try {\n        if (props_1_1 && !props_1_1.done && (_a = props_1.return)) _a.call(props_1);\n      } finally {\n        if (e_2) throw e_2.error;\n      }\n    }\n\n    return result;\n  };\n};\n/**\r\n * Retrieves a value at the given path via the nested accessor prop.\r\n * @param props The deep path to the prop of the desired value\r\n */\n\nfunction nestedPath(props, accessorProp) {\n  return function (object) {\n    var e_3, _a;\n\n    var result = object;\n\n    try {\n      for (var props_2 = __values(props), props_2_1 = props_2.next(); !props_2_1.done; props_2_1 = props_2.next()) {\n        var prop = props_2_1.value;\n        result = result[accessorProp][prop];\n      }\n    } catch (e_3_1) {\n      e_3 = {\n        error: e_3_1\n      };\n    } finally {\n      try {\n        if (props_2_1 && !props_2_1.done && (_a = props_2.return)) _a.call(props_2);\n      } finally {\n        if (e_3) throw e_3.error;\n      }\n    }\n\n    return result;\n  };\n}\nfunction toStatePaths(stateValue) {\n  if (!stateValue) {\n    return [[]];\n  }\n\n  if (isString(stateValue)) {\n    return [[stateValue]];\n  }\n\n  var result = flatten(Object.keys(stateValue).map(function (key) {\n    var subStateValue = stateValue[key];\n\n    if (typeof subStateValue !== 'string' && (!subStateValue || !Object.keys(subStateValue).length)) {\n      return [[key]];\n    }\n\n    return toStatePaths(stateValue[key]).map(function (subPath) {\n      return [key].concat(subPath);\n    });\n  }));\n  return result;\n}\nfunction pathsToStateValue(paths) {\n  var e_4, _a;\n\n  var result = {};\n\n  if (paths && paths.length === 1 && paths[0].length === 1) {\n    return paths[0][0];\n  }\n\n  try {\n    for (var paths_1 = __values(paths), paths_1_1 = paths_1.next(); !paths_1_1.done; paths_1_1 = paths_1.next()) {\n      var currentPath = paths_1_1.value;\n      var marker = result; // tslint:disable-next-line:prefer-for-of\n\n      for (var i = 0; i < currentPath.length; i++) {\n        var subPath = currentPath[i];\n\n        if (i === currentPath.length - 2) {\n          marker[subPath] = currentPath[i + 1];\n          break;\n        }\n\n        marker[subPath] = marker[subPath] || {};\n        marker = marker[subPath];\n      }\n    }\n  } catch (e_4_1) {\n    e_4 = {\n      error: e_4_1\n    };\n  } finally {\n    try {\n      if (paths_1_1 && !paths_1_1.done && (_a = paths_1.return)) _a.call(paths_1);\n    } finally {\n      if (e_4) throw e_4.error;\n    }\n  }\n\n  return result;\n}\nfunction flatten(array) {\n  var _a;\n\n  return (_a = []).concat.apply(_a, __spreadArray([], __read(array), false));\n}\nfunction toArrayStrict(value) {\n  if (isArray(value)) {\n    return value;\n  }\n\n  return [value];\n}\nfunction toArray(value) {\n  if (value === undefined) {\n    return [];\n  }\n\n  return toArrayStrict(value);\n}\nfunction mapContext(mapper, context, _event) {\n  var e_5, _a;\n\n  if (isFunction(mapper)) {\n    return mapper(context, _event.data);\n  }\n\n  var result = {};\n\n  try {\n    for (var _b = __values(Object.keys(mapper)), _c = _b.next(); !_c.done; _c = _b.next()) {\n      var key = _c.value;\n      var subMapper = mapper[key];\n\n      if (isFunction(subMapper)) {\n        result[key] = subMapper(context, _event.data);\n      } else {\n        result[key] = subMapper;\n      }\n    }\n  } catch (e_5_1) {\n    e_5 = {\n      error: e_5_1\n    };\n  } finally {\n    try {\n      if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n    } finally {\n      if (e_5) throw e_5.error;\n    }\n  }\n\n  return result;\n}\nfunction isBuiltInEvent(eventType) {\n  return /^(done|error)\\./.test(eventType);\n}\nfunction isPromiseLike(value) {\n  if (value instanceof Promise) {\n    return true;\n  } // Check if shape matches the Promise/A+ specification for a \"thenable\".\n\n\n  if (value !== null && (isFunction(value) || typeof value === 'object') && isFunction(value.then)) {\n    return true;\n  }\n\n  return false;\n}\nfunction isBehavior(value) {\n  return value !== null && typeof value === 'object' && 'transition' in value && typeof value.transition === 'function';\n}\nfunction partition(items, predicate) {\n  var e_6, _a;\n\n  var _b = __read([[], []], 2),\n      truthy = _b[0],\n      falsy = _b[1];\n\n  try {\n    for (var items_1 = __values(items), items_1_1 = items_1.next(); !items_1_1.done; items_1_1 = items_1.next()) {\n      var item = items_1_1.value;\n\n      if (predicate(item)) {\n        truthy.push(item);\n      } else {\n        falsy.push(item);\n      }\n    }\n  } catch (e_6_1) {\n    e_6 = {\n      error: e_6_1\n    };\n  } finally {\n    try {\n      if (items_1_1 && !items_1_1.done && (_a = items_1.return)) _a.call(items_1);\n    } finally {\n      if (e_6) throw e_6.error;\n    }\n  }\n\n  return [truthy, falsy];\n}\nfunction updateHistoryStates(hist, stateValue) {\n  return mapValues(hist.states, function (subHist, key) {\n    if (!subHist) {\n      return undefined;\n    }\n\n    var subStateValue = (isString(stateValue) ? undefined : stateValue[key]) || (subHist ? subHist.current : undefined);\n\n    if (!subStateValue) {\n      return undefined;\n    }\n\n    return {\n      current: subStateValue,\n      states: updateHistoryStates(subHist, subStateValue)\n    };\n  });\n}\nfunction updateHistoryValue(hist, stateValue) {\n  return {\n    current: stateValue,\n    states: updateHistoryStates(hist, stateValue)\n  };\n}\nfunction updateContext(context, _event, assignActions, state) {\n  if (!IS_PRODUCTION) {\n    warn(!!context, 'Attempting to update undefined context');\n  }\n\n  var updatedContext = context ? assignActions.reduce(function (acc, assignAction) {\n    var e_7, _a;\n\n    var assignment = assignAction.assignment;\n    var meta = {\n      state: state,\n      action: assignAction,\n      _event: _event\n    };\n    var partialUpdate = {};\n\n    if (isFunction(assignment)) {\n      partialUpdate = assignment(acc, _event.data, meta);\n    } else {\n      try {\n        for (var _b = __values(Object.keys(assignment)), _c = _b.next(); !_c.done; _c = _b.next()) {\n          var key = _c.value;\n          var propAssignment = assignment[key];\n          partialUpdate[key] = isFunction(propAssignment) ? propAssignment(acc, _event.data, meta) : propAssignment;\n        }\n      } catch (e_7_1) {\n        e_7 = {\n          error: e_7_1\n        };\n      } finally {\n        try {\n          if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        } finally {\n          if (e_7) throw e_7.error;\n        }\n      }\n    }\n\n    return Object.assign({}, acc, partialUpdate);\n  }, context) : context;\n  return updatedContext;\n} // tslint:disable-next-line:no-empty\n\nvar warn = function () {};\n\nif (!IS_PRODUCTION) {\n  warn = function (condition, message) {\n    var error = condition instanceof Error ? condition : undefined;\n\n    if (!error && condition) {\n      return;\n    }\n\n    if (console !== undefined) {\n      var args = [\"Warning: \".concat(message)];\n\n      if (error) {\n        args.push(error);\n      } // tslint:disable-next-line:no-console\n\n\n      console.warn.apply(console, args);\n    }\n  };\n}\nfunction isArray(value) {\n  return Array.isArray(value);\n} // tslint:disable-next-line:ban-types\n\nfunction isFunction(value) {\n  return typeof value === 'function';\n}\nfunction isString(value) {\n  return typeof value === 'string';\n}\nfunction toGuard(condition, guardMap) {\n  if (!condition) {\n    return undefined;\n  }\n\n  if (isString(condition)) {\n    return {\n      type: DEFAULT_GUARD_TYPE,\n      name: condition,\n      predicate: guardMap ? guardMap[condition] : undefined\n    };\n  }\n\n  if (isFunction(condition)) {\n    return {\n      type: DEFAULT_GUARD_TYPE,\n      name: condition.name,\n      predicate: condition\n    };\n  }\n\n  return condition;\n}\nfunction isObservable(value) {\n  try {\n    return 'subscribe' in value && isFunction(value.subscribe);\n  } catch (e) {\n    return false;\n  }\n}\nvar symbolObservable = /*#__PURE__*/function () {\n  return typeof Symbol === 'function' && Symbol.observable || '@@observable';\n}(); // TODO: to be removed in v5, left it out just to minimize the scope of the change and maintain compatibility with older versions of integration paackages\n\nvar interopSymbols = (_a = {}, _a[symbolObservable] = function () {\n  return this;\n}, _a[Symbol.observable] = function () {\n  return this;\n}, _a);\nfunction isMachine(value) {\n  return !!value && '__xstatenode' in value;\n}\nfunction isActor(value) {\n  return !!value && typeof value.send === 'function';\n}\nvar uniqueId = /*#__PURE__*/function () {\n  var currentId = 0;\n  return function () {\n    currentId++;\n    return currentId.toString(16);\n  };\n}();\nfunction toEventObject(event, payload // id?: TEvent['type']\n) {\n  if (isString(event) || typeof event === 'number') {\n    return __assign({\n      type: event\n    }, payload);\n  }\n\n  return event;\n}\nfunction toSCXMLEvent(event, scxmlEvent) {\n  if (!isString(event) && '$$type' in event && event.$$type === 'scxml') {\n    return event;\n  }\n\n  var eventObject = toEventObject(event);\n  return __assign({\n    name: eventObject.type,\n    data: eventObject,\n    $$type: 'scxml',\n    type: 'external'\n  }, scxmlEvent);\n}\nfunction toTransitionConfigArray(event, configLike) {\n  var transitions = toArrayStrict(configLike).map(function (transitionLike) {\n    if (typeof transitionLike === 'undefined' || typeof transitionLike === 'string' || isMachine(transitionLike)) {\n      return {\n        target: transitionLike,\n        event: event\n      };\n    }\n\n    return __assign(__assign({}, transitionLike), {\n      event: event\n    });\n  });\n  return transitions;\n}\nfunction normalizeTarget(target) {\n  if (target === undefined || target === TARGETLESS_KEY) {\n    return undefined;\n  }\n\n  return toArray(target);\n}\nfunction reportUnhandledExceptionOnInvocation(originalError, currentError, id) {\n  if (!IS_PRODUCTION) {\n    var originalStackTrace = originalError.stack ? \" Stacktrace was '\".concat(originalError.stack, \"'\") : '';\n\n    if (originalError === currentError) {\n      // tslint:disable-next-line:no-console\n      console.error(\"Missing onError handler for invocation '\".concat(id, \"', error was '\").concat(originalError, \"'.\").concat(originalStackTrace));\n    } else {\n      var stackTrace = currentError.stack ? \" Stacktrace was '\".concat(currentError.stack, \"'\") : ''; // tslint:disable-next-line:no-console\n\n      console.error(\"Missing onError handler and/or unhandled exception/promise rejection for invocation '\".concat(id, \"'. \") + \"Original error: '\".concat(originalError, \"'. \").concat(originalStackTrace, \" Current error is '\").concat(currentError, \"'.\").concat(stackTrace));\n    }\n  }\n}\nfunction evaluateGuard(machine, guard, context, _event, state) {\n  var guards = machine.options.guards;\n  var guardMeta = {\n    state: state,\n    cond: guard,\n    _event: _event\n  }; // TODO: do not hardcode!\n\n  if (guard.type === DEFAULT_GUARD_TYPE) {\n    return ((guards === null || guards === void 0 ? void 0 : guards[guard.name]) || guard.predicate)(context, _event.data, guardMeta);\n  }\n\n  var condFn = guards === null || guards === void 0 ? void 0 : guards[guard.type];\n\n  if (!condFn) {\n    throw new Error(\"Guard '\".concat(guard.type, \"' is not implemented on machine '\").concat(machine.id, \"'.\"));\n  }\n\n  return condFn(context, _event.data, guardMeta);\n}\nfunction toInvokeSource(src) {\n  if (typeof src === 'string') {\n    return {\n      type: src\n    };\n  }\n\n  return src;\n}\nfunction toObserver(nextHandler, errorHandler, completionHandler) {\n  var noop = function () {};\n\n  var isObserver = typeof nextHandler === 'object';\n  var self = isObserver ? nextHandler : null;\n  return {\n    next: ((isObserver ? nextHandler.next : nextHandler) || noop).bind(self),\n    error: ((isObserver ? nextHandler.error : errorHandler) || noop).bind(self),\n    complete: ((isObserver ? nextHandler.complete : completionHandler) || noop).bind(self)\n  };\n}\nfunction createInvokeId(stateNodeId, index) {\n  return \"\".concat(stateNodeId, \":invocation[\").concat(index, \"]\");\n}\nfunction isRaisableAction(action) {\n  return (action.type === raise || action.type === send && action.to === SpecialTargets.Internal) && typeof action.delay !== 'number';\n}\n\nexport { createInvokeId, evaluateGuard, flatten, getActionType, getEventType, interopSymbols, isActor, isArray, isBehavior, isBuiltInEvent, isFunction, isMachine, isObservable, isPromiseLike, isRaisableAction, isStateLike, isString, keys, mapContext, mapFilterValues, mapValues, matchesState, nestedPath, normalizeTarget, partition, path, pathToStateValue, pathsToStateValue, reportUnhandledExceptionOnInvocation, symbolObservable, toArray, toArrayStrict, toEventObject, toGuard, toInvokeSource, toObserver, toSCXMLEvent, toStatePath, toStatePaths, toStateValue, toTransitionConfigArray, uniqueId, updateContext, updateHistoryStates, updateHistoryValue, warn };\n","// Copyright 2021-2024 Buf Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n/* eslint-disable @typescript-eslint/ban-ts-comment, @typescript-eslint/no-unnecessary-condition, prefer-const */\n/**\n * Decodes a base64 string to a byte array.\n *\n * - ignores white-space, including line breaks and tabs\n * - allows inner padding (can decode concatenated base64 strings)\n * - does not require padding\n * - understands base64url encoding:\n *   \"-\" instead of \"+\",\n *   \"_\" instead of \"/\",\n *   no padding\n */\nexport function base64Decode(base64Str) {\n    const table = getDecodeTable();\n    // estimate byte size, not accounting for inner padding and whitespace\n    let es = (base64Str.length * 3) / 4;\n    if (base64Str[base64Str.length - 2] == \"=\")\n        es -= 2;\n    else if (base64Str[base64Str.length - 1] == \"=\")\n        es -= 1;\n    let bytes = new Uint8Array(es), bytePos = 0, // position in byte array\n    groupPos = 0, // position in base64 group\n    b, // current byte\n    p = 0; // previous byte\n    for (let i = 0; i < base64Str.length; i++) {\n        b = table[base64Str.charCodeAt(i)];\n        if (b === undefined) {\n            switch (base64Str[i]) {\n                // @ts-expect-error TS7029: Fallthrough case in switch\n                case \"=\":\n                    groupPos = 0; // reset state when padding found\n                // eslint-disable-next-line no-fallthrough\n                case \"\\n\":\n                case \"\\r\":\n                case \"\\t\":\n                case \" \":\n                    continue; // skip white-space, and padding\n                default:\n                    throw Error(\"invalid base64 string\");\n            }\n        }\n        switch (groupPos) {\n            case 0:\n                p = b;\n                groupPos = 1;\n                break;\n            case 1:\n                bytes[bytePos++] = (p << 2) | ((b & 48) >> 4);\n                p = b;\n                groupPos = 2;\n                break;\n            case 2:\n                bytes[bytePos++] = ((p & 15) << 4) | ((b & 60) >> 2);\n                p = b;\n                groupPos = 3;\n                break;\n            case 3:\n                bytes[bytePos++] = ((p & 3) << 6) | b;\n                groupPos = 0;\n                break;\n        }\n    }\n    if (groupPos == 1)\n        throw Error(\"invalid base64 string\");\n    return bytes.subarray(0, bytePos);\n}\n/**\n * Encode a byte array to a base64 string.\n *\n * By default, this function uses the standard base64 encoding with padding.\n *\n * To encode without padding, use encoding = \"std_raw\".\n *\n * To encode with the URL encoding, use encoding = \"url\", which replaces the\n * characters +/ by their URL-safe counterparts -_, and omits padding.\n */\nexport function base64Encode(bytes, encoding = \"std\") {\n    const table = getEncodeTable(encoding);\n    const pad = encoding == \"std\";\n    let base64 = \"\", groupPos = 0, // position in base64 group\n    b, // current byte\n    p = 0; // carry over from previous byte\n    for (let i = 0; i < bytes.length; i++) {\n        b = bytes[i];\n        switch (groupPos) {\n            case 0:\n                base64 += table[b >> 2];\n                p = (b & 3) << 4;\n                groupPos = 1;\n                break;\n            case 1:\n                base64 += table[p | (b >> 4)];\n                p = (b & 15) << 2;\n                groupPos = 2;\n                break;\n            case 2:\n                base64 += table[p | (b >> 6)];\n                base64 += table[b & 63];\n                groupPos = 0;\n                break;\n        }\n    }\n    // add output padding\n    if (groupPos) {\n        base64 += table[p];\n        if (pad) {\n            base64 += \"=\";\n            if (groupPos == 1)\n                base64 += \"=\";\n        }\n    }\n    return base64;\n}\n// lookup table from base64 character to byte\nlet encodeTableStd;\nlet encodeTableUrl;\n// lookup table from base64 character *code* to byte because lookup by number is fast\nlet decodeTable;\nfunction getEncodeTable(encoding) {\n    if (!encodeTableStd) {\n        encodeTableStd =\n            \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".split(\"\");\n        encodeTableUrl = encodeTableStd.slice(0, -2).concat(\"-\", \"_\");\n    }\n    return encoding == \"url\" ? encodeTableUrl : encodeTableStd;\n}\nfunction getDecodeTable() {\n    if (!decodeTable) {\n        decodeTable = [];\n        const encodeTable = getEncodeTable(\"std\");\n        for (let i = 0; i < encodeTable.length; i++)\n            decodeTable[encodeTable[i].charCodeAt(0)] = i;\n        // support base64url variants\n        decodeTable[\"-\".charCodeAt(0)] = encodeTable.indexOf(\"+\");\n        decodeTable[\"_\".charCodeAt(0)] = encodeTable.indexOf(\"/\");\n    }\n    return decodeTable;\n}\n","// Copyright 2021-2024 Buf Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n/**\n * Converts snake_case to protoCamelCase according to the convention\n * used by protoc to convert a field name to a JSON name.\n */\nexport function protoCamelCase(snakeCase) {\n    let capNext = false;\n    const b = [];\n    for (let i = 0; i < snakeCase.length; i++) {\n        let c = snakeCase.charAt(i);\n        switch (c) {\n            case \"_\":\n                capNext = true;\n                break;\n            case \"0\":\n            case \"1\":\n            case \"2\":\n            case \"3\":\n            case \"4\":\n            case \"5\":\n            case \"6\":\n            case \"7\":\n            case \"8\":\n            case \"9\":\n                b.push(c);\n                capNext = false;\n                break;\n            default:\n                if (capNext) {\n                    capNext = false;\n                    c = c.toUpperCase();\n                }\n                b.push(c);\n                break;\n        }\n    }\n    return b.join(\"\");\n}\n/**\n * Names that cannot be used for object properties because they are reserved\n * by built-in JavaScript properties.\n */\nconst reservedObjectProperties = new Set([\n    // names reserved by JavaScript\n    \"constructor\",\n    \"toString\",\n    \"toJSON\",\n    \"valueOf\",\n]);\n/**\n * Escapes names that are reserved for ECMAScript built-in object properties.\n *\n * Also see safeIdentifier() from @bufbuild/protoplugin.\n */\nexport function safeObjectProperty(name) {\n    return reservedObjectProperties.has(name) ? name + \"$\" : name;\n}\n","// Copyright 2021-2024 Buf Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { protoCamelCase } from \"../reflect/names.js\";\nimport { unsafeIsSetExplicit } from \"../reflect/unsafe.js\";\n/**\n * @private\n */\nexport function restoreJsonNames(message) {\n    for (const f of message.field) {\n        if (!unsafeIsSetExplicit(f, \"jsonName\")) {\n            f.jsonName = protoCamelCase(f.name);\n        }\n    }\n    message.nestedType.forEach(restoreJsonNames);\n}\n","// Copyright 2021-2024 Buf Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { ScalarType } from \"../descriptors.js\";\nimport { protoInt64 } from \"../proto-int64.js\";\n/* eslint-disable @typescript-eslint/restrict-template-expressions */\n/**\n * Parse an enum value from the Protobuf text format.\n *\n * @private\n */\nexport function parseTextFormatEnumValue(descEnum, value) {\n    const enumValue = descEnum.values.find((v) => v.name === value);\n    if (!enumValue) {\n        throw new Error(`cannot parse ${descEnum} default value: ${value}`);\n    }\n    return enumValue.number;\n}\n/**\n * Parse a scalar value from the Protobuf text format.\n *\n * @private\n */\nexport function parseTextFormatScalarValue(type, value) {\n    switch (type) {\n        case ScalarType.STRING:\n            return value;\n        case ScalarType.BYTES: {\n            const u = unescapeBytesDefaultValue(value);\n            if (u === false) {\n                throw new Error(`cannot parse ${ScalarType[type]} default value: ${value}`);\n            }\n            return u;\n        }\n        case ScalarType.INT64:\n        case ScalarType.SFIXED64:\n        case ScalarType.SINT64:\n            return protoInt64.parse(value);\n        case ScalarType.UINT64:\n        case ScalarType.FIXED64:\n            return protoInt64.uParse(value);\n        case ScalarType.DOUBLE:\n        case ScalarType.FLOAT:\n            switch (value) {\n                case \"inf\":\n                    return Number.POSITIVE_INFINITY;\n                case \"-inf\":\n                    return Number.NEGATIVE_INFINITY;\n                case \"nan\":\n                    return Number.NaN;\n                default:\n                    return parseFloat(value);\n            }\n        case ScalarType.BOOL:\n            return value === \"true\";\n        case ScalarType.INT32:\n        case ScalarType.UINT32:\n        case ScalarType.SINT32:\n        case ScalarType.FIXED32:\n        case ScalarType.SFIXED32:\n            return parseInt(value, 10);\n    }\n}\n/**\n * Parses a text-encoded default value (proto2) of a BYTES field.\n */\nfunction unescapeBytesDefaultValue(str) {\n    const b = [];\n    const input = {\n        tail: str,\n        c: \"\",\n        next() {\n            if (this.tail.length == 0) {\n                return false;\n            }\n            this.c = this.tail[0];\n            this.tail = this.tail.substring(1);\n            return true;\n        },\n        take(n) {\n            if (this.tail.length >= n) {\n                const r = this.tail.substring(0, n);\n                this.tail = this.tail.substring(n);\n                return r;\n            }\n            return false;\n        },\n    };\n    while (input.next()) {\n        switch (input.c) {\n            case \"\\\\\":\n                if (input.next()) {\n                    switch (input.c) {\n                        case \"\\\\\":\n                            b.push(input.c.charCodeAt(0));\n                            break;\n                        case \"b\":\n                            b.push(0x08);\n                            break;\n                        case \"f\":\n                            b.push(0x0c);\n                            break;\n                        case \"n\":\n                            b.push(0x0a);\n                            break;\n                        case \"r\":\n                            b.push(0x0d);\n                            break;\n                        case \"t\":\n                            b.push(0x09);\n                            break;\n                        case \"v\":\n                            b.push(0x0b);\n                            break;\n                        case \"0\":\n                        case \"1\":\n                        case \"2\":\n                        case \"3\":\n                        case \"4\":\n                        case \"5\":\n                        case \"6\":\n                        case \"7\": {\n                            const s = input.c;\n                            const t = input.take(2);\n                            if (t === false) {\n                                return false;\n                            }\n                            const n = parseInt(s + t, 8);\n                            if (isNaN(n)) {\n                                return false;\n                            }\n                            b.push(n);\n                            break;\n                        }\n                        case \"x\": {\n                            const s = input.c;\n                            const t = input.take(2);\n                            if (t === false) {\n                                return false;\n                            }\n                            const n = parseInt(s + t, 16);\n                            if (isNaN(n)) {\n                                return false;\n                            }\n                            b.push(n);\n                            break;\n                        }\n                        case \"u\": {\n                            const s = input.c;\n                            const t = input.take(4);\n                            if (t === false) {\n                                return false;\n                            }\n                            const n = parseInt(s + t, 16);\n                            if (isNaN(n)) {\n                                return false;\n                            }\n                            const chunk = new Uint8Array(4);\n                            const view = new DataView(chunk.buffer);\n                            view.setInt32(0, n, true);\n                            b.push(chunk[0], chunk[1], chunk[2], chunk[3]);\n                            break;\n                        }\n                        case \"U\": {\n                            const s = input.c;\n                            const t = input.take(8);\n                            if (t === false) {\n                                return false;\n                            }\n                            const tc = protoInt64.uEnc(s + t);\n                            const chunk = new Uint8Array(8);\n                            const view = new DataView(chunk.buffer);\n                            view.setInt32(0, tc.lo, true);\n                            view.setInt32(4, tc.hi, true);\n                            b.push(chunk[0], chunk[1], chunk[2], chunk[3], chunk[4], chunk[5], chunk[6], chunk[7]);\n                            break;\n                        }\n                    }\n                }\n                break;\n            default:\n                b.push(input.c.charCodeAt(0));\n        }\n    }\n    return new Uint8Array(b);\n}\n","// Copyright 2021-2024 Buf Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n/**\n * Iterate over all types - enumerations, extensions, services, messages -\n * and enumerations, extensions and messages nested in messages.\n */\nexport function* nestedTypes(desc) {\n    switch (desc.kind) {\n        case \"file\":\n            for (const message of desc.messages) {\n                yield message;\n                yield* nestedTypes(message);\n            }\n            yield* desc.enums;\n            yield* desc.services;\n            yield* desc.extensions;\n            break;\n        case \"message\":\n            for (const message of desc.nestedMessages) {\n                yield message;\n                yield* nestedTypes(message);\n            }\n            yield* desc.nestedEnums;\n            yield* desc.nestedExtensions;\n            break;\n    }\n}\n/**\n * Returns the ancestors of a given Protobuf element, up to the file.\n */\nexport function parentTypes(desc) {\n    const parents = [];\n    while (desc.kind !== \"file\") {\n        const p = parent(desc);\n        desc = p;\n        parents.push(p);\n    }\n    return parents;\n}\nfunction parent(desc) {\n    var _a;\n    switch (desc.kind) {\n        case \"enum_value\":\n        case \"field\":\n        case \"oneof\":\n        case \"rpc\":\n            return desc.parent;\n        case \"service\":\n            return desc.file;\n        case \"extension\":\n        case \"enum\":\n        case \"message\":\n            return (_a = desc.parent) !== null && _a !== void 0 ? _a : desc.file;\n    }\n}\n","// Copyright 2021-2024 Buf Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { ScalarType, } from \"./descriptors.js\";\nimport { parseTextFormatEnumValue, parseTextFormatScalarValue, } from \"./wire/text-format.js\";\nimport { nestedTypes } from \"./reflect/nested-types.js\";\nimport { unsafeIsSetExplicit } from \"./reflect/unsafe.js\";\nimport { protoCamelCase, safeObjectProperty } from \"./reflect/names.js\";\n/**\n * Create a registry from the given inputs.\n *\n * An input can be:\n * - Any message, enum, service, or extension descriptor, which adds just the\n *   descriptor for this type.\n * - A file descriptor, which adds all typed defined in this file.\n * - A registry, which adds all types from the registry.\n *\n * For duplicate descriptors (same type name), the one given last wins.\n */\nexport function createRegistry(...input) {\n    return initBaseRegistry(input);\n}\n/**\n * Create a registry that allows adding and removing descriptors.\n */\nexport function createMutableRegistry(...input) {\n    const reg = initBaseRegistry(input);\n    return Object.assign(Object.assign({}, reg), { remove(desc) {\n            var _a;\n            if (desc.kind == \"extension\") {\n                (_a = reg.extendees.get(desc.extendee.typeName)) === null || _a === void 0 ? void 0 : _a.delete(desc.number);\n            }\n            reg.types.delete(desc.typeName);\n        } });\n}\nexport function createFileRegistry(...args) {\n    const registry = createBaseRegistry();\n    if (!args.length) {\n        return registry;\n    }\n    if (\"$typeName\" in args[0] &&\n        args[0].$typeName == \"google.protobuf.FileDescriptorSet\") {\n        for (const file of args[0].file) {\n            addFile(file, registry);\n        }\n        return registry;\n    }\n    if (\"$typeName\" in args[0]) {\n        const input = args[0];\n        const resolve = args[1];\n        const seen = new Set();\n        // eslint-disable-next-line no-inner-declarations\n        function recurseDeps(file) {\n            const deps = [];\n            for (const protoFileName of file.dependency) {\n                if (registry.getFile(protoFileName) != undefined) {\n                    continue;\n                }\n                if (seen.has(protoFileName)) {\n                    continue;\n                }\n                const dep = resolve(protoFileName);\n                if (!dep) {\n                    throw new Error(`Unable to resolve ${protoFileName}, imported by ${file.name}`);\n                }\n                if (\"kind\" in dep) {\n                    registry.addFile(dep, false, true);\n                }\n                else {\n                    seen.add(dep.name);\n                    deps.push(dep);\n                }\n            }\n            return deps.concat(...deps.map(recurseDeps));\n        }\n        for (const file of [input, ...recurseDeps(input)].reverse()) {\n            addFile(file, registry);\n        }\n    }\n    else {\n        for (const fileReg of args) {\n            for (const file of fileReg.files) {\n                registry.addFile(file);\n            }\n        }\n    }\n    return registry;\n}\n/**\n * @private\n */\nfunction createBaseRegistry() {\n    const types = new Map();\n    const extendees = new Map();\n    const files = new Map();\n    return {\n        kind: \"registry\",\n        types,\n        extendees,\n        [Symbol.iterator]() {\n            return types.values();\n        },\n        get files() {\n            return files.values();\n        },\n        addFile(file, skipTypes, withDeps) {\n            files.set(file.proto.name, file);\n            // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions\n            if (!skipTypes) {\n                for (const type of nestedTypes(file)) {\n                    this.add(type);\n                }\n            }\n            // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions\n            if (withDeps) {\n                for (const f of file.dependencies) {\n                    this.addFile(f, skipTypes, withDeps);\n                }\n            }\n        },\n        add(desc) {\n            if (desc.kind == \"extension\") {\n                let numberToExt = extendees.get(desc.extendee.typeName);\n                if (!numberToExt) {\n                    extendees.set(desc.extendee.typeName, (numberToExt = new Map()));\n                }\n                numberToExt.set(desc.number, desc);\n            }\n            types.set(desc.typeName, desc);\n        },\n        get(typeName) {\n            return types.get(typeName);\n        },\n        getFile(fileName) {\n            return files.get(fileName);\n        },\n        getMessage(typeName) {\n            const t = types.get(typeName);\n            return (t === null || t === void 0 ? void 0 : t.kind) == \"message\" ? t : undefined;\n        },\n        getEnum(typeName) {\n            const t = types.get(typeName);\n            return (t === null || t === void 0 ? void 0 : t.kind) == \"enum\" ? t : undefined;\n        },\n        getExtension(typeName) {\n            const t = types.get(typeName);\n            return (t === null || t === void 0 ? void 0 : t.kind) == \"extension\" ? t : undefined;\n        },\n        getExtensionFor(extendee, no) {\n            var _a;\n            return (_a = extendees.get(extendee.typeName)) === null || _a === void 0 ? void 0 : _a.get(no);\n        },\n        getService(typeName) {\n            const t = types.get(typeName);\n            return (t === null || t === void 0 ? void 0 : t.kind) == \"service\" ? t : undefined;\n        },\n    };\n}\n/**\n * @private\n */\nfunction initBaseRegistry(inputs) {\n    const registry = createBaseRegistry();\n    for (const input of inputs) {\n        switch (input.kind) {\n            case \"registry\":\n                for (const n of input) {\n                    registry.add(n);\n                }\n                break;\n            case \"file\":\n                registry.addFile(input);\n                break;\n            default:\n                registry.add(input);\n                break;\n        }\n    }\n    return registry;\n}\n// bootstrap-inject google.protobuf.Edition.EDITION_PROTO2: const $name: Edition.$localName = $number;\nconst EDITION_PROTO2 = 998;\n// bootstrap-inject google.protobuf.Edition.EDITION_PROTO3: const $name: Edition.$localName = $number;\nconst EDITION_PROTO3 = 999;\n// bootstrap-inject google.protobuf.FieldDescriptorProto.Type.TYPE_STRING: const $name: FieldDescriptorProto_Type.$localName = $number;\nconst TYPE_STRING = 9;\n// bootstrap-inject google.protobuf.FieldDescriptorProto.Type.TYPE_GROUP: const $name: FieldDescriptorProto_Type.$localName = $number;\nconst TYPE_GROUP = 10;\n// bootstrap-inject google.protobuf.FieldDescriptorProto.Type.TYPE_MESSAGE: const $name: FieldDescriptorProto_Type.$localName = $number;\nconst TYPE_MESSAGE = 11;\n// bootstrap-inject google.protobuf.FieldDescriptorProto.Type.TYPE_BYTES: const $name: FieldDescriptorProto_Type.$localName = $number;\nconst TYPE_BYTES = 12;\n// bootstrap-inject google.protobuf.FieldDescriptorProto.Type.TYPE_ENUM: const $name: FieldDescriptorProto_Type.$localName = $number;\nconst TYPE_ENUM = 14;\n// bootstrap-inject google.protobuf.FieldDescriptorProto.Label.LABEL_REPEATED: const $name: FieldDescriptorProto_Label.$localName = $number;\nconst LABEL_REPEATED = 3;\n// bootstrap-inject google.protobuf.FieldDescriptorProto.Label.LABEL_REQUIRED: const $name: FieldDescriptorProto_Label.$localName = $number;\nconst LABEL_REQUIRED = 2;\n// bootstrap-inject google.protobuf.FieldOptions.JSType.JS_STRING: const $name: FieldOptions_JSType.$localName = $number;\nconst JS_STRING = 1;\n// bootstrap-inject google.protobuf.MethodOptions.IdempotencyLevel.IDEMPOTENCY_UNKNOWN: const $name: MethodOptions_IdempotencyLevel.$localName = $number;\nconst IDEMPOTENCY_UNKNOWN = 0;\n// bootstrap-inject google.protobuf.FeatureSet.FieldPresence.EXPLICIT: const $name: FeatureSet_FieldPresence.$localName = $number;\nconst EXPLICIT = 1;\n// bootstrap-inject google.protobuf.FeatureSet.FieldPresence.IMPLICIT: const $name: FeatureSet_FieldPresence.$localName = $number;\nconst IMPLICIT = 2;\n// bootstrap-inject google.protobuf.FeatureSet.FieldPresence.LEGACY_REQUIRED: const $name: FeatureSet_FieldPresence.$localName = $number;\nconst LEGACY_REQUIRED = 3;\n// bootstrap-inject google.protobuf.FeatureSet.RepeatedFieldEncoding.PACKED: const $name: FeatureSet_RepeatedFieldEncoding.$localName = $number;\nconst PACKED = 1;\n// bootstrap-inject google.protobuf.FeatureSet.MessageEncoding.DELIMITED: const $name: FeatureSet_MessageEncoding.$localName = $number;\nconst DELIMITED = 2;\n// bootstrap-inject google.protobuf.FeatureSet.EnumType.OPEN: const $name: FeatureSet_EnumType.$localName = $number;\nconst OPEN = 1;\n// prettier-ignore\n// bootstrap-inject defaults: EDITION_PROTO2 to EDITION_2023: export const minimumEdition: SupportedEdition = $minimumEdition, maximumEdition: SupportedEdition = $maximumEdition;\n// generated from protoc v28.3\nexport const minimumEdition = 998, maximumEdition = 1000;\nconst featureDefaults = {\n    // EDITION_PROTO2\n    998: {\n        fieldPresence: 1, // EXPLICIT,\n        enumType: 2, // CLOSED,\n        repeatedFieldEncoding: 2, // EXPANDED,\n        utf8Validation: 3, // NONE,\n        messageEncoding: 1, // LENGTH_PREFIXED,\n        jsonFormat: 2, // LEGACY_BEST_EFFORT,\n    },\n    // EDITION_PROTO3\n    999: {\n        fieldPresence: 2, // IMPLICIT,\n        enumType: 1, // OPEN,\n        repeatedFieldEncoding: 1, // PACKED,\n        utf8Validation: 2, // VERIFY,\n        messageEncoding: 1, // LENGTH_PREFIXED,\n        jsonFormat: 1, // ALLOW,\n    },\n    // EDITION_2023\n    1000: {\n        fieldPresence: 1, // EXPLICIT,\n        enumType: 1, // OPEN,\n        repeatedFieldEncoding: 1, // PACKED,\n        utf8Validation: 2, // VERIFY,\n        messageEncoding: 1, // LENGTH_PREFIXED,\n        jsonFormat: 1, // ALLOW,\n    },\n};\n/**\n * Create a descriptor for a file, add it to the registry.\n */\nfunction addFile(proto, reg) {\n    var _a, _b;\n    const file = {\n        kind: \"file\",\n        proto,\n        deprecated: (_b = (_a = proto.options) === null || _a === void 0 ? void 0 : _a.deprecated) !== null && _b !== void 0 ? _b : false,\n        edition: getFileEdition(proto),\n        name: proto.name.replace(/\\.proto$/, \"\"),\n        dependencies: findFileDependencies(proto, reg),\n        enums: [],\n        messages: [],\n        extensions: [],\n        services: [],\n        toString() {\n            // eslint-disable-next-line @typescript-eslint/restrict-template-expressions -- we asserted above\n            return `file ${proto.name}`;\n        },\n    };\n    const mapEntriesStore = new Map();\n    const mapEntries = {\n        get(typeName) {\n            return mapEntriesStore.get(typeName);\n        },\n        add(desc) {\n            var _a;\n            assert(((_a = desc.proto.options) === null || _a === void 0 ? void 0 : _a.mapEntry) === true);\n            mapEntriesStore.set(desc.typeName, desc);\n        },\n    };\n    for (const enumProto of proto.enumType) {\n        addEnum(enumProto, file, undefined, reg);\n    }\n    for (const messageProto of proto.messageType) {\n        addMessage(messageProto, file, undefined, reg, mapEntries);\n    }\n    for (const serviceProto of proto.service) {\n        addService(serviceProto, file, reg);\n    }\n    addExtensions(file, reg);\n    for (const mapEntry of mapEntriesStore.values()) {\n        // to create a map field, we need access to the map entry's fields\n        addFields(mapEntry, reg, mapEntries);\n    }\n    for (const message of file.messages) {\n        addFields(message, reg, mapEntries);\n        addExtensions(message, reg);\n    }\n    reg.addFile(file, true);\n}\n/**\n * Create descriptors for extensions, and add them to the message / file,\n * and to our cart.\n * Recurses into nested types.\n */\nfunction addExtensions(desc, reg) {\n    switch (desc.kind) {\n        case \"file\":\n            for (const proto of desc.proto.extension) {\n                const ext = newField(proto, desc, reg);\n                desc.extensions.push(ext);\n                reg.add(ext);\n            }\n            break;\n        case \"message\":\n            for (const proto of desc.proto.extension) {\n                const ext = newField(proto, desc, reg);\n                desc.nestedExtensions.push(ext);\n                reg.add(ext);\n            }\n            for (const message of desc.nestedMessages) {\n                addExtensions(message, reg);\n            }\n            break;\n    }\n}\n/**\n * Create descriptors for fields and oneof groups, and add them to the message.\n * Recurses into nested types.\n */\nfunction addFields(message, reg, mapEntries) {\n    const allOneofs = message.proto.oneofDecl.map((proto) => newOneof(proto, message));\n    const oneofsSeen = new Set();\n    for (const proto of message.proto.field) {\n        const oneof = findOneof(proto, allOneofs);\n        const field = newField(proto, message, reg, oneof, mapEntries);\n        message.fields.push(field);\n        message.field[field.localName] = field;\n        if (oneof === undefined) {\n            message.members.push(field);\n        }\n        else {\n            oneof.fields.push(field);\n            if (!oneofsSeen.has(oneof)) {\n                oneofsSeen.add(oneof);\n                message.members.push(oneof);\n            }\n        }\n    }\n    for (const oneof of allOneofs.filter((o) => oneofsSeen.has(o))) {\n        message.oneofs.push(oneof);\n    }\n    for (const child of message.nestedMessages) {\n        addFields(child, reg, mapEntries);\n    }\n}\n/**\n * Create a descriptor for an enumeration, and add it our cart and to the\n * parent type, if any.\n */\nfunction addEnum(proto, file, parent, reg) {\n    var _a, _b, _c;\n    const sharedPrefix = findEnumSharedPrefix(proto.name, proto.value);\n    const desc = {\n        kind: \"enum\",\n        proto,\n        deprecated: (_b = (_a = proto.options) === null || _a === void 0 ? void 0 : _a.deprecated) !== null && _b !== void 0 ? _b : false,\n        file,\n        parent,\n        open: true,\n        name: proto.name,\n        typeName: makeTypeName(proto, parent, file),\n        value: {},\n        values: [],\n        sharedPrefix,\n        toString() {\n            return `enum ${this.typeName}`;\n        },\n    };\n    desc.open = isEnumOpen(desc);\n    reg.add(desc);\n    proto.value.forEach((proto) => {\n        var _a, _b;\n        const name = proto.name;\n        desc.values.push((desc.value[proto.number] = {\n            kind: \"enum_value\",\n            proto,\n            deprecated: (_b = (_a = proto.options) === null || _a === void 0 ? void 0 : _a.deprecated) !== null && _b !== void 0 ? _b : false,\n            parent: desc,\n            name,\n            localName: safeObjectProperty(sharedPrefix == undefined\n                ? name\n                : name.substring(sharedPrefix.length)),\n            number: proto.number,\n            toString() {\n                return `enum value ${desc.typeName}.${name}`;\n            },\n        }));\n    });\n    ((_c = parent === null || parent === void 0 ? void 0 : parent.nestedEnums) !== null && _c !== void 0 ? _c : file.enums).push(desc);\n}\n/**\n * Create a descriptor for a message, including nested types, and add it to our\n * cart. Note that this does not create descriptors fields.\n */\nfunction addMessage(proto, file, parent, reg, mapEntries) {\n    var _a, _b, _c, _d;\n    const desc = {\n        kind: \"message\",\n        proto,\n        deprecated: (_b = (_a = proto.options) === null || _a === void 0 ? void 0 : _a.deprecated) !== null && _b !== void 0 ? _b : false,\n        file,\n        parent,\n        name: proto.name,\n        typeName: makeTypeName(proto, parent, file),\n        fields: [],\n        field: {},\n        oneofs: [],\n        members: [],\n        nestedEnums: [],\n        nestedMessages: [],\n        nestedExtensions: [],\n        toString() {\n            return `message ${this.typeName}`;\n        },\n    };\n    if (((_c = proto.options) === null || _c === void 0 ? void 0 : _c.mapEntry) === true) {\n        mapEntries.add(desc);\n    }\n    else {\n        ((_d = parent === null || parent === void 0 ? void 0 : parent.nestedMessages) !== null && _d !== void 0 ? _d : file.messages).push(desc);\n        reg.add(desc);\n    }\n    for (const enumProto of proto.enumType) {\n        addEnum(enumProto, file, desc, reg);\n    }\n    for (const messageProto of proto.nestedType) {\n        addMessage(messageProto, file, desc, reg, mapEntries);\n    }\n}\n/**\n * Create a descriptor for a service, including methods, and add it to our\n * cart.\n */\nfunction addService(proto, file, reg) {\n    var _a, _b;\n    const desc = {\n        kind: \"service\",\n        proto,\n        deprecated: (_b = (_a = proto.options) === null || _a === void 0 ? void 0 : _a.deprecated) !== null && _b !== void 0 ? _b : false,\n        file,\n        name: proto.name,\n        typeName: makeTypeName(proto, undefined, file),\n        methods: [],\n        method: {},\n        toString() {\n            return `service ${this.typeName}`;\n        },\n    };\n    file.services.push(desc);\n    reg.add(desc);\n    for (const methodProto of proto.method) {\n        const method = newMethod(methodProto, desc, reg);\n        desc.methods.push(method);\n        desc.method[method.localName] = method;\n    }\n}\n/**\n * Create a descriptor for a method.\n */\nfunction newMethod(proto, parent, reg) {\n    var _a, _b, _c, _d;\n    let methodKind;\n    if (proto.clientStreaming && proto.serverStreaming) {\n        methodKind = \"bidi_streaming\";\n    }\n    else if (proto.clientStreaming) {\n        methodKind = \"client_streaming\";\n    }\n    else if (proto.serverStreaming) {\n        methodKind = \"server_streaming\";\n    }\n    else {\n        methodKind = \"unary\";\n    }\n    const input = reg.getMessage(trimLeadingDot(proto.inputType));\n    const output = reg.getMessage(trimLeadingDot(proto.outputType));\n    assert(input, `invalid MethodDescriptorProto: input_type ${proto.inputType} not found`);\n    assert(output, `invalid MethodDescriptorProto: output_type ${proto.inputType} not found`);\n    const name = proto.name;\n    return {\n        kind: \"rpc\",\n        proto,\n        deprecated: (_b = (_a = proto.options) === null || _a === void 0 ? void 0 : _a.deprecated) !== null && _b !== void 0 ? _b : false,\n        parent,\n        name,\n        localName: safeObjectProperty(name.length\n            ? safeObjectProperty(name[0].toLowerCase() + name.substring(1))\n            : name),\n        methodKind,\n        input,\n        output,\n        idempotency: (_d = (_c = proto.options) === null || _c === void 0 ? void 0 : _c.idempotencyLevel) !== null && _d !== void 0 ? _d : IDEMPOTENCY_UNKNOWN,\n        toString() {\n            return `rpc ${parent.typeName}.${name}`;\n        },\n    };\n}\n/**\n * Create a descriptor for a oneof group.\n */\nfunction newOneof(proto, parent) {\n    return {\n        kind: \"oneof\",\n        proto,\n        deprecated: false,\n        parent,\n        fields: [],\n        name: proto.name,\n        localName: safeObjectProperty(protoCamelCase(proto.name)),\n        toString() {\n            return `oneof ${parent.typeName}.${this.name}`;\n        },\n    };\n}\nfunction newField(proto, parentOrFile, reg, oneof, mapEntries) {\n    var _a, _b, _c;\n    const isExtension = mapEntries === undefined;\n    const field = {\n        kind: \"field\",\n        proto,\n        deprecated: (_b = (_a = proto.options) === null || _a === void 0 ? void 0 : _a.deprecated) !== null && _b !== void 0 ? _b : false,\n        name: proto.name,\n        number: proto.number,\n        scalar: undefined,\n        message: undefined,\n        enum: undefined,\n        presence: getFieldPresence(proto, oneof, isExtension, parentOrFile),\n        listKind: undefined,\n        mapKind: undefined,\n        mapKey: undefined,\n        delimitedEncoding: undefined,\n        packed: undefined,\n        longAsString: false,\n        getDefaultValue: undefined,\n    };\n    if (isExtension) {\n        // extension field\n        const file = parentOrFile.kind == \"file\" ? parentOrFile : parentOrFile.file;\n        const parent = parentOrFile.kind == \"file\" ? undefined : parentOrFile;\n        const typeName = makeTypeName(proto, parent, file);\n        field.kind = \"extension\";\n        field.file = file;\n        field.parent = parent;\n        field.oneof = undefined;\n        field.typeName = typeName;\n        field.jsonName = `[${typeName}]`; // option json_name is not allowed on extension fields\n        field.toString = () => `extension ${typeName}`;\n        const extendee = reg.getMessage(trimLeadingDot(proto.extendee));\n        assert(extendee, `invalid FieldDescriptorProto: extendee ${proto.extendee} not found`);\n        field.extendee = extendee;\n    }\n    else {\n        // regular field\n        const parent = parentOrFile;\n        assert(parent.kind == \"message\");\n        field.parent = parent;\n        field.oneof = oneof;\n        field.localName = oneof\n            ? protoCamelCase(proto.name)\n            : safeObjectProperty(protoCamelCase(proto.name));\n        field.jsonName = proto.jsonName;\n        field.toString = () => `field ${parent.typeName}.${proto.name}`;\n    }\n    const label = proto.label;\n    const type = proto.type;\n    const jstype = (_c = proto.options) === null || _c === void 0 ? void 0 : _c.jstype;\n    if (label === LABEL_REPEATED) {\n        // list or map field\n        const mapEntry = type == TYPE_MESSAGE\n            ? mapEntries === null || mapEntries === void 0 ? void 0 : mapEntries.get(trimLeadingDot(proto.typeName))\n            : undefined;\n        if (mapEntry) {\n            // map field\n            field.fieldKind = \"map\";\n            const { key, value } = findMapEntryFields(mapEntry);\n            field.mapKey = key.scalar;\n            field.mapKind = value.fieldKind;\n            field.message = value.message;\n            field.delimitedEncoding = false; // map fields are always LENGTH_PREFIXED\n            field.enum = value.enum;\n            field.scalar = value.scalar;\n            return field;\n        }\n        // list field\n        field.fieldKind = \"list\";\n        switch (type) {\n            case TYPE_MESSAGE:\n            case TYPE_GROUP:\n                field.listKind = \"message\";\n                field.message = reg.getMessage(trimLeadingDot(proto.typeName));\n                // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions\n                assert(field.message);\n                field.delimitedEncoding = isDelimitedEncoding(proto, parentOrFile);\n                break;\n            case TYPE_ENUM:\n                field.listKind = \"enum\";\n                field.enum = reg.getEnum(trimLeadingDot(proto.typeName));\n                // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions\n                assert(field.enum);\n                break;\n            default:\n                field.listKind = \"scalar\";\n                field.scalar = type;\n                field.longAsString = jstype == JS_STRING;\n                break;\n        }\n        field.packed = isPackedField(proto, parentOrFile);\n        return field;\n    }\n    // singular\n    switch (type) {\n        case TYPE_MESSAGE:\n        case TYPE_GROUP:\n            field.fieldKind = \"message\";\n            field.message = reg.getMessage(trimLeadingDot(proto.typeName));\n            assert(\n            // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions\n            field.message, `invalid FieldDescriptorProto: type_name ${proto.typeName} not found`);\n            field.delimitedEncoding = isDelimitedEncoding(proto, parentOrFile);\n            field.getDefaultValue = () => undefined;\n            break;\n        case TYPE_ENUM: {\n            const enumeration = reg.getEnum(trimLeadingDot(proto.typeName));\n            assert(enumeration !== undefined, `invalid FieldDescriptorProto: type_name ${proto.typeName} not found`);\n            field.fieldKind = \"enum\";\n            field.enum = reg.getEnum(trimLeadingDot(proto.typeName));\n            field.getDefaultValue = () => {\n                return unsafeIsSetExplicit(proto, \"defaultValue\")\n                    ? parseTextFormatEnumValue(enumeration, proto.defaultValue)\n                    : undefined;\n            };\n            break;\n        }\n        default: {\n            field.fieldKind = \"scalar\";\n            field.scalar = type;\n            field.longAsString = jstype == JS_STRING;\n            field.getDefaultValue = () => {\n                return unsafeIsSetExplicit(proto, \"defaultValue\")\n                    ? parseTextFormatScalarValue(type, proto.defaultValue)\n                    : undefined;\n            };\n            break;\n        }\n    }\n    return field;\n}\n/**\n * Parse the \"syntax\" and \"edition\" fields, returning one of the supported\n * editions.\n */\nfunction getFileEdition(proto) {\n    switch (proto.syntax) {\n        case \"\":\n        case \"proto2\":\n            return EDITION_PROTO2;\n        case \"proto3\":\n            return EDITION_PROTO3;\n        case \"editions\":\n            if (proto.edition in featureDefaults) {\n                return proto.edition;\n            }\n            throw new Error(`${proto.name}: unsupported edition`);\n        default:\n            throw new Error(`${proto.name}: unsupported syntax \"${proto.syntax}\"`);\n    }\n}\n/**\n * Resolve dependencies of FileDescriptorProto to DescFile.\n */\nfunction findFileDependencies(proto, reg) {\n    return proto.dependency.map((wantName) => {\n        const dep = reg.getFile(wantName);\n        if (!dep) {\n            throw new Error(`Cannot find ${wantName}, imported by ${proto.name}`);\n        }\n        return dep;\n    });\n}\n/**\n * Finds a prefix shared by enum values, for example `my_enum_` for\n * `enum MyEnum {MY_ENUM_A=0; MY_ENUM_B=1;}`.\n */\nfunction findEnumSharedPrefix(enumName, values) {\n    const prefix = camelToSnakeCase(enumName) + \"_\";\n    for (const value of values) {\n        if (!value.name.toLowerCase().startsWith(prefix)) {\n            return undefined;\n        }\n        const shortName = value.name.substring(prefix.length);\n        if (shortName.length == 0) {\n            return undefined;\n        }\n        if (/^\\d/.test(shortName)) {\n            // identifiers must not start with numbers\n            return undefined;\n        }\n    }\n    return prefix;\n}\n/**\n * Converts lowerCamelCase or UpperCamelCase into lower_snake_case.\n * This is used to find shared prefixes in an enum.\n */\nfunction camelToSnakeCase(camel) {\n    return (camel.substring(0, 1) + camel.substring(1).replace(/[A-Z]/g, (c) => \"_\" + c)).toLowerCase();\n}\n/**\n * Create a fully qualified name for a protobuf type or extension field.\n *\n * The fully qualified name for messages, enumerations, and services is\n * constructed by concatenating the package name (if present), parent\n * message names (for nested types), and the type name. We omit the leading\n * dot added by protobuf compilers. Examples:\n * - mypackage.MyMessage\n * - mypackage.MyMessage.NestedMessage\n *\n * The fully qualified name for extension fields is constructed by\n * concatenating the package name (if present), parent message names (for\n * extensions declared within a message), and the field name. Examples:\n * - mypackage.extfield\n * - mypackage.MyMessage.extfield\n */\nfunction makeTypeName(proto, parent, file) {\n    let typeName;\n    if (parent) {\n        typeName = `${parent.typeName}.${proto.name}`;\n    }\n    else if (file.proto.package.length > 0) {\n        typeName = `${file.proto.package}.${proto.name}`;\n    }\n    else {\n        typeName = `${proto.name}`;\n    }\n    return typeName;\n}\n/**\n * Remove the leading dot from a fully qualified type name.\n */\nfunction trimLeadingDot(typeName) {\n    return typeName.startsWith(\".\") ? typeName.substring(1) : typeName;\n}\n/**\n * Did the user put the field in a oneof group?\n * Synthetic oneofs for proto3 optionals are ignored.\n */\nfunction findOneof(proto, allOneofs) {\n    if (!unsafeIsSetExplicit(proto, \"oneofIndex\")) {\n        return undefined;\n    }\n    if (proto.proto3Optional) {\n        return undefined;\n    }\n    const oneof = allOneofs[proto.oneofIndex];\n    assert(\n    // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions\n    oneof, `invalid FieldDescriptorProto: oneof #${proto.oneofIndex} for field #${proto.number} not found`);\n    return oneof;\n}\n/**\n * Presence of the field.\n * See https://protobuf.dev/programming-guides/field_presence/\n */\nfunction getFieldPresence(proto, oneof, isExtension, parent) {\n    if (proto.label == LABEL_REQUIRED) {\n        // proto2 required is LEGACY_REQUIRED\n        return LEGACY_REQUIRED;\n    }\n    if (proto.label == LABEL_REPEATED) {\n        // repeated fields (including maps) do not track presence\n        return IMPLICIT;\n    }\n    if (!!oneof || proto.proto3Optional) {\n        // oneof is always explicit\n        return EXPLICIT;\n    }\n    if (proto.type == TYPE_MESSAGE) {\n        // singular message field cannot be implicit\n        return EXPLICIT;\n    }\n    if (isExtension) {\n        // extensions always track presence\n        return EXPLICIT;\n    }\n    return resolveFeature(\"fieldPresence\", { proto, parent });\n}\n/**\n * Pack this repeated field?\n */\nfunction isPackedField(proto, parent) {\n    if (proto.label != LABEL_REPEATED) {\n        return false;\n    }\n    // eslint-disable-next-line @typescript-eslint/switch-exhaustiveness-check\n    switch (proto.type) {\n        case TYPE_STRING:\n        case TYPE_BYTES:\n        case TYPE_GROUP:\n        case TYPE_MESSAGE:\n            // length-delimited types cannot be packed\n            return false;\n    }\n    const o = proto.options;\n    if (o && unsafeIsSetExplicit(o, \"packed\")) {\n        // prefer the field option over edition features\n        return o.packed;\n    }\n    return (PACKED ==\n        resolveFeature(\"repeatedFieldEncoding\", {\n            proto,\n            parent,\n        }));\n}\n/**\n * Find the key and value fields of a synthetic map entry message.\n */\nfunction findMapEntryFields(mapEntry) {\n    const key = mapEntry.fields.find((f) => f.number === 1);\n    const value = mapEntry.fields.find((f) => f.number === 2);\n    assert(key &&\n        key.fieldKind == \"scalar\" &&\n        key.scalar != ScalarType.BYTES &&\n        key.scalar != ScalarType.FLOAT &&\n        key.scalar != ScalarType.DOUBLE &&\n        value &&\n        value.fieldKind != \"list\" &&\n        value.fieldKind != \"map\");\n    return { key, value };\n}\n/**\n * Enumerations can be open or closed.\n * See https://protobuf.dev/programming-guides/enum/\n */\nfunction isEnumOpen(desc) {\n    var _a;\n    return (OPEN ==\n        resolveFeature(\"enumType\", {\n            proto: desc.proto,\n            parent: (_a = desc.parent) !== null && _a !== void 0 ? _a : desc.file,\n        }));\n}\n/**\n * Encode the message delimited (a.k.a. proto2 group encoding), or\n * length-prefixed?\n */\nfunction isDelimitedEncoding(proto, parent) {\n    if (proto.type == TYPE_GROUP) {\n        return true;\n    }\n    return (DELIMITED ==\n        resolveFeature(\"messageEncoding\", {\n            proto,\n            parent,\n        }));\n}\nfunction resolveFeature(name, ref) {\n    var _a, _b;\n    const featureSet = (_a = ref.proto.options) === null || _a === void 0 ? void 0 : _a.features;\n    if (featureSet) {\n        const val = featureSet[name];\n        if (val != 0) {\n            return val;\n        }\n    }\n    if (\"kind\" in ref) {\n        if (ref.kind == \"message\") {\n            return resolveFeature(name, (_b = ref.parent) !== null && _b !== void 0 ? _b : ref.file);\n        }\n        const editionDefaults = featureDefaults[ref.edition];\n        if (!editionDefaults) {\n            throw new Error(`feature default for edition ${ref.edition} not found`);\n        }\n        return editionDefaults[name];\n    }\n    return resolveFeature(name, ref.parent);\n}\n/**\n * Assert that condition is truthy or throw error (with message)\n */\nfunction assert(condition, msg) {\n    // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions -- we want the implicit conversion to boolean\n    if (!condition) {\n        throw new Error(msg);\n    }\n}\n","// Copyright 2021-2024 Buf Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { restoreJsonNames } from \"./restore-json-names.js\";\nimport { createFileRegistry } from \"../registry.js\";\n/**\n * Hydrate a file descriptor for google/protobuf/descriptor.proto from a plain\n * object.\n *\n * See createFileDescriptorProtoBoot() for details.\n *\n * @private\n */\nexport function boot(boot) {\n    const root = bootFileDescriptorProto(boot);\n    root.messageType.forEach(restoreJsonNames);\n    const reg = createFileRegistry(root, () => undefined);\n    // non-null assertion because we just created the registry from the file we look up\n    return reg.getFile(root.name);\n}\n/**\n * Creates the message google.protobuf.FileDescriptorProto from an object literal.\n *\n * See createFileDescriptorProtoBoot() for details.\n *\n * @private\n */\nexport function bootFileDescriptorProto(init) {\n    const proto = Object.create({\n        syntax: \"\",\n        edition: 0,\n    });\n    return Object.assign(proto, Object.assign(Object.assign({ $typeName: \"google.protobuf.FileDescriptorProto\", dependency: [], publicDependency: [], weakDependency: [], service: [], extension: [] }, init), { messageType: init.messageType.map(bootDescriptorProto), enumType: init.enumType.map(bootEnumDescriptorProto) }));\n}\nfunction bootDescriptorProto(init) {\n    var _a, _b, _c, _d, _e, _f, _g, _h;\n    return {\n        $typeName: \"google.protobuf.DescriptorProto\",\n        name: init.name,\n        field: (_b = (_a = init.field) === null || _a === void 0 ? void 0 : _a.map(bootFieldDescriptorProto)) !== null && _b !== void 0 ? _b : [],\n        extension: [],\n        nestedType: (_d = (_c = init.nestedType) === null || _c === void 0 ? void 0 : _c.map(bootDescriptorProto)) !== null && _d !== void 0 ? _d : [],\n        enumType: (_f = (_e = init.enumType) === null || _e === void 0 ? void 0 : _e.map(bootEnumDescriptorProto)) !== null && _f !== void 0 ? _f : [],\n        extensionRange: (_h = (_g = init.extensionRange) === null || _g === void 0 ? void 0 : _g.map((e) => (Object.assign({ $typeName: \"google.protobuf.DescriptorProto.ExtensionRange\" }, e)))) !== null && _h !== void 0 ? _h : [],\n        oneofDecl: [],\n        reservedRange: [],\n        reservedName: [],\n    };\n}\nfunction bootFieldDescriptorProto(init) {\n    const proto = Object.create({\n        label: 1,\n        typeName: \"\",\n        extendee: \"\",\n        defaultValue: \"\",\n        oneofIndex: 0,\n        jsonName: \"\",\n        proto3Optional: false,\n    });\n    return Object.assign(proto, Object.assign(Object.assign({ $typeName: \"google.protobuf.FieldDescriptorProto\" }, init), { options: init.options ? bootFieldOptions(init.options) : undefined }));\n}\nfunction bootFieldOptions(init) {\n    var _a, _b, _c;\n    const proto = Object.create({\n        ctype: 0,\n        packed: false,\n        jstype: 0,\n        lazy: false,\n        unverifiedLazy: false,\n        deprecated: false,\n        weak: false,\n        debugRedact: false,\n        retention: 0,\n    });\n    return Object.assign(proto, Object.assign(Object.assign({ $typeName: \"google.protobuf.FieldOptions\" }, init), { targets: (_a = init.targets) !== null && _a !== void 0 ? _a : [], editionDefaults: (_c = (_b = init.editionDefaults) === null || _b === void 0 ? void 0 : _b.map((e) => (Object.assign({ $typeName: \"google.protobuf.FieldOptions.EditionDefault\" }, e)))) !== null && _c !== void 0 ? _c : [], uninterpretedOption: [] }));\n}\nfunction bootEnumDescriptorProto(init) {\n    return {\n        $typeName: \"google.protobuf.EnumDescriptorProto\",\n        name: init.name,\n        reservedName: [],\n        reservedRange: [],\n        value: init.value.map((e) => (Object.assign({ $typeName: \"google.protobuf.EnumValueDescriptorProto\" }, e))),\n    };\n}\n","// Copyright 2021-2024 Buf Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { boot } from \"../../../../codegenv1/boot.js\";\nimport { messageDesc } from \"../../../../codegenv1/message.js\";\nimport { enumDesc } from \"../../../../codegenv1/enum.js\";\n/**\n * Describes the file google/protobuf/descriptor.proto.\n */\nexport const file_google_protobuf_descriptor = /*@__PURE__*/ boot({ \"name\": \"google/protobuf/descriptor.proto\", \"package\": \"google.protobuf\", \"messageType\": [{ \"name\": \"FileDescriptorSet\", \"field\": [{ \"name\": \"file\", \"number\": 1, \"type\": 11, \"label\": 3, \"typeName\": \".google.protobuf.FileDescriptorProto\" }] }, { \"name\": \"FileDescriptorProto\", \"field\": [{ \"name\": \"name\", \"number\": 1, \"type\": 9, \"label\": 1 }, { \"name\": \"package\", \"number\": 2, \"type\": 9, \"label\": 1 }, { \"name\": \"dependency\", \"number\": 3, \"type\": 9, \"label\": 3 }, { \"name\": \"public_dependency\", \"number\": 10, \"type\": 5, \"label\": 3 }, { \"name\": \"weak_dependency\", \"number\": 11, \"type\": 5, \"label\": 3 }, { \"name\": \"message_type\", \"number\": 4, \"type\": 11, \"label\": 3, \"typeName\": \".google.protobuf.DescriptorProto\" }, { \"name\": \"enum_type\", \"number\": 5, \"type\": 11, \"label\": 3, \"typeName\": \".google.protobuf.EnumDescriptorProto\" }, { \"name\": \"service\", \"number\": 6, \"type\": 11, \"label\": 3, \"typeName\": \".google.protobuf.ServiceDescriptorProto\" }, { \"name\": \"extension\", \"number\": 7, \"type\": 11, \"label\": 3, \"typeName\": \".google.protobuf.FieldDescriptorProto\" }, { \"name\": \"options\", \"number\": 8, \"type\": 11, \"label\": 1, \"typeName\": \".google.protobuf.FileOptions\" }, { \"name\": \"source_code_info\", \"number\": 9, \"type\": 11, \"label\": 1, \"typeName\": \".google.protobuf.SourceCodeInfo\" }, { \"name\": \"syntax\", \"number\": 12, \"type\": 9, \"label\": 1 }, { \"name\": \"edition\", \"number\": 14, \"type\": 14, \"label\": 1, \"typeName\": \".google.protobuf.Edition\" }] }, { \"name\": \"DescriptorProto\", \"field\": [{ \"name\": \"name\", \"number\": 1, \"type\": 9, \"label\": 1 }, { \"name\": \"field\", \"number\": 2, \"type\": 11, \"label\": 3, \"typeName\": \".google.protobuf.FieldDescriptorProto\" }, { \"name\": \"extension\", \"number\": 6, \"type\": 11, \"label\": 3, \"typeName\": \".google.protobuf.FieldDescriptorProto\" }, { \"name\": \"nested_type\", \"number\": 3, \"type\": 11, \"label\": 3, \"typeName\": \".google.protobuf.DescriptorProto\" }, { \"name\": \"enum_type\", \"number\": 4, \"type\": 11, \"label\": 3, \"typeName\": \".google.protobuf.EnumDescriptorProto\" }, { \"name\": \"extension_range\", \"number\": 5, \"type\": 11, \"label\": 3, \"typeName\": \".google.protobuf.DescriptorProto.ExtensionRange\" }, { \"name\": \"oneof_decl\", \"number\": 8, \"type\": 11, \"label\": 3, \"typeName\": \".google.protobuf.OneofDescriptorProto\" }, { \"name\": \"options\", \"number\": 7, \"type\": 11, \"label\": 1, \"typeName\": \".google.protobuf.MessageOptions\" }, { \"name\": \"reserved_range\", \"number\": 9, \"type\": 11, \"label\": 3, \"typeName\": \".google.protobuf.DescriptorProto.ReservedRange\" }, { \"name\": \"reserved_name\", \"number\": 10, \"type\": 9, \"label\": 3 }], \"nestedType\": [{ \"name\": \"ExtensionRange\", \"field\": [{ \"name\": \"start\", \"number\": 1, \"type\": 5, \"label\": 1 }, { \"name\": \"end\", \"number\": 2, \"type\": 5, \"label\": 1 }, { \"name\": \"options\", \"number\": 3, \"type\": 11, \"label\": 1, \"typeName\": \".google.protobuf.ExtensionRangeOptions\" }] }, { \"name\": \"ReservedRange\", \"field\": [{ \"name\": \"start\", \"number\": 1, \"type\": 5, \"label\": 1 }, { \"name\": \"end\", \"number\": 2, \"type\": 5, \"label\": 1 }] }] }, { \"name\": \"ExtensionRangeOptions\", \"field\": [{ \"name\": \"uninterpreted_option\", \"number\": 999, \"type\": 11, \"label\": 3, \"typeName\": \".google.protobuf.UninterpretedOption\" }, { \"name\": \"declaration\", \"number\": 2, \"type\": 11, \"label\": 3, \"typeName\": \".google.protobuf.ExtensionRangeOptions.Declaration\", \"options\": { \"retention\": 2 } }, { \"name\": \"features\", \"number\": 50, \"type\": 11, \"label\": 1, \"typeName\": \".google.protobuf.FeatureSet\" }, { \"name\": \"verification\", \"number\": 3, \"type\": 14, \"label\": 1, \"typeName\": \".google.protobuf.ExtensionRangeOptions.VerificationState\", \"defaultValue\": \"UNVERIFIED\", \"options\": { \"retention\": 2 } }], \"nestedType\": [{ \"name\": \"Declaration\", \"field\": [{ \"name\": \"number\", \"number\": 1, \"type\": 5, \"label\": 1 }, { \"name\": \"full_name\", \"number\": 2, \"type\": 9, \"label\": 1 }, { \"name\": \"type\", \"number\": 3, \"type\": 9, \"label\": 1 }, { \"name\": \"reserved\", \"number\": 5, \"type\": 8, \"label\": 1 }, { \"name\": \"repeated\", \"number\": 6, \"type\": 8, \"label\": 1 }] }], \"enumType\": [{ \"name\": \"VerificationState\", \"value\": [{ \"name\": \"DECLARATION\", \"number\": 0 }, { \"name\": \"UNVERIFIED\", \"number\": 1 }] }], \"extensionRange\": [{ \"start\": 1000, \"end\": 536870912 }] }, { \"name\": \"FieldDescriptorProto\", \"field\": [{ \"name\": \"name\", \"number\": 1, \"type\": 9, \"label\": 1 }, { \"name\": \"number\", \"number\": 3, \"type\": 5, \"label\": 1 }, { \"name\": \"label\", \"number\": 4, \"type\": 14, \"label\": 1, \"typeName\": \".google.protobuf.FieldDescriptorProto.Label\" }, { \"name\": \"type\", \"number\": 5, \"type\": 14, \"label\": 1, \"typeName\": \".google.protobuf.FieldDescriptorProto.Type\" }, { \"name\": \"type_name\", \"number\": 6, \"type\": 9, \"label\": 1 }, { \"name\": \"extendee\", \"number\": 2, \"type\": 9, \"label\": 1 }, { \"name\": \"default_value\", \"number\": 7, \"type\": 9, \"label\": 1 }, { \"name\": \"oneof_index\", \"number\": 9, \"type\": 5, \"label\": 1 }, { \"name\": \"json_name\", \"number\": 10, \"type\": 9, \"label\": 1 }, { \"name\": \"options\", \"number\": 8, \"type\": 11, \"label\": 1, \"typeName\": \".google.protobuf.FieldOptions\" }, { \"name\": \"proto3_optional\", \"number\": 17, \"type\": 8, \"label\": 1 }], \"enumType\": [{ \"name\": \"Type\", \"value\": [{ \"name\": \"TYPE_DOUBLE\", \"number\": 1 }, { \"name\": \"TYPE_FLOAT\", \"number\": 2 }, { \"name\": \"TYPE_INT64\", \"number\": 3 }, { \"name\": \"TYPE_UINT64\", \"number\": 4 }, { \"name\": \"TYPE_INT32\", \"number\": 5 }, { \"name\": \"TYPE_FIXED64\", \"number\": 6 }, { \"name\": \"TYPE_FIXED32\", \"number\": 7 }, { \"name\": \"TYPE_BOOL\", \"number\": 8 }, { \"name\": \"TYPE_STRING\", \"number\": 9 }, { \"name\": \"TYPE_GROUP\", \"number\": 10 }, { \"name\": \"TYPE_MESSAGE\", \"number\": 11 }, { \"name\": \"TYPE_BYTES\", \"number\": 12 }, { \"name\": \"TYPE_UINT32\", \"number\": 13 }, { \"name\": \"TYPE_ENUM\", \"number\": 14 }, { \"name\": \"TYPE_SFIXED32\", \"number\": 15 }, { \"name\": \"TYPE_SFIXED64\", \"number\": 16 }, { \"name\": \"TYPE_SINT32\", \"number\": 17 }, { \"name\": \"TYPE_SINT64\", \"number\": 18 }] }, { \"name\": \"Label\", \"value\": [{ \"name\": \"LABEL_OPTIONAL\", \"number\": 1 }, { \"name\": \"LABEL_REPEATED\", \"number\": 3 }, { \"name\": \"LABEL_REQUIRED\", \"number\": 2 }] }] }, { \"name\": \"OneofDescriptorProto\", \"field\": [{ \"name\": \"name\", \"number\": 1, \"type\": 9, \"label\": 1 }, { \"name\": \"options\", \"number\": 2, \"type\": 11, \"label\": 1, \"typeName\": \".google.protobuf.OneofOptions\" }] }, { \"name\": \"EnumDescriptorProto\", \"field\": [{ \"name\": \"name\", \"number\": 1, \"type\": 9, \"label\": 1 }, { \"name\": \"value\", \"number\": 2, \"type\": 11, \"label\": 3, \"typeName\": \".google.protobuf.EnumValueDescriptorProto\" }, { \"name\": \"options\", \"number\": 3, \"type\": 11, \"label\": 1, \"typeName\": \".google.protobuf.EnumOptions\" }, { \"name\": \"reserved_range\", \"number\": 4, \"type\": 11, \"label\": 3, \"typeName\": \".google.protobuf.EnumDescriptorProto.EnumReservedRange\" }, { \"name\": \"reserved_name\", \"number\": 5, \"type\": 9, \"label\": 3 }], \"nestedType\": [{ \"name\": \"EnumReservedRange\", \"field\": [{ \"name\": \"start\", \"number\": 1, \"type\": 5, \"label\": 1 }, { \"name\": \"end\", \"number\": 2, \"type\": 5, \"label\": 1 }] }] }, { \"name\": \"EnumValueDescriptorProto\", \"field\": [{ \"name\": \"name\", \"number\": 1, \"type\": 9, \"label\": 1 }, { \"name\": \"number\", \"number\": 2, \"type\": 5, \"label\": 1 }, { \"name\": \"options\", \"number\": 3, \"type\": 11, \"label\": 1, \"typeName\": \".google.protobuf.EnumValueOptions\" }] }, { \"name\": \"ServiceDescriptorProto\", \"field\": [{ \"name\": \"name\", \"number\": 1, \"type\": 9, \"label\": 1 }, { \"name\": \"method\", \"number\": 2, \"type\": 11, \"label\": 3, \"typeName\": \".google.protobuf.MethodDescriptorProto\" }, { \"name\": \"options\", \"number\": 3, \"type\": 11, \"label\": 1, \"typeName\": \".google.protobuf.ServiceOptions\" }] }, { \"name\": \"MethodDescriptorProto\", \"field\": [{ \"name\": \"name\", \"number\": 1, \"type\": 9, \"label\": 1 }, { \"name\": \"input_type\", \"number\": 2, \"type\": 9, \"label\": 1 }, { \"name\": \"output_type\", \"number\": 3, \"type\": 9, \"label\": 1 }, { \"name\": \"options\", \"number\": 4, \"type\": 11, \"label\": 1, \"typeName\": \".google.protobuf.MethodOptions\" }, { \"name\": \"client_streaming\", \"number\": 5, \"type\": 8, \"label\": 1, \"defaultValue\": \"false\" }, { \"name\": \"server_streaming\", \"number\": 6, \"type\": 8, \"label\": 1, \"defaultValue\": \"false\" }] }, { \"name\": \"FileOptions\", \"field\": [{ \"name\": \"java_package\", \"number\": 1, \"type\": 9, \"label\": 1 }, { \"name\": \"java_outer_classname\", \"number\": 8, \"type\": 9, \"label\": 1 }, { \"name\": \"java_multiple_files\", \"number\": 10, \"type\": 8, \"label\": 1, \"defaultValue\": \"false\" }, { \"name\": \"java_generate_equals_and_hash\", \"number\": 20, \"type\": 8, \"label\": 1, \"options\": { \"deprecated\": true } }, { \"name\": \"java_string_check_utf8\", \"number\": 27, \"type\": 8, \"label\": 1, \"defaultValue\": \"false\" }, { \"name\": \"optimize_for\", \"number\": 9, \"type\": 14, \"label\": 1, \"typeName\": \".google.protobuf.FileOptions.OptimizeMode\", \"defaultValue\": \"SPEED\" }, { \"name\": \"go_package\", \"number\": 11, \"type\": 9, \"label\": 1 }, { \"name\": \"cc_generic_services\", \"number\": 16, \"type\": 8, \"label\": 1, \"defaultValue\": \"false\" }, { \"name\": \"java_generic_services\", \"number\": 17, \"type\": 8, \"label\": 1, \"defaultValue\": \"false\" }, { \"name\": \"py_generic_services\", \"number\": 18, \"type\": 8, \"label\": 1, \"defaultValue\": \"false\" }, { \"name\": \"deprecated\", \"number\": 23, \"type\": 8, \"label\": 1, \"defaultValue\": \"false\" }, { \"name\": \"cc_enable_arenas\", \"number\": 31, \"type\": 8, \"label\": 1, \"defaultValue\": \"true\" }, { \"name\": \"objc_class_prefix\", \"number\": 36, \"type\": 9, \"label\": 1 }, { \"name\": \"csharp_namespace\", \"number\": 37, \"type\": 9, \"label\": 1 }, { \"name\": \"swift_prefix\", \"number\": 39, \"type\": 9, \"label\": 1 }, { \"name\": \"php_class_prefix\", \"number\": 40, \"type\": 9, \"label\": 1 }, { \"name\": \"php_namespace\", \"number\": 41, \"type\": 9, \"label\": 1 }, { \"name\": \"php_metadata_namespace\", \"number\": 44, \"type\": 9, \"label\": 1 }, { \"name\": \"ruby_package\", \"number\": 45, \"type\": 9, \"label\": 1 }, { \"name\": \"features\", \"number\": 50, \"type\": 11, \"label\": 1, \"typeName\": \".google.protobuf.FeatureSet\" }, { \"name\": \"uninterpreted_option\", \"number\": 999, \"type\": 11, \"label\": 3, \"typeName\": \".google.protobuf.UninterpretedOption\" }], \"enumType\": [{ \"name\": \"OptimizeMode\", \"value\": [{ \"name\": \"SPEED\", \"number\": 1 }, { \"name\": \"CODE_SIZE\", \"number\": 2 }, { \"name\": \"LITE_RUNTIME\", \"number\": 3 }] }], \"extensionRange\": [{ \"start\": 1000, \"end\": 536870912 }] }, { \"name\": \"MessageOptions\", \"field\": [{ \"name\": \"message_set_wire_format\", \"number\": 1, \"type\": 8, \"label\": 1, \"defaultValue\": \"false\" }, { \"name\": \"no_standard_descriptor_accessor\", \"number\": 2, \"type\": 8, \"label\": 1, \"defaultValue\": \"false\" }, { \"name\": \"deprecated\", \"number\": 3, \"type\": 8, \"label\": 1, \"defaultValue\": \"false\" }, { \"name\": \"map_entry\", \"number\": 7, \"type\": 8, \"label\": 1 }, { \"name\": \"deprecated_legacy_json_field_conflicts\", \"number\": 11, \"type\": 8, \"label\": 1, \"options\": { \"deprecated\": true } }, { \"name\": \"features\", \"number\": 12, \"type\": 11, \"label\": 1, \"typeName\": \".google.protobuf.FeatureSet\" }, { \"name\": \"uninterpreted_option\", \"number\": 999, \"type\": 11, \"label\": 3, \"typeName\": \".google.protobuf.UninterpretedOption\" }], \"extensionRange\": [{ \"start\": 1000, \"end\": 536870912 }] }, { \"name\": \"FieldOptions\", \"field\": [{ \"name\": \"ctype\", \"number\": 1, \"type\": 14, \"label\": 1, \"typeName\": \".google.protobuf.FieldOptions.CType\", \"defaultValue\": \"STRING\" }, { \"name\": \"packed\", \"number\": 2, \"type\": 8, \"label\": 1 }, { \"name\": \"jstype\", \"number\": 6, \"type\": 14, \"label\": 1, \"typeName\": \".google.protobuf.FieldOptions.JSType\", \"defaultValue\": \"JS_NORMAL\" }, { \"name\": \"lazy\", \"number\": 5, \"type\": 8, \"label\": 1, \"defaultValue\": \"false\" }, { \"name\": \"unverified_lazy\", \"number\": 15, \"type\": 8, \"label\": 1, \"defaultValue\": \"false\" }, { \"name\": \"deprecated\", \"number\": 3, \"type\": 8, \"label\": 1, \"defaultValue\": \"false\" }, { \"name\": \"weak\", \"number\": 10, \"type\": 8, \"label\": 1, \"defaultValue\": \"false\" }, { \"name\": \"debug_redact\", \"number\": 16, \"type\": 8, \"label\": 1, \"defaultValue\": \"false\" }, { \"name\": \"retention\", \"number\": 17, \"type\": 14, \"label\": 1, \"typeName\": \".google.protobuf.FieldOptions.OptionRetention\" }, { \"name\": \"targets\", \"number\": 19, \"type\": 14, \"label\": 3, \"typeName\": \".google.protobuf.FieldOptions.OptionTargetType\" }, { \"name\": \"edition_defaults\", \"number\": 20, \"type\": 11, \"label\": 3, \"typeName\": \".google.protobuf.FieldOptions.EditionDefault\" }, { \"name\": \"features\", \"number\": 21, \"type\": 11, \"label\": 1, \"typeName\": \".google.protobuf.FeatureSet\" }, { \"name\": \"feature_support\", \"number\": 22, \"type\": 11, \"label\": 1, \"typeName\": \".google.protobuf.FieldOptions.FeatureSupport\" }, { \"name\": \"uninterpreted_option\", \"number\": 999, \"type\": 11, \"label\": 3, \"typeName\": \".google.protobuf.UninterpretedOption\" }], \"nestedType\": [{ \"name\": \"EditionDefault\", \"field\": [{ \"name\": \"edition\", \"number\": 3, \"type\": 14, \"label\": 1, \"typeName\": \".google.protobuf.Edition\" }, { \"name\": \"value\", \"number\": 2, \"type\": 9, \"label\": 1 }] }, { \"name\": \"FeatureSupport\", \"field\": [{ \"name\": \"edition_introduced\", \"number\": 1, \"type\": 14, \"label\": 1, \"typeName\": \".google.protobuf.Edition\" }, { \"name\": \"edition_deprecated\", \"number\": 2, \"type\": 14, \"label\": 1, \"typeName\": \".google.protobuf.Edition\" }, { \"name\": \"deprecation_warning\", \"number\": 3, \"type\": 9, \"label\": 1 }, { \"name\": \"edition_removed\", \"number\": 4, \"type\": 14, \"label\": 1, \"typeName\": \".google.protobuf.Edition\" }] }], \"enumType\": [{ \"name\": \"CType\", \"value\": [{ \"name\": \"STRING\", \"number\": 0 }, { \"name\": \"CORD\", \"number\": 1 }, { \"name\": \"STRING_PIECE\", \"number\": 2 }] }, { \"name\": \"JSType\", \"value\": [{ \"name\": \"JS_NORMAL\", \"number\": 0 }, { \"name\": \"JS_STRING\", \"number\": 1 }, { \"name\": \"JS_NUMBER\", \"number\": 2 }] }, { \"name\": \"OptionRetention\", \"value\": [{ \"name\": \"RETENTION_UNKNOWN\", \"number\": 0 }, { \"name\": \"RETENTION_RUNTIME\", \"number\": 1 }, { \"name\": \"RETENTION_SOURCE\", \"number\": 2 }] }, { \"name\": \"OptionTargetType\", \"value\": [{ \"name\": \"TARGET_TYPE_UNKNOWN\", \"number\": 0 }, { \"name\": \"TARGET_TYPE_FILE\", \"number\": 1 }, { \"name\": \"TARGET_TYPE_EXTENSION_RANGE\", \"number\": 2 }, { \"name\": \"TARGET_TYPE_MESSAGE\", \"number\": 3 }, { \"name\": \"TARGET_TYPE_FIELD\", \"number\": 4 }, { \"name\": \"TARGET_TYPE_ONEOF\", \"number\": 5 }, { \"name\": \"TARGET_TYPE_ENUM\", \"number\": 6 }, { \"name\": \"TARGET_TYPE_ENUM_ENTRY\", \"number\": 7 }, { \"name\": \"TARGET_TYPE_SERVICE\", \"number\": 8 }, { \"name\": \"TARGET_TYPE_METHOD\", \"number\": 9 }] }], \"extensionRange\": [{ \"start\": 1000, \"end\": 536870912 }] }, { \"name\": \"OneofOptions\", \"field\": [{ \"name\": \"features\", \"number\": 1, \"type\": 11, \"label\": 1, \"typeName\": \".google.protobuf.FeatureSet\" }, { \"name\": \"uninterpreted_option\", \"number\": 999, \"type\": 11, \"label\": 3, \"typeName\": \".google.protobuf.UninterpretedOption\" }], \"extensionRange\": [{ \"start\": 1000, \"end\": 536870912 }] }, { \"name\": \"EnumOptions\", \"field\": [{ \"name\": \"allow_alias\", \"number\": 2, \"type\": 8, \"label\": 1 }, { \"name\": \"deprecated\", \"number\": 3, \"type\": 8, \"label\": 1, \"defaultValue\": \"false\" }, { \"name\": \"deprecated_legacy_json_field_conflicts\", \"number\": 6, \"type\": 8, \"label\": 1, \"options\": { \"deprecated\": true } }, { \"name\": \"features\", \"number\": 7, \"type\": 11, \"label\": 1, \"typeName\": \".google.protobuf.FeatureSet\" }, { \"name\": \"uninterpreted_option\", \"number\": 999, \"type\": 11, \"label\": 3, \"typeName\": \".google.protobuf.UninterpretedOption\" }], \"extensionRange\": [{ \"start\": 1000, \"end\": 536870912 }] }, { \"name\": \"EnumValueOptions\", \"field\": [{ \"name\": \"deprecated\", \"number\": 1, \"type\": 8, \"label\": 1, \"defaultValue\": \"false\" }, { \"name\": \"features\", \"number\": 2, \"type\": 11, \"label\": 1, \"typeName\": \".google.protobuf.FeatureSet\" }, { \"name\": \"debug_redact\", \"number\": 3, \"type\": 8, \"label\": 1, \"defaultValue\": \"false\" }, { \"name\": \"feature_support\", \"number\": 4, \"type\": 11, \"label\": 1, \"typeName\": \".google.protobuf.FieldOptions.FeatureSupport\" }, { \"name\": \"uninterpreted_option\", \"number\": 999, \"type\": 11, \"label\": 3, \"typeName\": \".google.protobuf.UninterpretedOption\" }], \"extensionRange\": [{ \"start\": 1000, \"end\": 536870912 }] }, { \"name\": \"ServiceOptions\", \"field\": [{ \"name\": \"features\", \"number\": 34, \"type\": 11, \"label\": 1, \"typeName\": \".google.protobuf.FeatureSet\" }, { \"name\": \"deprecated\", \"number\": 33, \"type\": 8, \"label\": 1, \"defaultValue\": \"false\" }, { \"name\": \"uninterpreted_option\", \"number\": 999, \"type\": 11, \"label\": 3, \"typeName\": \".google.protobuf.UninterpretedOption\" }], \"extensionRange\": [{ \"start\": 1000, \"end\": 536870912 }] }, { \"name\": \"MethodOptions\", \"field\": [{ \"name\": \"deprecated\", \"number\": 33, \"type\": 8, \"label\": 1, \"defaultValue\": \"false\" }, { \"name\": \"idempotency_level\", \"number\": 34, \"type\": 14, \"label\": 1, \"typeName\": \".google.protobuf.MethodOptions.IdempotencyLevel\", \"defaultValue\": \"IDEMPOTENCY_UNKNOWN\" }, { \"name\": \"features\", \"number\": 35, \"type\": 11, \"label\": 1, \"typeName\": \".google.protobuf.FeatureSet\" }, { \"name\": \"uninterpreted_option\", \"number\": 999, \"type\": 11, \"label\": 3, \"typeName\": \".google.protobuf.UninterpretedOption\" }], \"enumType\": [{ \"name\": \"IdempotencyLevel\", \"value\": [{ \"name\": \"IDEMPOTENCY_UNKNOWN\", \"number\": 0 }, { \"name\": \"NO_SIDE_EFFECTS\", \"number\": 1 }, { \"name\": \"IDEMPOTENT\", \"number\": 2 }] }], \"extensionRange\": [{ \"start\": 1000, \"end\": 536870912 }] }, { \"name\": \"UninterpretedOption\", \"field\": [{ \"name\": \"name\", \"number\": 2, \"type\": 11, \"label\": 3, \"typeName\": \".google.protobuf.UninterpretedOption.NamePart\" }, { \"name\": \"identifier_value\", \"number\": 3, \"type\": 9, \"label\": 1 }, { \"name\": \"positive_int_value\", \"number\": 4, \"type\": 4, \"label\": 1 }, { \"name\": \"negative_int_value\", \"number\": 5, \"type\": 3, \"label\": 1 }, { \"name\": \"double_value\", \"number\": 6, \"type\": 1, \"label\": 1 }, { \"name\": \"string_value\", \"number\": 7, \"type\": 12, \"label\": 1 }, { \"name\": \"aggregate_value\", \"number\": 8, \"type\": 9, \"label\": 1 }], \"nestedType\": [{ \"name\": \"NamePart\", \"field\": [{ \"name\": \"name_part\", \"number\": 1, \"type\": 9, \"label\": 2 }, { \"name\": \"is_extension\", \"number\": 2, \"type\": 8, \"label\": 2 }] }] }, { \"name\": \"FeatureSet\", \"field\": [{ \"name\": \"field_presence\", \"number\": 1, \"type\": 14, \"label\": 1, \"typeName\": \".google.protobuf.FeatureSet.FieldPresence\", \"options\": { \"retention\": 1, \"targets\": [4, 1], \"editionDefaults\": [{ \"value\": \"EXPLICIT\", \"edition\": 900 }, { \"value\": \"IMPLICIT\", \"edition\": 999 }, { \"value\": \"EXPLICIT\", \"edition\": 1000 }] } }, { \"name\": \"enum_type\", \"number\": 2, \"type\": 14, \"label\": 1, \"typeName\": \".google.protobuf.FeatureSet.EnumType\", \"options\": { \"retention\": 1, \"targets\": [6, 1], \"editionDefaults\": [{ \"value\": \"CLOSED\", \"edition\": 900 }, { \"value\": \"OPEN\", \"edition\": 999 }] } }, { \"name\": \"repeated_field_encoding\", \"number\": 3, \"type\": 14, \"label\": 1, \"typeName\": \".google.protobuf.FeatureSet.RepeatedFieldEncoding\", \"options\": { \"retention\": 1, \"targets\": [4, 1], \"editionDefaults\": [{ \"value\": \"EXPANDED\", \"edition\": 900 }, { \"value\": \"PACKED\", \"edition\": 999 }] } }, { \"name\": \"utf8_validation\", \"number\": 4, \"type\": 14, \"label\": 1, \"typeName\": \".google.protobuf.FeatureSet.Utf8Validation\", \"options\": { \"retention\": 1, \"targets\": [4, 1], \"editionDefaults\": [{ \"value\": \"NONE\", \"edition\": 900 }, { \"value\": \"VERIFY\", \"edition\": 999 }] } }, { \"name\": \"message_encoding\", \"number\": 5, \"type\": 14, \"label\": 1, \"typeName\": \".google.protobuf.FeatureSet.MessageEncoding\", \"options\": { \"retention\": 1, \"targets\": [4, 1], \"editionDefaults\": [{ \"value\": \"LENGTH_PREFIXED\", \"edition\": 900 }] } }, { \"name\": \"json_format\", \"number\": 6, \"type\": 14, \"label\": 1, \"typeName\": \".google.protobuf.FeatureSet.JsonFormat\", \"options\": { \"retention\": 1, \"targets\": [3, 6, 1], \"editionDefaults\": [{ \"value\": \"LEGACY_BEST_EFFORT\", \"edition\": 900 }, { \"value\": \"ALLOW\", \"edition\": 999 }] } }], \"enumType\": [{ \"name\": \"FieldPresence\", \"value\": [{ \"name\": \"FIELD_PRESENCE_UNKNOWN\", \"number\": 0 }, { \"name\": \"EXPLICIT\", \"number\": 1 }, { \"name\": \"IMPLICIT\", \"number\": 2 }, { \"name\": \"LEGACY_REQUIRED\", \"number\": 3 }] }, { \"name\": \"EnumType\", \"value\": [{ \"name\": \"ENUM_TYPE_UNKNOWN\", \"number\": 0 }, { \"name\": \"OPEN\", \"number\": 1 }, { \"name\": \"CLOSED\", \"number\": 2 }] }, { \"name\": \"RepeatedFieldEncoding\", \"value\": [{ \"name\": \"REPEATED_FIELD_ENCODING_UNKNOWN\", \"number\": 0 }, { \"name\": \"PACKED\", \"number\": 1 }, { \"name\": \"EXPANDED\", \"number\": 2 }] }, { \"name\": \"Utf8Validation\", \"value\": [{ \"name\": \"UTF8_VALIDATION_UNKNOWN\", \"number\": 0 }, { \"name\": \"VERIFY\", \"number\": 2 }, { \"name\": \"NONE\", \"number\": 3 }] }, { \"name\": \"MessageEncoding\", \"value\": [{ \"name\": \"MESSAGE_ENCODING_UNKNOWN\", \"number\": 0 }, { \"name\": \"LENGTH_PREFIXED\", \"number\": 1 }, { \"name\": \"DELIMITED\", \"number\": 2 }] }, { \"name\": \"JsonFormat\", \"value\": [{ \"name\": \"JSON_FORMAT_UNKNOWN\", \"number\": 0 }, { \"name\": \"ALLOW\", \"number\": 1 }, { \"name\": \"LEGACY_BEST_EFFORT\", \"number\": 2 }] }], \"extensionRange\": [{ \"start\": 1000, \"end\": 9995 }, { \"start\": 9995, \"end\": 10000 }, { \"start\": 10000, \"end\": 10001 }] }, { \"name\": \"FeatureSetDefaults\", \"field\": [{ \"name\": \"defaults\", \"number\": 1, \"type\": 11, \"label\": 3, \"typeName\": \".google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault\" }, { \"name\": \"minimum_edition\", \"number\": 4, \"type\": 14, \"label\": 1, \"typeName\": \".google.protobuf.Edition\" }, { \"name\": \"maximum_edition\", \"number\": 5, \"type\": 14, \"label\": 1, \"typeName\": \".google.protobuf.Edition\" }], \"nestedType\": [{ \"name\": \"FeatureSetEditionDefault\", \"field\": [{ \"name\": \"edition\", \"number\": 3, \"type\": 14, \"label\": 1, \"typeName\": \".google.protobuf.Edition\" }, { \"name\": \"overridable_features\", \"number\": 4, \"type\": 11, \"label\": 1, \"typeName\": \".google.protobuf.FeatureSet\" }, { \"name\": \"fixed_features\", \"number\": 5, \"type\": 11, \"label\": 1, \"typeName\": \".google.protobuf.FeatureSet\" }] }] }, { \"name\": \"SourceCodeInfo\", \"field\": [{ \"name\": \"location\", \"number\": 1, \"type\": 11, \"label\": 3, \"typeName\": \".google.protobuf.SourceCodeInfo.Location\" }], \"nestedType\": [{ \"name\": \"Location\", \"field\": [{ \"name\": \"path\", \"number\": 1, \"type\": 5, \"label\": 3, \"options\": { \"packed\": true } }, { \"name\": \"span\", \"number\": 2, \"type\": 5, \"label\": 3, \"options\": { \"packed\": true } }, { \"name\": \"leading_comments\", \"number\": 3, \"type\": 9, \"label\": 1 }, { \"name\": \"trailing_comments\", \"number\": 4, \"type\": 9, \"label\": 1 }, { \"name\": \"leading_detached_comments\", \"number\": 6, \"type\": 9, \"label\": 3 }] }] }, { \"name\": \"GeneratedCodeInfo\", \"field\": [{ \"name\": \"annotation\", \"number\": 1, \"type\": 11, \"label\": 3, \"typeName\": \".google.protobuf.GeneratedCodeInfo.Annotation\" }], \"nestedType\": [{ \"name\": \"Annotation\", \"field\": [{ \"name\": \"path\", \"number\": 1, \"type\": 5, \"label\": 3, \"options\": { \"packed\": true } }, { \"name\": \"source_file\", \"number\": 2, \"type\": 9, \"label\": 1 }, { \"name\": \"begin\", \"number\": 3, \"type\": 5, \"label\": 1 }, { \"name\": \"end\", \"number\": 4, \"type\": 5, \"label\": 1 }, { \"name\": \"semantic\", \"number\": 5, \"type\": 14, \"label\": 1, \"typeName\": \".google.protobuf.GeneratedCodeInfo.Annotation.Semantic\" }], \"enumType\": [{ \"name\": \"Semantic\", \"value\": [{ \"name\": \"NONE\", \"number\": 0 }, { \"name\": \"SET\", \"number\": 1 }, { \"name\": \"ALIAS\", \"number\": 2 }] }] }] }], \"enumType\": [{ \"name\": \"Edition\", \"value\": [{ \"name\": \"EDITION_UNKNOWN\", \"number\": 0 }, { \"name\": \"EDITION_LEGACY\", \"number\": 900 }, { \"name\": \"EDITION_PROTO2\", \"number\": 998 }, { \"name\": \"EDITION_PROTO3\", \"number\": 999 }, { \"name\": \"EDITION_2023\", \"number\": 1000 }, { \"name\": \"EDITION_2024\", \"number\": 1001 }, { \"name\": \"EDITION_1_TEST_ONLY\", \"number\": 1 }, { \"name\": \"EDITION_2_TEST_ONLY\", \"number\": 2 }, { \"name\": \"EDITION_99997_TEST_ONLY\", \"number\": 99997 }, { \"name\": \"EDITION_99998_TEST_ONLY\", \"number\": 99998 }, { \"name\": \"EDITION_99999_TEST_ONLY\", \"number\": 99999 }, { \"name\": \"EDITION_MAX\", \"number\": 2147483647 }] }] });\n/**\n * Describes the message google.protobuf.FileDescriptorSet.\n * Use `create(FileDescriptorSetSchema)` to create a new message.\n */\nexport const FileDescriptorSetSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_descriptor, 0);\n/**\n * Describes the message google.protobuf.FileDescriptorProto.\n * Use `create(FileDescriptorProtoSchema)` to create a new message.\n */\nexport const FileDescriptorProtoSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_descriptor, 1);\n/**\n * Describes the message google.protobuf.DescriptorProto.\n * Use `create(DescriptorProtoSchema)` to create a new message.\n */\nexport const DescriptorProtoSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_descriptor, 2);\n/**\n * Describes the message google.protobuf.DescriptorProto.ExtensionRange.\n * Use `create(DescriptorProto_ExtensionRangeSchema)` to create a new message.\n */\nexport const DescriptorProto_ExtensionRangeSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_descriptor, 2, 0);\n/**\n * Describes the message google.protobuf.DescriptorProto.ReservedRange.\n * Use `create(DescriptorProto_ReservedRangeSchema)` to create a new message.\n */\nexport const DescriptorProto_ReservedRangeSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_descriptor, 2, 1);\n/**\n * Describes the message google.protobuf.ExtensionRangeOptions.\n * Use `create(ExtensionRangeOptionsSchema)` to create a new message.\n */\nexport const ExtensionRangeOptionsSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_descriptor, 3);\n/**\n * Describes the message google.protobuf.ExtensionRangeOptions.Declaration.\n * Use `create(ExtensionRangeOptions_DeclarationSchema)` to create a new message.\n */\nexport const ExtensionRangeOptions_DeclarationSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_descriptor, 3, 0);\n/**\n * The verification state of the extension range.\n *\n * @generated from enum google.protobuf.ExtensionRangeOptions.VerificationState\n */\nexport var ExtensionRangeOptions_VerificationState;\n(function (ExtensionRangeOptions_VerificationState) {\n    /**\n     * All the extensions of the range must be declared.\n     *\n     * @generated from enum value: DECLARATION = 0;\n     */\n    ExtensionRangeOptions_VerificationState[ExtensionRangeOptions_VerificationState[\"DECLARATION\"] = 0] = \"DECLARATION\";\n    /**\n     * @generated from enum value: UNVERIFIED = 1;\n     */\n    ExtensionRangeOptions_VerificationState[ExtensionRangeOptions_VerificationState[\"UNVERIFIED\"] = 1] = \"UNVERIFIED\";\n})(ExtensionRangeOptions_VerificationState || (ExtensionRangeOptions_VerificationState = {}));\n/**\n * Describes the enum google.protobuf.ExtensionRangeOptions.VerificationState.\n */\nexport const ExtensionRangeOptions_VerificationStateSchema = /*@__PURE__*/ enumDesc(file_google_protobuf_descriptor, 3, 0);\n/**\n * Describes the message google.protobuf.FieldDescriptorProto.\n * Use `create(FieldDescriptorProtoSchema)` to create a new message.\n */\nexport const FieldDescriptorProtoSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_descriptor, 4);\n/**\n * @generated from enum google.protobuf.FieldDescriptorProto.Type\n */\nexport var FieldDescriptorProto_Type;\n(function (FieldDescriptorProto_Type) {\n    /**\n     * 0 is reserved for errors.\n     * Order is weird for historical reasons.\n     *\n     * @generated from enum value: TYPE_DOUBLE = 1;\n     */\n    FieldDescriptorProto_Type[FieldDescriptorProto_Type[\"DOUBLE\"] = 1] = \"DOUBLE\";\n    /**\n     * @generated from enum value: TYPE_FLOAT = 2;\n     */\n    FieldDescriptorProto_Type[FieldDescriptorProto_Type[\"FLOAT\"] = 2] = \"FLOAT\";\n    /**\n     * Not ZigZag encoded.  Negative numbers take 10 bytes.  Use TYPE_SINT64 if\n     * negative values are likely.\n     *\n     * @generated from enum value: TYPE_INT64 = 3;\n     */\n    FieldDescriptorProto_Type[FieldDescriptorProto_Type[\"INT64\"] = 3] = \"INT64\";\n    /**\n     * @generated from enum value: TYPE_UINT64 = 4;\n     */\n    FieldDescriptorProto_Type[FieldDescriptorProto_Type[\"UINT64\"] = 4] = \"UINT64\";\n    /**\n     * Not ZigZag encoded.  Negative numbers take 10 bytes.  Use TYPE_SINT32 if\n     * negative values are likely.\n     *\n     * @generated from enum value: TYPE_INT32 = 5;\n     */\n    FieldDescriptorProto_Type[FieldDescriptorProto_Type[\"INT32\"] = 5] = \"INT32\";\n    /**\n     * @generated from enum value: TYPE_FIXED64 = 6;\n     */\n    FieldDescriptorProto_Type[FieldDescriptorProto_Type[\"FIXED64\"] = 6] = \"FIXED64\";\n    /**\n     * @generated from enum value: TYPE_FIXED32 = 7;\n     */\n    FieldDescriptorProto_Type[FieldDescriptorProto_Type[\"FIXED32\"] = 7] = \"FIXED32\";\n    /**\n     * @generated from enum value: TYPE_BOOL = 8;\n     */\n    FieldDescriptorProto_Type[FieldDescriptorProto_Type[\"BOOL\"] = 8] = \"BOOL\";\n    /**\n     * @generated from enum value: TYPE_STRING = 9;\n     */\n    FieldDescriptorProto_Type[FieldDescriptorProto_Type[\"STRING\"] = 9] = \"STRING\";\n    /**\n     * Tag-delimited aggregate.\n     * Group type is deprecated and not supported after google.protobuf. However, Proto3\n     * implementations should still be able to parse the group wire format and\n     * treat group fields as unknown fields.  In Editions, the group wire format\n     * can be enabled via the `message_encoding` feature.\n     *\n     * @generated from enum value: TYPE_GROUP = 10;\n     */\n    FieldDescriptorProto_Type[FieldDescriptorProto_Type[\"GROUP\"] = 10] = \"GROUP\";\n    /**\n     * Length-delimited aggregate.\n     *\n     * @generated from enum value: TYPE_MESSAGE = 11;\n     */\n    FieldDescriptorProto_Type[FieldDescriptorProto_Type[\"MESSAGE\"] = 11] = \"MESSAGE\";\n    /**\n     * New in version 2.\n     *\n     * @generated from enum value: TYPE_BYTES = 12;\n     */\n    FieldDescriptorProto_Type[FieldDescriptorProto_Type[\"BYTES\"] = 12] = \"BYTES\";\n    /**\n     * @generated from enum value: TYPE_UINT32 = 13;\n     */\n    FieldDescriptorProto_Type[FieldDescriptorProto_Type[\"UINT32\"] = 13] = \"UINT32\";\n    /**\n     * @generated from enum value: TYPE_ENUM = 14;\n     */\n    FieldDescriptorProto_Type[FieldDescriptorProto_Type[\"ENUM\"] = 14] = \"ENUM\";\n    /**\n     * @generated from enum value: TYPE_SFIXED32 = 15;\n     */\n    FieldDescriptorProto_Type[FieldDescriptorProto_Type[\"SFIXED32\"] = 15] = \"SFIXED32\";\n    /**\n     * @generated from enum value: TYPE_SFIXED64 = 16;\n     */\n    FieldDescriptorProto_Type[FieldDescriptorProto_Type[\"SFIXED64\"] = 16] = \"SFIXED64\";\n    /**\n     * Uses ZigZag encoding.\n     *\n     * @generated from enum value: TYPE_SINT32 = 17;\n     */\n    FieldDescriptorProto_Type[FieldDescriptorProto_Type[\"SINT32\"] = 17] = \"SINT32\";\n    /**\n     * Uses ZigZag encoding.\n     *\n     * @generated from enum value: TYPE_SINT64 = 18;\n     */\n    FieldDescriptorProto_Type[FieldDescriptorProto_Type[\"SINT64\"] = 18] = \"SINT64\";\n})(FieldDescriptorProto_Type || (FieldDescriptorProto_Type = {}));\n/**\n * Describes the enum google.protobuf.FieldDescriptorProto.Type.\n */\nexport const FieldDescriptorProto_TypeSchema = /*@__PURE__*/ enumDesc(file_google_protobuf_descriptor, 4, 0);\n/**\n * @generated from enum google.protobuf.FieldDescriptorProto.Label\n */\nexport var FieldDescriptorProto_Label;\n(function (FieldDescriptorProto_Label) {\n    /**\n     * 0 is reserved for errors\n     *\n     * @generated from enum value: LABEL_OPTIONAL = 1;\n     */\n    FieldDescriptorProto_Label[FieldDescriptorProto_Label[\"OPTIONAL\"] = 1] = \"OPTIONAL\";\n    /**\n     * @generated from enum value: LABEL_REPEATED = 3;\n     */\n    FieldDescriptorProto_Label[FieldDescriptorProto_Label[\"REPEATED\"] = 3] = \"REPEATED\";\n    /**\n     * The required label is only allowed in google.protobuf.  In proto3 and Editions\n     * it's explicitly prohibited.  In Editions, the `field_presence` feature\n     * can be used to get this behavior.\n     *\n     * @generated from enum value: LABEL_REQUIRED = 2;\n     */\n    FieldDescriptorProto_Label[FieldDescriptorProto_Label[\"REQUIRED\"] = 2] = \"REQUIRED\";\n})(FieldDescriptorProto_Label || (FieldDescriptorProto_Label = {}));\n/**\n * Describes the enum google.protobuf.FieldDescriptorProto.Label.\n */\nexport const FieldDescriptorProto_LabelSchema = /*@__PURE__*/ enumDesc(file_google_protobuf_descriptor, 4, 1);\n/**\n * Describes the message google.protobuf.OneofDescriptorProto.\n * Use `create(OneofDescriptorProtoSchema)` to create a new message.\n */\nexport const OneofDescriptorProtoSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_descriptor, 5);\n/**\n * Describes the message google.protobuf.EnumDescriptorProto.\n * Use `create(EnumDescriptorProtoSchema)` to create a new message.\n */\nexport const EnumDescriptorProtoSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_descriptor, 6);\n/**\n * Describes the message google.protobuf.EnumDescriptorProto.EnumReservedRange.\n * Use `create(EnumDescriptorProto_EnumReservedRangeSchema)` to create a new message.\n */\nexport const EnumDescriptorProto_EnumReservedRangeSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_descriptor, 6, 0);\n/**\n * Describes the message google.protobuf.EnumValueDescriptorProto.\n * Use `create(EnumValueDescriptorProtoSchema)` to create a new message.\n */\nexport const EnumValueDescriptorProtoSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_descriptor, 7);\n/**\n * Describes the message google.protobuf.ServiceDescriptorProto.\n * Use `create(ServiceDescriptorProtoSchema)` to create a new message.\n */\nexport const ServiceDescriptorProtoSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_descriptor, 8);\n/**\n * Describes the message google.protobuf.MethodDescriptorProto.\n * Use `create(MethodDescriptorProtoSchema)` to create a new message.\n */\nexport const MethodDescriptorProtoSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_descriptor, 9);\n/**\n * Describes the message google.protobuf.FileOptions.\n * Use `create(FileOptionsSchema)` to create a new message.\n */\nexport const FileOptionsSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_descriptor, 10);\n/**\n * Generated classes can be optimized for speed or code size.\n *\n * @generated from enum google.protobuf.FileOptions.OptimizeMode\n */\nexport var FileOptions_OptimizeMode;\n(function (FileOptions_OptimizeMode) {\n    /**\n     * Generate complete code for parsing, serialization,\n     *\n     * @generated from enum value: SPEED = 1;\n     */\n    FileOptions_OptimizeMode[FileOptions_OptimizeMode[\"SPEED\"] = 1] = \"SPEED\";\n    /**\n     * etc.\n     *\n     * Use ReflectionOps to implement these methods.\n     *\n     * @generated from enum value: CODE_SIZE = 2;\n     */\n    FileOptions_OptimizeMode[FileOptions_OptimizeMode[\"CODE_SIZE\"] = 2] = \"CODE_SIZE\";\n    /**\n     * Generate code using MessageLite and the lite runtime.\n     *\n     * @generated from enum value: LITE_RUNTIME = 3;\n     */\n    FileOptions_OptimizeMode[FileOptions_OptimizeMode[\"LITE_RUNTIME\"] = 3] = \"LITE_RUNTIME\";\n})(FileOptions_OptimizeMode || (FileOptions_OptimizeMode = {}));\n/**\n * Describes the enum google.protobuf.FileOptions.OptimizeMode.\n */\nexport const FileOptions_OptimizeModeSchema = /*@__PURE__*/ enumDesc(file_google_protobuf_descriptor, 10, 0);\n/**\n * Describes the message google.protobuf.MessageOptions.\n * Use `create(MessageOptionsSchema)` to create a new message.\n */\nexport const MessageOptionsSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_descriptor, 11);\n/**\n * Describes the message google.protobuf.FieldOptions.\n * Use `create(FieldOptionsSchema)` to create a new message.\n */\nexport const FieldOptionsSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_descriptor, 12);\n/**\n * Describes the message google.protobuf.FieldOptions.EditionDefault.\n * Use `create(FieldOptions_EditionDefaultSchema)` to create a new message.\n */\nexport const FieldOptions_EditionDefaultSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_descriptor, 12, 0);\n/**\n * Describes the message google.protobuf.FieldOptions.FeatureSupport.\n * Use `create(FieldOptions_FeatureSupportSchema)` to create a new message.\n */\nexport const FieldOptions_FeatureSupportSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_descriptor, 12, 1);\n/**\n * @generated from enum google.protobuf.FieldOptions.CType\n */\nexport var FieldOptions_CType;\n(function (FieldOptions_CType) {\n    /**\n     * Default mode.\n     *\n     * @generated from enum value: STRING = 0;\n     */\n    FieldOptions_CType[FieldOptions_CType[\"STRING\"] = 0] = \"STRING\";\n    /**\n     * The option [ctype=CORD] may be applied to a non-repeated field of type\n     * \"bytes\". It indicates that in C++, the data should be stored in a Cord\n     * instead of a string.  For very large strings, this may reduce memory\n     * fragmentation. It may also allow better performance when parsing from a\n     * Cord, or when parsing with aliasing enabled, as the parsed Cord may then\n     * alias the original buffer.\n     *\n     * @generated from enum value: CORD = 1;\n     */\n    FieldOptions_CType[FieldOptions_CType[\"CORD\"] = 1] = \"CORD\";\n    /**\n     * @generated from enum value: STRING_PIECE = 2;\n     */\n    FieldOptions_CType[FieldOptions_CType[\"STRING_PIECE\"] = 2] = \"STRING_PIECE\";\n})(FieldOptions_CType || (FieldOptions_CType = {}));\n/**\n * Describes the enum google.protobuf.FieldOptions.CType.\n */\nexport const FieldOptions_CTypeSchema = /*@__PURE__*/ enumDesc(file_google_protobuf_descriptor, 12, 0);\n/**\n * @generated from enum google.protobuf.FieldOptions.JSType\n */\nexport var FieldOptions_JSType;\n(function (FieldOptions_JSType) {\n    /**\n     * Use the default type.\n     *\n     * @generated from enum value: JS_NORMAL = 0;\n     */\n    FieldOptions_JSType[FieldOptions_JSType[\"JS_NORMAL\"] = 0] = \"JS_NORMAL\";\n    /**\n     * Use JavaScript strings.\n     *\n     * @generated from enum value: JS_STRING = 1;\n     */\n    FieldOptions_JSType[FieldOptions_JSType[\"JS_STRING\"] = 1] = \"JS_STRING\";\n    /**\n     * Use JavaScript numbers.\n     *\n     * @generated from enum value: JS_NUMBER = 2;\n     */\n    FieldOptions_JSType[FieldOptions_JSType[\"JS_NUMBER\"] = 2] = \"JS_NUMBER\";\n})(FieldOptions_JSType || (FieldOptions_JSType = {}));\n/**\n * Describes the enum google.protobuf.FieldOptions.JSType.\n */\nexport const FieldOptions_JSTypeSchema = /*@__PURE__*/ enumDesc(file_google_protobuf_descriptor, 12, 1);\n/**\n * If set to RETENTION_SOURCE, the option will be omitted from the binary.\n * Note: as of January 2023, support for this is in progress and does not yet\n * have an effect (b/264593489).\n *\n * @generated from enum google.protobuf.FieldOptions.OptionRetention\n */\nexport var FieldOptions_OptionRetention;\n(function (FieldOptions_OptionRetention) {\n    /**\n     * @generated from enum value: RETENTION_UNKNOWN = 0;\n     */\n    FieldOptions_OptionRetention[FieldOptions_OptionRetention[\"RETENTION_UNKNOWN\"] = 0] = \"RETENTION_UNKNOWN\";\n    /**\n     * @generated from enum value: RETENTION_RUNTIME = 1;\n     */\n    FieldOptions_OptionRetention[FieldOptions_OptionRetention[\"RETENTION_RUNTIME\"] = 1] = \"RETENTION_RUNTIME\";\n    /**\n     * @generated from enum value: RETENTION_SOURCE = 2;\n     */\n    FieldOptions_OptionRetention[FieldOptions_OptionRetention[\"RETENTION_SOURCE\"] = 2] = \"RETENTION_SOURCE\";\n})(FieldOptions_OptionRetention || (FieldOptions_OptionRetention = {}));\n/**\n * Describes the enum google.protobuf.FieldOptions.OptionRetention.\n */\nexport const FieldOptions_OptionRetentionSchema = /*@__PURE__*/ enumDesc(file_google_protobuf_descriptor, 12, 2);\n/**\n * This indicates the types of entities that the field may apply to when used\n * as an option. If it is unset, then the field may be freely used as an\n * option on any kind of entity. Note: as of January 2023, support for this is\n * in progress and does not yet have an effect (b/264593489).\n *\n * @generated from enum google.protobuf.FieldOptions.OptionTargetType\n */\nexport var FieldOptions_OptionTargetType;\n(function (FieldOptions_OptionTargetType) {\n    /**\n     * @generated from enum value: TARGET_TYPE_UNKNOWN = 0;\n     */\n    FieldOptions_OptionTargetType[FieldOptions_OptionTargetType[\"TARGET_TYPE_UNKNOWN\"] = 0] = \"TARGET_TYPE_UNKNOWN\";\n    /**\n     * @generated from enum value: TARGET_TYPE_FILE = 1;\n     */\n    FieldOptions_OptionTargetType[FieldOptions_OptionTargetType[\"TARGET_TYPE_FILE\"] = 1] = \"TARGET_TYPE_FILE\";\n    /**\n     * @generated from enum value: TARGET_TYPE_EXTENSION_RANGE = 2;\n     */\n    FieldOptions_OptionTargetType[FieldOptions_OptionTargetType[\"TARGET_TYPE_EXTENSION_RANGE\"] = 2] = \"TARGET_TYPE_EXTENSION_RANGE\";\n    /**\n     * @generated from enum value: TARGET_TYPE_MESSAGE = 3;\n     */\n    FieldOptions_OptionTargetType[FieldOptions_OptionTargetType[\"TARGET_TYPE_MESSAGE\"] = 3] = \"TARGET_TYPE_MESSAGE\";\n    /**\n     * @generated from enum value: TARGET_TYPE_FIELD = 4;\n     */\n    FieldOptions_OptionTargetType[FieldOptions_OptionTargetType[\"TARGET_TYPE_FIELD\"] = 4] = \"TARGET_TYPE_FIELD\";\n    /**\n     * @generated from enum value: TARGET_TYPE_ONEOF = 5;\n     */\n    FieldOptions_OptionTargetType[FieldOptions_OptionTargetType[\"TARGET_TYPE_ONEOF\"] = 5] = \"TARGET_TYPE_ONEOF\";\n    /**\n     * @generated from enum value: TARGET_TYPE_ENUM = 6;\n     */\n    FieldOptions_OptionTargetType[FieldOptions_OptionTargetType[\"TARGET_TYPE_ENUM\"] = 6] = \"TARGET_TYPE_ENUM\";\n    /**\n     * @generated from enum value: TARGET_TYPE_ENUM_ENTRY = 7;\n     */\n    FieldOptions_OptionTargetType[FieldOptions_OptionTargetType[\"TARGET_TYPE_ENUM_ENTRY\"] = 7] = \"TARGET_TYPE_ENUM_ENTRY\";\n    /**\n     * @generated from enum value: TARGET_TYPE_SERVICE = 8;\n     */\n    FieldOptions_OptionTargetType[FieldOptions_OptionTargetType[\"TARGET_TYPE_SERVICE\"] = 8] = \"TARGET_TYPE_SERVICE\";\n    /**\n     * @generated from enum value: TARGET_TYPE_METHOD = 9;\n     */\n    FieldOptions_OptionTargetType[FieldOptions_OptionTargetType[\"TARGET_TYPE_METHOD\"] = 9] = \"TARGET_TYPE_METHOD\";\n})(FieldOptions_OptionTargetType || (FieldOptions_OptionTargetType = {}));\n/**\n * Describes the enum google.protobuf.FieldOptions.OptionTargetType.\n */\nexport const FieldOptions_OptionTargetTypeSchema = /*@__PURE__*/ enumDesc(file_google_protobuf_descriptor, 12, 3);\n/**\n * Describes the message google.protobuf.OneofOptions.\n * Use `create(OneofOptionsSchema)` to create a new message.\n */\nexport const OneofOptionsSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_descriptor, 13);\n/**\n * Describes the message google.protobuf.EnumOptions.\n * Use `create(EnumOptionsSchema)` to create a new message.\n */\nexport const EnumOptionsSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_descriptor, 14);\n/**\n * Describes the message google.protobuf.EnumValueOptions.\n * Use `create(EnumValueOptionsSchema)` to create a new message.\n */\nexport const EnumValueOptionsSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_descriptor, 15);\n/**\n * Describes the message google.protobuf.ServiceOptions.\n * Use `create(ServiceOptionsSchema)` to create a new message.\n */\nexport const ServiceOptionsSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_descriptor, 16);\n/**\n * Describes the message google.protobuf.MethodOptions.\n * Use `create(MethodOptionsSchema)` to create a new message.\n */\nexport const MethodOptionsSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_descriptor, 17);\n/**\n * Is this method side-effect-free (or safe in HTTP parlance), or idempotent,\n * or neither? HTTP based RPC implementation may choose GET verb for safe\n * methods, and PUT verb for idempotent methods instead of the default POST.\n *\n * @generated from enum google.protobuf.MethodOptions.IdempotencyLevel\n */\nexport var MethodOptions_IdempotencyLevel;\n(function (MethodOptions_IdempotencyLevel) {\n    /**\n     * @generated from enum value: IDEMPOTENCY_UNKNOWN = 0;\n     */\n    MethodOptions_IdempotencyLevel[MethodOptions_IdempotencyLevel[\"IDEMPOTENCY_UNKNOWN\"] = 0] = \"IDEMPOTENCY_UNKNOWN\";\n    /**\n     * implies idempotent\n     *\n     * @generated from enum value: NO_SIDE_EFFECTS = 1;\n     */\n    MethodOptions_IdempotencyLevel[MethodOptions_IdempotencyLevel[\"NO_SIDE_EFFECTS\"] = 1] = \"NO_SIDE_EFFECTS\";\n    /**\n     * idempotent, but may have side effects\n     *\n     * @generated from enum value: IDEMPOTENT = 2;\n     */\n    MethodOptions_IdempotencyLevel[MethodOptions_IdempotencyLevel[\"IDEMPOTENT\"] = 2] = \"IDEMPOTENT\";\n})(MethodOptions_IdempotencyLevel || (MethodOptions_IdempotencyLevel = {}));\n/**\n * Describes the enum google.protobuf.MethodOptions.IdempotencyLevel.\n */\nexport const MethodOptions_IdempotencyLevelSchema = /*@__PURE__*/ enumDesc(file_google_protobuf_descriptor, 17, 0);\n/**\n * Describes the message google.protobuf.UninterpretedOption.\n * Use `create(UninterpretedOptionSchema)` to create a new message.\n */\nexport const UninterpretedOptionSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_descriptor, 18);\n/**\n * Describes the message google.protobuf.UninterpretedOption.NamePart.\n * Use `create(UninterpretedOption_NamePartSchema)` to create a new message.\n */\nexport const UninterpretedOption_NamePartSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_descriptor, 18, 0);\n/**\n * Describes the message google.protobuf.FeatureSet.\n * Use `create(FeatureSetSchema)` to create a new message.\n */\nexport const FeatureSetSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_descriptor, 19);\n/**\n * @generated from enum google.protobuf.FeatureSet.FieldPresence\n */\nexport var FeatureSet_FieldPresence;\n(function (FeatureSet_FieldPresence) {\n    /**\n     * @generated from enum value: FIELD_PRESENCE_UNKNOWN = 0;\n     */\n    FeatureSet_FieldPresence[FeatureSet_FieldPresence[\"FIELD_PRESENCE_UNKNOWN\"] = 0] = \"FIELD_PRESENCE_UNKNOWN\";\n    /**\n     * @generated from enum value: EXPLICIT = 1;\n     */\n    FeatureSet_FieldPresence[FeatureSet_FieldPresence[\"EXPLICIT\"] = 1] = \"EXPLICIT\";\n    /**\n     * @generated from enum value: IMPLICIT = 2;\n     */\n    FeatureSet_FieldPresence[FeatureSet_FieldPresence[\"IMPLICIT\"] = 2] = \"IMPLICIT\";\n    /**\n     * @generated from enum value: LEGACY_REQUIRED = 3;\n     */\n    FeatureSet_FieldPresence[FeatureSet_FieldPresence[\"LEGACY_REQUIRED\"] = 3] = \"LEGACY_REQUIRED\";\n})(FeatureSet_FieldPresence || (FeatureSet_FieldPresence = {}));\n/**\n * Describes the enum google.protobuf.FeatureSet.FieldPresence.\n */\nexport const FeatureSet_FieldPresenceSchema = /*@__PURE__*/ enumDesc(file_google_protobuf_descriptor, 19, 0);\n/**\n * @generated from enum google.protobuf.FeatureSet.EnumType\n */\nexport var FeatureSet_EnumType;\n(function (FeatureSet_EnumType) {\n    /**\n     * @generated from enum value: ENUM_TYPE_UNKNOWN = 0;\n     */\n    FeatureSet_EnumType[FeatureSet_EnumType[\"ENUM_TYPE_UNKNOWN\"] = 0] = \"ENUM_TYPE_UNKNOWN\";\n    /**\n     * @generated from enum value: OPEN = 1;\n     */\n    FeatureSet_EnumType[FeatureSet_EnumType[\"OPEN\"] = 1] = \"OPEN\";\n    /**\n     * @generated from enum value: CLOSED = 2;\n     */\n    FeatureSet_EnumType[FeatureSet_EnumType[\"CLOSED\"] = 2] = \"CLOSED\";\n})(FeatureSet_EnumType || (FeatureSet_EnumType = {}));\n/**\n * Describes the enum google.protobuf.FeatureSet.EnumType.\n */\nexport const FeatureSet_EnumTypeSchema = /*@__PURE__*/ enumDesc(file_google_protobuf_descriptor, 19, 1);\n/**\n * @generated from enum google.protobuf.FeatureSet.RepeatedFieldEncoding\n */\nexport var FeatureSet_RepeatedFieldEncoding;\n(function (FeatureSet_RepeatedFieldEncoding) {\n    /**\n     * @generated from enum value: REPEATED_FIELD_ENCODING_UNKNOWN = 0;\n     */\n    FeatureSet_RepeatedFieldEncoding[FeatureSet_RepeatedFieldEncoding[\"REPEATED_FIELD_ENCODING_UNKNOWN\"] = 0] = \"REPEATED_FIELD_ENCODING_UNKNOWN\";\n    /**\n     * @generated from enum value: PACKED = 1;\n     */\n    FeatureSet_RepeatedFieldEncoding[FeatureSet_RepeatedFieldEncoding[\"PACKED\"] = 1] = \"PACKED\";\n    /**\n     * @generated from enum value: EXPANDED = 2;\n     */\n    FeatureSet_RepeatedFieldEncoding[FeatureSet_RepeatedFieldEncoding[\"EXPANDED\"] = 2] = \"EXPANDED\";\n})(FeatureSet_RepeatedFieldEncoding || (FeatureSet_RepeatedFieldEncoding = {}));\n/**\n * Describes the enum google.protobuf.FeatureSet.RepeatedFieldEncoding.\n */\nexport const FeatureSet_RepeatedFieldEncodingSchema = /*@__PURE__*/ enumDesc(file_google_protobuf_descriptor, 19, 2);\n/**\n * @generated from enum google.protobuf.FeatureSet.Utf8Validation\n */\nexport var FeatureSet_Utf8Validation;\n(function (FeatureSet_Utf8Validation) {\n    /**\n     * @generated from enum value: UTF8_VALIDATION_UNKNOWN = 0;\n     */\n    FeatureSet_Utf8Validation[FeatureSet_Utf8Validation[\"UTF8_VALIDATION_UNKNOWN\"] = 0] = \"UTF8_VALIDATION_UNKNOWN\";\n    /**\n     * @generated from enum value: VERIFY = 2;\n     */\n    FeatureSet_Utf8Validation[FeatureSet_Utf8Validation[\"VERIFY\"] = 2] = \"VERIFY\";\n    /**\n     * @generated from enum value: NONE = 3;\n     */\n    FeatureSet_Utf8Validation[FeatureSet_Utf8Validation[\"NONE\"] = 3] = \"NONE\";\n})(FeatureSet_Utf8Validation || (FeatureSet_Utf8Validation = {}));\n/**\n * Describes the enum google.protobuf.FeatureSet.Utf8Validation.\n */\nexport const FeatureSet_Utf8ValidationSchema = /*@__PURE__*/ enumDesc(file_google_protobuf_descriptor, 19, 3);\n/**\n * @generated from enum google.protobuf.FeatureSet.MessageEncoding\n */\nexport var FeatureSet_MessageEncoding;\n(function (FeatureSet_MessageEncoding) {\n    /**\n     * @generated from enum value: MESSAGE_ENCODING_UNKNOWN = 0;\n     */\n    FeatureSet_MessageEncoding[FeatureSet_MessageEncoding[\"MESSAGE_ENCODING_UNKNOWN\"] = 0] = \"MESSAGE_ENCODING_UNKNOWN\";\n    /**\n     * @generated from enum value: LENGTH_PREFIXED = 1;\n     */\n    FeatureSet_MessageEncoding[FeatureSet_MessageEncoding[\"LENGTH_PREFIXED\"] = 1] = \"LENGTH_PREFIXED\";\n    /**\n     * @generated from enum value: DELIMITED = 2;\n     */\n    FeatureSet_MessageEncoding[FeatureSet_MessageEncoding[\"DELIMITED\"] = 2] = \"DELIMITED\";\n})(FeatureSet_MessageEncoding || (FeatureSet_MessageEncoding = {}));\n/**\n * Describes the enum google.protobuf.FeatureSet.MessageEncoding.\n */\nexport const FeatureSet_MessageEncodingSchema = /*@__PURE__*/ enumDesc(file_google_protobuf_descriptor, 19, 4);\n/**\n * @generated from enum google.protobuf.FeatureSet.JsonFormat\n */\nexport var FeatureSet_JsonFormat;\n(function (FeatureSet_JsonFormat) {\n    /**\n     * @generated from enum value: JSON_FORMAT_UNKNOWN = 0;\n     */\n    FeatureSet_JsonFormat[FeatureSet_JsonFormat[\"JSON_FORMAT_UNKNOWN\"] = 0] = \"JSON_FORMAT_UNKNOWN\";\n    /**\n     * @generated from enum value: ALLOW = 1;\n     */\n    FeatureSet_JsonFormat[FeatureSet_JsonFormat[\"ALLOW\"] = 1] = \"ALLOW\";\n    /**\n     * @generated from enum value: LEGACY_BEST_EFFORT = 2;\n     */\n    FeatureSet_JsonFormat[FeatureSet_JsonFormat[\"LEGACY_BEST_EFFORT\"] = 2] = \"LEGACY_BEST_EFFORT\";\n})(FeatureSet_JsonFormat || (FeatureSet_JsonFormat = {}));\n/**\n * Describes the enum google.protobuf.FeatureSet.JsonFormat.\n */\nexport const FeatureSet_JsonFormatSchema = /*@__PURE__*/ enumDesc(file_google_protobuf_descriptor, 19, 5);\n/**\n * Describes the message google.protobuf.FeatureSetDefaults.\n * Use `create(FeatureSetDefaultsSchema)` to create a new message.\n */\nexport const FeatureSetDefaultsSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_descriptor, 20);\n/**\n * Describes the message google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault.\n * Use `create(FeatureSetDefaults_FeatureSetEditionDefaultSchema)` to create a new message.\n */\nexport const FeatureSetDefaults_FeatureSetEditionDefaultSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_descriptor, 20, 0);\n/**\n * Describes the message google.protobuf.SourceCodeInfo.\n * Use `create(SourceCodeInfoSchema)` to create a new message.\n */\nexport const SourceCodeInfoSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_descriptor, 21);\n/**\n * Describes the message google.protobuf.SourceCodeInfo.Location.\n * Use `create(SourceCodeInfo_LocationSchema)` to create a new message.\n */\nexport const SourceCodeInfo_LocationSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_descriptor, 21, 0);\n/**\n * Describes the message google.protobuf.GeneratedCodeInfo.\n * Use `create(GeneratedCodeInfoSchema)` to create a new message.\n */\nexport const GeneratedCodeInfoSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_descriptor, 22);\n/**\n * Describes the message google.protobuf.GeneratedCodeInfo.Annotation.\n * Use `create(GeneratedCodeInfo_AnnotationSchema)` to create a new message.\n */\nexport const GeneratedCodeInfo_AnnotationSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_descriptor, 22, 0);\n/**\n * Represents the identified object's effect on the element in the original\n * .proto file.\n *\n * @generated from enum google.protobuf.GeneratedCodeInfo.Annotation.Semantic\n */\nexport var GeneratedCodeInfo_Annotation_Semantic;\n(function (GeneratedCodeInfo_Annotation_Semantic) {\n    /**\n     * There is no effect or the effect is indescribable.\n     *\n     * @generated from enum value: NONE = 0;\n     */\n    GeneratedCodeInfo_Annotation_Semantic[GeneratedCodeInfo_Annotation_Semantic[\"NONE\"] = 0] = \"NONE\";\n    /**\n     * The element is set or otherwise mutated.\n     *\n     * @generated from enum value: SET = 1;\n     */\n    GeneratedCodeInfo_Annotation_Semantic[GeneratedCodeInfo_Annotation_Semantic[\"SET\"] = 1] = \"SET\";\n    /**\n     * An alias to the element is returned.\n     *\n     * @generated from enum value: ALIAS = 2;\n     */\n    GeneratedCodeInfo_Annotation_Semantic[GeneratedCodeInfo_Annotation_Semantic[\"ALIAS\"] = 2] = \"ALIAS\";\n})(GeneratedCodeInfo_Annotation_Semantic || (GeneratedCodeInfo_Annotation_Semantic = {}));\n/**\n * Describes the enum google.protobuf.GeneratedCodeInfo.Annotation.Semantic.\n */\nexport const GeneratedCodeInfo_Annotation_SemanticSchema = /*@__PURE__*/ enumDesc(file_google_protobuf_descriptor, 22, 0, 0);\n/**\n * The full set of known editions.\n *\n * @generated from enum google.protobuf.Edition\n */\nexport var Edition;\n(function (Edition) {\n    /**\n     * A placeholder for an unknown edition value.\n     *\n     * @generated from enum value: EDITION_UNKNOWN = 0;\n     */\n    Edition[Edition[\"EDITION_UNKNOWN\"] = 0] = \"EDITION_UNKNOWN\";\n    /**\n     * A placeholder edition for specifying default behaviors *before* a feature\n     * was first introduced.  This is effectively an \"infinite past\".\n     *\n     * @generated from enum value: EDITION_LEGACY = 900;\n     */\n    Edition[Edition[\"EDITION_LEGACY\"] = 900] = \"EDITION_LEGACY\";\n    /**\n     * Legacy syntax \"editions\".  These pre-date editions, but behave much like\n     * distinct editions.  These can't be used to specify the edition of proto\n     * files, but feature definitions must supply proto2/proto3 defaults for\n     * backwards compatibility.\n     *\n     * @generated from enum value: EDITION_PROTO2 = 998;\n     */\n    Edition[Edition[\"EDITION_PROTO2\"] = 998] = \"EDITION_PROTO2\";\n    /**\n     * @generated from enum value: EDITION_PROTO3 = 999;\n     */\n    Edition[Edition[\"EDITION_PROTO3\"] = 999] = \"EDITION_PROTO3\";\n    /**\n     * Editions that have been released.  The specific values are arbitrary and\n     * should not be depended on, but they will always be time-ordered for easy\n     * comparison.\n     *\n     * @generated from enum value: EDITION_2023 = 1000;\n     */\n    Edition[Edition[\"EDITION_2023\"] = 1000] = \"EDITION_2023\";\n    /**\n     * @generated from enum value: EDITION_2024 = 1001;\n     */\n    Edition[Edition[\"EDITION_2024\"] = 1001] = \"EDITION_2024\";\n    /**\n     * Placeholder editions for testing feature resolution.  These should not be\n     * used or relyed on outside of tests.\n     *\n     * @generated from enum value: EDITION_1_TEST_ONLY = 1;\n     */\n    Edition[Edition[\"EDITION_1_TEST_ONLY\"] = 1] = \"EDITION_1_TEST_ONLY\";\n    /**\n     * @generated from enum value: EDITION_2_TEST_ONLY = 2;\n     */\n    Edition[Edition[\"EDITION_2_TEST_ONLY\"] = 2] = \"EDITION_2_TEST_ONLY\";\n    /**\n     * @generated from enum value: EDITION_99997_TEST_ONLY = 99997;\n     */\n    Edition[Edition[\"EDITION_99997_TEST_ONLY\"] = 99997] = \"EDITION_99997_TEST_ONLY\";\n    /**\n     * @generated from enum value: EDITION_99998_TEST_ONLY = 99998;\n     */\n    Edition[Edition[\"EDITION_99998_TEST_ONLY\"] = 99998] = \"EDITION_99998_TEST_ONLY\";\n    /**\n     * @generated from enum value: EDITION_99999_TEST_ONLY = 99999;\n     */\n    Edition[Edition[\"EDITION_99999_TEST_ONLY\"] = 99999] = \"EDITION_99999_TEST_ONLY\";\n    /**\n     * Placeholder for specifying unbounded edition support.  This should only\n     * ever be used by plugins that can expect to never require any changes to\n     * support a new edition.\n     *\n     * @generated from enum value: EDITION_MAX = 2147483647;\n     */\n    Edition[Edition[\"EDITION_MAX\"] = 2147483647] = \"EDITION_MAX\";\n})(Edition || (Edition = {}));\n/**\n * Describes the enum google.protobuf.Edition.\n */\nexport const EditionSchema = /*@__PURE__*/ enumDesc(file_google_protobuf_descriptor, 0);\n","// Copyright 2021-2024 Buf Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nconst errorNames = [\n    \"FieldValueInvalidError\",\n    \"FieldListRangeError\",\n    \"ForeignFieldError\",\n];\nexport class FieldError extends Error {\n    constructor(fieldOrOneof, message, name = \"FieldValueInvalidError\") {\n        super(message);\n        this.name = name;\n        this.field = () => fieldOrOneof;\n    }\n}\nexport function isFieldError(arg) {\n    return (arg instanceof Error &&\n        errorNames.includes(arg.name) &&\n        \"field\" in arg &&\n        typeof arg.field == \"function\");\n}\n","// Copyright 2021-2024 Buf Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nconst symbol = Symbol.for(\"@bufbuild/protobuf/text-encoding\");\n/**\n * Protobuf-ES requires the Text Encoding API to convert UTF-8 from and to\n * binary. This WHATWG API is widely available, but it is not part of the\n * ECMAScript standard. On runtimes where it is not available, use this\n * function to provide your own implementation.\n *\n * Note that the Text Encoding API does not provide a way to validate UTF-8.\n * Our implementation falls back to use encodeURIComponent().\n */\nexport function configureTextEncoding(textEncoding) {\n    globalThis[symbol] = textEncoding;\n}\nexport function getTextEncoding() {\n    if (globalThis[symbol] == undefined) {\n        const te = new globalThis.TextEncoder();\n        const td = new globalThis.TextDecoder();\n        globalThis[symbol] = {\n            encodeUtf8(text) {\n                return te.encode(text);\n            },\n            decodeUtf8(bytes) {\n                return td.decode(bytes);\n            },\n            checkUtf8(text) {\n                try {\n                    encodeURIComponent(text);\n                    return true;\n                }\n                catch (e) {\n                    return false;\n                }\n            },\n        };\n    }\n    return globalThis[symbol];\n}\n","// Copyright 2021-2024 Buf Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { varint32read, varint32write, varint64read, varint64write, } from \"./varint.js\";\nimport { protoInt64 } from \"../proto-int64.js\";\nimport { getTextEncoding } from \"./text-encoding.js\";\n/* eslint-disable prefer-const,no-case-declarations,@typescript-eslint/restrict-plus-operands */\n/**\n * Protobuf binary format wire types.\n *\n * A wire type provides just enough information to find the length of the\n * following value.\n *\n * See https://developers.google.com/protocol-buffers/docs/encoding#structure\n */\nexport var WireType;\n(function (WireType) {\n    /**\n     * Used for int32, int64, uint32, uint64, sint32, sint64, bool, enum\n     */\n    WireType[WireType[\"Varint\"] = 0] = \"Varint\";\n    /**\n     * Used for fixed64, sfixed64, double.\n     * Always 8 bytes with little-endian byte order.\n     */\n    WireType[WireType[\"Bit64\"] = 1] = \"Bit64\";\n    /**\n     * Used for string, bytes, embedded messages, packed repeated fields\n     *\n     * Only repeated numeric types (types which use the varint, 32-bit,\n     * or 64-bit wire types) can be packed. In proto3, such fields are\n     * packed by default.\n     */\n    WireType[WireType[\"LengthDelimited\"] = 2] = \"LengthDelimited\";\n    /**\n     * Start of a tag-delimited aggregate, such as a proto2 group, or a message\n     * in editions with message_encoding = DELIMITED.\n     */\n    WireType[WireType[\"StartGroup\"] = 3] = \"StartGroup\";\n    /**\n     * End of a tag-delimited aggregate.\n     */\n    WireType[WireType[\"EndGroup\"] = 4] = \"EndGroup\";\n    /**\n     * Used for fixed32, sfixed32, float.\n     * Always 4 bytes with little-endian byte order.\n     */\n    WireType[WireType[\"Bit32\"] = 5] = \"Bit32\";\n})(WireType || (WireType = {}));\n/**\n * Maximum value for a 32-bit floating point value (Protobuf FLOAT).\n */\nexport const FLOAT32_MAX = 3.4028234663852886e38;\n/**\n * Minimum value for a 32-bit floating point value (Protobuf FLOAT).\n */\nexport const FLOAT32_MIN = -3.4028234663852886e38;\n/**\n * Maximum value for an unsigned 32-bit integer (Protobuf UINT32, FIXED32).\n */\nexport const UINT32_MAX = 0xffffffff;\n/**\n * Maximum value for a signed 32-bit integer (Protobuf INT32, SFIXED32, SINT32).\n */\nexport const INT32_MAX = 0x7fffffff;\n/**\n * Minimum value for a signed 32-bit integer (Protobuf INT32, SFIXED32, SINT32).\n */\nexport const INT32_MIN = -0x80000000;\nexport class BinaryWriter {\n    constructor(encodeUtf8 = getTextEncoding().encodeUtf8) {\n        this.encodeUtf8 = encodeUtf8;\n        /**\n         * Previous fork states.\n         */\n        this.stack = [];\n        this.chunks = [];\n        this.buf = [];\n    }\n    /**\n     * Return all bytes written and reset this writer.\n     */\n    finish() {\n        if (this.buf.length) {\n            this.chunks.push(new Uint8Array(this.buf)); // flush the buffer\n            this.buf = [];\n        }\n        let len = 0;\n        for (let i = 0; i < this.chunks.length; i++)\n            len += this.chunks[i].length;\n        let bytes = new Uint8Array(len);\n        let offset = 0;\n        for (let i = 0; i < this.chunks.length; i++) {\n            bytes.set(this.chunks[i], offset);\n            offset += this.chunks[i].length;\n        }\n        this.chunks = [];\n        return bytes;\n    }\n    /**\n     * Start a new fork for length-delimited data like a message\n     * or a packed repeated field.\n     *\n     * Must be joined later with `join()`.\n     */\n    fork() {\n        this.stack.push({ chunks: this.chunks, buf: this.buf });\n        this.chunks = [];\n        this.buf = [];\n        return this;\n    }\n    /**\n     * Join the last fork. Write its length and bytes, then\n     * return to the previous state.\n     */\n    join() {\n        // get chunk of fork\n        let chunk = this.finish();\n        // restore previous state\n        let prev = this.stack.pop();\n        if (!prev)\n            throw new Error(\"invalid state, fork stack empty\");\n        this.chunks = prev.chunks;\n        this.buf = prev.buf;\n        // write length of chunk as varint\n        this.uint32(chunk.byteLength);\n        return this.raw(chunk);\n    }\n    /**\n     * Writes a tag (field number and wire type).\n     *\n     * Equivalent to `uint32( (fieldNo << 3 | type) >>> 0 )`.\n     *\n     * Generated code should compute the tag ahead of time and call `uint32()`.\n     */\n    tag(fieldNo, type) {\n        return this.uint32(((fieldNo << 3) | type) >>> 0);\n    }\n    /**\n     * Write a chunk of raw bytes.\n     */\n    raw(chunk) {\n        if (this.buf.length) {\n            this.chunks.push(new Uint8Array(this.buf));\n            this.buf = [];\n        }\n        this.chunks.push(chunk);\n        return this;\n    }\n    /**\n     * Write a `uint32` value, an unsigned 32 bit varint.\n     */\n    uint32(value) {\n        assertUInt32(value);\n        // write value as varint 32, inlined for speed\n        while (value > 0x7f) {\n            this.buf.push((value & 0x7f) | 0x80);\n            value = value >>> 7;\n        }\n        this.buf.push(value);\n        return this;\n    }\n    /**\n     * Write a `int32` value, a signed 32 bit varint.\n     */\n    int32(value) {\n        assertInt32(value);\n        varint32write(value, this.buf);\n        return this;\n    }\n    /**\n     * Write a `bool` value, a variant.\n     */\n    bool(value) {\n        this.buf.push(value ? 1 : 0);\n        return this;\n    }\n    /**\n     * Write a `bytes` value, length-delimited arbitrary data.\n     */\n    bytes(value) {\n        this.uint32(value.byteLength); // write length of chunk as varint\n        return this.raw(value);\n    }\n    /**\n     * Write a `string` value, length-delimited data converted to UTF-8 text.\n     */\n    string(value) {\n        let chunk = this.encodeUtf8(value);\n        this.uint32(chunk.byteLength); // write length of chunk as varint\n        return this.raw(chunk);\n    }\n    /**\n     * Write a `float` value, 32-bit floating point number.\n     */\n    float(value) {\n        assertFloat32(value);\n        let chunk = new Uint8Array(4);\n        new DataView(chunk.buffer).setFloat32(0, value, true);\n        return this.raw(chunk);\n    }\n    /**\n     * Write a `double` value, a 64-bit floating point number.\n     */\n    double(value) {\n        let chunk = new Uint8Array(8);\n        new DataView(chunk.buffer).setFloat64(0, value, true);\n        return this.raw(chunk);\n    }\n    /**\n     * Write a `fixed32` value, an unsigned, fixed-length 32-bit integer.\n     */\n    fixed32(value) {\n        assertUInt32(value);\n        let chunk = new Uint8Array(4);\n        new DataView(chunk.buffer).setUint32(0, value, true);\n        return this.raw(chunk);\n    }\n    /**\n     * Write a `sfixed32` value, a signed, fixed-length 32-bit integer.\n     */\n    sfixed32(value) {\n        assertInt32(value);\n        let chunk = new Uint8Array(4);\n        new DataView(chunk.buffer).setInt32(0, value, true);\n        return this.raw(chunk);\n    }\n    /**\n     * Write a `sint32` value, a signed, zigzag-encoded 32-bit varint.\n     */\n    sint32(value) {\n        assertInt32(value);\n        // zigzag encode\n        value = ((value << 1) ^ (value >> 31)) >>> 0;\n        varint32write(value, this.buf);\n        return this;\n    }\n    /**\n     * Write a `fixed64` value, a signed, fixed-length 64-bit integer.\n     */\n    sfixed64(value) {\n        let chunk = new Uint8Array(8), view = new DataView(chunk.buffer), tc = protoInt64.enc(value);\n        view.setInt32(0, tc.lo, true);\n        view.setInt32(4, tc.hi, true);\n        return this.raw(chunk);\n    }\n    /**\n     * Write a `fixed64` value, an unsigned, fixed-length 64 bit integer.\n     */\n    fixed64(value) {\n        let chunk = new Uint8Array(8), view = new DataView(chunk.buffer), tc = protoInt64.uEnc(value);\n        view.setInt32(0, tc.lo, true);\n        view.setInt32(4, tc.hi, true);\n        return this.raw(chunk);\n    }\n    /**\n     * Write a `int64` value, a signed 64-bit varint.\n     */\n    int64(value) {\n        let tc = protoInt64.enc(value);\n        varint64write(tc.lo, tc.hi, this.buf);\n        return this;\n    }\n    /**\n     * Write a `sint64` value, a signed, zig-zag-encoded 64-bit varint.\n     */\n    sint64(value) {\n        let tc = protoInt64.enc(value), \n        // zigzag encode\n        sign = tc.hi >> 31, lo = (tc.lo << 1) ^ sign, hi = ((tc.hi << 1) | (tc.lo >>> 31)) ^ sign;\n        varint64write(lo, hi, this.buf);\n        return this;\n    }\n    /**\n     * Write a `uint64` value, an unsigned 64-bit varint.\n     */\n    uint64(value) {\n        let tc = protoInt64.uEnc(value);\n        varint64write(tc.lo, tc.hi, this.buf);\n        return this;\n    }\n}\nexport class BinaryReader {\n    constructor(buf, decodeUtf8 = getTextEncoding().decodeUtf8) {\n        this.decodeUtf8 = decodeUtf8;\n        this.varint64 = varint64read; // dirty cast for `this`\n        /**\n         * Read a `uint32` field, an unsigned 32 bit varint.\n         */\n        this.uint32 = varint32read;\n        this.buf = buf;\n        this.len = buf.length;\n        this.pos = 0;\n        this.view = new DataView(buf.buffer, buf.byteOffset, buf.byteLength);\n    }\n    /**\n     * Reads a tag - field number and wire type.\n     */\n    tag() {\n        let tag = this.uint32(), fieldNo = tag >>> 3, wireType = tag & 7;\n        if (fieldNo <= 0 || wireType < 0 || wireType > 5)\n            throw new Error(\"illegal tag: field no \" + fieldNo + \" wire type \" + wireType);\n        return [fieldNo, wireType];\n    }\n    /**\n     * Skip one element and return the skipped data.\n     *\n     * When skipping StartGroup, provide the tags field number to check for\n     * matching field number in the EndGroup tag.\n     */\n    skip(wireType, fieldNo) {\n        let start = this.pos;\n        switch (wireType) {\n            case WireType.Varint:\n                while (this.buf[this.pos++] & 0x80) {\n                    // ignore\n                }\n                break;\n            // eslint-disable-next-line\n            // @ts-expect-error TS7029: Fallthrough case in switch\n            case WireType.Bit64:\n                this.pos += 4;\n            // eslint-disable-next-line no-fallthrough\n            case WireType.Bit32:\n                this.pos += 4;\n                break;\n            case WireType.LengthDelimited:\n                let len = this.uint32();\n                this.pos += len;\n                break;\n            case WireType.StartGroup:\n                for (;;) {\n                    const [fn, wt] = this.tag();\n                    if (wt === WireType.EndGroup) {\n                        if (fieldNo !== undefined && fn !== fieldNo) {\n                            throw new Error(\"invalid end group tag\");\n                        }\n                        break;\n                    }\n                    this.skip(wt, fn);\n                }\n                break;\n            default:\n                throw new Error(\"cant skip wire type \" + wireType);\n        }\n        this.assertBounds();\n        return this.buf.subarray(start, this.pos);\n    }\n    /**\n     * Throws error if position in byte array is out of range.\n     */\n    assertBounds() {\n        if (this.pos > this.len)\n            throw new RangeError(\"premature EOF\");\n    }\n    /**\n     * Read a `int32` field, a signed 32 bit varint.\n     */\n    int32() {\n        return this.uint32() | 0;\n    }\n    /**\n     * Read a `sint32` field, a signed, zigzag-encoded 32-bit varint.\n     */\n    sint32() {\n        let zze = this.uint32();\n        // decode zigzag\n        return (zze >>> 1) ^ -(zze & 1);\n    }\n    /**\n     * Read a `int64` field, a signed 64-bit varint.\n     */\n    int64() {\n        return protoInt64.dec(...this.varint64());\n    }\n    /**\n     * Read a `uint64` field, an unsigned 64-bit varint.\n     */\n    uint64() {\n        return protoInt64.uDec(...this.varint64());\n    }\n    /**\n     * Read a `sint64` field, a signed, zig-zag-encoded 64-bit varint.\n     */\n    sint64() {\n        let [lo, hi] = this.varint64();\n        // decode zig zag\n        let s = -(lo & 1);\n        lo = ((lo >>> 1) | ((hi & 1) << 31)) ^ s;\n        hi = (hi >>> 1) ^ s;\n        return protoInt64.dec(lo, hi);\n    }\n    /**\n     * Read a `bool` field, a variant.\n     */\n    bool() {\n        let [lo, hi] = this.varint64();\n        return lo !== 0 || hi !== 0;\n    }\n    /**\n     * Read a `fixed32` field, an unsigned, fixed-length 32-bit integer.\n     */\n    fixed32() {\n        return this.view.getUint32((this.pos += 4) - 4, true);\n    }\n    /**\n     * Read a `sfixed32` field, a signed, fixed-length 32-bit integer.\n     */\n    sfixed32() {\n        return this.view.getInt32((this.pos += 4) - 4, true);\n    }\n    /**\n     * Read a `fixed64` field, an unsigned, fixed-length 64 bit integer.\n     */\n    fixed64() {\n        return protoInt64.uDec(this.sfixed32(), this.sfixed32());\n    }\n    /**\n     * Read a `fixed64` field, a signed, fixed-length 64-bit integer.\n     */\n    sfixed64() {\n        return protoInt64.dec(this.sfixed32(), this.sfixed32());\n    }\n    /**\n     * Read a `float` field, 32-bit floating point number.\n     */\n    float() {\n        return this.view.getFloat32((this.pos += 4) - 4, true);\n    }\n    /**\n     * Read a `double` field, a 64-bit floating point number.\n     */\n    double() {\n        return this.view.getFloat64((this.pos += 8) - 8, true);\n    }\n    /**\n     * Read a `bytes` field, length-delimited arbitrary data.\n     */\n    bytes() {\n        let len = this.uint32(), start = this.pos;\n        this.pos += len;\n        this.assertBounds();\n        return this.buf.subarray(start, start + len);\n    }\n    /**\n     * Read a `string` field, length-delimited data converted to UTF-8 text.\n     */\n    string() {\n        return this.decodeUtf8(this.bytes());\n    }\n}\n/**\n * Assert a valid signed protobuf 32-bit integer as a number or string.\n */\nfunction assertInt32(arg) {\n    if (typeof arg == \"string\") {\n        arg = Number(arg);\n    }\n    else if (typeof arg != \"number\") {\n        throw new Error(\"invalid int32: \" + typeof arg);\n    }\n    if (!Number.isInteger(arg) ||\n        arg > INT32_MAX ||\n        arg < INT32_MIN)\n        throw new Error(\"invalid int32: \" + arg);\n}\n/**\n * Assert a valid unsigned protobuf 32-bit integer as a number or string.\n */\nfunction assertUInt32(arg) {\n    if (typeof arg == \"string\") {\n        arg = Number(arg);\n    }\n    else if (typeof arg != \"number\") {\n        throw new Error(\"invalid uint32: \" + typeof arg);\n    }\n    if (!Number.isInteger(arg) ||\n        arg > UINT32_MAX ||\n        arg < 0)\n        throw new Error(\"invalid uint32: \" + arg);\n}\n/**\n * Assert a valid protobuf float value as a number or string.\n */\nfunction assertFloat32(arg) {\n    if (typeof arg == \"string\") {\n        const o = arg;\n        arg = Number(arg);\n        if (isNaN(arg) && o !== \"NaN\") {\n            throw new Error(\"invalid float32: \" + o);\n        }\n    }\n    else if (typeof arg != \"number\") {\n        throw new Error(\"invalid float32: \" + typeof arg);\n    }\n    if (Number.isFinite(arg) &&\n        (arg > FLOAT32_MAX || arg < FLOAT32_MIN))\n        throw new Error(\"invalid float32: \" + arg);\n}\n","// Copyright 2021-2024 Buf Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { ScalarType, } from \"../descriptors.js\";\nimport { isMessage } from \"../is-message.js\";\nimport { FieldError } from \"./error.js\";\nimport { isReflectList, isReflectMap, isReflectMessage } from \"./guard.js\";\nimport { FLOAT32_MAX, FLOAT32_MIN, INT32_MAX, INT32_MIN, UINT32_MAX, } from \"../wire/binary-encoding.js\";\nimport { getTextEncoding } from \"../wire/text-encoding.js\";\nimport { protoInt64 } from \"../proto-int64.js\";\n/**\n * Check whether the given field value is valid for the reflect API.\n */\nexport function checkField(field, value) {\n    const check = field.fieldKind == \"list\"\n        ? isReflectList(value, field)\n        : field.fieldKind == \"map\"\n            ? isReflectMap(value, field)\n            : checkSingular(field, value);\n    if (check === true) {\n        return undefined;\n    }\n    let reason;\n    switch (field.fieldKind) {\n        case \"list\":\n            reason = `expected ${formatReflectList(field)}, got ${formatVal(value)}`;\n            break;\n        case \"map\":\n            reason = `expected ${formatReflectMap(field)}, got ${formatVal(value)}`;\n            break;\n        default: {\n            reason = reasonSingular(field, value, check);\n        }\n    }\n    return new FieldError(field, reason);\n}\n/**\n * Check whether the given list item is valid for the reflect API.\n */\nexport function checkListItem(field, index, value) {\n    const check = checkSingular(field, value);\n    if (check !== true) {\n        return new FieldError(field, `list item #${index + 1}: ${reasonSingular(field, value, check)}`);\n    }\n    return undefined;\n}\n/**\n * Check whether the given map key and value are valid for the reflect API.\n */\nexport function checkMapEntry(field, key, value) {\n    const checkKey = checkScalarValue(key, field.mapKey);\n    if (checkKey !== true) {\n        return new FieldError(field, `invalid map key: ${reasonSingular({ scalar: field.mapKey }, key, checkKey)}`);\n    }\n    const checkVal = checkSingular(field, value);\n    if (checkVal !== true) {\n        return new FieldError(field, `map entry ${formatVal(key)}: ${reasonSingular(field, value, checkVal)}`);\n    }\n    return undefined;\n}\nfunction checkSingular(field, value) {\n    if (field.scalar !== undefined) {\n        return checkScalarValue(value, field.scalar);\n    }\n    if (field.enum !== undefined) {\n        if (field.enum.open) {\n            return Number.isInteger(value);\n        }\n        return field.enum.values.some((v) => v.number === value);\n    }\n    return isReflectMessage(value, field.message);\n}\nfunction checkScalarValue(value, scalar) {\n    switch (scalar) {\n        case ScalarType.DOUBLE:\n            return typeof value == \"number\";\n        case ScalarType.FLOAT:\n            if (typeof value != \"number\") {\n                return false;\n            }\n            if (Number.isNaN(value) || !Number.isFinite(value)) {\n                return true;\n            }\n            if (value > FLOAT32_MAX || value < FLOAT32_MIN) {\n                return `${value.toFixed()} out of range`;\n            }\n            return true;\n        case ScalarType.INT32:\n        case ScalarType.SFIXED32:\n        case ScalarType.SINT32:\n            // signed\n            if (typeof value !== \"number\" || !Number.isInteger(value)) {\n                return false;\n            }\n            if (value > INT32_MAX || value < INT32_MIN) {\n                return `${value.toFixed()} out of range`;\n            }\n            return true;\n        case ScalarType.FIXED32:\n        case ScalarType.UINT32:\n            // unsigned\n            if (typeof value !== \"number\" || !Number.isInteger(value)) {\n                return false;\n            }\n            if (value > UINT32_MAX || value < 0) {\n                return `${value.toFixed()} out of range`;\n            }\n            return true;\n        case ScalarType.BOOL:\n            return typeof value == \"boolean\";\n        case ScalarType.STRING:\n            if (typeof value != \"string\") {\n                return false;\n            }\n            return getTextEncoding().checkUtf8(value) || \"invalid UTF8\";\n        case ScalarType.BYTES:\n            return value instanceof Uint8Array;\n        case ScalarType.INT64:\n        case ScalarType.SFIXED64:\n        case ScalarType.SINT64:\n            // signed\n            if (typeof value != \"string\" &&\n                typeof value !== \"bigint\" &&\n                typeof value !== \"number\") {\n                return false;\n            }\n            try {\n                protoInt64.parse(value);\n            }\n            catch (e) {\n                return `${value} out of range`;\n            }\n            return true;\n        case ScalarType.FIXED64:\n        case ScalarType.UINT64:\n            // unsigned\n            if (typeof value != \"string\" &&\n                typeof value !== \"bigint\" &&\n                typeof value !== \"number\") {\n                return false;\n            }\n            try {\n                protoInt64.uParse(value);\n            }\n            catch (e) {\n                return `${value} out of range`;\n            }\n            return true;\n    }\n}\nfunction reasonSingular(field, val, details) {\n    details =\n        typeof details == \"string\" ? `: ${details}` : `, got ${formatVal(val)}`;\n    if (field.scalar !== undefined) {\n        return `expected ${scalarTypeDescription(field.scalar)}` + details;\n    }\n    else if (field.enum !== undefined) {\n        return `expected ${field.enum.toString()}` + details;\n    }\n    return `expected ${formatReflectMessage(field.message)}` + details;\n}\nexport function formatVal(val) {\n    switch (typeof val) {\n        case \"object\":\n            if (val === null) {\n                return \"null\";\n            }\n            if (val instanceof Uint8Array) {\n                return `Uint8Array(${val.length})`;\n            }\n            if (Array.isArray(val)) {\n                return `Array(${val.length})`;\n            }\n            if (isReflectList(val)) {\n                return formatReflectList(val.field());\n            }\n            if (isReflectMap(val)) {\n                return formatReflectMap(val.field());\n            }\n            if (isReflectMessage(val)) {\n                return formatReflectMessage(val.desc);\n            }\n            if (isMessage(val)) {\n                return `message ${val.$typeName}`;\n            }\n            return \"object\";\n        case \"string\":\n            return val.length > 30 ? \"string\" : `\"${val.split('\"').join('\\\\\"')}\"`;\n        case \"boolean\":\n            return String(val);\n        case \"number\":\n            return String(val);\n        case \"bigint\":\n            return String(val) + \"n\";\n        default:\n            // \"symbol\" | \"undefined\" | \"object\" | \"function\"\n            return typeof val;\n    }\n}\nfunction formatReflectMessage(desc) {\n    return `ReflectMessage (${desc.typeName})`;\n}\nfunction formatReflectList(field) {\n    switch (field.listKind) {\n        case \"message\":\n            return `ReflectList (${field.message.toString()})`;\n        case \"enum\":\n            return `ReflectList (${field.enum.toString()})`;\n        case \"scalar\":\n            return `ReflectList (${ScalarType[field.scalar]})`;\n    }\n}\nfunction formatReflectMap(field) {\n    switch (field.mapKind) {\n        case \"message\":\n            return `ReflectMap (${ScalarType[field.mapKey]}, ${field.message.toString()})`;\n        case \"enum\":\n            return `ReflectMap (${ScalarType[field.mapKey]}, ${field.enum.toString()})`;\n        case \"scalar\":\n            return `ReflectMap (${ScalarType[field.mapKey]}, ${ScalarType[field.scalar]})`;\n    }\n}\nfunction scalarTypeDescription(scalar) {\n    switch (scalar) {\n        case ScalarType.STRING:\n            return \"string\";\n        case ScalarType.BOOL:\n            return \"boolean\";\n        case ScalarType.INT64:\n        case ScalarType.SINT64:\n        case ScalarType.SFIXED64:\n            return \"bigint (int64)\";\n        case ScalarType.UINT64:\n        case ScalarType.FIXED64:\n            return \"bigint (uint64)\";\n        case ScalarType.BYTES:\n            return \"Uint8Array\";\n        case ScalarType.DOUBLE:\n            return \"number (float64)\";\n        case ScalarType.FLOAT:\n            return \"number (float32)\";\n        case ScalarType.FIXED32:\n        case ScalarType.UINT32:\n            return \"number (uint32)\";\n        case ScalarType.INT32:\n        case ScalarType.SFIXED32:\n        case ScalarType.SINT32:\n            return \"number (int32)\";\n    }\n}\n","// Copyright 2021-2024 Buf Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { ScalarType, } from \"../descriptors.js\";\nimport { checkField, checkListItem, checkMapEntry } from \"./reflect-check.js\";\nimport { FieldError } from \"./error.js\";\nimport { unsafeClear, unsafeGet, unsafeIsSet, unsafeLocal, unsafeOneofCase, unsafeSet, } from \"./unsafe.js\";\nimport { create } from \"../create.js\";\nimport { isWrapper, isWrapperDesc } from \"../wkt/wrappers.js\";\nimport { scalarZeroValue } from \"./scalar.js\";\nimport { protoInt64 } from \"../proto-int64.js\";\nimport { isObject, isReflectList, isReflectMap, isReflectMessage, } from \"./guard.js\";\n/**\n * Create a ReflectMessage.\n */\nexport function reflect(messageDesc, message, \n/**\n * By default, field values are validated when setting them. For example,\n * a value for an uint32 field must be a ECMAScript Number >= 0.\n *\n * When field values are trusted, performance can be improved by disabling\n * checks.\n */\ncheck = true) {\n    return new ReflectMessageImpl(messageDesc, message, check);\n}\nclass ReflectMessageImpl {\n    get sortedFields() {\n        var _a;\n        return ((_a = this._sortedFields) !== null && _a !== void 0 ? _a : (this._sortedFields = this.desc.fields\n            .concat()\n            .sort((a, b) => a.number - b.number)));\n    }\n    constructor(messageDesc, message, check = true) {\n        this.lists = new Map();\n        this.maps = new Map();\n        this.check = check;\n        this.desc = messageDesc;\n        this.message = this[unsafeLocal] = message !== null && message !== void 0 ? message : create(messageDesc);\n        this.fields = messageDesc.fields;\n        this.oneofs = messageDesc.oneofs;\n        this.members = messageDesc.members;\n    }\n    findNumber(number) {\n        if (!this._fieldsByNumber) {\n            this._fieldsByNumber = new Map(this.desc.fields.map((f) => [f.number, f]));\n        }\n        return this._fieldsByNumber.get(number);\n    }\n    oneofCase(oneof) {\n        assertOwn(this.message, oneof);\n        return unsafeOneofCase(this.message, oneof);\n    }\n    isSet(field) {\n        assertOwn(this.message, field);\n        return unsafeIsSet(this.message, field);\n    }\n    clear(field) {\n        assertOwn(this.message, field);\n        unsafeClear(this.message, field);\n    }\n    get(field) {\n        assertOwn(this.message, field);\n        const value = unsafeGet(this.message, field);\n        switch (field.fieldKind) {\n            case \"list\":\n                // eslint-disable-next-line no-case-declarations\n                let list = this.lists.get(field);\n                if (!list || list[unsafeLocal] !== value) {\n                    this.lists.set(field, (list = new ReflectListImpl(field, value, this.check)));\n                }\n                return list;\n            case \"map\":\n                // eslint-disable-next-line no-case-declarations\n                let map = this.maps.get(field);\n                if (!map || map[unsafeLocal] !== value) {\n                    this.maps.set(field, (map = new ReflectMapImpl(field, value, this.check)));\n                }\n                return map;\n            case \"message\":\n                return messageToReflect(field, value, this.check);\n            case \"scalar\":\n                return (value === undefined\n                    ? scalarZeroValue(field.scalar, false)\n                    : longToReflect(field, value));\n            case \"enum\":\n                return (value !== null && value !== void 0 ? value : field.enum.values[0].number);\n        }\n    }\n    set(field, value) {\n        assertOwn(this.message, field);\n        if (this.check) {\n            const err = checkField(field, value);\n            if (err) {\n                throw err;\n            }\n        }\n        let local;\n        if (field.fieldKind == \"message\") {\n            local = messageToLocal(field, value);\n        }\n        else if (isReflectMap(value) || isReflectList(value)) {\n            local = value[unsafeLocal];\n        }\n        else {\n            local = longToLocal(field, value);\n        }\n        unsafeSet(this.message, field, local);\n    }\n    getUnknown() {\n        return this.message.$unknown;\n    }\n    setUnknown(value) {\n        this.message.$unknown = value;\n    }\n}\nfunction assertOwn(owner, member) {\n    if (member.parent.typeName !== owner.$typeName) {\n        throw new FieldError(member, `cannot use ${member.toString()} with message ${owner.$typeName}`, \"ForeignFieldError\");\n    }\n}\n/**\n * Create a ReflectList.\n */\nexport function reflectList(field, unsafeInput, \n/**\n * By default, field values are validated when setting them. For example,\n * a value for an uint32 field must be a ECMAScript Number >= 0.\n *\n * When field values are trusted, performance can be improved by disabling\n * checks.\n */\ncheck = true) {\n    return new ReflectListImpl(field, unsafeInput !== null && unsafeInput !== void 0 ? unsafeInput : [], check);\n}\nclass ReflectListImpl {\n    field() {\n        return this._field;\n    }\n    get size() {\n        return this._arr.length;\n    }\n    constructor(field, unsafeInput, check) {\n        this._field = field;\n        this._arr = this[unsafeLocal] = unsafeInput;\n        this.check = check;\n    }\n    get(index) {\n        const item = this._arr[index];\n        return item === undefined\n            ? undefined\n            : listItemToReflect(this._field, item, this.check);\n    }\n    set(index, item) {\n        if (index < 0 || index >= this._arr.length) {\n            throw new FieldError(this._field, `list item #${index + 1}: out of range`);\n        }\n        if (this.check) {\n            const err = checkListItem(this._field, index, item);\n            if (err) {\n                throw err;\n            }\n        }\n        this._arr[index] = listItemToLocal(this._field, item);\n    }\n    add(item) {\n        if (this.check) {\n            const err = checkListItem(this._field, this._arr.length, item);\n            if (err) {\n                throw err;\n            }\n        }\n        this._arr.push(listItemToLocal(this._field, item));\n        return undefined;\n    }\n    clear() {\n        this._arr.splice(0, this._arr.length);\n    }\n    [Symbol.iterator]() {\n        return this.values();\n    }\n    keys() {\n        return this._arr.keys();\n    }\n    *values() {\n        for (const item of this._arr) {\n            yield listItemToReflect(this._field, item, this.check);\n        }\n    }\n    *entries() {\n        for (let i = 0; i < this._arr.length; i++) {\n            yield [i, listItemToReflect(this._field, this._arr[i], this.check)];\n        }\n    }\n}\n/**\n * Create a ReflectMap.\n */\nexport function reflectMap(field, unsafeInput, \n/**\n * By default, field values are validated when setting them. For example,\n * a value for an uint32 field must be a ECMAScript Number >= 0.\n *\n * When field values are trusted, performance can be improved by disabling\n * checks.\n */\ncheck = true) {\n    return new ReflectMapImpl(field, unsafeInput, check);\n}\nclass ReflectMapImpl {\n    constructor(field, unsafeInput, check = true) {\n        this.obj = this[unsafeLocal] = unsafeInput !== null && unsafeInput !== void 0 ? unsafeInput : {};\n        this.check = check;\n        this._field = field;\n    }\n    field() {\n        return this._field;\n    }\n    set(key, value) {\n        if (this.check) {\n            const err = checkMapEntry(this._field, key, value);\n            if (err) {\n                throw err;\n            }\n        }\n        this.obj[mapKeyToLocal(key)] = mapValueToLocal(this._field, value);\n        return this;\n    }\n    delete(key) {\n        const k = mapKeyToLocal(key);\n        const has = Object.prototype.hasOwnProperty.call(this.obj, k);\n        if (has) {\n            delete this.obj[k];\n        }\n        return has;\n    }\n    clear() {\n        for (const key of Object.keys(this.obj)) {\n            delete this.obj[key];\n        }\n    }\n    get(key) {\n        let val = this.obj[mapKeyToLocal(key)];\n        if (val !== undefined) {\n            val = mapValueToReflect(this._field, val, this.check);\n        }\n        return val;\n    }\n    has(key) {\n        return Object.prototype.hasOwnProperty.call(this.obj, mapKeyToLocal(key));\n    }\n    *keys() {\n        for (const objKey of Object.keys(this.obj)) {\n            yield mapKeyToReflect(objKey, this._field.mapKey);\n        }\n    }\n    *entries() {\n        for (const objEntry of Object.entries(this.obj)) {\n            yield [\n                mapKeyToReflect(objEntry[0], this._field.mapKey),\n                mapValueToReflect(this._field, objEntry[1], this.check),\n            ];\n        }\n    }\n    [Symbol.iterator]() {\n        return this.entries();\n    }\n    get size() {\n        return Object.keys(this.obj).length;\n    }\n    *values() {\n        for (const val of Object.values(this.obj)) {\n            yield mapValueToReflect(this._field, val, this.check);\n        }\n    }\n    forEach(callbackfn, thisArg) {\n        for (const mapEntry of this.entries()) {\n            callbackfn.call(thisArg, mapEntry[1], mapEntry[0], this);\n        }\n    }\n}\nfunction messageToLocal(field, value) {\n    if (!isReflectMessage(value)) {\n        return value;\n    }\n    if (isWrapper(value.message) &&\n        !field.oneof &&\n        field.fieldKind == \"message\") {\n        // Types from google/protobuf/wrappers.proto are unwrapped when used in\n        // a singular field that is not part of a oneof group.\n        return value.message.value;\n    }\n    if (value.desc.typeName == \"google.protobuf.Struct\" &&\n        field.parent.typeName != \"google.protobuf.Value\") {\n        // google.protobuf.Struct is represented with JsonObject when used in a\n        // field, except when used in google.protobuf.Value.\n        return wktStructToLocal(value.message);\n    }\n    return value.message;\n}\nfunction messageToReflect(field, value, check) {\n    if (value !== undefined) {\n        if (isWrapperDesc(field.message) &&\n            !field.oneof &&\n            field.fieldKind == \"message\") {\n            // Types from google/protobuf/wrappers.proto are unwrapped when used in\n            // a singular field that is not part of a oneof group.\n            value = {\n                $typeName: field.message.typeName,\n                value: longToReflect(field.message.fields[0], value),\n            };\n        }\n        else if (field.message.typeName == \"google.protobuf.Struct\" &&\n            field.parent.typeName != \"google.protobuf.Value\" &&\n            isObject(value)) {\n            // google.protobuf.Struct is represented with JsonObject when used in a\n            // field, except when used in google.protobuf.Value.\n            value = wktStructToReflect(value);\n        }\n    }\n    return new ReflectMessageImpl(field.message, value, check);\n}\nfunction listItemToLocal(field, value) {\n    if (field.listKind == \"message\") {\n        return messageToLocal(field, value);\n    }\n    return longToLocal(field, value);\n}\nfunction listItemToReflect(field, value, check) {\n    if (field.listKind == \"message\") {\n        return messageToReflect(field, value, check);\n    }\n    return longToReflect(field, value);\n}\nfunction mapValueToLocal(field, value) {\n    if (field.mapKind == \"message\") {\n        return messageToLocal(field, value);\n    }\n    return longToLocal(field, value);\n}\nfunction mapValueToReflect(field, value, check) {\n    if (field.mapKind == \"message\") {\n        return messageToReflect(field, value, check);\n    }\n    return value;\n}\nfunction mapKeyToLocal(key) {\n    return typeof key == \"string\" || typeof key == \"number\" ? key : String(key);\n}\n/**\n * Converts a map key (any scalar value except float, double, or bytes) from its\n * representation in a message (string or number, the only possible object key\n * types) to the closest possible type in ECMAScript.\n */\nfunction mapKeyToReflect(key, type) {\n    switch (type) {\n        case ScalarType.STRING:\n            return key;\n        case ScalarType.INT32:\n        case ScalarType.FIXED32:\n        case ScalarType.UINT32:\n        case ScalarType.SFIXED32:\n        case ScalarType.SINT32: {\n            const n = Number.parseInt(key);\n            if (Number.isFinite(n)) {\n                return n;\n            }\n            break;\n        }\n        case ScalarType.BOOL:\n            switch (key) {\n                case \"true\":\n                    return true;\n                case \"false\":\n                    return false;\n            }\n            break;\n        case ScalarType.UINT64:\n        case ScalarType.FIXED64:\n            try {\n                return protoInt64.uParse(key);\n            }\n            catch (_a) {\n                //\n            }\n            break;\n        default:\n            // INT64, SFIXED64, SINT64\n            try {\n                return protoInt64.parse(key);\n            }\n            catch (_b) {\n                //\n            }\n            break;\n    }\n    return key;\n}\nfunction longToReflect(field, value) {\n    // eslint-disable-next-line @typescript-eslint/switch-exhaustiveness-check\n    switch (field.scalar) {\n        case ScalarType.INT64:\n        case ScalarType.SFIXED64:\n        case ScalarType.SINT64:\n            if (\"longAsString\" in field &&\n                field.longAsString &&\n                typeof value == \"string\") {\n                value = protoInt64.parse(value);\n            }\n            break;\n        case ScalarType.FIXED64:\n        case ScalarType.UINT64:\n            if (\"longAsString\" in field &&\n                field.longAsString &&\n                typeof value == \"string\") {\n                value = protoInt64.uParse(value);\n            }\n            break;\n    }\n    return value;\n}\nfunction longToLocal(field, value) {\n    // eslint-disable-next-line @typescript-eslint/switch-exhaustiveness-check\n    switch (field.scalar) {\n        case ScalarType.INT64:\n        case ScalarType.SFIXED64:\n        case ScalarType.SINT64:\n            if (\"longAsString\" in field && field.longAsString) {\n                value = String(value);\n            }\n            else if (typeof value == \"string\" || typeof value == \"number\") {\n                value = protoInt64.parse(value);\n            }\n            break;\n        case ScalarType.FIXED64:\n        case ScalarType.UINT64:\n            if (\"longAsString\" in field && field.longAsString) {\n                value = String(value);\n            }\n            else if (typeof value == \"string\" || typeof value == \"number\") {\n                value = protoInt64.uParse(value);\n            }\n            break;\n    }\n    return value;\n}\nfunction wktStructToReflect(json) {\n    const struct = {\n        $typeName: \"google.protobuf.Struct\",\n        fields: {},\n    };\n    if (isObject(json)) {\n        for (const [k, v] of Object.entries(json)) {\n            struct.fields[k] = wktValueToReflect(v);\n        }\n    }\n    return struct;\n}\nfunction wktStructToLocal(val) {\n    const json = {};\n    for (const [k, v] of Object.entries(val.fields)) {\n        json[k] = wktValueToLocal(v);\n    }\n    return json;\n}\nfunction wktValueToLocal(val) {\n    switch (val.kind.case) {\n        case \"structValue\":\n            return wktStructToLocal(val.kind.value);\n        case \"listValue\":\n            return val.kind.value.values.map(wktValueToLocal);\n        case \"nullValue\":\n        case undefined:\n            return null;\n        default:\n            return val.kind.value;\n    }\n}\nfunction wktValueToReflect(json) {\n    const value = {\n        $typeName: \"google.protobuf.Value\",\n        kind: { case: undefined },\n    };\n    // eslint-disable-next-line @typescript-eslint/switch-exhaustiveness-check -- invalid input is unselected kind\n    switch (typeof json) {\n        case \"number\":\n            value.kind = { case: \"numberValue\", value: json };\n            break;\n        case \"string\":\n            value.kind = { case: \"stringValue\", value: json };\n            break;\n        case \"boolean\":\n            value.kind = { case: \"boolValue\", value: json };\n            break;\n        case \"object\":\n            if (json === null) {\n                const nullValue = 0;\n                value.kind = { case: \"nullValue\", value: nullValue };\n            }\n            else if (Array.isArray(json)) {\n                const listValue = {\n                    $typeName: \"google.protobuf.ListValue\",\n                    values: [],\n                };\n                if (Array.isArray(json)) {\n                    for (const e of json) {\n                        listValue.values.push(wktValueToReflect(e));\n                    }\n                }\n                value.kind = {\n                    case: \"listValue\",\n                    value: listValue,\n                };\n            }\n            else {\n                value.kind = {\n                    case: \"structValue\",\n                    value: wktStructToReflect(json),\n                };\n            }\n            break;\n    }\n    return value;\n}\n","// Copyright 2021-2024 Buf Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { ScalarType } from \"./descriptors.js\";\nimport { scalarZeroValue } from \"./reflect/scalar.js\";\nimport { reflect } from \"./reflect/reflect.js\";\nimport { BinaryReader, WireType } from \"./wire/binary-encoding.js\";\n// Default options for parsing binary data.\nconst readDefaults = {\n    readUnknownFields: true,\n};\nfunction makeReadOptions(options) {\n    return options ? Object.assign(Object.assign({}, readDefaults), options) : readDefaults;\n}\n/**\n * Parse serialized binary data.\n */\nexport function fromBinary(schema, bytes, options) {\n    const msg = reflect(schema, undefined, false);\n    readMessage(msg, new BinaryReader(bytes), makeReadOptions(options), false, bytes.byteLength);\n    return msg.message;\n}\n/**\n * Parse from binary data, merging fields.\n *\n * Repeated fields are appended. Map entries are added, overwriting\n * existing keys.\n *\n * If a message field is already present, it will be merged with the\n * new data.\n */\nexport function mergeFromBinary(schema, target, bytes, options) {\n    readMessage(reflect(schema, target, false), new BinaryReader(bytes), makeReadOptions(options), false, bytes.byteLength);\n    return target;\n}\n/**\n * If `delimited` is false, read the length given in `lengthOrDelimitedFieldNo`.\n *\n * If `delimited` is true, read until an EndGroup tag. `lengthOrDelimitedFieldNo`\n * is the expected field number.\n *\n * @private\n */\nfunction readMessage(message, reader, options, delimited, lengthOrDelimitedFieldNo) {\n    var _a;\n    const end = delimited ? reader.len : reader.pos + lengthOrDelimitedFieldNo;\n    let fieldNo, wireType;\n    const unknownFields = (_a = message.getUnknown()) !== null && _a !== void 0 ? _a : [];\n    while (reader.pos < end) {\n        [fieldNo, wireType] = reader.tag();\n        if (delimited && wireType == WireType.EndGroup) {\n            break;\n        }\n        const field = message.findNumber(fieldNo);\n        if (!field) {\n            const data = reader.skip(wireType, fieldNo);\n            if (options.readUnknownFields) {\n                unknownFields.push({ no: fieldNo, wireType, data });\n            }\n            continue;\n        }\n        readField(message, reader, field, wireType, options);\n    }\n    if (delimited) {\n        if (wireType != WireType.EndGroup || fieldNo !== lengthOrDelimitedFieldNo) {\n            throw new Error(`invalid end group tag`);\n        }\n    }\n    if (unknownFields.length > 0) {\n        message.setUnknown(unknownFields);\n    }\n}\n/**\n * @private\n */\nexport function readField(message, reader, field, wireType, options) {\n    switch (field.fieldKind) {\n        case \"scalar\":\n            message.set(field, readScalar(reader, field.scalar));\n            break;\n        case \"enum\":\n            message.set(field, readScalar(reader, ScalarType.INT32));\n            break;\n        case \"message\":\n            message.set(field, readMessageField(reader, options, field, message.get(field)));\n            break;\n        case \"list\":\n            readListField(reader, wireType, message.get(field), options);\n            break;\n        case \"map\":\n            readMapEntry(reader, message.get(field), options);\n            break;\n    }\n}\n// Read a map field, expecting key field = 1, value field = 2\nfunction readMapEntry(reader, map, options) {\n    const field = map.field();\n    let key, val;\n    const end = reader.pos + reader.uint32();\n    while (reader.pos < end) {\n        const [fieldNo] = reader.tag();\n        switch (fieldNo) {\n            case 1:\n                key = readScalar(reader, field.mapKey);\n                break;\n            case 2:\n                switch (field.mapKind) {\n                    case \"scalar\":\n                        val = readScalar(reader, field.scalar);\n                        break;\n                    case \"enum\":\n                        val = reader.int32();\n                        break;\n                    case \"message\":\n                        val = readMessageField(reader, options, field);\n                        break;\n                }\n                break;\n        }\n    }\n    if (key === undefined) {\n        key = scalarZeroValue(field.mapKey, false);\n    }\n    if (val === undefined) {\n        switch (field.mapKind) {\n            case \"scalar\":\n                val = scalarZeroValue(field.scalar, false);\n                break;\n            case \"enum\":\n                val = field.enum.values[0].number;\n                break;\n            case \"message\":\n                val = reflect(field.message, undefined, false);\n                break;\n        }\n    }\n    map.set(key, val);\n}\nfunction readListField(reader, wireType, list, options) {\n    var _a;\n    const field = list.field();\n    if (field.listKind === \"message\") {\n        list.add(readMessageField(reader, options, field));\n        return;\n    }\n    const scalarType = (_a = field.scalar) !== null && _a !== void 0 ? _a : ScalarType.INT32;\n    const packed = wireType == WireType.LengthDelimited &&\n        scalarType != ScalarType.STRING &&\n        scalarType != ScalarType.BYTES;\n    if (!packed) {\n        list.add(readScalar(reader, scalarType));\n        return;\n    }\n    const e = reader.uint32() + reader.pos;\n    while (reader.pos < e) {\n        list.add(readScalar(reader, scalarType));\n    }\n}\nfunction readMessageField(reader, options, field, mergeMessage) {\n    const delimited = field.delimitedEncoding;\n    const message = mergeMessage !== null && mergeMessage !== void 0 ? mergeMessage : reflect(field.message, undefined, false);\n    readMessage(message, reader, options, delimited, delimited ? field.number : reader.uint32());\n    return message;\n}\nfunction readScalar(reader, type) {\n    switch (type) {\n        case ScalarType.STRING:\n            return reader.string();\n        case ScalarType.BOOL:\n            return reader.bool();\n        case ScalarType.DOUBLE:\n            return reader.double();\n        case ScalarType.FLOAT:\n            return reader.float();\n        case ScalarType.INT32:\n            return reader.int32();\n        case ScalarType.INT64:\n            return reader.int64();\n        case ScalarType.UINT64:\n            return reader.uint64();\n        case ScalarType.FIXED64:\n            return reader.fixed64();\n        case ScalarType.BYTES:\n            return reader.bytes();\n        case ScalarType.FIXED32:\n            return reader.fixed32();\n        case ScalarType.SFIXED32:\n            return reader.sfixed32();\n        case ScalarType.SFIXED64:\n            return reader.sfixed64();\n        case ScalarType.SINT64:\n            return reader.sint64();\n        case ScalarType.UINT32:\n            return reader.uint32();\n        case ScalarType.SINT32:\n            return reader.sint32();\n    }\n}\n","// Copyright 2021-2024 Buf Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { base64Decode } from \"../wire/base64-encoding.js\";\nimport { FileDescriptorProtoSchema } from \"../wkt/gen/google/protobuf/descriptor_pb.js\";\nimport { createFileRegistry } from \"../registry.js\";\nimport { restoreJsonNames } from \"./restore-json-names.js\";\nimport { fromBinary } from \"../from-binary.js\";\n/**\n * Hydrate a file descriptor.\n *\n * @private\n */\nexport function fileDesc(b64, imports) {\n    var _a;\n    const root = fromBinary(FileDescriptorProtoSchema, base64Decode(b64));\n    root.messageType.forEach(restoreJsonNames);\n    root.dependency = (_a = imports === null || imports === void 0 ? void 0 : imports.map((f) => f.proto.name)) !== null && _a !== void 0 ? _a : [];\n    const reg = createFileRegistry(root, (protoFileName) => imports === null || imports === void 0 ? void 0 : imports.find((f) => f.proto.name === protoFileName));\n    // non-null assertion because we just created the registry from the file we look up\n    return reg.getFile(root.name);\n}\n","// Copyright 2021-2024 Buf Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n/**\n * Hydrate a message descriptor.\n *\n * @private\n */\nexport function messageDesc(file, path, ...paths) {\n    return paths.reduce((acc, cur) => acc.nestedMessages[cur], file.messages[path]);\n}\n","// Copyright 2021-2024 Buf Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { isMessage } from \"./is-message.js\";\nimport { ScalarType, } from \"./descriptors.js\";\nimport { scalarZeroValue } from \"./reflect/scalar.js\";\nimport { FieldError } from \"./reflect/error.js\";\nimport { isObject } from \"./reflect/guard.js\";\nimport { unsafeGet, unsafeOneofCase, unsafeSet } from \"./reflect/unsafe.js\";\nimport { isWrapperDesc } from \"./wkt/wrappers.js\";\n// bootstrap-inject google.protobuf.Edition.EDITION_PROTO3: const $name: Edition.$localName = $number;\nconst EDITION_PROTO3 = 999;\n// bootstrap-inject google.protobuf.Edition.EDITION_PROTO2: const $name: Edition.$localName = $number;\nconst EDITION_PROTO2 = 998;\n// bootstrap-inject google.protobuf.FeatureSet.FieldPresence.IMPLICIT: const $name: FeatureSet_FieldPresence.$localName = $number;\nconst IMPLICIT = 2;\n/**\n * Create a new message instance.\n *\n * The second argument is an optional initializer object, where all fields are\n * optional.\n */\nexport function create(schema, init) {\n    if (isMessage(init, schema)) {\n        return init;\n    }\n    const message = createZeroMessage(schema);\n    if (init !== undefined) {\n        initMessage(schema, message, init);\n    }\n    return message;\n}\n/**\n * Sets field values from a MessageInitShape on a zero message.\n */\nfunction initMessage(messageDesc, message, init) {\n    for (const member of messageDesc.members) {\n        let value = init[member.localName];\n        if (value == null) {\n            // intentionally ignore undefined and null\n            continue;\n        }\n        let field;\n        if (member.kind == \"oneof\") {\n            const oneofField = unsafeOneofCase(init, member);\n            if (!oneofField) {\n                continue;\n            }\n            field = oneofField;\n            value = unsafeGet(init, oneofField);\n        }\n        else {\n            field = member;\n        }\n        // eslint-disable-next-line @typescript-eslint/switch-exhaustiveness-check -- no need to convert enum\n        switch (field.fieldKind) {\n            case \"message\":\n                value = toMessage(field, value);\n                break;\n            case \"scalar\":\n                value = initScalar(field, value);\n                break;\n            case \"list\":\n                value = initList(field, value);\n                break;\n            case \"map\":\n                value = initMap(field, value);\n                break;\n        }\n        unsafeSet(message, field, value);\n    }\n    return message;\n}\nfunction initScalar(field, value) {\n    if (field.scalar == ScalarType.BYTES) {\n        return toU8Arr(value);\n    }\n    return value;\n}\nfunction initMap(field, value) {\n    if (isObject(value)) {\n        if (field.scalar == ScalarType.BYTES) {\n            return convertObjectValues(value, toU8Arr);\n        }\n        if (field.mapKind == \"message\") {\n            return convertObjectValues(value, (val) => toMessage(field, val));\n        }\n    }\n    return value;\n}\nfunction initList(field, value) {\n    if (Array.isArray(value)) {\n        if (field.scalar == ScalarType.BYTES) {\n            return value.map(toU8Arr);\n        }\n        if (field.listKind == \"message\") {\n            return value.map((item) => toMessage(field, item));\n        }\n    }\n    return value;\n}\nfunction toMessage(field, value) {\n    if (field.fieldKind == \"message\" &&\n        !field.oneof &&\n        isWrapperDesc(field.message)) {\n        // Types from google/protobuf/wrappers.proto are unwrapped when used in\n        // a singular field that is not part of a oneof group.\n        return initScalar(field.message.fields[0], value);\n    }\n    if (isObject(value)) {\n        if (field.message.typeName == \"google.protobuf.Struct\" &&\n            field.parent.typeName !== \"google.protobuf.Value\") {\n            // google.protobuf.Struct is represented with JsonObject when used in a\n            // field, except when used in google.protobuf.Value.\n            return value;\n        }\n        if (!isMessage(value, field.message)) {\n            return create(field.message, value);\n        }\n    }\n    return value;\n}\n// converts any ArrayLike<number> to Uint8Array if necessary.\nfunction toU8Arr(value) {\n    return Array.isArray(value) ? new Uint8Array(value) : value;\n}\nfunction convertObjectValues(obj, fn) {\n    const ret = {};\n    for (const entry of Object.entries(obj)) {\n        ret[entry[0]] = fn(entry[1]);\n    }\n    return ret;\n}\nconst tokenZeroMessageField = Symbol();\nconst messagePrototypes = new WeakMap();\n/**\n * Create a zero message.\n */\nfunction createZeroMessage(desc) {\n    let msg;\n    if (!needsPrototypeChain(desc)) {\n        msg = {\n            $typeName: desc.typeName,\n        };\n        for (const member of desc.members) {\n            if (member.kind == \"oneof\" || member.presence == IMPLICIT) {\n                msg[member.localName] = createZeroField(member);\n            }\n        }\n    }\n    else {\n        // Support default values and track presence via the prototype chain\n        const cached = messagePrototypes.get(desc);\n        let prototype;\n        let members;\n        if (cached) {\n            ({ prototype, members } = cached);\n        }\n        else {\n            prototype = {};\n            members = new Set();\n            for (const member of desc.members) {\n                if (member.kind == \"oneof\") {\n                    // we can only put immutable values on the prototype,\n                    // oneof ADTs are mutable\n                    continue;\n                }\n                if (member.fieldKind != \"scalar\" && member.fieldKind != \"enum\") {\n                    // only scalar and enum values are immutable, map, list, and message\n                    // are not\n                    continue;\n                }\n                if (member.presence == IMPLICIT) {\n                    // implicit presence tracks field presence by zero values - e.g. 0, false, \"\", are unset, 1, true, \"x\" are set.\n                    // message, map, list fields are mutable, and also have IMPLICIT presence.\n                    continue;\n                }\n                members.add(member);\n                prototype[member.localName] = createZeroField(member);\n            }\n            messagePrototypes.set(desc, { prototype, members });\n        }\n        msg = Object.create(prototype);\n        msg.$typeName = desc.typeName;\n        for (const member of desc.members) {\n            if (members.has(member)) {\n                continue;\n            }\n            if (member.kind == \"field\") {\n                if (member.fieldKind == \"message\") {\n                    continue;\n                }\n                if (member.fieldKind == \"scalar\" || member.fieldKind == \"enum\") {\n                    if (member.presence != IMPLICIT) {\n                        continue;\n                    }\n                }\n            }\n            msg[member.localName] = createZeroField(member);\n        }\n    }\n    return msg;\n}\n/**\n * Do we need the prototype chain to track field presence?\n */\nfunction needsPrototypeChain(desc) {\n    switch (desc.file.edition) {\n        case EDITION_PROTO3:\n            // proto3 always uses implicit presence, we never need the prototype chain.\n            return false;\n        case EDITION_PROTO2:\n            // proto2 never uses implicit presence, we always need the prototype chain.\n            return true;\n        default:\n            // If a message uses scalar or enum fields with explicit presence, we need\n            // the prototype chain to track presence. This rule does not apply to fields\n            // in a oneof group - they use a different mechanism to track presence.\n            return desc.fields.some((f) => f.presence != IMPLICIT && f.fieldKind != \"message\" && !f.oneof);\n    }\n}\n/**\n * Returns a zero value for oneof groups, and for every field kind except\n * messages. Scalar and enum fields can have default values.\n */\nfunction createZeroField(field) {\n    if (field.kind == \"oneof\") {\n        return { case: undefined };\n    }\n    if (field.fieldKind == \"list\") {\n        return [];\n    }\n    if (field.fieldKind == \"map\") {\n        return {}; // Object.create(null) would be desirable here, but is unsupported by react https://react.dev/reference/react/use-server#serializable-parameters-and-return-values\n    }\n    if (field.fieldKind == \"message\") {\n        return tokenZeroMessageField;\n    }\n    const defaultValue = field.getDefaultValue();\n    if (defaultValue !== undefined) {\n        return field.fieldKind == \"scalar\" && field.longAsString\n            ? defaultValue.toString()\n            : defaultValue;\n    }\n    return field.fieldKind == \"scalar\"\n        ? scalarZeroValue(field.scalar, field.longAsString)\n        : field.enum.values[0].number;\n}\n","// Copyright 2021-2024 Buf Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n/**\n * Scalar value types. This is a subset of field types declared by protobuf\n * enum google.protobuf.FieldDescriptorProto.Type The types GROUP and MESSAGE\n * are omitted, but the numerical values are identical.\n */\nexport var ScalarType;\n(function (ScalarType) {\n    // 0 is reserved for errors.\n    // Order is weird for historical reasons.\n    ScalarType[ScalarType[\"DOUBLE\"] = 1] = \"DOUBLE\";\n    ScalarType[ScalarType[\"FLOAT\"] = 2] = \"FLOAT\";\n    // Not ZigZag encoded.  Negative numbers take 10 bytes.  Use TYPE_SINT64 if\n    // negative values are likely.\n    ScalarType[ScalarType[\"INT64\"] = 3] = \"INT64\";\n    ScalarType[ScalarType[\"UINT64\"] = 4] = \"UINT64\";\n    // Not ZigZag encoded.  Negative numbers take 10 bytes.  Use TYPE_SINT32 if\n    // negative values are likely.\n    ScalarType[ScalarType[\"INT32\"] = 5] = \"INT32\";\n    ScalarType[ScalarType[\"FIXED64\"] = 6] = \"FIXED64\";\n    ScalarType[ScalarType[\"FIXED32\"] = 7] = \"FIXED32\";\n    ScalarType[ScalarType[\"BOOL\"] = 8] = \"BOOL\";\n    ScalarType[ScalarType[\"STRING\"] = 9] = \"STRING\";\n    // Tag-delimited aggregate.\n    // Group type is deprecated and not supported in proto3. However, Proto3\n    // implementations should still be able to parse the group wire format and\n    // treat group fields as unknown fields.\n    // TYPE_GROUP = 10,\n    // TYPE_MESSAGE = 11,  // Length-delimited aggregate.\n    // New in version 2.\n    ScalarType[ScalarType[\"BYTES\"] = 12] = \"BYTES\";\n    ScalarType[ScalarType[\"UINT32\"] = 13] = \"UINT32\";\n    // TYPE_ENUM = 14,\n    ScalarType[ScalarType[\"SFIXED32\"] = 15] = \"SFIXED32\";\n    ScalarType[ScalarType[\"SFIXED64\"] = 16] = \"SFIXED64\";\n    ScalarType[ScalarType[\"SINT32\"] = 17] = \"SINT32\";\n    ScalarType[ScalarType[\"SINT64\"] = 18] = \"SINT64\";\n})(ScalarType || (ScalarType = {}));\n","// Copyright 2021-2024 Buf Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n/**\n * Determine whether the given `arg` is a message.\n * If `desc` is set, determine whether `arg` is this specific message.\n */\nexport function isMessage(arg, schema) {\n    const isMessage = arg !== null &&\n        typeof arg == \"object\" &&\n        \"$typeName\" in arg &&\n        typeof arg.$typeName == \"string\";\n    if (!isMessage) {\n        return false;\n    }\n    if (schema === undefined) {\n        return true;\n    }\n    return schema.typeName === arg.$typeName;\n}\n","// Copyright 2021-2024 Buf Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { int64FromString, int64ToString, uInt64ToString, } from \"./wire/varint.js\";\n/**\n * Int64Support for the current environment.\n */\nexport const protoInt64 = /*@__PURE__*/ makeInt64Support();\nfunction makeInt64Support() {\n    const dv = new DataView(new ArrayBuffer(8));\n    // note that Safari 14 implements BigInt, but not the DataView methods\n    const ok = typeof BigInt === \"function\" &&\n        typeof dv.getBigInt64 === \"function\" &&\n        typeof dv.getBigUint64 === \"function\" &&\n        typeof dv.setBigInt64 === \"function\" &&\n        typeof dv.setBigUint64 === \"function\" &&\n        (typeof process != \"object\" ||\n            typeof process.env != \"object\" ||\n            process.env.BUF_BIGINT_DISABLE !== \"1\");\n    if (ok) {\n        const MIN = BigInt(\"-9223372036854775808\"), MAX = BigInt(\"9223372036854775807\"), UMIN = BigInt(\"0\"), UMAX = BigInt(\"18446744073709551615\");\n        return {\n            zero: BigInt(0),\n            supported: true,\n            parse(value) {\n                const bi = typeof value == \"bigint\" ? value : BigInt(value);\n                if (bi > MAX || bi < MIN) {\n                    throw new Error(`invalid int64: ${value}`);\n                }\n                return bi;\n            },\n            uParse(value) {\n                const bi = typeof value == \"bigint\" ? value : BigInt(value);\n                if (bi > UMAX || bi < UMIN) {\n                    throw new Error(`invalid uint64: ${value}`);\n                }\n                return bi;\n            },\n            enc(value) {\n                dv.setBigInt64(0, this.parse(value), true);\n                return {\n                    lo: dv.getInt32(0, true),\n                    hi: dv.getInt32(4, true),\n                };\n            },\n            uEnc(value) {\n                dv.setBigInt64(0, this.uParse(value), true);\n                return {\n                    lo: dv.getInt32(0, true),\n                    hi: dv.getInt32(4, true),\n                };\n            },\n            dec(lo, hi) {\n                dv.setInt32(0, lo, true);\n                dv.setInt32(4, hi, true);\n                return dv.getBigInt64(0, true);\n            },\n            uDec(lo, hi) {\n                dv.setInt32(0, lo, true);\n                dv.setInt32(4, hi, true);\n                return dv.getBigUint64(0, true);\n            },\n        };\n    }\n    return {\n        zero: \"0\",\n        supported: false,\n        parse(value) {\n            if (typeof value != \"string\") {\n                value = value.toString();\n            }\n            assertInt64String(value);\n            return value;\n        },\n        uParse(value) {\n            if (typeof value != \"string\") {\n                value = value.toString();\n            }\n            assertUInt64String(value);\n            return value;\n        },\n        enc(value) {\n            if (typeof value != \"string\") {\n                value = value.toString();\n            }\n            assertInt64String(value);\n            return int64FromString(value);\n        },\n        uEnc(value) {\n            if (typeof value != \"string\") {\n                value = value.toString();\n            }\n            assertUInt64String(value);\n            return int64FromString(value);\n        },\n        dec(lo, hi) {\n            return int64ToString(lo, hi);\n        },\n        uDec(lo, hi) {\n            return uInt64ToString(lo, hi);\n        },\n    };\n}\nfunction assertInt64String(value) {\n    if (!/^-?[0-9]+$/.test(value)) {\n        throw new Error(\"invalid int64: \" + value);\n    }\n}\nfunction assertUInt64String(value) {\n    if (!/^[0-9]+$/.test(value)) {\n        throw new Error(\"invalid uint64: \" + value);\n    }\n}\n","// Copyright 2021-2024 Buf Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { unsafeLocal } from \"./unsafe.js\";\nexport function isObject(arg) {\n    return arg !== null && typeof arg == \"object\" && !Array.isArray(arg);\n}\nexport function isOneofADT(arg) {\n    return (arg !== null &&\n        typeof arg == \"object\" &&\n        \"case\" in arg &&\n        ((typeof arg.case == \"string\" && \"value\" in arg && arg.value != null) ||\n            (arg.case === undefined &&\n                (!(\"value\" in arg) || arg.value === undefined))));\n}\nexport function isReflectList(arg, field) {\n    var _a, _b, _c, _d;\n    if (isObject(arg) &&\n        unsafeLocal in arg &&\n        \"add\" in arg &&\n        \"field\" in arg &&\n        typeof arg.field == \"function\") {\n        if (field !== undefined) {\n            const a = field, b = arg.field();\n            return (a.listKind == b.listKind &&\n                a.scalar === b.scalar &&\n                ((_a = a.message) === null || _a === void 0 ? void 0 : _a.typeName) === ((_b = b.message) === null || _b === void 0 ? void 0 : _b.typeName) &&\n                ((_c = a.enum) === null || _c === void 0 ? void 0 : _c.typeName) === ((_d = b.enum) === null || _d === void 0 ? void 0 : _d.typeName));\n        }\n        return true;\n    }\n    return false;\n}\nexport function isReflectMap(arg, field) {\n    var _a, _b, _c, _d;\n    if (isObject(arg) &&\n        unsafeLocal in arg &&\n        \"has\" in arg &&\n        \"field\" in arg &&\n        typeof arg.field == \"function\") {\n        if (field !== undefined) {\n            const a = field, b = arg.field();\n            return (a.mapKey === b.mapKey &&\n                a.mapKind == b.mapKind &&\n                a.scalar === b.scalar &&\n                ((_a = a.message) === null || _a === void 0 ? void 0 : _a.typeName) === ((_b = b.message) === null || _b === void 0 ? void 0 : _b.typeName) &&\n                ((_c = a.enum) === null || _c === void 0 ? void 0 : _c.typeName) === ((_d = b.enum) === null || _d === void 0 ? void 0 : _d.typeName));\n        }\n        return true;\n    }\n    return false;\n}\nexport function isReflectMessage(arg, messageDesc) {\n    return (isObject(arg) &&\n        unsafeLocal in arg &&\n        \"desc\" in arg &&\n        isObject(arg.desc) &&\n        arg.desc.kind === \"message\" &&\n        (messageDesc === undefined || arg.desc.typeName == messageDesc.typeName));\n}\n","// Copyright 2021-2024 Buf Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { protoInt64 } from \"../proto-int64.js\";\nimport { ScalarType } from \"../descriptors.js\";\n/**\n * Returns true if both scalar values are equal.\n */\nexport function scalarEquals(type, a, b) {\n    if (a === b) {\n        // This correctly matches equal values except BYTES and (possibly) 64-bit integers.\n        return true;\n    }\n    // Special case BYTES - we need to compare each byte individually\n    if (type == ScalarType.BYTES) {\n        if (!(a instanceof Uint8Array) || !(b instanceof Uint8Array)) {\n            return false;\n        }\n        if (a.length !== b.length) {\n            return false;\n        }\n        for (let i = 0; i < a.length; i++) {\n            if (a[i] !== b[i]) {\n                return false;\n            }\n        }\n        return true;\n    }\n    // Special case 64-bit integers - we support number, string and bigint representation.\n    // eslint-disable-next-line @typescript-eslint/switch-exhaustiveness-check\n    switch (type) {\n        case ScalarType.UINT64:\n        case ScalarType.FIXED64:\n        case ScalarType.INT64:\n        case ScalarType.SFIXED64:\n        case ScalarType.SINT64:\n            // Loose comparison will match between 0n, 0 and \"0\".\n            return a == b;\n    }\n    // Anything that hasn't been caught by strict comparison or special cased\n    // BYTES and 64-bit integers is not equal.\n    return false;\n}\n/**\n * Returns the zero value for the given scalar type.\n */\nexport function scalarZeroValue(type, longAsString) {\n    switch (type) {\n        case ScalarType.STRING:\n            return \"\";\n        case ScalarType.BOOL:\n            return false;\n        default:\n            // Handles INT32, UINT32, SINT32, FIXED32, SFIXED32.\n            // We do not use individual cases to save a few bytes code size.\n            return 0;\n        case ScalarType.DOUBLE:\n        case ScalarType.FLOAT:\n            return 0.0;\n        case ScalarType.INT64:\n        case ScalarType.UINT64:\n        case ScalarType.SFIXED64:\n        case ScalarType.FIXED64:\n        case ScalarType.SINT64:\n            return (longAsString ? \"0\" : protoInt64.zero);\n        case ScalarType.BYTES:\n            return new Uint8Array(0);\n    }\n}\n/**\n * Returns true for a zero-value. For example, an integer has the zero-value `0`,\n * a boolean is `false`, a string is `\"\"`, and bytes is an empty Uint8Array.\n *\n * In proto3, zero-values are not written to the wire, unless the field is\n * optional or repeated.\n */\nexport function isScalarZeroValue(type, value) {\n    switch (type) {\n        case ScalarType.BOOL:\n            return value === false;\n        case ScalarType.STRING:\n            return value === \"\";\n        case ScalarType.BYTES:\n            return value instanceof Uint8Array && !value.byteLength;\n        default:\n            return value == 0; // Loose comparison matches 0n, 0 and \"0\"\n    }\n}\n","// Copyright 2021-2024 Buf Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { isScalarZeroValue, scalarZeroValue } from \"./scalar.js\";\n// bootstrap-inject google.protobuf.FeatureSet.FieldPresence.IMPLICIT: const $name: FeatureSet_FieldPresence.$localName = $number;\nconst IMPLICIT = 2;\nexport const unsafeLocal = Symbol.for(\"reflect unsafe local\");\n/**\n * Return the selected field of a oneof group.\n *\n * @private\n */\nexport function unsafeOneofCase(target, // eslint-disable-line @typescript-eslint/no-explicit-any -- `any` is the best choice for dynamic access\noneof) {\n    const c = target[oneof.localName].case;\n    if (c === undefined) {\n        return c;\n    }\n    return oneof.fields.find((f) => f.localName === c);\n}\n/**\n * Returns true if the field is set.\n *\n * @private\n */\nexport function unsafeIsSet(target, // eslint-disable-line @typescript-eslint/no-explicit-any -- `any` is the best choice for dynamic access\nfield) {\n    const name = field.localName;\n    if (field.oneof) {\n        return target[field.oneof.localName].case === name; // eslint-disable-line @typescript-eslint/no-unsafe-member-access\n    }\n    if (field.presence != IMPLICIT) {\n        // Fields with explicit presence have properties on the prototype chain\n        // for default / zero values (except for proto3).\n        return (target[name] !== undefined &&\n            Object.prototype.hasOwnProperty.call(target, name));\n    }\n    // eslint-disable-next-line @typescript-eslint/switch-exhaustiveness-check\n    switch (field.fieldKind) {\n        case \"list\":\n            return target[name].length > 0;\n        case \"map\":\n            return Object.keys(target[name]).length > 0; // eslint-disable-line @typescript-eslint/no-unsafe-argument\n        case \"scalar\":\n            return !isScalarZeroValue(field.scalar, target[name]);\n        case \"enum\":\n            return target[name] !== field.enum.values[0].number;\n    }\n    throw new Error(\"message field with implicit presence\");\n}\n/**\n * Returns true if the field is set, but only for singular fields with explicit\n * presence (proto2).\n *\n * @private\n */\nexport function unsafeIsSetExplicit(target, localName) {\n    return (Object.prototype.hasOwnProperty.call(target, localName) &&\n        target[localName] !== undefined);\n}\n/**\n * Return a field value, respecting oneof groups.\n *\n * @private\n */\nexport function unsafeGet(target, field) {\n    if (field.oneof) {\n        const oneof = target[field.oneof.localName];\n        if (oneof.case === field.localName) {\n            return oneof.value;\n        }\n        return undefined;\n    }\n    return target[field.localName];\n}\n/**\n * Set a field value, respecting oneof groups.\n *\n * @private\n */\nexport function unsafeSet(target, field, value) {\n    if (field.oneof) {\n        target[field.oneof.localName] = {\n            case: field.localName,\n            value: value,\n        };\n    }\n    else {\n        target[field.localName] = value;\n    }\n}\n/**\n * Resets the field, so that unsafeIsSet() will return false.\n *\n * @private\n */\nexport function unsafeClear(target, // eslint-disable-line @typescript-eslint/no-explicit-any -- `any` is the best choice for dynamic access\nfield) {\n    const name = field.localName;\n    if (field.oneof) {\n        const oneofLocalName = field.oneof.localName;\n        if (target[oneofLocalName].case === name) {\n            target[oneofLocalName] = { case: undefined };\n        }\n    }\n    else if (field.presence != IMPLICIT) {\n        // Fields with explicit presence have properties on the prototype chain\n        // for default / zero values (except for proto3). By deleting their own\n        // property, the field is reset.\n        delete target[name];\n    }\n    else {\n        // eslint-disable-next-line @typescript-eslint/switch-exhaustiveness-check\n        switch (field.fieldKind) {\n            case \"map\":\n                target[name] = {};\n                break;\n            case \"list\":\n                target[name] = [];\n                break;\n            case \"enum\":\n                target[name] = field.enum.values[0].number;\n                break;\n            case \"scalar\":\n                target[name] = scalarZeroValue(field.scalar, field.longAsString);\n                break;\n        }\n    }\n}\n","// Copyright 2008 Google Inc.  All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are\n// met:\n//\n// * Redistributions of source code must retain the above copyright\n// notice, this list of conditions and the following disclaimer.\n// * Redistributions in binary form must reproduce the above\n// copyright notice, this list of conditions and the following disclaimer\n// in the documentation and/or other materials provided with the\n// distribution.\n// * Neither the name of Google Inc. nor the names of its\n// contributors may be used to endorse or promote products derived from\n// this software without specific prior written permission.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n// \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n//\n// Code generated by the Protocol Buffer compiler is owned by the owner\n// of the input file used when generating it.  This code is not\n// standalone and requires a support library to be linked with it.  This\n// support library is itself covered by the above license.\n/* eslint-disable prefer-const,@typescript-eslint/restrict-plus-operands */\n/**\n * Read a 64 bit varint as two JS numbers.\n *\n * Returns tuple:\n * [0]: low bits\n * [1]: high bits\n *\n * Copyright 2008 Google Inc.  All rights reserved.\n *\n * See https://github.com/protocolbuffers/protobuf/blob/8a71927d74a4ce34efe2d8769fda198f52d20d12/js/experimental/runtime/kernel/buffer_decoder.js#L175\n */\nexport function varint64read() {\n    let lowBits = 0;\n    let highBits = 0;\n    for (let shift = 0; shift < 28; shift += 7) {\n        let b = this.buf[this.pos++];\n        lowBits |= (b & 0x7f) << shift;\n        if ((b & 0x80) == 0) {\n            this.assertBounds();\n            return [lowBits, highBits];\n        }\n    }\n    let middleByte = this.buf[this.pos++];\n    // last four bits of the first 32 bit number\n    lowBits |= (middleByte & 0x0f) << 28;\n    // 3 upper bits are part of the next 32 bit number\n    highBits = (middleByte & 0x70) >> 4;\n    if ((middleByte & 0x80) == 0) {\n        this.assertBounds();\n        return [lowBits, highBits];\n    }\n    for (let shift = 3; shift <= 31; shift += 7) {\n        let b = this.buf[this.pos++];\n        highBits |= (b & 0x7f) << shift;\n        if ((b & 0x80) == 0) {\n            this.assertBounds();\n            return [lowBits, highBits];\n        }\n    }\n    throw new Error(\"invalid varint\");\n}\n/**\n * Write a 64 bit varint, given as two JS numbers, to the given bytes array.\n *\n * Copyright 2008 Google Inc.  All rights reserved.\n *\n * See https://github.com/protocolbuffers/protobuf/blob/8a71927d74a4ce34efe2d8769fda198f52d20d12/js/experimental/runtime/kernel/writer.js#L344\n */\nexport function varint64write(lo, hi, bytes) {\n    for (let i = 0; i < 28; i = i + 7) {\n        const shift = lo >>> i;\n        const hasNext = !(shift >>> 7 == 0 && hi == 0);\n        const byte = (hasNext ? shift | 0x80 : shift) & 0xff;\n        bytes.push(byte);\n        if (!hasNext) {\n            return;\n        }\n    }\n    const splitBits = ((lo >>> 28) & 0x0f) | ((hi & 0x07) << 4);\n    const hasMoreBits = !(hi >> 3 == 0);\n    bytes.push((hasMoreBits ? splitBits | 0x80 : splitBits) & 0xff);\n    if (!hasMoreBits) {\n        return;\n    }\n    for (let i = 3; i < 31; i = i + 7) {\n        const shift = hi >>> i;\n        const hasNext = !(shift >>> 7 == 0);\n        const byte = (hasNext ? shift | 0x80 : shift) & 0xff;\n        bytes.push(byte);\n        if (!hasNext) {\n            return;\n        }\n    }\n    bytes.push((hi >>> 31) & 0x01);\n}\n// constants for binary math\nconst TWO_PWR_32_DBL = 0x100000000;\n/**\n * Parse decimal string of 64 bit integer value as two JS numbers.\n *\n * Copyright 2008 Google Inc.  All rights reserved.\n *\n * See https://github.com/protocolbuffers/protobuf-javascript/blob/a428c58273abad07c66071d9753bc4d1289de426/experimental/runtime/int64.js#L10\n */\nexport function int64FromString(dec) {\n    // Check for minus sign.\n    const minus = dec[0] === \"-\";\n    if (minus) {\n        dec = dec.slice(1);\n    }\n    // Work 6 decimal digits at a time, acting like we're converting base 1e6\n    // digits to binary. This is safe to do with floating point math because\n    // Number.isSafeInteger(ALL_32_BITS * 1e6) == true.\n    const base = 1e6;\n    let lowBits = 0;\n    let highBits = 0;\n    function add1e6digit(begin, end) {\n        // Note: Number('') is 0.\n        const digit1e6 = Number(dec.slice(begin, end));\n        highBits *= base;\n        lowBits = lowBits * base + digit1e6;\n        // Carry bits from lowBits to\n        if (lowBits >= TWO_PWR_32_DBL) {\n            highBits = highBits + ((lowBits / TWO_PWR_32_DBL) | 0);\n            lowBits = lowBits % TWO_PWR_32_DBL;\n        }\n    }\n    add1e6digit(-24, -18);\n    add1e6digit(-18, -12);\n    add1e6digit(-12, -6);\n    add1e6digit(-6);\n    return minus ? negate(lowBits, highBits) : newBits(lowBits, highBits);\n}\n/**\n * Losslessly converts a 64-bit signed integer in 32:32 split representation\n * into a decimal string.\n *\n * Copyright 2008 Google Inc.  All rights reserved.\n *\n * See https://github.com/protocolbuffers/protobuf-javascript/blob/a428c58273abad07c66071d9753bc4d1289de426/experimental/runtime/int64.js#L10\n */\nexport function int64ToString(lo, hi) {\n    let bits = newBits(lo, hi);\n    // If we're treating the input as a signed value and the high bit is set, do\n    // a manual two's complement conversion before the decimal conversion.\n    const negative = bits.hi & 0x80000000;\n    if (negative) {\n        bits = negate(bits.lo, bits.hi);\n    }\n    const result = uInt64ToString(bits.lo, bits.hi);\n    return negative ? \"-\" + result : result;\n}\n/**\n * Losslessly converts a 64-bit unsigned integer in 32:32 split representation\n * into a decimal string.\n *\n * Copyright 2008 Google Inc.  All rights reserved.\n *\n * See https://github.com/protocolbuffers/protobuf-javascript/blob/a428c58273abad07c66071d9753bc4d1289de426/experimental/runtime/int64.js#L10\n */\nexport function uInt64ToString(lo, hi) {\n    ({ lo, hi } = toUnsigned(lo, hi));\n    // Skip the expensive conversion if the number is small enough to use the\n    // built-in conversions.\n    // Number.MAX_SAFE_INTEGER = 0x001FFFFF FFFFFFFF, thus any number with\n    // highBits <= 0x1FFFFF can be safely expressed with a double and retain\n    // integer precision.\n    // Proven by: Number.isSafeInteger(0x1FFFFF * 2**32 + 0xFFFFFFFF) == true.\n    if (hi <= 0x1fffff) {\n        return String(TWO_PWR_32_DBL * hi + lo);\n    }\n    // What this code is doing is essentially converting the input number from\n    // base-2 to base-1e7, which allows us to represent the 64-bit range with\n    // only 3 (very large) digits. Those digits are then trivial to convert to\n    // a base-10 string.\n    // The magic numbers used here are -\n    // 2^24 = 16777216 = (1,6777216) in base-1e7.\n    // 2^48 = 281474976710656 = (2,8147497,6710656) in base-1e7.\n    // Split 32:32 representation into 16:24:24 representation so our\n    // intermediate digits don't overflow.\n    const low = lo & 0xffffff;\n    const mid = ((lo >>> 24) | (hi << 8)) & 0xffffff;\n    const high = (hi >> 16) & 0xffff;\n    // Assemble our three base-1e7 digits, ignoring carries. The maximum\n    // value in a digit at this step is representable as a 48-bit integer, which\n    // can be stored in a 64-bit floating point number.\n    let digitA = low + mid * 6777216 + high * 6710656;\n    let digitB = mid + high * 8147497;\n    let digitC = high * 2;\n    // Apply carries from A to B and from B to C.\n    const base = 10000000;\n    if (digitA >= base) {\n        digitB += Math.floor(digitA / base);\n        digitA %= base;\n    }\n    if (digitB >= base) {\n        digitC += Math.floor(digitB / base);\n        digitB %= base;\n    }\n    // If digitC is 0, then we should have returned in the trivial code path\n    // at the top for non-safe integers. Given this, we can assume both digitB\n    // and digitA need leading zeros.\n    return (digitC.toString() +\n        decimalFrom1e7WithLeadingZeros(digitB) +\n        decimalFrom1e7WithLeadingZeros(digitA));\n}\nfunction toUnsigned(lo, hi) {\n    return { lo: lo >>> 0, hi: hi >>> 0 };\n}\nfunction newBits(lo, hi) {\n    return { lo: lo | 0, hi: hi | 0 };\n}\n/**\n * Returns two's compliment negation of input.\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Bitwise_Operators#Signed_32-bit_integers\n */\nfunction negate(lowBits, highBits) {\n    highBits = ~highBits;\n    if (lowBits) {\n        lowBits = ~lowBits + 1;\n    }\n    else {\n        // If lowBits is 0, then bitwise-not is 0xFFFFFFFF,\n        // adding 1 to that, results in 0x100000000, which leaves\n        // the low bits 0x0 and simply adds one to the high bits.\n        highBits += 1;\n    }\n    return newBits(lowBits, highBits);\n}\n/**\n * Returns decimal representation of digit1e7 with leading zeros.\n */\nconst decimalFrom1e7WithLeadingZeros = (digit1e7) => {\n    const partial = String(digit1e7);\n    return \"0000000\".slice(partial.length) + partial;\n};\n/**\n * Write a 32 bit varint, signed or unsigned. Same as `varint64write(0, value, bytes)`\n *\n * Copyright 2008 Google Inc.  All rights reserved.\n *\n * See https://github.com/protocolbuffers/protobuf/blob/1b18833f4f2a2f681f4e4a25cdf3b0a43115ec26/js/binary/encoder.js#L144\n */\nexport function varint32write(value, bytes) {\n    if (value >= 0) {\n        // write value as varint 32\n        while (value > 0x7f) {\n            bytes.push((value & 0x7f) | 0x80);\n            value = value >>> 7;\n        }\n        bytes.push(value);\n    }\n    else {\n        for (let i = 0; i < 9; i++) {\n            bytes.push((value & 127) | 128);\n            value = value >> 7;\n        }\n        bytes.push(1);\n    }\n}\n/**\n * Read an unsigned 32 bit varint.\n *\n * See https://github.com/protocolbuffers/protobuf/blob/8a71927d74a4ce34efe2d8769fda198f52d20d12/js/experimental/runtime/kernel/buffer_decoder.js#L220\n */\nexport function varint32read() {\n    let b = this.buf[this.pos++];\n    let result = b & 0x7f;\n    if ((b & 0x80) == 0) {\n        this.assertBounds();\n        return result;\n    }\n    b = this.buf[this.pos++];\n    result |= (b & 0x7f) << 7;\n    if ((b & 0x80) == 0) {\n        this.assertBounds();\n        return result;\n    }\n    b = this.buf[this.pos++];\n    result |= (b & 0x7f) << 14;\n    if ((b & 0x80) == 0) {\n        this.assertBounds();\n        return result;\n    }\n    b = this.buf[this.pos++];\n    result |= (b & 0x7f) << 21;\n    if ((b & 0x80) == 0) {\n        this.assertBounds();\n        return result;\n    }\n    // Extract only last 4 bits\n    b = this.buf[this.pos++];\n    result |= (b & 0x0f) << 28;\n    for (let readBytes = 5; (b & 0x80) !== 0 && readBytes < 10; readBytes++)\n        b = this.buf[this.pos++];\n    if ((b & 0x80) != 0)\n        throw new Error(\"invalid varint\");\n    this.assertBounds();\n    // Result can have 32 bits, convert it to unsigned\n    return result >>> 0;\n}\n","// Copyright 2021-2024 Buf Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nexport function isWrapper(arg) {\n    return isWrapperTypeName(arg.$typeName);\n}\nexport function isWrapperDesc(messageDesc) {\n    const f = messageDesc.fields[0];\n    return (isWrapperTypeName(messageDesc.typeName) &&\n        f !== undefined &&\n        f.fieldKind == \"scalar\" &&\n        f.name == \"value\" &&\n        f.number == 1);\n}\nfunction isWrapperTypeName(name) {\n    return (name.startsWith(\"google.protobuf.\") &&\n        [\n            \"DoubleValue\",\n            \"FloatValue\",\n            \"Int64Value\",\n            \"UInt64Value\",\n            \"Int32Value\",\n            \"UInt32Value\",\n            \"BoolValue\",\n            \"StringValue\",\n            \"BytesValue\",\n        ].includes(name.substring(16)));\n}\n","import { useEffect, useLayoutEffect } from 'react';\nimport { isBrowser } from './misc/util';\nvar useIsomorphicLayoutEffect = isBrowser ? useLayoutEffect : useEffect;\nexport default useIsomorphicLayoutEffect;\n","import { useMemo, useState } from 'react';\nimport useIsomorphicLayoutEffect from './useIsomorphicLayoutEffect';\nimport { isBrowser, noop } from './misc/util';\nvar defaultState = {\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0,\n    top: 0,\n    left: 0,\n    bottom: 0,\n    right: 0,\n};\nfunction useMeasure() {\n    var _a = useState(null), element = _a[0], ref = _a[1];\n    var _b = useState(defaultState), rect = _b[0], setRect = _b[1];\n    var observer = useMemo(function () {\n        return new window.ResizeObserver(function (entries) {\n            if (entries[0]) {\n                var _a = entries[0].contentRect, x = _a.x, y = _a.y, width = _a.width, height = _a.height, top_1 = _a.top, left = _a.left, bottom = _a.bottom, right = _a.right;\n                setRect({ x: x, y: y, width: width, height: height, top: top_1, left: left, bottom: bottom, right: right });\n            }\n        });\n    }, []);\n    useIsomorphicLayoutEffect(function () {\n        if (!element)\n            return;\n        observer.observe(element);\n        return function () {\n            observer.disconnect();\n        };\n    }, [element]);\n    return [ref, rect];\n}\nexport default isBrowser && typeof window.ResizeObserver !== 'undefined'\n    ? useMeasure\n    : (function () { return [noop, defaultState]; });\n","\"use strict\";\nconst PIXELS_PER_LEVEL = 22 * window.devicePixelRatio;\nconst MUTE_THRESHOLD = 10 * window.devicePixelRatio;\nconst HIDE_THRESHOLD = 0.5 * window.devicePixelRatio;\nconst LABEL_THRESHOLD = 20 * window.devicePixelRatio;\nconst BAR_BORDER_WIDTH = 0.5 * window.devicePixelRatio;\nconst BAR_TEXT_PADDING_LEFT = 4 * window.devicePixelRatio;\nconst GROUP_STRIP_WIDTH = 3 * window.devicePixelRatio;\nconst GROUP_STRIP_PADDING = 3 * window.devicePixelRatio;\nconst GROUP_STRIP_MARGIN_LEFT = 4 * window.devicePixelRatio;\nconst GROUP_TEXT_OFFSET = 2 * window.devicePixelRatio;\nconst MIN_WIDTH_TO_SHOW_BOTH_TOPTABLE_AND_FLAMEGRAPH = 800;\nconst TOP_TABLE_COLUMN_WIDTH = 120;\n\nexport { BAR_BORDER_WIDTH, BAR_TEXT_PADDING_LEFT, GROUP_STRIP_MARGIN_LEFT, GROUP_STRIP_PADDING, GROUP_STRIP_WIDTH, GROUP_TEXT_OFFSET, HIDE_THRESHOLD, LABEL_THRESHOLD, MIN_WIDTH_TO_SHOW_BOTH_TOPTABLE_AND_FLAMEGRAPH, MUTE_THRESHOLD, PIXELS_PER_LEVEL, TOP_TABLE_COLUMN_WIDTH };\n//# sourceMappingURL=constants.mjs.map\n","import { jsxs, Fragment, jsx } from 'react/jsx-runtime';\nimport { MenuItem, MenuGroup, ContextMenu } from '@grafana/ui';\n\n\"use strict\";\nconst FlameGraphContextMenu = ({\n  data,\n  itemData,\n  onMenuItemClick,\n  onItemFocus,\n  onSandwich,\n  collapseConfig,\n  onExpandGroup,\n  onCollapseGroup,\n  onExpandAllGroups,\n  onCollapseAllGroups,\n  getExtraContextMenuButtons,\n  collapsing,\n  allGroupsExpanded,\n  allGroupsCollapsed,\n  selectedView,\n  search\n}) => {\n  function renderItems() {\n    const extraButtons = (getExtraContextMenuButtons == null ? void 0 : getExtraContextMenuButtons(itemData, data.data, {\n      selectedView,\n      isDiff: data.isDiffFlamegraph(),\n      search,\n      collapseConfig\n    })) || [];\n    return /* @__PURE__ */ jsxs(Fragment, { children: [\n      /* @__PURE__ */ jsx(\n        MenuItem,\n        {\n          label: \"Focus block\",\n          icon: \"eye\",\n          onClick: () => {\n            onItemFocus();\n            onMenuItemClick();\n          }\n        }\n      ),\n      /* @__PURE__ */ jsx(\n        MenuItem,\n        {\n          label: \"Copy function name\",\n          icon: \"copy\",\n          onClick: () => {\n            navigator.clipboard.writeText(itemData.label).then(() => {\n              onMenuItemClick();\n            });\n          }\n        }\n      ),\n      /* @__PURE__ */ jsx(\n        MenuItem,\n        {\n          label: \"Sandwich view\",\n          icon: \"gf-show-context\",\n          onClick: () => {\n            onSandwich();\n            onMenuItemClick();\n          }\n        }\n      ),\n      extraButtons.map(({ label, icon, onClick }) => {\n        return /* @__PURE__ */ jsx(MenuItem, { label, icon, onClick: () => onClick() }, label);\n      }),\n      collapsing && /* @__PURE__ */ jsxs(MenuGroup, { label: \"Grouping\", children: [\n        collapseConfig ? collapseConfig.collapsed ? /* @__PURE__ */ jsx(\n          MenuItem,\n          {\n            label: \"Expand group\",\n            icon: \"angle-double-down\",\n            onClick: () => {\n              onExpandGroup();\n              onMenuItemClick();\n            }\n          }\n        ) : /* @__PURE__ */ jsx(\n          MenuItem,\n          {\n            label: \"Collapse group\",\n            icon: \"angle-double-up\",\n            onClick: () => {\n              onCollapseGroup();\n              onMenuItemClick();\n            }\n          }\n        ) : null,\n        !allGroupsExpanded && /* @__PURE__ */ jsx(\n          MenuItem,\n          {\n            label: \"Expand all groups\",\n            icon: \"angle-double-down\",\n            onClick: () => {\n              onExpandAllGroups();\n              onMenuItemClick();\n            }\n          }\n        ),\n        !allGroupsCollapsed && /* @__PURE__ */ jsx(\n          MenuItem,\n          {\n            label: \"Collapse all groups\",\n            icon: \"angle-double-up\",\n            onClick: () => {\n              onCollapseAllGroups();\n              onMenuItemClick();\n            }\n          }\n        )\n      ] })\n    ] });\n  }\n  return /* @__PURE__ */ jsx(\"div\", { \"data-testid\": \"contextMenu\", children: /* @__PURE__ */ jsx(\n    ContextMenu,\n    {\n      renderMenuItems: renderItems,\n      x: itemData.posX + 10,\n      y: itemData.posY,\n      focusOnOpen: false\n    }\n  ) });\n};\n\nexport { FlameGraphContextMenu as default };\n//# sourceMappingURL=FlameGraphContextMenu.mjs.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { css } from '@emotion/css';\nimport { getValueFormat } from '@grafana/data';\nimport { useStyles2, InteractiveTable, Portal, VizTooltipContainer } from '@grafana/ui';\n\n\"use strict\";\nconst FlameGraphTooltip = ({ data, item, totalTicks, position, collapseConfig }) => {\n  const styles = useStyles2(getStyles);\n  if (!(item && position)) {\n    return null;\n  }\n  let content;\n  if (data.isDiffFlamegraph()) {\n    const tableData = getDiffTooltipData(data, item, totalTicks);\n    content = /* @__PURE__ */ jsx(\n      InteractiveTable,\n      {\n        className: styles.tooltipTable,\n        columns: [\n          { id: \"label\", header: \"\" },\n          { id: \"baseline\", header: \"Baseline\" },\n          { id: \"comparison\", header: \"Comparison\" },\n          { id: \"diff\", header: \"Diff\" }\n        ],\n        data: tableData,\n        getRowId: (originalRow) => originalRow.rowId\n      }\n    );\n  } else {\n    const tooltipData = getTooltipData(data, item, totalTicks);\n    content = /* @__PURE__ */ jsxs(\"p\", { className: styles.lastParagraph, children: [\n      tooltipData.unitTitle,\n      /* @__PURE__ */ jsx(\"br\", {}),\n      \"Total: \",\n      /* @__PURE__ */ jsx(\"b\", { children: tooltipData.unitValue }),\n      \" (\",\n      tooltipData.percentValue,\n      \"%)\",\n      /* @__PURE__ */ jsx(\"br\", {}),\n      \"Self: \",\n      /* @__PURE__ */ jsx(\"b\", { children: tooltipData.unitSelf }),\n      \" (\",\n      tooltipData.percentSelf,\n      \"%)\",\n      /* @__PURE__ */ jsx(\"br\", {}),\n      \"Samples: \",\n      /* @__PURE__ */ jsx(\"b\", { children: tooltipData.samples })\n    ] });\n  }\n  return /* @__PURE__ */ jsx(Portal, { children: /* @__PURE__ */ jsx(VizTooltipContainer, { className: styles.tooltipContainer, position, offset: { x: 15, y: 0 }, children: /* @__PURE__ */ jsxs(\"div\", { className: styles.tooltipContent, children: [\n    /* @__PURE__ */ jsxs(\"p\", { className: styles.tooltipName, children: [\n      data.getLabel(item.itemIndexes[0]),\n      collapseConfig && collapseConfig.collapsed ? /* @__PURE__ */ jsxs(\"span\", { children: [\n        /* @__PURE__ */ jsx(\"br\", {}),\n        \"and \",\n        collapseConfig.items.length,\n        \" similar items\"\n      ] }) : \"\"\n    ] }),\n    content\n  ] }) }) });\n};\nconst getTooltipData = (data, item, totalTicks) => {\n  const displayValue = data.valueDisplayProcessor(item.value);\n  const displaySelf = data.getSelfDisplay(item.itemIndexes);\n  const percentValue = Math.round(1e4 * (displayValue.numeric / totalTicks)) / 100;\n  const percentSelf = Math.round(1e4 * (displaySelf.numeric / totalTicks)) / 100;\n  let unitValue = displayValue.text + displayValue.suffix;\n  let unitSelf = displaySelf.text + displaySelf.suffix;\n  const unitTitle = data.getUnitTitle();\n  if (unitTitle === \"Count\") {\n    if (!displayValue.suffix) {\n      unitValue = displayValue.text;\n    }\n    if (!displaySelf.suffix) {\n      unitSelf = displaySelf.text;\n    }\n  }\n  return {\n    percentValue,\n    percentSelf,\n    unitTitle,\n    unitValue,\n    unitSelf,\n    samples: displayValue.numeric.toLocaleString()\n  };\n};\nconst getDiffTooltipData = (data, item, totalTicks) => {\n  const levels = data.getLevels();\n  const totalTicksRight = levels[0][0].valueRight;\n  const totalTicksLeft = totalTicks - totalTicksRight;\n  const valueLeft = item.value - item.valueRight;\n  const percentageLeft = Math.round(1e4 * valueLeft / totalTicksLeft) / 100;\n  const percentageRight = Math.round(1e4 * item.valueRight / totalTicksRight) / 100;\n  const diff = (percentageRight - percentageLeft) / percentageLeft * 100;\n  const displayValueLeft = getValueWithUnit(data, data.valueDisplayProcessor(valueLeft));\n  const displayValueRight = getValueWithUnit(data, data.valueDisplayProcessor(item.valueRight));\n  const shortValFormat = getValueFormat(\"short\");\n  return [\n    {\n      rowId: \"1\",\n      label: \"% of total\",\n      baseline: percentageLeft + \"%\",\n      comparison: percentageRight + \"%\",\n      diff: shortValFormat(diff).text + \"%\"\n    },\n    {\n      rowId: \"2\",\n      label: \"Value\",\n      baseline: displayValueLeft,\n      comparison: displayValueRight,\n      diff: getValueWithUnit(data, data.valueDisplayProcessor(item.valueRight - valueLeft))\n    },\n    {\n      rowId: \"3\",\n      label: \"Samples\",\n      baseline: shortValFormat(valueLeft).text,\n      comparison: shortValFormat(item.valueRight).text,\n      diff: shortValFormat(item.valueRight - valueLeft).text\n    }\n  ];\n};\nfunction getValueWithUnit(data, displayValue) {\n  let unitValue = displayValue.text + displayValue.suffix;\n  const unitTitle = data.getUnitTitle();\n  if (unitTitle === \"Count\") {\n    if (!displayValue.suffix) {\n      unitValue = displayValue.text;\n    }\n  }\n  return unitValue;\n}\nconst getStyles = (theme) => ({\n  tooltipContainer: css({\n    title: \"tooltipContainer\",\n    overflow: \"hidden\"\n  }),\n  tooltipContent: css({\n    title: \"tooltipContent\",\n    fontSize: theme.typography.bodySmall.fontSize,\n    width: \"100%\"\n  }),\n  tooltipName: css({\n    title: \"tooltipName\",\n    marginTop: 0,\n    wordBreak: \"break-all\"\n  }),\n  lastParagraph: css({\n    title: \"lastParagraph\",\n    marginBottom: 0\n  }),\n  name: css({\n    title: \"name\",\n    marginBottom: \"10px\"\n  }),\n  tooltipTable: css({\n    title: \"tooltipTable\",\n    maxWidth: \"400px\"\n  })\n});\n\nexport { FlameGraphTooltip as default, getDiffTooltipData, getTooltipData };\n//# sourceMappingURL=FlameGraphTooltip.mjs.map\n","// This file is autogenerated. It's used to publish ESM to npm.\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\n\n// https://github.com/bgrins/TinyColor\n// Brian Grinstead, MIT License\n\nvar trimLeft = /^\\s+/;\nvar trimRight = /\\s+$/;\nfunction tinycolor(color, opts) {\n  color = color ? color : \"\";\n  opts = opts || {};\n\n  // If input is already a tinycolor, return itself\n  if (color instanceof tinycolor) {\n    return color;\n  }\n  // If we are called as a function, call using new instead\n  if (!(this instanceof tinycolor)) {\n    return new tinycolor(color, opts);\n  }\n  var rgb = inputToRGB(color);\n  this._originalInput = color, this._r = rgb.r, this._g = rgb.g, this._b = rgb.b, this._a = rgb.a, this._roundA = Math.round(100 * this._a) / 100, this._format = opts.format || rgb.format;\n  this._gradientType = opts.gradientType;\n\n  // Don't let the range of [0,255] come back in [0,1].\n  // Potentially lose a little bit of precision here, but will fix issues where\n  // .5 gets interpreted as half of the total, instead of half of 1\n  // If it was supposed to be 128, this was already taken care of by `inputToRgb`\n  if (this._r < 1) this._r = Math.round(this._r);\n  if (this._g < 1) this._g = Math.round(this._g);\n  if (this._b < 1) this._b = Math.round(this._b);\n  this._ok = rgb.ok;\n}\ntinycolor.prototype = {\n  isDark: function isDark() {\n    return this.getBrightness() < 128;\n  },\n  isLight: function isLight() {\n    return !this.isDark();\n  },\n  isValid: function isValid() {\n    return this._ok;\n  },\n  getOriginalInput: function getOriginalInput() {\n    return this._originalInput;\n  },\n  getFormat: function getFormat() {\n    return this._format;\n  },\n  getAlpha: function getAlpha() {\n    return this._a;\n  },\n  getBrightness: function getBrightness() {\n    //http://www.w3.org/TR/AERT#color-contrast\n    var rgb = this.toRgb();\n    return (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;\n  },\n  getLuminance: function getLuminance() {\n    //http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n    var rgb = this.toRgb();\n    var RsRGB, GsRGB, BsRGB, R, G, B;\n    RsRGB = rgb.r / 255;\n    GsRGB = rgb.g / 255;\n    BsRGB = rgb.b / 255;\n    if (RsRGB <= 0.03928) R = RsRGB / 12.92;else R = Math.pow((RsRGB + 0.055) / 1.055, 2.4);\n    if (GsRGB <= 0.03928) G = GsRGB / 12.92;else G = Math.pow((GsRGB + 0.055) / 1.055, 2.4);\n    if (BsRGB <= 0.03928) B = BsRGB / 12.92;else B = Math.pow((BsRGB + 0.055) / 1.055, 2.4);\n    return 0.2126 * R + 0.7152 * G + 0.0722 * B;\n  },\n  setAlpha: function setAlpha(value) {\n    this._a = boundAlpha(value);\n    this._roundA = Math.round(100 * this._a) / 100;\n    return this;\n  },\n  toHsv: function toHsv() {\n    var hsv = rgbToHsv(this._r, this._g, this._b);\n    return {\n      h: hsv.h * 360,\n      s: hsv.s,\n      v: hsv.v,\n      a: this._a\n    };\n  },\n  toHsvString: function toHsvString() {\n    var hsv = rgbToHsv(this._r, this._g, this._b);\n    var h = Math.round(hsv.h * 360),\n      s = Math.round(hsv.s * 100),\n      v = Math.round(hsv.v * 100);\n    return this._a == 1 ? \"hsv(\" + h + \", \" + s + \"%, \" + v + \"%)\" : \"hsva(\" + h + \", \" + s + \"%, \" + v + \"%, \" + this._roundA + \")\";\n  },\n  toHsl: function toHsl() {\n    var hsl = rgbToHsl(this._r, this._g, this._b);\n    return {\n      h: hsl.h * 360,\n      s: hsl.s,\n      l: hsl.l,\n      a: this._a\n    };\n  },\n  toHslString: function toHslString() {\n    var hsl = rgbToHsl(this._r, this._g, this._b);\n    var h = Math.round(hsl.h * 360),\n      s = Math.round(hsl.s * 100),\n      l = Math.round(hsl.l * 100);\n    return this._a == 1 ? \"hsl(\" + h + \", \" + s + \"%, \" + l + \"%)\" : \"hsla(\" + h + \", \" + s + \"%, \" + l + \"%, \" + this._roundA + \")\";\n  },\n  toHex: function toHex(allow3Char) {\n    return rgbToHex(this._r, this._g, this._b, allow3Char);\n  },\n  toHexString: function toHexString(allow3Char) {\n    return \"#\" + this.toHex(allow3Char);\n  },\n  toHex8: function toHex8(allow4Char) {\n    return rgbaToHex(this._r, this._g, this._b, this._a, allow4Char);\n  },\n  toHex8String: function toHex8String(allow4Char) {\n    return \"#\" + this.toHex8(allow4Char);\n  },\n  toRgb: function toRgb() {\n    return {\n      r: Math.round(this._r),\n      g: Math.round(this._g),\n      b: Math.round(this._b),\n      a: this._a\n    };\n  },\n  toRgbString: function toRgbString() {\n    return this._a == 1 ? \"rgb(\" + Math.round(this._r) + \", \" + Math.round(this._g) + \", \" + Math.round(this._b) + \")\" : \"rgba(\" + Math.round(this._r) + \", \" + Math.round(this._g) + \", \" + Math.round(this._b) + \", \" + this._roundA + \")\";\n  },\n  toPercentageRgb: function toPercentageRgb() {\n    return {\n      r: Math.round(bound01(this._r, 255) * 100) + \"%\",\n      g: Math.round(bound01(this._g, 255) * 100) + \"%\",\n      b: Math.round(bound01(this._b, 255) * 100) + \"%\",\n      a: this._a\n    };\n  },\n  toPercentageRgbString: function toPercentageRgbString() {\n    return this._a == 1 ? \"rgb(\" + Math.round(bound01(this._r, 255) * 100) + \"%, \" + Math.round(bound01(this._g, 255) * 100) + \"%, \" + Math.round(bound01(this._b, 255) * 100) + \"%)\" : \"rgba(\" + Math.round(bound01(this._r, 255) * 100) + \"%, \" + Math.round(bound01(this._g, 255) * 100) + \"%, \" + Math.round(bound01(this._b, 255) * 100) + \"%, \" + this._roundA + \")\";\n  },\n  toName: function toName() {\n    if (this._a === 0) {\n      return \"transparent\";\n    }\n    if (this._a < 1) {\n      return false;\n    }\n    return hexNames[rgbToHex(this._r, this._g, this._b, true)] || false;\n  },\n  toFilter: function toFilter(secondColor) {\n    var hex8String = \"#\" + rgbaToArgbHex(this._r, this._g, this._b, this._a);\n    var secondHex8String = hex8String;\n    var gradientType = this._gradientType ? \"GradientType = 1, \" : \"\";\n    if (secondColor) {\n      var s = tinycolor(secondColor);\n      secondHex8String = \"#\" + rgbaToArgbHex(s._r, s._g, s._b, s._a);\n    }\n    return \"progid:DXImageTransform.Microsoft.gradient(\" + gradientType + \"startColorstr=\" + hex8String + \",endColorstr=\" + secondHex8String + \")\";\n  },\n  toString: function toString(format) {\n    var formatSet = !!format;\n    format = format || this._format;\n    var formattedString = false;\n    var hasAlpha = this._a < 1 && this._a >= 0;\n    var needsAlphaFormat = !formatSet && hasAlpha && (format === \"hex\" || format === \"hex6\" || format === \"hex3\" || format === \"hex4\" || format === \"hex8\" || format === \"name\");\n    if (needsAlphaFormat) {\n      // Special case for \"transparent\", all other non-alpha formats\n      // will return rgba when there is transparency.\n      if (format === \"name\" && this._a === 0) {\n        return this.toName();\n      }\n      return this.toRgbString();\n    }\n    if (format === \"rgb\") {\n      formattedString = this.toRgbString();\n    }\n    if (format === \"prgb\") {\n      formattedString = this.toPercentageRgbString();\n    }\n    if (format === \"hex\" || format === \"hex6\") {\n      formattedString = this.toHexString();\n    }\n    if (format === \"hex3\") {\n      formattedString = this.toHexString(true);\n    }\n    if (format === \"hex4\") {\n      formattedString = this.toHex8String(true);\n    }\n    if (format === \"hex8\") {\n      formattedString = this.toHex8String();\n    }\n    if (format === \"name\") {\n      formattedString = this.toName();\n    }\n    if (format === \"hsl\") {\n      formattedString = this.toHslString();\n    }\n    if (format === \"hsv\") {\n      formattedString = this.toHsvString();\n    }\n    return formattedString || this.toHexString();\n  },\n  clone: function clone() {\n    return tinycolor(this.toString());\n  },\n  _applyModification: function _applyModification(fn, args) {\n    var color = fn.apply(null, [this].concat([].slice.call(args)));\n    this._r = color._r;\n    this._g = color._g;\n    this._b = color._b;\n    this.setAlpha(color._a);\n    return this;\n  },\n  lighten: function lighten() {\n    return this._applyModification(_lighten, arguments);\n  },\n  brighten: function brighten() {\n    return this._applyModification(_brighten, arguments);\n  },\n  darken: function darken() {\n    return this._applyModification(_darken, arguments);\n  },\n  desaturate: function desaturate() {\n    return this._applyModification(_desaturate, arguments);\n  },\n  saturate: function saturate() {\n    return this._applyModification(_saturate, arguments);\n  },\n  greyscale: function greyscale() {\n    return this._applyModification(_greyscale, arguments);\n  },\n  spin: function spin() {\n    return this._applyModification(_spin, arguments);\n  },\n  _applyCombination: function _applyCombination(fn, args) {\n    return fn.apply(null, [this].concat([].slice.call(args)));\n  },\n  analogous: function analogous() {\n    return this._applyCombination(_analogous, arguments);\n  },\n  complement: function complement() {\n    return this._applyCombination(_complement, arguments);\n  },\n  monochromatic: function monochromatic() {\n    return this._applyCombination(_monochromatic, arguments);\n  },\n  splitcomplement: function splitcomplement() {\n    return this._applyCombination(_splitcomplement, arguments);\n  },\n  // Disabled until https://github.com/bgrins/TinyColor/issues/254\n  // polyad: function (number) {\n  //   return this._applyCombination(polyad, [number]);\n  // },\n  triad: function triad() {\n    return this._applyCombination(polyad, [3]);\n  },\n  tetrad: function tetrad() {\n    return this._applyCombination(polyad, [4]);\n  }\n};\n\n// If input is an object, force 1 into \"1.0\" to handle ratios properly\n// String input requires \"1.0\" as input, so 1 will be treated as 1\ntinycolor.fromRatio = function (color, opts) {\n  if (_typeof(color) == \"object\") {\n    var newColor = {};\n    for (var i in color) {\n      if (color.hasOwnProperty(i)) {\n        if (i === \"a\") {\n          newColor[i] = color[i];\n        } else {\n          newColor[i] = convertToPercentage(color[i]);\n        }\n      }\n    }\n    color = newColor;\n  }\n  return tinycolor(color, opts);\n};\n\n// Given a string or object, convert that input to RGB\n// Possible string inputs:\n//\n//     \"red\"\n//     \"#f00\" or \"f00\"\n//     \"#ff0000\" or \"ff0000\"\n//     \"#ff000000\" or \"ff000000\"\n//     \"rgb 255 0 0\" or \"rgb (255, 0, 0)\"\n//     \"rgb 1.0 0 0\" or \"rgb (1, 0, 0)\"\n//     \"rgba (255, 0, 0, 1)\" or \"rgba 255, 0, 0, 1\"\n//     \"rgba (1.0, 0, 0, 1)\" or \"rgba 1.0, 0, 0, 1\"\n//     \"hsl(0, 100%, 50%)\" or \"hsl 0 100% 50%\"\n//     \"hsla(0, 100%, 50%, 1)\" or \"hsla 0 100% 50%, 1\"\n//     \"hsv(0, 100%, 100%)\" or \"hsv 0 100% 100%\"\n//\nfunction inputToRGB(color) {\n  var rgb = {\n    r: 0,\n    g: 0,\n    b: 0\n  };\n  var a = 1;\n  var s = null;\n  var v = null;\n  var l = null;\n  var ok = false;\n  var format = false;\n  if (typeof color == \"string\") {\n    color = stringInputToObject(color);\n  }\n  if (_typeof(color) == \"object\") {\n    if (isValidCSSUnit(color.r) && isValidCSSUnit(color.g) && isValidCSSUnit(color.b)) {\n      rgb = rgbToRgb(color.r, color.g, color.b);\n      ok = true;\n      format = String(color.r).substr(-1) === \"%\" ? \"prgb\" : \"rgb\";\n    } else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.v)) {\n      s = convertToPercentage(color.s);\n      v = convertToPercentage(color.v);\n      rgb = hsvToRgb(color.h, s, v);\n      ok = true;\n      format = \"hsv\";\n    } else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.l)) {\n      s = convertToPercentage(color.s);\n      l = convertToPercentage(color.l);\n      rgb = hslToRgb(color.h, s, l);\n      ok = true;\n      format = \"hsl\";\n    }\n    if (color.hasOwnProperty(\"a\")) {\n      a = color.a;\n    }\n  }\n  a = boundAlpha(a);\n  return {\n    ok: ok,\n    format: color.format || format,\n    r: Math.min(255, Math.max(rgb.r, 0)),\n    g: Math.min(255, Math.max(rgb.g, 0)),\n    b: Math.min(255, Math.max(rgb.b, 0)),\n    a: a\n  };\n}\n\n// Conversion Functions\n// --------------------\n\n// `rgbToHsl`, `rgbToHsv`, `hslToRgb`, `hsvToRgb` modified from:\n// <http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript>\n\n// `rgbToRgb`\n// Handle bounds / percentage checking to conform to CSS color spec\n// <http://www.w3.org/TR/css3-color/>\n// *Assumes:* r, g, b in [0, 255] or [0, 1]\n// *Returns:* { r, g, b } in [0, 255]\nfunction rgbToRgb(r, g, b) {\n  return {\n    r: bound01(r, 255) * 255,\n    g: bound01(g, 255) * 255,\n    b: bound01(b, 255) * 255\n  };\n}\n\n// `rgbToHsl`\n// Converts an RGB color value to HSL.\n// *Assumes:* r, g, and b are contained in [0, 255] or [0, 1]\n// *Returns:* { h, s, l } in [0,1]\nfunction rgbToHsl(r, g, b) {\n  r = bound01(r, 255);\n  g = bound01(g, 255);\n  b = bound01(b, 255);\n  var max = Math.max(r, g, b),\n    min = Math.min(r, g, b);\n  var h,\n    s,\n    l = (max + min) / 2;\n  if (max == min) {\n    h = s = 0; // achromatic\n  } else {\n    var d = max - min;\n    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n    switch (max) {\n      case r:\n        h = (g - b) / d + (g < b ? 6 : 0);\n        break;\n      case g:\n        h = (b - r) / d + 2;\n        break;\n      case b:\n        h = (r - g) / d + 4;\n        break;\n    }\n    h /= 6;\n  }\n  return {\n    h: h,\n    s: s,\n    l: l\n  };\n}\n\n// `hslToRgb`\n// Converts an HSL color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and l are contained [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\nfunction hslToRgb(h, s, l) {\n  var r, g, b;\n  h = bound01(h, 360);\n  s = bound01(s, 100);\n  l = bound01(l, 100);\n  function hue2rgb(p, q, t) {\n    if (t < 0) t += 1;\n    if (t > 1) t -= 1;\n    if (t < 1 / 6) return p + (q - p) * 6 * t;\n    if (t < 1 / 2) return q;\n    if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n    return p;\n  }\n  if (s === 0) {\n    r = g = b = l; // achromatic\n  } else {\n    var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n    var p = 2 * l - q;\n    r = hue2rgb(p, q, h + 1 / 3);\n    g = hue2rgb(p, q, h);\n    b = hue2rgb(p, q, h - 1 / 3);\n  }\n  return {\n    r: r * 255,\n    g: g * 255,\n    b: b * 255\n  };\n}\n\n// `rgbToHsv`\n// Converts an RGB color value to HSV\n// *Assumes:* r, g, and b are contained in the set [0, 255] or [0, 1]\n// *Returns:* { h, s, v } in [0,1]\nfunction rgbToHsv(r, g, b) {\n  r = bound01(r, 255);\n  g = bound01(g, 255);\n  b = bound01(b, 255);\n  var max = Math.max(r, g, b),\n    min = Math.min(r, g, b);\n  var h,\n    s,\n    v = max;\n  var d = max - min;\n  s = max === 0 ? 0 : d / max;\n  if (max == min) {\n    h = 0; // achromatic\n  } else {\n    switch (max) {\n      case r:\n        h = (g - b) / d + (g < b ? 6 : 0);\n        break;\n      case g:\n        h = (b - r) / d + 2;\n        break;\n      case b:\n        h = (r - g) / d + 4;\n        break;\n    }\n    h /= 6;\n  }\n  return {\n    h: h,\n    s: s,\n    v: v\n  };\n}\n\n// `hsvToRgb`\n// Converts an HSV color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\nfunction hsvToRgb(h, s, v) {\n  h = bound01(h, 360) * 6;\n  s = bound01(s, 100);\n  v = bound01(v, 100);\n  var i = Math.floor(h),\n    f = h - i,\n    p = v * (1 - s),\n    q = v * (1 - f * s),\n    t = v * (1 - (1 - f) * s),\n    mod = i % 6,\n    r = [v, q, p, p, t, v][mod],\n    g = [t, v, v, q, p, p][mod],\n    b = [p, p, t, v, v, q][mod];\n  return {\n    r: r * 255,\n    g: g * 255,\n    b: b * 255\n  };\n}\n\n// `rgbToHex`\n// Converts an RGB color to hex\n// Assumes r, g, and b are contained in the set [0, 255]\n// Returns a 3 or 6 character hex\nfunction rgbToHex(r, g, b, allow3Char) {\n  var hex = [pad2(Math.round(r).toString(16)), pad2(Math.round(g).toString(16)), pad2(Math.round(b).toString(16))];\n\n  // Return a 3 character hex if possible\n  if (allow3Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1)) {\n    return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);\n  }\n  return hex.join(\"\");\n}\n\n// `rgbaToHex`\n// Converts an RGBA color plus alpha transparency to hex\n// Assumes r, g, b are contained in the set [0, 255] and\n// a in [0, 1]. Returns a 4 or 8 character rgba hex\nfunction rgbaToHex(r, g, b, a, allow4Char) {\n  var hex = [pad2(Math.round(r).toString(16)), pad2(Math.round(g).toString(16)), pad2(Math.round(b).toString(16)), pad2(convertDecimalToHex(a))];\n\n  // Return a 4 character hex if possible\n  if (allow4Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1) && hex[3].charAt(0) == hex[3].charAt(1)) {\n    return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0) + hex[3].charAt(0);\n  }\n  return hex.join(\"\");\n}\n\n// `rgbaToArgbHex`\n// Converts an RGBA color to an ARGB Hex8 string\n// Rarely used, but required for \"toFilter()\"\nfunction rgbaToArgbHex(r, g, b, a) {\n  var hex = [pad2(convertDecimalToHex(a)), pad2(Math.round(r).toString(16)), pad2(Math.round(g).toString(16)), pad2(Math.round(b).toString(16))];\n  return hex.join(\"\");\n}\n\n// `equals`\n// Can be called with any tinycolor input\ntinycolor.equals = function (color1, color2) {\n  if (!color1 || !color2) return false;\n  return tinycolor(color1).toRgbString() == tinycolor(color2).toRgbString();\n};\ntinycolor.random = function () {\n  return tinycolor.fromRatio({\n    r: Math.random(),\n    g: Math.random(),\n    b: Math.random()\n  });\n};\n\n// Modification Functions\n// ----------------------\n// Thanks to less.js for some of the basics here\n// <https://github.com/cloudhead/less.js/blob/master/lib/less/functions.js>\n\nfunction _desaturate(color, amount) {\n  amount = amount === 0 ? 0 : amount || 10;\n  var hsl = tinycolor(color).toHsl();\n  hsl.s -= amount / 100;\n  hsl.s = clamp01(hsl.s);\n  return tinycolor(hsl);\n}\nfunction _saturate(color, amount) {\n  amount = amount === 0 ? 0 : amount || 10;\n  var hsl = tinycolor(color).toHsl();\n  hsl.s += amount / 100;\n  hsl.s = clamp01(hsl.s);\n  return tinycolor(hsl);\n}\nfunction _greyscale(color) {\n  return tinycolor(color).desaturate(100);\n}\nfunction _lighten(color, amount) {\n  amount = amount === 0 ? 0 : amount || 10;\n  var hsl = tinycolor(color).toHsl();\n  hsl.l += amount / 100;\n  hsl.l = clamp01(hsl.l);\n  return tinycolor(hsl);\n}\nfunction _brighten(color, amount) {\n  amount = amount === 0 ? 0 : amount || 10;\n  var rgb = tinycolor(color).toRgb();\n  rgb.r = Math.max(0, Math.min(255, rgb.r - Math.round(255 * -(amount / 100))));\n  rgb.g = Math.max(0, Math.min(255, rgb.g - Math.round(255 * -(amount / 100))));\n  rgb.b = Math.max(0, Math.min(255, rgb.b - Math.round(255 * -(amount / 100))));\n  return tinycolor(rgb);\n}\nfunction _darken(color, amount) {\n  amount = amount === 0 ? 0 : amount || 10;\n  var hsl = tinycolor(color).toHsl();\n  hsl.l -= amount / 100;\n  hsl.l = clamp01(hsl.l);\n  return tinycolor(hsl);\n}\n\n// Spin takes a positive or negative amount within [-360, 360] indicating the change of hue.\n// Values outside of this range will be wrapped into this range.\nfunction _spin(color, amount) {\n  var hsl = tinycolor(color).toHsl();\n  var hue = (hsl.h + amount) % 360;\n  hsl.h = hue < 0 ? 360 + hue : hue;\n  return tinycolor(hsl);\n}\n\n// Combination Functions\n// ---------------------\n// Thanks to jQuery xColor for some of the ideas behind these\n// <https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js>\n\nfunction _complement(color) {\n  var hsl = tinycolor(color).toHsl();\n  hsl.h = (hsl.h + 180) % 360;\n  return tinycolor(hsl);\n}\nfunction polyad(color, number) {\n  if (isNaN(number) || number <= 0) {\n    throw new Error(\"Argument to polyad must be a positive number\");\n  }\n  var hsl = tinycolor(color).toHsl();\n  var result = [tinycolor(color)];\n  var step = 360 / number;\n  for (var i = 1; i < number; i++) {\n    result.push(tinycolor({\n      h: (hsl.h + i * step) % 360,\n      s: hsl.s,\n      l: hsl.l\n    }));\n  }\n  return result;\n}\nfunction _splitcomplement(color) {\n  var hsl = tinycolor(color).toHsl();\n  var h = hsl.h;\n  return [tinycolor(color), tinycolor({\n    h: (h + 72) % 360,\n    s: hsl.s,\n    l: hsl.l\n  }), tinycolor({\n    h: (h + 216) % 360,\n    s: hsl.s,\n    l: hsl.l\n  })];\n}\nfunction _analogous(color, results, slices) {\n  results = results || 6;\n  slices = slices || 30;\n  var hsl = tinycolor(color).toHsl();\n  var part = 360 / slices;\n  var ret = [tinycolor(color)];\n  for (hsl.h = (hsl.h - (part * results >> 1) + 720) % 360; --results;) {\n    hsl.h = (hsl.h + part) % 360;\n    ret.push(tinycolor(hsl));\n  }\n  return ret;\n}\nfunction _monochromatic(color, results) {\n  results = results || 6;\n  var hsv = tinycolor(color).toHsv();\n  var h = hsv.h,\n    s = hsv.s,\n    v = hsv.v;\n  var ret = [];\n  var modification = 1 / results;\n  while (results--) {\n    ret.push(tinycolor({\n      h: h,\n      s: s,\n      v: v\n    }));\n    v = (v + modification) % 1;\n  }\n  return ret;\n}\n\n// Utility Functions\n// ---------------------\n\ntinycolor.mix = function (color1, color2, amount) {\n  amount = amount === 0 ? 0 : amount || 50;\n  var rgb1 = tinycolor(color1).toRgb();\n  var rgb2 = tinycolor(color2).toRgb();\n  var p = amount / 100;\n  var rgba = {\n    r: (rgb2.r - rgb1.r) * p + rgb1.r,\n    g: (rgb2.g - rgb1.g) * p + rgb1.g,\n    b: (rgb2.b - rgb1.b) * p + rgb1.b,\n    a: (rgb2.a - rgb1.a) * p + rgb1.a\n  };\n  return tinycolor(rgba);\n};\n\n// Readability Functions\n// ---------------------\n// <http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef (WCAG Version 2)\n\n// `contrast`\n// Analyze the 2 colors and returns the color contrast defined by (WCAG Version 2)\ntinycolor.readability = function (color1, color2) {\n  var c1 = tinycolor(color1);\n  var c2 = tinycolor(color2);\n  return (Math.max(c1.getLuminance(), c2.getLuminance()) + 0.05) / (Math.min(c1.getLuminance(), c2.getLuminance()) + 0.05);\n};\n\n// `isReadable`\n// Ensure that foreground and background color combinations meet WCAG2 guidelines.\n// The third argument is an optional Object.\n//      the 'level' property states 'AA' or 'AAA' - if missing or invalid, it defaults to 'AA';\n//      the 'size' property states 'large' or 'small' - if missing or invalid, it defaults to 'small'.\n// If the entire object is absent, isReadable defaults to {level:\"AA\",size:\"small\"}.\n\n// *Example*\n//    tinycolor.isReadable(\"#000\", \"#111\") => false\n//    tinycolor.isReadable(\"#000\", \"#111\",{level:\"AA\",size:\"large\"}) => false\ntinycolor.isReadable = function (color1, color2, wcag2) {\n  var readability = tinycolor.readability(color1, color2);\n  var wcag2Parms, out;\n  out = false;\n  wcag2Parms = validateWCAG2Parms(wcag2);\n  switch (wcag2Parms.level + wcag2Parms.size) {\n    case \"AAsmall\":\n    case \"AAAlarge\":\n      out = readability >= 4.5;\n      break;\n    case \"AAlarge\":\n      out = readability >= 3;\n      break;\n    case \"AAAsmall\":\n      out = readability >= 7;\n      break;\n  }\n  return out;\n};\n\n// `mostReadable`\n// Given a base color and a list of possible foreground or background\n// colors for that base, returns the most readable color.\n// Optionally returns Black or White if the most readable color is unreadable.\n// *Example*\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:false}).toHexString(); // \"#112255\"\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:true}).toHexString();  // \"#ffffff\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"large\"}).toHexString(); // \"#faf3f3\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"small\"}).toHexString(); // \"#ffffff\"\ntinycolor.mostReadable = function (baseColor, colorList, args) {\n  var bestColor = null;\n  var bestScore = 0;\n  var readability;\n  var includeFallbackColors, level, size;\n  args = args || {};\n  includeFallbackColors = args.includeFallbackColors;\n  level = args.level;\n  size = args.size;\n  for (var i = 0; i < colorList.length; i++) {\n    readability = tinycolor.readability(baseColor, colorList[i]);\n    if (readability > bestScore) {\n      bestScore = readability;\n      bestColor = tinycolor(colorList[i]);\n    }\n  }\n  if (tinycolor.isReadable(baseColor, bestColor, {\n    level: level,\n    size: size\n  }) || !includeFallbackColors) {\n    return bestColor;\n  } else {\n    args.includeFallbackColors = false;\n    return tinycolor.mostReadable(baseColor, [\"#fff\", \"#000\"], args);\n  }\n};\n\n// Big List of Colors\n// ------------------\n// <https://www.w3.org/TR/css-color-4/#named-colors>\nvar names = tinycolor.names = {\n  aliceblue: \"f0f8ff\",\n  antiquewhite: \"faebd7\",\n  aqua: \"0ff\",\n  aquamarine: \"7fffd4\",\n  azure: \"f0ffff\",\n  beige: \"f5f5dc\",\n  bisque: \"ffe4c4\",\n  black: \"000\",\n  blanchedalmond: \"ffebcd\",\n  blue: \"00f\",\n  blueviolet: \"8a2be2\",\n  brown: \"a52a2a\",\n  burlywood: \"deb887\",\n  burntsienna: \"ea7e5d\",\n  cadetblue: \"5f9ea0\",\n  chartreuse: \"7fff00\",\n  chocolate: \"d2691e\",\n  coral: \"ff7f50\",\n  cornflowerblue: \"6495ed\",\n  cornsilk: \"fff8dc\",\n  crimson: \"dc143c\",\n  cyan: \"0ff\",\n  darkblue: \"00008b\",\n  darkcyan: \"008b8b\",\n  darkgoldenrod: \"b8860b\",\n  darkgray: \"a9a9a9\",\n  darkgreen: \"006400\",\n  darkgrey: \"a9a9a9\",\n  darkkhaki: \"bdb76b\",\n  darkmagenta: \"8b008b\",\n  darkolivegreen: \"556b2f\",\n  darkorange: \"ff8c00\",\n  darkorchid: \"9932cc\",\n  darkred: \"8b0000\",\n  darksalmon: \"e9967a\",\n  darkseagreen: \"8fbc8f\",\n  darkslateblue: \"483d8b\",\n  darkslategray: \"2f4f4f\",\n  darkslategrey: \"2f4f4f\",\n  darkturquoise: \"00ced1\",\n  darkviolet: \"9400d3\",\n  deeppink: \"ff1493\",\n  deepskyblue: \"00bfff\",\n  dimgray: \"696969\",\n  dimgrey: \"696969\",\n  dodgerblue: \"1e90ff\",\n  firebrick: \"b22222\",\n  floralwhite: \"fffaf0\",\n  forestgreen: \"228b22\",\n  fuchsia: \"f0f\",\n  gainsboro: \"dcdcdc\",\n  ghostwhite: \"f8f8ff\",\n  gold: \"ffd700\",\n  goldenrod: \"daa520\",\n  gray: \"808080\",\n  green: \"008000\",\n  greenyellow: \"adff2f\",\n  grey: \"808080\",\n  honeydew: \"f0fff0\",\n  hotpink: \"ff69b4\",\n  indianred: \"cd5c5c\",\n  indigo: \"4b0082\",\n  ivory: \"fffff0\",\n  khaki: \"f0e68c\",\n  lavender: \"e6e6fa\",\n  lavenderblush: \"fff0f5\",\n  lawngreen: \"7cfc00\",\n  lemonchiffon: \"fffacd\",\n  lightblue: \"add8e6\",\n  lightcoral: \"f08080\",\n  lightcyan: \"e0ffff\",\n  lightgoldenrodyellow: \"fafad2\",\n  lightgray: \"d3d3d3\",\n  lightgreen: \"90ee90\",\n  lightgrey: \"d3d3d3\",\n  lightpink: \"ffb6c1\",\n  lightsalmon: \"ffa07a\",\n  lightseagreen: \"20b2aa\",\n  lightskyblue: \"87cefa\",\n  lightslategray: \"789\",\n  lightslategrey: \"789\",\n  lightsteelblue: \"b0c4de\",\n  lightyellow: \"ffffe0\",\n  lime: \"0f0\",\n  limegreen: \"32cd32\",\n  linen: \"faf0e6\",\n  magenta: \"f0f\",\n  maroon: \"800000\",\n  mediumaquamarine: \"66cdaa\",\n  mediumblue: \"0000cd\",\n  mediumorchid: \"ba55d3\",\n  mediumpurple: \"9370db\",\n  mediumseagreen: \"3cb371\",\n  mediumslateblue: \"7b68ee\",\n  mediumspringgreen: \"00fa9a\",\n  mediumturquoise: \"48d1cc\",\n  mediumvioletred: \"c71585\",\n  midnightblue: \"191970\",\n  mintcream: \"f5fffa\",\n  mistyrose: \"ffe4e1\",\n  moccasin: \"ffe4b5\",\n  navajowhite: \"ffdead\",\n  navy: \"000080\",\n  oldlace: \"fdf5e6\",\n  olive: \"808000\",\n  olivedrab: \"6b8e23\",\n  orange: \"ffa500\",\n  orangered: \"ff4500\",\n  orchid: \"da70d6\",\n  palegoldenrod: \"eee8aa\",\n  palegreen: \"98fb98\",\n  paleturquoise: \"afeeee\",\n  palevioletred: \"db7093\",\n  papayawhip: \"ffefd5\",\n  peachpuff: \"ffdab9\",\n  peru: \"cd853f\",\n  pink: \"ffc0cb\",\n  plum: \"dda0dd\",\n  powderblue: \"b0e0e6\",\n  purple: \"800080\",\n  rebeccapurple: \"663399\",\n  red: \"f00\",\n  rosybrown: \"bc8f8f\",\n  royalblue: \"4169e1\",\n  saddlebrown: \"8b4513\",\n  salmon: \"fa8072\",\n  sandybrown: \"f4a460\",\n  seagreen: \"2e8b57\",\n  seashell: \"fff5ee\",\n  sienna: \"a0522d\",\n  silver: \"c0c0c0\",\n  skyblue: \"87ceeb\",\n  slateblue: \"6a5acd\",\n  slategray: \"708090\",\n  slategrey: \"708090\",\n  snow: \"fffafa\",\n  springgreen: \"00ff7f\",\n  steelblue: \"4682b4\",\n  tan: \"d2b48c\",\n  teal: \"008080\",\n  thistle: \"d8bfd8\",\n  tomato: \"ff6347\",\n  turquoise: \"40e0d0\",\n  violet: \"ee82ee\",\n  wheat: \"f5deb3\",\n  white: \"fff\",\n  whitesmoke: \"f5f5f5\",\n  yellow: \"ff0\",\n  yellowgreen: \"9acd32\"\n};\n\n// Make it easy to access colors via `hexNames[hex]`\nvar hexNames = tinycolor.hexNames = flip(names);\n\n// Utilities\n// ---------\n\n// `{ 'name1': 'val1' }` becomes `{ 'val1': 'name1' }`\nfunction flip(o) {\n  var flipped = {};\n  for (var i in o) {\n    if (o.hasOwnProperty(i)) {\n      flipped[o[i]] = i;\n    }\n  }\n  return flipped;\n}\n\n// Return a valid alpha value [0,1] with all invalid values being set to 1\nfunction boundAlpha(a) {\n  a = parseFloat(a);\n  if (isNaN(a) || a < 0 || a > 1) {\n    a = 1;\n  }\n  return a;\n}\n\n// Take input from [0, n] and return it as [0, 1]\nfunction bound01(n, max) {\n  if (isOnePointZero(n)) n = \"100%\";\n  var processPercent = isPercentage(n);\n  n = Math.min(max, Math.max(0, parseFloat(n)));\n\n  // Automatically convert percentage into number\n  if (processPercent) {\n    n = parseInt(n * max, 10) / 100;\n  }\n\n  // Handle floating point rounding errors\n  if (Math.abs(n - max) < 0.000001) {\n    return 1;\n  }\n\n  // Convert into [0, 1] range if it isn't already\n  return n % max / parseFloat(max);\n}\n\n// Force a number between 0 and 1\nfunction clamp01(val) {\n  return Math.min(1, Math.max(0, val));\n}\n\n// Parse a base-16 hex value into a base-10 integer\nfunction parseIntFromHex(val) {\n  return parseInt(val, 16);\n}\n\n// Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1\n// <http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0>\nfunction isOnePointZero(n) {\n  return typeof n == \"string\" && n.indexOf(\".\") != -1 && parseFloat(n) === 1;\n}\n\n// Check to see if string passed in is a percentage\nfunction isPercentage(n) {\n  return typeof n === \"string\" && n.indexOf(\"%\") != -1;\n}\n\n// Force a hex value to have 2 characters\nfunction pad2(c) {\n  return c.length == 1 ? \"0\" + c : \"\" + c;\n}\n\n// Replace a decimal with it's percentage value\nfunction convertToPercentage(n) {\n  if (n <= 1) {\n    n = n * 100 + \"%\";\n  }\n  return n;\n}\n\n// Converts a decimal to a hex value\nfunction convertDecimalToHex(d) {\n  return Math.round(parseFloat(d) * 255).toString(16);\n}\n// Converts a hex value to a decimal\nfunction convertHexToDecimal(h) {\n  return parseIntFromHex(h) / 255;\n}\nvar matchers = function () {\n  // <http://www.w3.org/TR/css3-values/#integers>\n  var CSS_INTEGER = \"[-\\\\+]?\\\\d+%?\";\n\n  // <http://www.w3.org/TR/css3-values/#number-value>\n  var CSS_NUMBER = \"[-\\\\+]?\\\\d*\\\\.\\\\d+%?\";\n\n  // Allow positive/negative integer/number.  Don't capture the either/or, just the entire outcome.\n  var CSS_UNIT = \"(?:\" + CSS_NUMBER + \")|(?:\" + CSS_INTEGER + \")\";\n\n  // Actual matching.\n  // Parentheses and commas are optional, but not required.\n  // Whitespace can take the place of commas or opening paren\n  var PERMISSIVE_MATCH3 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n  var PERMISSIVE_MATCH4 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n  return {\n    CSS_UNIT: new RegExp(CSS_UNIT),\n    rgb: new RegExp(\"rgb\" + PERMISSIVE_MATCH3),\n    rgba: new RegExp(\"rgba\" + PERMISSIVE_MATCH4),\n    hsl: new RegExp(\"hsl\" + PERMISSIVE_MATCH3),\n    hsla: new RegExp(\"hsla\" + PERMISSIVE_MATCH4),\n    hsv: new RegExp(\"hsv\" + PERMISSIVE_MATCH3),\n    hsva: new RegExp(\"hsva\" + PERMISSIVE_MATCH4),\n    hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n    hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n    hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n    hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/\n  };\n}();\n\n// `isValidCSSUnit`\n// Take in a single string / number and check to see if it looks like a CSS unit\n// (see `matchers` above for definition).\nfunction isValidCSSUnit(color) {\n  return !!matchers.CSS_UNIT.exec(color);\n}\n\n// `stringInputToObject`\n// Permissive string parsing.  Take in a number of formats, and output an object\n// based on detected format.  Returns `{ r, g, b }` or `{ h, s, l }` or `{ h, s, v}`\nfunction stringInputToObject(color) {\n  color = color.replace(trimLeft, \"\").replace(trimRight, \"\").toLowerCase();\n  var named = false;\n  if (names[color]) {\n    color = names[color];\n    named = true;\n  } else if (color == \"transparent\") {\n    return {\n      r: 0,\n      g: 0,\n      b: 0,\n      a: 0,\n      format: \"name\"\n    };\n  }\n\n  // Try to match string input using regular expressions.\n  // Keep most of the number bounding out of this function - don't worry about [0,1] or [0,100] or [0,360]\n  // Just return an object and let the conversion functions handle that.\n  // This way the result will be the same whether the tinycolor is initialized with string or object.\n  var match;\n  if (match = matchers.rgb.exec(color)) {\n    return {\n      r: match[1],\n      g: match[2],\n      b: match[3]\n    };\n  }\n  if (match = matchers.rgba.exec(color)) {\n    return {\n      r: match[1],\n      g: match[2],\n      b: match[3],\n      a: match[4]\n    };\n  }\n  if (match = matchers.hsl.exec(color)) {\n    return {\n      h: match[1],\n      s: match[2],\n      l: match[3]\n    };\n  }\n  if (match = matchers.hsla.exec(color)) {\n    return {\n      h: match[1],\n      s: match[2],\n      l: match[3],\n      a: match[4]\n    };\n  }\n  if (match = matchers.hsv.exec(color)) {\n    return {\n      h: match[1],\n      s: match[2],\n      v: match[3]\n    };\n  }\n  if (match = matchers.hsva.exec(color)) {\n    return {\n      h: match[1],\n      s: match[2],\n      v: match[3],\n      a: match[4]\n    };\n  }\n  if (match = matchers.hex8.exec(color)) {\n    return {\n      r: parseIntFromHex(match[1]),\n      g: parseIntFromHex(match[2]),\n      b: parseIntFromHex(match[3]),\n      a: convertHexToDecimal(match[4]),\n      format: named ? \"name\" : \"hex8\"\n    };\n  }\n  if (match = matchers.hex6.exec(color)) {\n    return {\n      r: parseIntFromHex(match[1]),\n      g: parseIntFromHex(match[2]),\n      b: parseIntFromHex(match[3]),\n      format: named ? \"name\" : \"hex\"\n    };\n  }\n  if (match = matchers.hex4.exec(color)) {\n    return {\n      r: parseIntFromHex(match[1] + \"\" + match[1]),\n      g: parseIntFromHex(match[2] + \"\" + match[2]),\n      b: parseIntFromHex(match[3] + \"\" + match[3]),\n      a: convertHexToDecimal(match[4] + \"\" + match[4]),\n      format: named ? \"name\" : \"hex8\"\n    };\n  }\n  if (match = matchers.hex3.exec(color)) {\n    return {\n      r: parseIntFromHex(match[1] + \"\" + match[1]),\n      g: parseIntFromHex(match[2] + \"\" + match[2]),\n      b: parseIntFromHex(match[3] + \"\" + match[3]),\n      format: named ? \"name\" : \"hex\"\n    };\n  }\n  return false;\n}\nfunction validateWCAG2Parms(parms) {\n  // return valid WCAG2 parms for isReadable.\n  // If input parms are invalid, return {\"level\":\"AA\", \"size\":\"small\"}\n  var level, size;\n  parms = parms || {\n    level: \"AA\",\n    size: \"small\"\n  };\n  level = (parms.level || \"AA\").toUpperCase();\n  size = (parms.size || \"small\").toLowerCase();\n  if (level !== \"AA\" && level !== \"AAA\") {\n    level = \"AA\";\n  }\n  if (size !== \"small\" && size !== \"large\") {\n    size = \"small\";\n  }\n  return {\n    level: level,\n    size: size\n  };\n}\n\nexport { tinycolor as default };\n","\"use strict\";\nvar SampleUnit = /* @__PURE__ */ ((SampleUnit2) => {\n  SampleUnit2[\"Bytes\"] = \"bytes\";\n  SampleUnit2[\"Short\"] = \"short\";\n  SampleUnit2[\"Nanoseconds\"] = \"ns\";\n  return SampleUnit2;\n})(SampleUnit || {});\nvar SelectedView = /* @__PURE__ */ ((SelectedView2) => {\n  SelectedView2[\"TopTable\"] = \"topTable\";\n  SelectedView2[\"FlameGraph\"] = \"flameGraph\";\n  SelectedView2[\"Both\"] = \"both\";\n  return SelectedView2;\n})(SelectedView || {});\nvar ColorScheme = /* @__PURE__ */ ((ColorScheme2) => {\n  ColorScheme2[\"ValueBased\"] = \"valueBased\";\n  ColorScheme2[\"PackageBased\"] = \"packageBased\";\n  return ColorScheme2;\n})(ColorScheme || {});\nvar ColorSchemeDiff = /* @__PURE__ */ ((ColorSchemeDiff2) => {\n  ColorSchemeDiff2[\"Default\"] = \"default\";\n  ColorSchemeDiff2[\"DiffColorBlind\"] = \"diffColorBlind\";\n  return ColorSchemeDiff2;\n})(ColorSchemeDiff || {});\n\nexport { ColorScheme, ColorSchemeDiff, SampleUnit, SelectedView };\n//# sourceMappingURL=types.mjs.map\n","import { scaleLinear } from 'd3';\nimport color from 'tinycolor2';\nimport { ColorSchemeDiff } from '../types.mjs';\nimport murmurhash3_32_gc from './murmur3.mjs';\n\n\"use strict\";\nconst packageColors = [\n  color({ h: 24, s: 69, l: 60 }),\n  color({ h: 34, s: 65, l: 65 }),\n  color({ h: 194, s: 52, l: 61 }),\n  color({ h: 163, s: 45, l: 55 }),\n  color({ h: 211, s: 48, l: 60 }),\n  color({ h: 246, s: 40, l: 65 }),\n  color({ h: 305, s: 63, l: 79 }),\n  color({ h: 47, s: 100, l: 73 }),\n  color({ r: 183, g: 219, b: 171 }),\n  color({ r: 244, g: 213, b: 152 }),\n  color({ r: 78, g: 146, b: 249 }),\n  color({ r: 249, g: 186, b: 143 }),\n  color({ r: 242, g: 145, b: 145 }),\n  color({ r: 130, g: 181, b: 216 }),\n  color({ r: 229, g: 168, b: 226 }),\n  color({ r: 174, g: 162, b: 224 }),\n  color({ r: 154, g: 196, b: 138 }),\n  color({ r: 242, g: 201, b: 109 }),\n  color({ r: 101, g: 197, b: 219 }),\n  color({ r: 249, g: 147, b: 78 }),\n  color({ r: 234, g: 100, b: 96 }),\n  color({ r: 81, g: 149, b: 206 }),\n  color({ r: 214, g: 131, b: 206 }),\n  color({ r: 128, g: 110, b: 183 })\n];\nconst byValueMinColor = getBarColorByValue(1, 100, 0, 1);\nconst byValueMaxColor = getBarColorByValue(100, 100, 0, 1);\nconst byValueGradient = `linear-gradient(90deg, ${byValueMinColor} 0%, ${byValueMaxColor} 100%)`;\nconst byPackageGradient = `linear-gradient(90deg, ${packageColors[0]} 0%, ${packageColors[2]} 30%, ${packageColors[6]} 50%, ${packageColors[7]} 70%, ${packageColors[8]} 100%)`;\nfunction getBarColorByValue(value, totalTicks, rangeMin, rangeMax) {\n  const intensity = Math.min(1, value / totalTicks / (rangeMax - rangeMin));\n  const h = 50 - 50 * intensity;\n  const l = 65 + 7 * intensity;\n  return color({ h, s: 100, l });\n}\nfunction getBarColorByPackage(label, theme) {\n  const packageName = getPackageName(label);\n  const hash = murmurhash3_32_gc(packageName || \"\", 0);\n  const colorIndex = hash % packageColors.length;\n  let packageColor = packageColors[colorIndex].clone();\n  if (theme.isLight) {\n    packageColor = packageColor.brighten(15);\n  }\n  return packageColor;\n}\nconst diffDefaultColors = [\"rgb(0, 170, 0)\", \"rgb(148, 142, 142)\", \"rgb(200, 0, 0)\"];\nconst diffDefaultGradient = `linear-gradient(90deg, ${diffDefaultColors[0]} 0%, ${diffDefaultColors[1]} 50%, ${diffDefaultColors[2]} 100%)`;\nconst diffColorBlindColors = [\"rgb(26, 133, 255)\", \"rgb(148, 142, 142)\", \"rgb(220, 50, 32)\"];\nconst diffColorBlindGradient = `linear-gradient(90deg, ${diffColorBlindColors[0]} 0%, ${diffColorBlindColors[1]} 50%, ${diffColorBlindColors[2]} 100%)`;\nfunction getBarColorByDiff(ticks, ticksRight, totalTicks, totalTicksRight, colorScheme) {\n  const range = colorScheme === ColorSchemeDiff.Default ? diffDefaultColors : diffColorBlindColors;\n  const colorScale = scaleLinear().domain([-100, 0, 100]).range(range);\n  const ticksLeft = ticks - ticksRight;\n  const totalTicksLeft = totalTicks - totalTicksRight;\n  if (totalTicksRight === 0 || totalTicksLeft === 0) {\n    const rgbString2 = colorScale(0);\n    return color(rgbString2);\n  }\n  const percentageLeft = Math.round(1e4 * ticksLeft / totalTicksLeft) / 100;\n  const percentageRight = Math.round(1e4 * ticksRight / totalTicksRight) / 100;\n  const diff = (percentageRight - percentageLeft) / percentageLeft * 100;\n  const rgbString = colorScale(diff);\n  return color(rgbString);\n}\nconst matchers = [\n  [\"phpspy\", /^(?<packageName>([^\\/]*\\/)*)(?<filename>.*\\.php+)(?<line_info>.*)$/],\n  [\"pyspy\", /^(?<packageName>([^\\/]*\\/)*)(?<filename>.*\\.py+)(?<line_info>.*)$/],\n  [\"rbspy\", /^(?<packageName>([^\\/]*\\/)*)(?<filename>.*\\.rb+)(?<line_info>.*)$/],\n  [\n    \"nodespy\",\n    /^(\\.\\/node_modules\\/)?(?<packageName>[^/]*)(?<filename>.*\\.?(jsx?|tsx?)?):(?<functionName>.*):(?<line_info>.*)$/\n  ],\n  [\"gospy\", /^(?<packageName>.*?\\/.*?\\.|.*?\\.|.+)(?<functionName>.*)$/],\n  // also 'scrape'\n  [\"javaspy\", /^(?<packageName>.+\\/)(?<filename>.+\\.)(?<functionName>.+)$/],\n  [\"dotnetspy\", /^(?<packageName>.+)\\.(.+)\\.(.+)\\(.*\\)$/],\n  [\"tracing\", /^(?<packageName>.+?):.*$/],\n  [\"pyroscope-rs\", /^(?<packageName>[^::]+)/],\n  [\"ebpfspy\", /^(?<packageName>.+)$/],\n  [\"unknown\", /^(?<packageName>.+)$/]\n];\nfunction getPackageName(name) {\n  var _a;\n  for (const [_, matcher] of matchers) {\n    const match = name.match(matcher);\n    if (match) {\n      return ((_a = match.groups) == null ? void 0 : _a.packageName) || \"\";\n    }\n  }\n  return void 0;\n}\n\nexport { byPackageGradient, byValueGradient, diffColorBlindColors, diffColorBlindGradient, diffDefaultColors, diffDefaultGradient, getBarColorByDiff, getBarColorByPackage, getBarColorByValue };\n//# sourceMappingURL=colors.mjs.map\n","\"use strict\";\nfunction murmurhash3_32_gc(key, seed = 0) {\n  let remainder;\n  let bytes;\n  let h1;\n  let h1b;\n  let c1;\n  let c2;\n  let k1;\n  let i;\n  remainder = key.length & 3;\n  bytes = key.length - remainder;\n  h1 = seed;\n  c1 = 3432918353;\n  c2 = 461845907;\n  i = 0;\n  while (i < bytes) {\n    k1 = key.charCodeAt(i) & 255 | (key.charCodeAt(++i) & 255) << 8 | (key.charCodeAt(++i) & 255) << 16 | (key.charCodeAt(++i) & 255) << 24;\n    ++i;\n    k1 = (k1 & 65535) * c1 + (((k1 >>> 16) * c1 & 65535) << 16) & 4294967295;\n    k1 = k1 << 15 | k1 >>> 17;\n    k1 = (k1 & 65535) * c2 + (((k1 >>> 16) * c2 & 65535) << 16) & 4294967295;\n    h1 ^= k1;\n    h1 = h1 << 13 | h1 >>> 19;\n    h1b = (h1 & 65535) * 5 + (((h1 >>> 16) * 5 & 65535) << 16) & 4294967295;\n    h1 = (h1b & 65535) + 27492 + (((h1b >>> 16) + 58964 & 65535) << 16);\n  }\n  k1 = 0;\n  switch (remainder) {\n    case 3:\n      k1 ^= (key.charCodeAt(i + 2) & 255) << 16;\n    // fall through\n    case 2:\n      k1 ^= (key.charCodeAt(i + 1) & 255) << 8;\n    // fall through\n    case 1:\n      k1 ^= key.charCodeAt(i) & 255;\n    // fall through\n    default:\n      k1 = (k1 & 65535) * c1 + (((k1 >>> 16) * c1 & 65535) << 16) & 4294967295;\n      k1 = k1 << 15 | k1 >>> 17;\n      k1 = (k1 & 65535) * c2 + (((k1 >>> 16) * c2 & 65535) << 16) & 4294967295;\n      h1 ^= k1;\n  }\n  h1 ^= key.length;\n  h1 ^= h1 >>> 16;\n  h1 = (h1 & 65535) * 2246822507 + (((h1 >>> 16) * 2246822507 & 65535) << 16) & 4294967295;\n  h1 ^= h1 >>> 13;\n  h1 = (h1 & 65535) * 3266489909 + (((h1 >>> 16) * 3266489909 & 65535) << 16) & 4294967295;\n  h1 ^= h1 >>> 16;\n  return h1 >>> 0;\n}\n\nexport { murmurhash3_32_gc as default };\n//# sourceMappingURL=murmur3.mjs.map\n","import { useMemo, useEffect, useCallback, useState } from 'react';\nimport color from 'tinycolor2';\nimport { useTheme2 } from '@grafana/ui';\nimport { BAR_BORDER_WIDTH, LABEL_THRESHOLD, GROUP_STRIP_MARGIN_LEFT, GROUP_TEXT_OFFSET, GROUP_STRIP_WIDTH, GROUP_STRIP_PADDING, MUTE_THRESHOLD, PIXELS_PER_LEVEL, HIDE_THRESHOLD, BAR_TEXT_PADDING_LEFT } from '../constants.mjs';\nimport { ColorSchemeDiff, ColorScheme } from '../types.mjs';\nimport { getBarColorByDiff, getBarColorByValue, getBarColorByPackage } from './colors.mjs';\n\n\"use strict\";\nfunction useFlameRender(options) {\n  const {\n    canvasRef,\n    data,\n    root,\n    depth,\n    direction,\n    wrapperWidth,\n    rangeMin,\n    rangeMax,\n    matchedLabels,\n    textAlign,\n    totalViewTicks,\n    totalColorTicks,\n    totalTicksRight,\n    colorScheme,\n    focusedItemData,\n    collapsedMap\n  } = options;\n  const ctx = useSetupCanvas(canvasRef, wrapperWidth, depth);\n  const theme = useTheme2();\n  const mutedColor = useMemo(() => {\n    const barMutedColor = color(theme.colors.background.secondary);\n    return theme.isLight ? barMutedColor.darken(10).toHexString() : barMutedColor.lighten(10).toHexString();\n  }, [theme]);\n  const getBarColor = useColorFunction(\n    totalColorTicks,\n    totalTicksRight,\n    colorScheme,\n    theme,\n    mutedColor,\n    rangeMin,\n    rangeMax,\n    matchedLabels,\n    focusedItemData ? focusedItemData.item.level : 0\n  );\n  const renderFunc = useRenderFunc(ctx, data, getBarColor, textAlign, collapsedMap);\n  useEffect(() => {\n    if (!ctx) {\n      return;\n    }\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n    const mutedPath2D = new Path2D();\n    walkTree(\n      root,\n      direction,\n      data,\n      totalViewTicks,\n      rangeMin,\n      rangeMax,\n      wrapperWidth,\n      collapsedMap,\n      (item, x, y, width, height, label, muted) => {\n        if (muted) {\n          mutedPath2D.rect(x, y, width, height);\n        } else {\n          renderFunc(item, x, y, width, height, label);\n        }\n      }\n    );\n    ctx.fillStyle = mutedColor;\n    ctx.fill(mutedPath2D);\n  }, [\n    ctx,\n    data,\n    root,\n    wrapperWidth,\n    rangeMin,\n    rangeMax,\n    totalViewTicks,\n    direction,\n    renderFunc,\n    collapsedMap,\n    mutedColor\n  ]);\n}\nfunction useRenderFunc(ctx, data, getBarColor, textAlign, collapsedMap) {\n  return useMemo(() => {\n    if (!ctx) {\n      return () => {\n      };\n    }\n    const renderFunc = (item, x, y, width, height, label) => {\n      ctx.beginPath();\n      ctx.rect(x + BAR_BORDER_WIDTH, y, width, height);\n      ctx.fillStyle = getBarColor(item, label, false);\n      ctx.stroke();\n      ctx.fill();\n      const collapsedItemConfig = collapsedMap.get(item);\n      let finalLabel = label;\n      if (collapsedItemConfig && collapsedItemConfig.collapsed) {\n        const numberOfCollapsedItems = collapsedItemConfig.items.length;\n        finalLabel = `(${numberOfCollapsedItems}) ` + label;\n      }\n      if (width >= LABEL_THRESHOLD) {\n        if (collapsedItemConfig) {\n          renderLabel(\n            ctx,\n            data,\n            finalLabel,\n            item,\n            width,\n            textAlign === \"left\" ? x + GROUP_STRIP_MARGIN_LEFT + GROUP_TEXT_OFFSET : x,\n            y,\n            textAlign\n          );\n          renderGroupingStrip(ctx, x, y, height, item, collapsedItemConfig);\n        } else {\n          renderLabel(ctx, data, finalLabel, item, width, x, y, textAlign);\n        }\n      }\n    };\n    return renderFunc;\n  }, [ctx, getBarColor, textAlign, data, collapsedMap]);\n}\nfunction renderGroupingStrip(ctx, x, y, height, item, collapsedItemConfig) {\n  const groupStripX = x + GROUP_STRIP_MARGIN_LEFT;\n  ctx.beginPath();\n  ctx.rect(x, y, groupStripX - x + GROUP_STRIP_WIDTH + GROUP_STRIP_PADDING, height);\n  ctx.fill();\n  ctx.beginPath();\n  if (collapsedItemConfig.collapsed) {\n    ctx.rect(groupStripX, y + height / 4, GROUP_STRIP_WIDTH, height / 2);\n  } else {\n    if (collapsedItemConfig.items[0] === item) {\n      ctx.rect(groupStripX, y + height / 2, GROUP_STRIP_WIDTH, height / 2);\n    } else if (collapsedItemConfig.items[collapsedItemConfig.items.length - 1] === item) {\n      ctx.rect(groupStripX, y, GROUP_STRIP_WIDTH, height / 2);\n    } else {\n      ctx.rect(groupStripX, y, GROUP_STRIP_WIDTH, height);\n    }\n  }\n  ctx.fillStyle = \"#666\";\n  ctx.fill();\n}\nfunction walkTree(root, direction, data, totalViewTicks, rangeMin, rangeMax, wrapperWidth, collapsedMap, renderFunc) {\n  const stack = [];\n  stack.push({ item: root, levelOffset: 0 });\n  const pixelsPerTick = wrapperWidth * window.devicePixelRatio / totalViewTicks / (rangeMax - rangeMin);\n  let collapsedItemRendered = void 0;\n  while (stack.length > 0) {\n    const { item, levelOffset } = stack.shift();\n    let curBarTicks = item.value;\n    const muted = curBarTicks * pixelsPerTick <= MUTE_THRESHOLD;\n    const width = curBarTicks * pixelsPerTick - (muted ? 0 : BAR_BORDER_WIDTH * 2);\n    const height = PIXELS_PER_LEVEL;\n    if (width < HIDE_THRESHOLD) {\n      continue;\n    }\n    let offsetModifier = 0;\n    let skipRender = false;\n    const collapsedItemConfig = collapsedMap.get(item);\n    const isCollapsedItem = collapsedItemConfig && collapsedItemConfig.collapsed;\n    if (isCollapsedItem) {\n      if (collapsedItemRendered === collapsedItemConfig.items[0]) {\n        offsetModifier = direction === \"children\" ? -1 : 1;\n        skipRender = true;\n      } else {\n        collapsedItemRendered = void 0;\n      }\n    } else {\n      collapsedItemRendered = void 0;\n    }\n    if (!skipRender) {\n      const barX = getBarX(item.start, totalViewTicks, rangeMin, pixelsPerTick);\n      const barY = (item.level + levelOffset) * PIXELS_PER_LEVEL;\n      let label = data.getLabel(item.itemIndexes[0]);\n      if (isCollapsedItem) {\n        collapsedItemRendered = item;\n      }\n      renderFunc(item, barX, barY, width, height, label, muted);\n    }\n    const nextList = direction === \"children\" ? item.children : item.parents;\n    if (nextList) {\n      stack.unshift(...nextList.map((c) => ({ item: c, levelOffset: levelOffset + offsetModifier })));\n    }\n  }\n}\nfunction useColorFunction(totalTicks, totalTicksRight, colorScheme, theme, mutedColor, rangeMin, rangeMax, matchedLabels, topLevel) {\n  return useCallback(\n    function getColor(item, label, muted) {\n      if (muted && !matchedLabels) {\n        return mutedColor;\n      }\n      const barColor = item.valueRight !== void 0 && (colorScheme === ColorSchemeDiff.Default || colorScheme === ColorSchemeDiff.DiffColorBlind) ? getBarColorByDiff(item.value, item.valueRight, totalTicks, totalTicksRight, colorScheme) : colorScheme === ColorScheme.ValueBased ? getBarColorByValue(item.value, totalTicks, rangeMin, rangeMax) : getBarColorByPackage(label, theme);\n      if (matchedLabels) {\n        return matchedLabels.has(label) ? barColor.toHslString() : mutedColor;\n      }\n      return item.level > topLevel - 1 ? barColor.toHslString() : barColor.lighten(15).toHslString();\n    },\n    [totalTicks, totalTicksRight, colorScheme, theme, rangeMin, rangeMax, matchedLabels, topLevel, mutedColor]\n  );\n}\nfunction useSetupCanvas(canvasRef, wrapperWidth, numberOfLevels) {\n  const [ctx, setCtx] = useState();\n  useEffect(() => {\n    if (!(numberOfLevels && canvasRef.current)) {\n      return;\n    }\n    const ctx2 = canvasRef.current.getContext(\"2d\");\n    const height = PIXELS_PER_LEVEL * numberOfLevels;\n    canvasRef.current.width = Math.round(wrapperWidth * window.devicePixelRatio);\n    canvasRef.current.height = Math.round(height);\n    canvasRef.current.style.width = `${wrapperWidth}px`;\n    canvasRef.current.style.height = `${height / window.devicePixelRatio}px`;\n    ctx2.textBaseline = \"middle\";\n    ctx2.font = 12 * window.devicePixelRatio + \"px monospace\";\n    ctx2.strokeStyle = \"white\";\n    setCtx(ctx2);\n  }, [canvasRef, setCtx, wrapperWidth, numberOfLevels]);\n  return ctx;\n}\nfunction renderLabel(ctx, data, label, item, width, x, y, textAlign) {\n  ctx.save();\n  ctx.clip();\n  ctx.fillStyle = \"#222\";\n  const displayValue = data.valueDisplayProcessor(item.value);\n  const unit = displayValue.suffix ? displayValue.text + displayValue.suffix : displayValue.text;\n  const measure = ctx.measureText(label);\n  const spaceForTextInRect = width - BAR_TEXT_PADDING_LEFT;\n  let fullLabel = `${label} (${unit})`;\n  let labelX = Math.max(x, 0) + BAR_TEXT_PADDING_LEFT;\n  if (measure.width > spaceForTextInRect) {\n    ctx.textAlign = textAlign;\n    if (textAlign === \"right\") {\n      fullLabel = label;\n      labelX = x + width - BAR_TEXT_PADDING_LEFT;\n    }\n  }\n  ctx.fillText(fullLabel, labelX, y + PIXELS_PER_LEVEL / 2 + 2);\n  ctx.restore();\n}\nfunction getBarX(offset, totalTicks, rangeMin, pixelsPerTick) {\n  return (offset - totalTicks * rangeMin) * pixelsPerTick;\n}\n\nexport { getBarX, useFlameRender, walkTree };\n//# sourceMappingURL=rendering.mjs.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport { css } from '@emotion/css';\nimport { useRef, useState, useCallback, useEffect } from 'react';\nimport { useMeasure } from 'react-use';\nimport { PIXELS_PER_LEVEL } from '../constants.mjs';\nimport FlameGraphContextMenu from './FlameGraphContextMenu.mjs';\nimport FlameGraphTooltip from './FlameGraphTooltip.mjs';\nimport { useFlameRender, getBarX } from './rendering.mjs';\n\n\"use strict\";\nconst FlameGraphCanvas = ({\n  data,\n  rangeMin,\n  rangeMax,\n  matchedLabels,\n  setRangeMin,\n  setRangeMax,\n  onItemFocused,\n  focusedItemData,\n  textAlign,\n  onSandwich,\n  colorScheme,\n  totalProfileTicks,\n  totalProfileTicksRight,\n  totalViewTicks,\n  root,\n  direction,\n  depth,\n  showFlameGraphOnly,\n  collapsedMap,\n  setCollapsedMap,\n  collapsing,\n  getExtraContextMenuButtons,\n  selectedView,\n  search\n}) => {\n  const styles = getStyles();\n  const [sizeRef, { width: wrapperWidth }] = useMeasure();\n  const graphRef = useRef(null);\n  const [tooltipItem, setTooltipItem] = useState();\n  const [clickedItemData, setClickedItemData] = useState();\n  useFlameRender({\n    canvasRef: graphRef,\n    colorScheme,\n    data,\n    focusedItemData,\n    root,\n    direction,\n    depth,\n    rangeMax,\n    rangeMin,\n    matchedLabels,\n    textAlign,\n    totalViewTicks,\n    // We need this so that if we have a diff profile and are in sandwich view we still show the same diff colors.\n    totalColorTicks: data.isDiffFlamegraph() ? totalProfileTicks : totalViewTicks,\n    totalTicksRight: totalProfileTicksRight,\n    wrapperWidth,\n    collapsedMap\n  });\n  const onGraphClick = useCallback(\n    (e) => {\n      setTooltipItem(void 0);\n      const pixelsPerTick = graphRef.current.clientWidth / totalViewTicks / (rangeMax - rangeMin);\n      const item = convertPixelCoordinatesToBarCoordinates(\n        { x: e.nativeEvent.offsetX, y: e.nativeEvent.offsetY },\n        root,\n        direction,\n        depth,\n        pixelsPerTick,\n        totalViewTicks,\n        rangeMin,\n        collapsedMap\n      );\n      if (item) {\n        setClickedItemData({\n          posY: e.clientY,\n          posX: e.clientX,\n          item,\n          label: data.getLabel(item.itemIndexes[0])\n        });\n      } else {\n        setClickedItemData(void 0);\n      }\n    },\n    [data, rangeMin, rangeMax, totalViewTicks, root, direction, depth, collapsedMap]\n  );\n  const [mousePosition, setMousePosition] = useState();\n  const onGraphMouseMove = useCallback(\n    (e) => {\n      if (clickedItemData === void 0) {\n        setTooltipItem(void 0);\n        setMousePosition(void 0);\n        const pixelsPerTick = graphRef.current.clientWidth / totalViewTicks / (rangeMax - rangeMin);\n        const item = convertPixelCoordinatesToBarCoordinates(\n          { x: e.nativeEvent.offsetX, y: e.nativeEvent.offsetY },\n          root,\n          direction,\n          depth,\n          pixelsPerTick,\n          totalViewTicks,\n          rangeMin,\n          collapsedMap\n        );\n        if (item) {\n          setMousePosition({ x: e.clientX, y: e.clientY });\n          setTooltipItem(item);\n        }\n      }\n    },\n    [rangeMin, rangeMax, totalViewTicks, clickedItemData, setMousePosition, root, direction, depth, collapsedMap]\n  );\n  const onGraphMouseLeave = useCallback(() => {\n    setTooltipItem(void 0);\n  }, []);\n  useEffect(() => {\n    const handleOnClick = (e) => {\n      var _a;\n      if (e.target instanceof HTMLElement && ((_a = e.target.parentElement) == null ? void 0 : _a.id) !== \"flameGraphCanvasContainer_clickOutsideCheck\") {\n        setClickedItemData(void 0);\n      }\n    };\n    window.addEventListener(\"click\", handleOnClick);\n    return () => window.removeEventListener(\"click\", handleOnClick);\n  }, [setClickedItemData]);\n  return /* @__PURE__ */ jsxs(\"div\", { className: styles.graph, children: [\n    /* @__PURE__ */ jsx(\"div\", { className: styles.canvasWrapper, id: \"flameGraphCanvasContainer_clickOutsideCheck\", ref: sizeRef, children: /* @__PURE__ */ jsx(\n      \"canvas\",\n      {\n        ref: graphRef,\n        \"data-testid\": \"flameGraph\",\n        onClick: onGraphClick,\n        onMouseMove: onGraphMouseMove,\n        onMouseLeave: onGraphMouseLeave\n      }\n    ) }),\n    /* @__PURE__ */ jsx(\n      FlameGraphTooltip,\n      {\n        position: mousePosition,\n        item: tooltipItem,\n        data,\n        totalTicks: totalViewTicks,\n        collapseConfig: tooltipItem ? collapsedMap.get(tooltipItem) : void 0\n      }\n    ),\n    !showFlameGraphOnly && clickedItemData && /* @__PURE__ */ jsx(\n      FlameGraphContextMenu,\n      {\n        data,\n        itemData: clickedItemData,\n        collapsing,\n        collapseConfig: collapsedMap.get(clickedItemData.item),\n        onMenuItemClick: () => {\n          setClickedItemData(void 0);\n        },\n        onItemFocus: () => {\n          setRangeMin(clickedItemData.item.start / totalViewTicks);\n          setRangeMax((clickedItemData.item.start + clickedItemData.item.value) / totalViewTicks);\n          onItemFocused(clickedItemData);\n        },\n        onSandwich: () => {\n          onSandwich(data.getLabel(clickedItemData.item.itemIndexes[0]));\n        },\n        onExpandGroup: () => {\n          setCollapsedMap(collapsedMap.setCollapsedStatus(clickedItemData.item, false));\n        },\n        onCollapseGroup: () => {\n          setCollapsedMap(collapsedMap.setCollapsedStatus(clickedItemData.item, true));\n        },\n        onExpandAllGroups: () => {\n          setCollapsedMap(collapsedMap.setAllCollapsedStatus(false));\n        },\n        onCollapseAllGroups: () => {\n          setCollapsedMap(collapsedMap.setAllCollapsedStatus(true));\n        },\n        allGroupsCollapsed: Array.from(collapsedMap.values()).every((i) => i.collapsed),\n        allGroupsExpanded: Array.from(collapsedMap.values()).every((i) => !i.collapsed),\n        getExtraContextMenuButtons,\n        selectedView,\n        search\n      }\n    )\n  ] });\n};\nconst getStyles = () => ({\n  graph: css({\n    label: \"graph\",\n    overflow: \"auto\",\n    flexGrow: 1,\n    flexBasis: \"50%\"\n  }),\n  canvasContainer: css({\n    label: \"canvasContainer\",\n    display: \"flex\"\n  }),\n  canvasWrapper: css({\n    label: \"canvasWrapper\",\n    cursor: \"pointer\",\n    flex: 1,\n    overflow: \"hidden\"\n  }),\n  sandwichMarker: css({\n    label: \"sandwichMarker\",\n    writingMode: \"vertical-lr\",\n    transform: \"rotate(180deg)\",\n    overflow: \"hidden\",\n    whiteSpace: \"nowrap\"\n  }),\n  sandwichMarkerIcon: css({\n    label: \"sandwichMarkerIcon\",\n    verticalAlign: \"baseline\"\n  })\n});\nconst convertPixelCoordinatesToBarCoordinates = (pos, root, direction, depth, pixelsPerTick, totalTicks, rangeMin, collapsedMap) => {\n  let next = root;\n  let currentLevel = direction === \"children\" ? 0 : depth - 1;\n  const levelIndex = Math.floor(pos.y / (PIXELS_PER_LEVEL / window.devicePixelRatio));\n  let found = void 0;\n  while (next) {\n    const node = next;\n    next = void 0;\n    if (currentLevel === levelIndex) {\n      found = node;\n      break;\n    }\n    const nextList = direction === \"children\" ? node.children : node.parents || [];\n    for (const child of nextList) {\n      const xStart = getBarX(child.start, totalTicks, rangeMin, pixelsPerTick);\n      const xEnd = getBarX(child.start + child.value, totalTicks, rangeMin, pixelsPerTick);\n      if (xStart <= pos.x && pos.x < xEnd) {\n        next = child;\n        const collapsedConfig = collapsedMap.get(child);\n        if (!collapsedConfig || !collapsedConfig.collapsed || collapsedConfig.items[0] === child) {\n          currentLevel = currentLevel + (direction === \"children\" ? 1 : -1);\n        }\n        break;\n      }\n    }\n  }\n  return found;\n};\n\nexport { convertPixelCoordinatesToBarCoordinates, FlameGraphCanvas as default };\n//# sourceMappingURL=FlameGraphCanvas.mjs.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport { css } from '@emotion/css';\nimport { memo } from 'react';\nimport { getValueFormat } from '@grafana/data';\nimport { useStyles2, Tooltip, Icon, IconButton } from '@grafana/ui';\n\n\"use strict\";\nconst FlameGraphMetadata = memo(\n  ({ data, focusedItem, totalTicks, sandwichedLabel, onFocusPillClick, onSandwichPillClick }) => {\n    const styles = useStyles2(getStyles);\n    const parts = [];\n    const ticksVal = getValueFormat(\"short\")(totalTicks);\n    const displayValue = data.valueDisplayProcessor(totalTicks);\n    let unitValue = displayValue.text + displayValue.suffix;\n    const unitTitle = data.getUnitTitle();\n    if (unitTitle === \"Count\") {\n      if (!displayValue.suffix) {\n        unitValue = displayValue.text;\n      }\n    }\n    parts.push(\n      /* @__PURE__ */ jsxs(\"div\", { className: styles.metadataPill, children: [\n        unitValue,\n        \" | \",\n        ticksVal.text,\n        ticksVal.suffix,\n        \" samples (\",\n        unitTitle,\n        \")\"\n      ] }, \"default\")\n    );\n    if (sandwichedLabel) {\n      parts.push(\n        /* @__PURE__ */ jsx(Tooltip, { content: sandwichedLabel, placement: \"top\", children: /* @__PURE__ */ jsxs(\"div\", { children: [\n          /* @__PURE__ */ jsx(Icon, { size: \"sm\", name: \"angle-right\" }),\n          /* @__PURE__ */ jsxs(\"div\", { className: styles.metadataPill, children: [\n            /* @__PURE__ */ jsx(Icon, { size: \"sm\", name: \"gf-show-context\" }),\n            \" \",\n            /* @__PURE__ */ jsx(\"span\", { className: styles.metadataPillName, children: sandwichedLabel.substring(sandwichedLabel.lastIndexOf(\"/\") + 1) }),\n            /* @__PURE__ */ jsx(\n              IconButton,\n              {\n                className: styles.pillCloseButton,\n                name: \"times\",\n                size: \"sm\",\n                onClick: onSandwichPillClick,\n                tooltip: \"Remove sandwich view\",\n                \"aria-label\": \"Remove sandwich view\"\n              }\n            )\n          ] })\n        ] }) }, \"sandwich\")\n      );\n    }\n    if (focusedItem) {\n      const percentValue = totalTicks > 0 ? Math.round(1e4 * (focusedItem.item.value / totalTicks)) / 100 : 0;\n      const iconName = percentValue > 0 ? \"eye\" : \"exclamation-circle\";\n      parts.push(\n        /* @__PURE__ */ jsx(Tooltip, { content: focusedItem.label, placement: \"top\", children: /* @__PURE__ */ jsxs(\"div\", { children: [\n          /* @__PURE__ */ jsx(Icon, { size: \"sm\", name: \"angle-right\" }),\n          /* @__PURE__ */ jsxs(\"div\", { className: styles.metadataPill, children: [\n            /* @__PURE__ */ jsx(Icon, { size: \"sm\", name: iconName }),\n            \"\\xA0\",\n            percentValue,\n            \"% of total\",\n            /* @__PURE__ */ jsx(\n              IconButton,\n              {\n                className: styles.pillCloseButton,\n                name: \"times\",\n                size: \"sm\",\n                onClick: onFocusPillClick,\n                tooltip: \"Remove focus\",\n                \"aria-label\": \"Remove focus\"\n              }\n            )\n          ] })\n        ] }) }, \"focus\")\n      );\n    }\n    return /* @__PURE__ */ jsx(\"div\", { className: styles.metadata, children: parts });\n  }\n);\nFlameGraphMetadata.displayName = \"FlameGraphMetadata\";\nconst getStyles = (theme) => ({\n  metadataPill: css({\n    label: \"metadataPill\",\n    display: \"inline-flex\",\n    alignItems: \"center\",\n    background: theme.colors.background.secondary,\n    borderRadius: theme.shape.borderRadius(8),\n    padding: theme.spacing(0.5, 1),\n    fontSize: theme.typography.bodySmall.fontSize,\n    fontWeight: theme.typography.fontWeightMedium,\n    lineHeight: theme.typography.bodySmall.lineHeight,\n    color: theme.colors.text.secondary\n  }),\n  pillCloseButton: css({\n    label: \"pillCloseButton\",\n    verticalAlign: \"text-bottom\",\n    margin: theme.spacing(0, 0.5)\n  }),\n  metadata: css({\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    margin: \"8px 0\"\n  }),\n  metadataPillName: css({\n    label: \"metadataPillName\",\n    maxWidth: \"200px\",\n    overflow: \"hidden\",\n    textOverflow: \"ellipsis\",\n    whiteSpace: \"nowrap\",\n    marginLeft: theme.spacing(0.5)\n  })\n});\n\nexport { FlameGraphMetadata as default };\n//# sourceMappingURL=FlameGraphMetadata.mjs.map\n","import { jsxs, Fragment, jsx } from 'react/jsx-runtime';\nimport { css, cx } from '@emotion/css';\nimport { useState, useEffect } from 'react';\nimport { Icon } from '@grafana/ui';\nimport { PIXELS_PER_LEVEL } from '../constants.mjs';\nimport FlameGraphCanvas from './FlameGraphCanvas.mjs';\nimport FlameGraphMetadata from './FlameGraphMetadata.mjs';\n\n\"use strict\";\nconst FlameGraph = ({\n  data,\n  rangeMin,\n  rangeMax,\n  matchedLabels,\n  setRangeMin,\n  setRangeMax,\n  onItemFocused,\n  focusedItemData,\n  textAlign,\n  onSandwich,\n  sandwichItem,\n  onFocusPillClick,\n  onSandwichPillClick,\n  colorScheme,\n  showFlameGraphOnly,\n  getExtraContextMenuButtons,\n  collapsing,\n  selectedView,\n  search,\n  collapsedMap,\n  setCollapsedMap\n}) => {\n  const styles = getStyles();\n  const [levels, setLevels] = useState();\n  const [levelsCallers, setLevelsCallers] = useState();\n  const [totalProfileTicks, setTotalProfileTicks] = useState(0);\n  const [totalProfileTicksRight, setTotalProfileTicksRight] = useState();\n  const [totalViewTicks, setTotalViewTicks] = useState(0);\n  useEffect(() => {\n    var _a, _b, _c;\n    if (data) {\n      let levels2 = data.getLevels();\n      let totalProfileTicks2 = levels2.length ? levels2[0][0].value : 0;\n      let totalProfileTicksRight2 = levels2.length ? levels2[0][0].valueRight : void 0;\n      let totalViewTicks2 = totalProfileTicks2;\n      let levelsCallers2 = void 0;\n      if (sandwichItem) {\n        const [callers, callees] = data.getSandwichLevels(sandwichItem);\n        levels2 = callees;\n        levelsCallers2 = callers;\n        totalViewTicks2 = (_c = (_b = (_a = callees[0]) == null ? void 0 : _a[0]) == null ? void 0 : _b.value) != null ? _c : 0;\n      }\n      setLevels(levels2);\n      setLevelsCallers(levelsCallers2);\n      setTotalProfileTicks(totalProfileTicks2);\n      setTotalProfileTicksRight(totalProfileTicksRight2);\n      setTotalViewTicks(totalViewTicks2);\n    }\n  }, [data, sandwichItem]);\n  if (!levels) {\n    return null;\n  }\n  const commonCanvasProps = {\n    data,\n    rangeMin,\n    rangeMax,\n    matchedLabels,\n    setRangeMin,\n    setRangeMax,\n    onItemFocused,\n    focusedItemData,\n    textAlign,\n    onSandwich,\n    colorScheme,\n    totalProfileTicks,\n    totalProfileTicksRight,\n    totalViewTicks,\n    showFlameGraphOnly,\n    collapsedMap,\n    setCollapsedMap,\n    getExtraContextMenuButtons,\n    collapsing,\n    search,\n    selectedView\n  };\n  let canvas = null;\n  if (levelsCallers == null ? void 0 : levelsCallers.length) {\n    canvas = /* @__PURE__ */ jsxs(Fragment, { children: [\n      /* @__PURE__ */ jsxs(\"div\", { className: styles.sandwichCanvasWrapper, children: [\n        /* @__PURE__ */ jsxs(\"div\", { className: styles.sandwichMarker, children: [\n          \"Callers\",\n          /* @__PURE__ */ jsx(Icon, { className: styles.sandwichMarkerIcon, name: \"arrow-down\" })\n        ] }),\n        /* @__PURE__ */ jsx(\n          FlameGraphCanvas,\n          {\n            ...commonCanvasProps,\n            root: levelsCallers[levelsCallers.length - 1][0],\n            depth: levelsCallers.length,\n            direction: \"parents\",\n            collapsing: false\n          }\n        )\n      ] }),\n      /* @__PURE__ */ jsxs(\"div\", { className: styles.sandwichCanvasWrapper, children: [\n        /* @__PURE__ */ jsxs(\"div\", { className: cx(styles.sandwichMarker, styles.sandwichMarkerCalees), children: [\n          /* @__PURE__ */ jsx(Icon, { className: styles.sandwichMarkerIcon, name: \"arrow-up\" }),\n          \"Callees\"\n        ] }),\n        /* @__PURE__ */ jsx(\n          FlameGraphCanvas,\n          {\n            ...commonCanvasProps,\n            root: levels[0][0],\n            depth: levels.length,\n            direction: \"children\",\n            collapsing: false\n          }\n        )\n      ] })\n    ] });\n  } else if (levels == null ? void 0 : levels.length) {\n    canvas = /* @__PURE__ */ jsx(FlameGraphCanvas, { ...commonCanvasProps, root: levels[0][0], depth: levels.length, direction: \"children\" });\n  }\n  return /* @__PURE__ */ jsxs(\"div\", { className: styles.graph, children: [\n    /* @__PURE__ */ jsx(\n      FlameGraphMetadata,\n      {\n        data,\n        focusedItem: focusedItemData,\n        sandwichedLabel: sandwichItem,\n        totalTicks: totalViewTicks,\n        onFocusPillClick,\n        onSandwichPillClick\n      }\n    ),\n    canvas\n  ] });\n};\nconst getStyles = () => ({\n  graph: css({\n    label: \"graph\",\n    overflow: \"auto\",\n    flexGrow: 1,\n    flexBasis: \"50%\"\n  }),\n  sandwichCanvasWrapper: css({\n    label: \"sandwichCanvasWrapper\",\n    display: \"flex\",\n    marginBottom: `${PIXELS_PER_LEVEL / window.devicePixelRatio}px`\n  }),\n  sandwichMarker: css({\n    label: \"sandwichMarker\",\n    writingMode: \"vertical-lr\",\n    transform: \"rotate(180deg)\",\n    overflow: \"hidden\",\n    whiteSpace: \"nowrap\"\n  }),\n  sandwichMarkerCalees: css({\n    label: \"sandwichMarkerCalees\",\n    textAlign: \"right\"\n  }),\n  sandwichMarkerIcon: css({\n    label: \"sandwichMarkerIcon\",\n    verticalAlign: \"baseline\"\n  })\n});\n\nexport { FlameGraph as default };\n//# sourceMappingURL=FlameGraph.mjs.map\n","import { groupBy } from 'lodash';\n\n\"use strict\";\nfunction mergeParentSubtrees(roots, data) {\n  const newRoots = getParentSubtrees(roots);\n  return mergeSubtrees(newRoots, data, \"parents\");\n}\nfunction getParentSubtrees(roots) {\n  return roots.map((r) => {\n    var _a, _b;\n    if (!((_a = r.parents) == null ? void 0 : _a.length)) {\n      return r;\n    }\n    const newRoot = {\n      ...r,\n      children: []\n    };\n    const stack = [\n      { child: newRoot, parent: r.parents[0] }\n    ];\n    while (stack.length) {\n      const args = stack.shift();\n      const newNode = {\n        ...args.parent,\n        children: args.child ? [args.child] : [],\n        parents: []\n      };\n      if (args.child) {\n        newNode.value = args.child.value;\n        args.child.parents = [newNode];\n      }\n      if ((_b = args.parent.parents) == null ? void 0 : _b.length) {\n        stack.push({ child: newNode, parent: args.parent.parents[0] });\n      }\n    }\n    return newRoot;\n  });\n}\nfunction mergeSubtrees(roots, data, direction = \"children\") {\n  var _a;\n  const oppositeDirection = direction === \"parents\" ? \"children\" : \"parents\";\n  const levels = [];\n  const stack = [\n    { previous: void 0, items: roots, level: 0 }\n  ];\n  while (stack.length) {\n    const args = stack.shift();\n    const indexes = args.items.flatMap((i) => i.itemIndexes);\n    const newItem = {\n      // We use the items value instead of value from the data frame, cause we could have changed it in the process\n      value: args.items.reduce((acc, i) => acc + i.value, 0),\n      itemIndexes: indexes,\n      // these will change later\n      children: [],\n      parents: [],\n      start: 0,\n      level: args.level\n    };\n    levels[args.level] = levels[args.level] || [];\n    levels[args.level].push(newItem);\n    if (args.previous) {\n      newItem[oppositeDirection] = [args.previous];\n      const prevSiblingsVal = ((_a = args.previous[direction]) == null ? void 0 : _a.reduce((acc, node) => {\n        return acc + node.value;\n      }, 0)) || 0;\n      newItem.start = args.previous.start + prevSiblingsVal;\n      args.previous[direction].push(newItem);\n    }\n    const nextItems = args.items.flatMap((i) => i[direction] || []);\n    const nextGroups = groupBy(nextItems, (c) => data.getLabel(c.itemIndexes[0]));\n    for (const g of Object.values(nextGroups)) {\n      stack.push({ previous: newItem, items: g, level: args.level + 1 });\n    }\n  }\n  if (direction === \"parents\") {\n    levels.reverse();\n    levels.forEach((level, index) => {\n      level.forEach((item) => {\n        item.level = index;\n      });\n    });\n  }\n  return levels;\n}\n\nexport { mergeParentSubtrees, mergeSubtrees };\n//# sourceMappingURL=treeTransforms.mjs.map\n","import { FieldType, createTheme, getDisplayProcessor } from '@grafana/data';\nimport { SampleUnit } from '../types.mjs';\nimport { mergeParentSubtrees, mergeSubtrees } from './treeTransforms.mjs';\n\n\"use strict\";\nfunction nestedSetToLevels(container, options) {\n  const levels = [];\n  let offset = 0;\n  let parent = void 0;\n  const uniqueLabels = /* @__PURE__ */ Object.create(null);\n  for (let i = 0; i < container.data.length; i++) {\n    const currentLevel = container.getLevel(i);\n    const prevLevel = i > 0 ? container.getLevel(i - 1) : void 0;\n    levels[currentLevel] = levels[currentLevel] || [];\n    if (prevLevel && prevLevel >= currentLevel) {\n      const lastSibling = levels[currentLevel][levels[currentLevel].length - 1];\n      offset = lastSibling.start + container.getValue(lastSibling.itemIndexes[0]) + container.getValueRight(lastSibling.itemIndexes[0]);\n      parent = lastSibling.parents[0];\n    }\n    const newItem = {\n      itemIndexes: [i],\n      value: container.getValue(i) + container.getValueRight(i),\n      valueRight: container.isDiffFlamegraph() ? container.getValueRight(i) : void 0,\n      start: offset,\n      parents: parent && [parent],\n      children: [],\n      level: currentLevel\n    };\n    if (uniqueLabels[container.getLabel(i)]) {\n      uniqueLabels[container.getLabel(i)].push(newItem);\n    } else {\n      uniqueLabels[container.getLabel(i)] = [newItem];\n    }\n    if (parent) {\n      parent.children.push(newItem);\n    }\n    parent = newItem;\n    levels[currentLevel].push(newItem);\n  }\n  const collapsedMapContainer = new CollapsedMapBuilder(options == null ? void 0 : options.collapsingThreshold);\n  if (options == null ? void 0 : options.collapsing) {\n    collapsedMapContainer.addTree(levels[0][0]);\n  }\n  return [levels, uniqueLabels, collapsedMapContainer.getCollapsedMap()];\n}\nclass CollapsedMap {\n  constructor(map) {\n    // The levelItem used as a key is the item that will always be rendered in the flame graph. The config.items are all\n    // the items that are in the group and if the config.collapsed is true they will be hidden.\n    this.map = /* @__PURE__ */ new Map();\n    this.map = map || /* @__PURE__ */ new Map();\n  }\n  get(item) {\n    return this.map.get(item);\n  }\n  keys() {\n    return this.map.keys();\n  }\n  values() {\n    return this.map.values();\n  }\n  size() {\n    return this.map.size;\n  }\n  setCollapsedStatus(item, collapsed) {\n    const newMap = new Map(this.map);\n    const collapsedConfig = this.map.get(item);\n    const newConfig = { ...collapsedConfig, collapsed };\n    for (const item2 of collapsedConfig.items) {\n      newMap.set(item2, newConfig);\n    }\n    return new CollapsedMap(newMap);\n  }\n  setAllCollapsedStatus(collapsed) {\n    const newMap = new Map(this.map);\n    for (const item of this.map.keys()) {\n      const collapsedConfig = this.map.get(item);\n      const newConfig = { ...collapsedConfig, collapsed };\n      newMap.set(item, newConfig);\n    }\n    return new CollapsedMap(newMap);\n  }\n}\nclass CollapsedMapBuilder {\n  constructor(threshold) {\n    this.map = /* @__PURE__ */ new Map();\n    this.threshold = 0.99;\n    if (threshold !== void 0) {\n      this.threshold = threshold;\n    }\n  }\n  addTree(root) {\n    var _a;\n    const stack = [root];\n    while (stack.length) {\n      const current = stack.shift();\n      if ((_a = current.parents) == null ? void 0 : _a.length) {\n        this.addItem(current, current.parents[0]);\n      }\n      if (current.children.length) {\n        stack.unshift(...current.children);\n      }\n    }\n  }\n  // The heuristics here is pretty simple right now. Just check if it's single child and if we are within threshold.\n  // We assume items with small self just aren't too important while we cannot really collapse items with siblings\n  // as it's not clear what to do with said sibling.\n  addItem(item, parent) {\n    if (parent && item.value > parent.value * this.threshold && parent.children.length === 1) {\n      if (this.map.has(parent)) {\n        const config = this.map.get(parent);\n        this.map.set(item, config);\n        config.items.push(item);\n      } else {\n        const config = { items: [parent, item], collapsed: true };\n        this.map.set(parent, config);\n        this.map.set(item, config);\n      }\n    }\n  }\n  getCollapsedMap() {\n    return new CollapsedMap(this.map);\n  }\n}\nfunction getMessageCheckFieldsResult(wrongFields) {\n  if (wrongFields.missingFields.length) {\n    return `Data is missing fields: ${wrongFields.missingFields.join(\", \")}`;\n  }\n  if (wrongFields.wrongTypeFields.length) {\n    return `Data has fields of wrong type: ${wrongFields.wrongTypeFields.map((f) => `${f.name} has type ${f.type} but should be ${f.expectedTypes.join(\" or \")}`).join(\", \")}`;\n  }\n  return \"\";\n}\nfunction checkFields(data) {\n  const fields = [\n    [\"label\", [FieldType.string, FieldType.enum]],\n    [\"level\", [FieldType.number]],\n    [\"value\", [FieldType.number]],\n    [\"self\", [FieldType.number]]\n  ];\n  const missingFields = [];\n  const wrongTypeFields = [];\n  for (const field of fields) {\n    const [name, types] = field;\n    const frameField = data == null ? void 0 : data.fields.find((f) => f.name === name);\n    if (!frameField) {\n      missingFields.push(name);\n      continue;\n    }\n    if (!types.includes(frameField.type)) {\n      wrongTypeFields.push({ name, expectedTypes: types, type: frameField.type });\n    }\n  }\n  if (missingFields.length > 0 || wrongTypeFields.length > 0) {\n    return {\n      wrongTypeFields,\n      missingFields\n    };\n  }\n  return void 0;\n}\nclass FlameGraphDataContainer {\n  constructor(data, options, theme = createTheme()) {\n    var _a, _b, _c;\n    this.data = data;\n    this.options = options;\n    const wrongFields = checkFields(data);\n    if (wrongFields) {\n      throw new Error(getMessageCheckFieldsResult(wrongFields));\n    }\n    this.labelField = data.fields.find((f) => f.name === \"label\");\n    this.levelField = data.fields.find((f) => f.name === \"level\");\n    this.valueField = data.fields.find((f) => f.name === \"value\");\n    this.selfField = data.fields.find((f) => f.name === \"self\");\n    this.valueRightField = data.fields.find((f) => f.name === \"valueRight\");\n    this.selfRightField = data.fields.find((f) => f.name === \"selfRight\");\n    if ((this.valueField || this.selfField) && !(this.valueField && this.selfField)) {\n      throw new Error(\n        \"Malformed dataFrame: both valueRight and selfRight has to be present if one of them is present.\"\n      );\n    }\n    const enumConfig = (_c = (_b = (_a = this.labelField) == null ? void 0 : _a.config) == null ? void 0 : _b.type) == null ? void 0 : _c.enum;\n    if (enumConfig) {\n      this.labelDisplayProcessor = getDisplayProcessor({ field: this.labelField, theme });\n      this.uniqueLabels = enumConfig.text || [];\n    } else {\n      this.labelDisplayProcessor = (value) => ({\n        text: value + \"\",\n        numeric: 0\n      });\n      this.uniqueLabels = [...new Set(this.labelField.values)];\n    }\n    this.valueDisplayProcessor = getDisplayProcessor({\n      field: this.valueField,\n      theme\n    });\n  }\n  isDiffFlamegraph() {\n    return Boolean(this.valueRightField && this.selfRightField);\n  }\n  getLabel(index) {\n    return this.labelDisplayProcessor(this.labelField.values[index]).text;\n  }\n  getLevel(index) {\n    return this.levelField.values[index];\n  }\n  getValue(index) {\n    return fieldAccessor(this.valueField, index);\n  }\n  getValueRight(index) {\n    return fieldAccessor(this.valueRightField, index);\n  }\n  getSelf(index) {\n    return fieldAccessor(this.selfField, index);\n  }\n  getSelfRight(index) {\n    return fieldAccessor(this.selfRightField, index);\n  }\n  getSelfDisplay(index) {\n    return this.valueDisplayProcessor(this.getSelf(index));\n  }\n  getUniqueLabels() {\n    return this.uniqueLabels;\n  }\n  getUnitTitle() {\n    switch (this.valueField.config.unit) {\n      case SampleUnit.Bytes:\n        return \"RAM\";\n      case SampleUnit.Nanoseconds:\n        return \"Time\";\n    }\n    return \"Count\";\n  }\n  getLevels() {\n    this.initLevels();\n    return this.levels;\n  }\n  getSandwichLevels(label) {\n    const nodes = this.getNodesWithLabel(label);\n    if (!(nodes == null ? void 0 : nodes.length)) {\n      return [[], []];\n    }\n    const callers = mergeParentSubtrees(nodes, this);\n    const callees = mergeSubtrees(nodes, this);\n    return [callers, callees];\n  }\n  getNodesWithLabel(label) {\n    this.initLevels();\n    return this.uniqueLabelsMap[label];\n  }\n  getCollapsedMap() {\n    this.initLevels();\n    return this.collapsedMap;\n  }\n  initLevels() {\n    if (!this.levels) {\n      const [levels, uniqueLabelsMap, collapsedMap] = nestedSetToLevels(this, this.options);\n      this.levels = levels;\n      this.uniqueLabelsMap = uniqueLabelsMap;\n      this.collapsedMap = collapsedMap;\n    }\n  }\n}\nfunction fieldAccessor(field, index) {\n  if (!field) {\n    return 0;\n  }\n  let indexArray = typeof index === \"number\" ? [index] : index;\n  return indexArray.reduce((acc, index2) => {\n    return acc + field.values[index2];\n  }, 0);\n}\n\nexport { CollapsedMap, CollapsedMapBuilder, FlameGraphDataContainer, checkFields, getMessageCheckFieldsResult, nestedSetToLevels };\n//# sourceMappingURL=dataTransform.mjs.map\n","import { useEffect } from 'react';\nimport useTimeoutFn from './useTimeoutFn';\nexport default function useDebounce(fn, ms, deps) {\n    if (ms === void 0) { ms = 0; }\n    if (deps === void 0) { deps = []; }\n    var _a = useTimeoutFn(fn, ms), isReady = _a[0], cancel = _a[1], reset = _a[2];\n    useEffect(reset, deps);\n    return [isReady, cancel];\n}\n","import { useCallback, useEffect, useRef } from 'react';\nexport default function useTimeoutFn(fn, ms) {\n    if (ms === void 0) { ms = 0; }\n    var ready = useRef(false);\n    var timeout = useRef();\n    var callback = useRef(fn);\n    var isReady = useCallback(function () { return ready.current; }, []);\n    var set = useCallback(function () {\n        ready.current = false;\n        timeout.current && clearTimeout(timeout.current);\n        timeout.current = setTimeout(function () {\n            ready.current = true;\n            callback.current();\n        }, ms);\n    }, [ms]);\n    var clear = useCallback(function () {\n        ready.current = null;\n        timeout.current && clearTimeout(timeout.current);\n    }, []);\n    // update ref when function changes\n    useEffect(function () {\n        callback.current = fn;\n    }, [fn]);\n    // set on mount, clear on unmount\n    useEffect(function () {\n        set();\n        return clear;\n    }, [ms]);\n    return [isReady, clear, set];\n}\n","import { jsx } from 'react/jsx-runtime';\nimport { useAssistant } from '@grafana/assistant';\nimport { Button } from '@grafana/ui';\n\n\"use strict\";\nfunction AnalyzeFlameGraphButton(props) {\n  const { assistantContext, className } = props;\n  const [isAvailable, openAssistant] = useAssistant();\n  if (!isAvailable || !openAssistant || assistantContext.length === 0) {\n    return null;\n  }\n  return /* @__PURE__ */ jsx(\n    Button,\n    {\n      className,\n      onClick: () => openAssistant({\n        origin: \"analyze-flame-graph\",\n        prompt: \"Analyze Flame Graph\",\n        context: assistantContext\n      }),\n      variant: \"secondary\",\n      fill: \"outline\",\n      icon: \"ai-sparkle\",\n      size: \"sm\",\n      children: \"Analyze Flame Graph\"\n    }\n  );\n}\n\nexport { AnalyzeFlameGraphButton };\n//# sourceMappingURL=AnalyzeFlameGraphButton.mjs.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { css, cx } from '@emotion/css';\nimport { useState, useEffect } from 'react';\nimport { usePrevious, useDebounce } from 'react-use';\nimport { useStyles2, Button, Input, ButtonGroup, RadioButtonGroup, Menu, Dropdown } from '@grafana/ui';\nimport { AnalyzeFlameGraphButton } from './AnalyzeFlameGraphButton.mjs';\nimport { diffColorBlindGradient, diffDefaultGradient, byPackageGradient, byValueGradient } from './FlameGraph/colors.mjs';\nimport { MIN_WIDTH_TO_SHOW_BOTH_TOPTABLE_AND_FLAMEGRAPH } from './constants.mjs';\nimport { SelectedView, ColorScheme, ColorSchemeDiff } from './types.mjs';\n\n\"use strict\";\nconst FlameGraphHeader = ({\n  search,\n  setSearch,\n  selectedView,\n  setSelectedView,\n  containerWidth,\n  onReset,\n  textAlign,\n  onTextAlignChange,\n  showResetButton,\n  colorScheme,\n  onColorSchemeChange,\n  stickyHeader,\n  extraHeaderElements,\n  vertical,\n  isDiffMode,\n  setCollapsedMap,\n  collapsedMap,\n  assistantContext\n}) => {\n  const styles = useStyles2(getStyles);\n  const [localSearch, setLocalSearch] = useSearchInput(search, setSearch);\n  const suffix = localSearch !== \"\" ? /* @__PURE__ */ jsx(\n    Button,\n    {\n      icon: \"times\",\n      fill: \"text\",\n      size: \"sm\",\n      onClick: () => {\n        setSearch(\"\");\n        setLocalSearch(\"\");\n      },\n      children: \"Clear\"\n    }\n  ) : null;\n  return /* @__PURE__ */ jsxs(\"div\", { className: cx(styles.header, { [styles.stickyHeader]: stickyHeader }), children: [\n    /* @__PURE__ */ jsx(\"div\", { className: styles.inputContainer, children: /* @__PURE__ */ jsx(\n      Input,\n      {\n        value: localSearch || \"\",\n        onChange: (v) => {\n          setLocalSearch(v.currentTarget.value);\n        },\n        placeholder: \"Search...\",\n        suffix\n      }\n    ) }),\n    /* @__PURE__ */ jsxs(\"div\", { className: styles.rightContainer, children: [\n      assistantContext && /* @__PURE__ */ jsx(AnalyzeFlameGraphButton, { className: styles.buttonSpacing, assistantContext }),\n      showResetButton && /* @__PURE__ */ jsx(\n        Button,\n        {\n          variant: \"secondary\",\n          fill: \"outline\",\n          size: \"sm\",\n          icon: \"history-alt\",\n          tooltip: \"Reset focus and sandwich state\",\n          onClick: () => {\n            onReset();\n          },\n          className: styles.buttonSpacing,\n          \"aria-label\": \"Reset focus and sandwich state\"\n        }\n      ),\n      /* @__PURE__ */ jsx(ColorSchemeButton, { value: colorScheme, onChange: onColorSchemeChange, isDiffMode }),\n      /* @__PURE__ */ jsxs(ButtonGroup, { className: styles.buttonSpacing, children: [\n        /* @__PURE__ */ jsx(\n          Button,\n          {\n            variant: \"secondary\",\n            fill: \"outline\",\n            size: \"sm\",\n            tooltip: \"Expand all groups\",\n            onClick: () => {\n              setCollapsedMap(collapsedMap.setAllCollapsedStatus(false));\n            },\n            \"aria-label\": \"Expand all groups\",\n            icon: \"angle-double-down\",\n            disabled: selectedView === SelectedView.TopTable\n          }\n        ),\n        /* @__PURE__ */ jsx(\n          Button,\n          {\n            variant: \"secondary\",\n            fill: \"outline\",\n            size: \"sm\",\n            tooltip: \"Collapse all groups\",\n            onClick: () => {\n              setCollapsedMap(collapsedMap.setAllCollapsedStatus(true));\n            },\n            \"aria-label\": \"Collapse all groups\",\n            icon: \"angle-double-up\",\n            disabled: selectedView === SelectedView.TopTable\n          }\n        )\n      ] }),\n      /* @__PURE__ */ jsx(\n        RadioButtonGroup,\n        {\n          size: \"sm\",\n          disabled: selectedView === SelectedView.TopTable,\n          options: alignOptions,\n          value: textAlign,\n          onChange: onTextAlignChange,\n          className: styles.buttonSpacing\n        }\n      ),\n      /* @__PURE__ */ jsx(\n        RadioButtonGroup,\n        {\n          size: \"sm\",\n          options: getViewOptions(containerWidth, vertical),\n          value: selectedView,\n          onChange: setSelectedView\n        }\n      ),\n      extraHeaderElements && /* @__PURE__ */ jsx(\"div\", { className: styles.extraElements, children: extraHeaderElements })\n    ] })\n  ] });\n};\nfunction ColorSchemeButton(props) {\n  const styles = useStyles2(getStyles);\n  let menu = /* @__PURE__ */ jsxs(Menu, { children: [\n    /* @__PURE__ */ jsx(Menu.Item, { label: \"By package name\", onClick: () => props.onChange(ColorScheme.PackageBased) }),\n    /* @__PURE__ */ jsx(Menu.Item, { label: \"By value\", onClick: () => props.onChange(ColorScheme.ValueBased) })\n  ] });\n  const colorDotStyle = {\n    [ColorScheme.ValueBased]: styles.colorDotByValue,\n    [ColorScheme.PackageBased]: styles.colorDotByPackage,\n    [ColorSchemeDiff.DiffColorBlind]: styles.colorDotDiffColorBlind,\n    [ColorSchemeDiff.Default]: styles.colorDotDiffDefault\n  }[props.value] || styles.colorDotByValue;\n  let contents = /* @__PURE__ */ jsx(\"span\", { className: cx(styles.colorDot, colorDotStyle) });\n  if (props.isDiffMode) {\n    menu = /* @__PURE__ */ jsxs(Menu, { children: [\n      /* @__PURE__ */ jsx(Menu.Item, { label: \"Default (green to red)\", onClick: () => props.onChange(ColorSchemeDiff.Default) }),\n      /* @__PURE__ */ jsx(Menu.Item, { label: \"Color blind (blue to red)\", onClick: () => props.onChange(ColorSchemeDiff.DiffColorBlind) })\n    ] });\n    contents = /* @__PURE__ */ jsxs(\"div\", { className: cx(styles.colorDotDiff, colorDotStyle), children: [\n      /* @__PURE__ */ jsx(\"div\", { children: \"-100% (removed)\" }),\n      /* @__PURE__ */ jsx(\"div\", { children: \"0%\" }),\n      /* @__PURE__ */ jsx(\"div\", { children: \"+100% (added)\" })\n    ] });\n  }\n  return /* @__PURE__ */ jsx(Dropdown, { overlay: menu, children: /* @__PURE__ */ jsx(\n    Button,\n    {\n      variant: \"secondary\",\n      fill: \"outline\",\n      size: \"sm\",\n      tooltip: \"Change color scheme\",\n      onClick: () => {\n      },\n      className: styles.buttonSpacing,\n      \"aria-label\": \"Change color scheme\",\n      children: contents\n    }\n  ) });\n}\nconst alignOptions = [\n  { value: \"left\", description: \"Align text left\", icon: \"align-left\" },\n  { value: \"right\", description: \"Align text right\", icon: \"align-right\" }\n];\nfunction getViewOptions(width, vertical) {\n  let viewOptions = [\n    { value: SelectedView.TopTable, label: \"Top Table\", description: \"Only show top table\" },\n    { value: SelectedView.FlameGraph, label: \"Flame Graph\", description: \"Only show flame graph\" }\n  ];\n  if (width >= MIN_WIDTH_TO_SHOW_BOTH_TOPTABLE_AND_FLAMEGRAPH || vertical) {\n    viewOptions.push({\n      value: SelectedView.Both,\n      label: \"Both\",\n      description: \"Show both the top table and flame graph\"\n    });\n  }\n  return viewOptions;\n}\nfunction useSearchInput(search, setSearch) {\n  const [localSearchState, setLocalSearchState] = useState(search);\n  const prevSearch = usePrevious(search);\n  useDebounce(\n    () => {\n      setSearch(localSearchState);\n    },\n    250,\n    [localSearchState]\n  );\n  useEffect(() => {\n    if (prevSearch !== search && search !== localSearchState) {\n      setLocalSearchState(search);\n    }\n  }, [search, prevSearch, localSearchState]);\n  return [localSearchState, setLocalSearchState];\n}\nconst getStyles = (theme) => ({\n  header: css({\n    label: \"header\",\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    justifyContent: \"space-between\",\n    width: \"100%\",\n    top: 0,\n    gap: theme.spacing(1),\n    marginTop: theme.spacing(1)\n  }),\n  stickyHeader: css({\n    zIndex: theme.zIndex.navbarFixed,\n    position: \"sticky\",\n    background: theme.colors.background.primary\n  }),\n  inputContainer: css({\n    label: \"inputContainer\",\n    flexGrow: 1,\n    minWidth: \"150px\",\n    maxWidth: \"350px\"\n  }),\n  rightContainer: css({\n    label: \"rightContainer\",\n    display: \"flex\",\n    alignItems: \"flex-start\",\n    flexWrap: \"wrap\"\n  }),\n  buttonSpacing: css({\n    label: \"buttonSpacing\",\n    marginRight: theme.spacing(1)\n  }),\n  resetButton: css({\n    label: \"resetButton\",\n    display: \"flex\",\n    marginRight: theme.spacing(2)\n  }),\n  resetButtonIconWrapper: css({\n    label: \"resetButtonIcon\",\n    padding: \"0 5px\",\n    color: theme.colors.text.disabled\n  }),\n  colorDot: css({\n    label: \"colorDot\",\n    display: \"inline-block\",\n    width: \"10px\",\n    height: \"10px\",\n    borderRadius: theme.shape.radius.circle\n  }),\n  colorDotDiff: css({\n    label: \"colorDotDiff\",\n    display: \"flex\",\n    width: \"200px\",\n    height: \"12px\",\n    color: \"white\",\n    fontSize: 9,\n    lineHeight: 1.3,\n    fontWeight: 300,\n    justifyContent: \"space-between\",\n    padding: \"0 2px\",\n    // We have a specific sizing for this so probably makes sense to use hardcoded value here\n    // eslint-disable-next-line @grafana/no-border-radius-literal\n    borderRadius: \"2px\"\n  }),\n  colorDotByValue: css({\n    label: \"colorDotByValue\",\n    background: byValueGradient\n  }),\n  colorDotByPackage: css({\n    label: \"colorDotByPackage\",\n    background: byPackageGradient\n  }),\n  colorDotDiffDefault: css({\n    label: \"colorDotDiffDefault\",\n    background: diffDefaultGradient\n  }),\n  colorDotDiffColorBlind: css({\n    label: \"colorDotDiffColorBlind\",\n    background: diffColorBlindGradient\n  }),\n  extraElements: css({\n    label: \"extraElements\",\n    marginLeft: theme.spacing(1)\n  })\n});\n\nexport { FlameGraphHeader as default };\n//# sourceMappingURL=FlameGraphHeader.mjs.map\n","import { useEffect, useRef } from 'react';\nexport default function usePrevious(state) {\n    var ref = useRef();\n    useEffect(function () {\n        ref.current = state;\n    });\n    return ref.current;\n}\n","import { Component, createElement } from 'react';\n\n/**\n * Detect Element Resize.\n * https://github.com/sdecima/javascript-detect-element-resize\n * Sebastian Decima\n *\n * Forked from version 0.5.3; includes the following modifications:\n * 1) Guard against unsafe 'window' and 'document' references (to support SSR).\n * 2) Defer initialization code via a top-level function wrapper (to support SSR).\n * 3) Avoid unnecessary reflows by not measuring size for scroll events bubbling from children.\n * 4) Add nonce for style element.\n * 5) Use 'export' statement over 'module.exports' assignment\n **/\n\n// Check `document` and `window` in case of server-side rendering\nlet windowObject;\nif (typeof window !== \"undefined\") {\n  windowObject = window;\n\n  // eslint-disable-next-line no-restricted-globals\n} else if (typeof self !== \"undefined\") {\n  // eslint-disable-next-line no-restricted-globals\n  windowObject = self;\n} else {\n  windowObject = global;\n}\nlet cancelFrame = null;\nlet requestFrame = null;\nconst TIMEOUT_DURATION = 20;\nconst clearTimeoutFn = windowObject.clearTimeout;\nconst setTimeoutFn = windowObject.setTimeout;\nconst cancelAnimationFrameFn = windowObject.cancelAnimationFrame || windowObject.mozCancelAnimationFrame || windowObject.webkitCancelAnimationFrame;\nconst requestAnimationFrameFn = windowObject.requestAnimationFrame || windowObject.mozRequestAnimationFrame || windowObject.webkitRequestAnimationFrame;\nif (cancelAnimationFrameFn == null || requestAnimationFrameFn == null) {\n  // For environments that don't support animation frame,\n  // fallback to a setTimeout based approach.\n  cancelFrame = clearTimeoutFn;\n  requestFrame = function requestAnimationFrameViaSetTimeout(callback) {\n    return setTimeoutFn(callback, TIMEOUT_DURATION);\n  };\n} else {\n  // Counter intuitively, environments that support animation frames can be trickier.\n  // Chrome's \"Throttle non-visible cross-origin iframes\" flag can prevent rAFs from being called.\n  // In this case, we should fallback to a setTimeout() implementation.\n  cancelFrame = function cancelFrame([animationFrameID, timeoutID]) {\n    cancelAnimationFrameFn(animationFrameID);\n    clearTimeoutFn(timeoutID);\n  };\n  requestFrame = function requestAnimationFrameWithSetTimeoutFallback(callback) {\n    const animationFrameID = requestAnimationFrameFn(function animationFrameCallback() {\n      clearTimeoutFn(timeoutID);\n      callback();\n    });\n    const timeoutID = setTimeoutFn(function timeoutCallback() {\n      cancelAnimationFrameFn(animationFrameID);\n      callback();\n    }, TIMEOUT_DURATION);\n    return [animationFrameID, timeoutID];\n  };\n}\nfunction createDetectElementResize(nonce) {\n  let animationKeyframes;\n  let animationName;\n  let animationStartEvent;\n  let animationStyle;\n  let checkTriggers;\n  let resetTriggers;\n  let scrollListener;\n  const attachEvent = typeof document !== \"undefined\" && document.attachEvent;\n  if (!attachEvent) {\n    resetTriggers = function (element) {\n      const triggers = element.__resizeTriggers__,\n        expand = triggers.firstElementChild,\n        contract = triggers.lastElementChild,\n        expandChild = expand.firstElementChild;\n      contract.scrollLeft = contract.scrollWidth;\n      contract.scrollTop = contract.scrollHeight;\n      expandChild.style.width = expand.offsetWidth + 1 + \"px\";\n      expandChild.style.height = expand.offsetHeight + 1 + \"px\";\n      expand.scrollLeft = expand.scrollWidth;\n      expand.scrollTop = expand.scrollHeight;\n    };\n    checkTriggers = function (element) {\n      return element.offsetWidth !== element.__resizeLast__.width || element.offsetHeight !== element.__resizeLast__.height;\n    };\n    scrollListener = function (e) {\n      // Don't measure (which forces) reflow for scrolls that happen inside of children!\n      if (e.target.className && typeof e.target.className.indexOf === \"function\" && e.target.className.indexOf(\"contract-trigger\") < 0 && e.target.className.indexOf(\"expand-trigger\") < 0) {\n        return;\n      }\n      const element = this;\n      resetTriggers(this);\n      if (this.__resizeRAF__) {\n        cancelFrame(this.__resizeRAF__);\n      }\n      this.__resizeRAF__ = requestFrame(function animationFrame() {\n        if (checkTriggers(element)) {\n          element.__resizeLast__.width = element.offsetWidth;\n          element.__resizeLast__.height = element.offsetHeight;\n          element.__resizeListeners__.forEach(function forEachResizeListener(fn) {\n            fn.call(element, e);\n          });\n        }\n      });\n    };\n\n    /* Detect CSS Animations support to detect element display/re-attach */\n    let animation = false;\n    let keyframeprefix = \"\";\n    animationStartEvent = \"animationstart\";\n    const domPrefixes = \"Webkit Moz O ms\".split(\" \");\n    let startEvents = \"webkitAnimationStart animationstart oAnimationStart MSAnimationStart\".split(\" \");\n    let pfx = \"\";\n    {\n      const elm = document.createElement(\"fakeelement\");\n      if (elm.style.animationName !== undefined) {\n        animation = true;\n      }\n      if (animation === false) {\n        for (let i = 0; i < domPrefixes.length; i++) {\n          if (elm.style[domPrefixes[i] + \"AnimationName\"] !== undefined) {\n            pfx = domPrefixes[i];\n            keyframeprefix = \"-\" + pfx.toLowerCase() + \"-\";\n            animationStartEvent = startEvents[i];\n            animation = true;\n            break;\n          }\n        }\n      }\n    }\n    animationName = \"resizeanim\";\n    animationKeyframes = \"@\" + keyframeprefix + \"keyframes \" + animationName + \" { from { opacity: 0; } to { opacity: 0; } } \";\n    animationStyle = keyframeprefix + \"animation: 1ms \" + animationName + \"; \";\n  }\n  const createStyles = function (doc) {\n    if (!doc.getElementById(\"detectElementResize\")) {\n      //opacity:0 works around a chrome bug https://code.google.com/p/chromium/issues/detail?id=286360\n      const css = (animationKeyframes ? animationKeyframes : \"\") + \".resize-triggers { \" + (animationStyle ? animationStyle : \"\") + \"visibility: hidden; opacity: 0; } \" + '.resize-triggers, .resize-triggers > div, .contract-trigger:before { content: \" \"; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',\n        head = doc.head || doc.getElementsByTagName(\"head\")[0],\n        style = doc.createElement(\"style\");\n      style.id = \"detectElementResize\";\n      style.type = \"text/css\";\n      if (nonce != null) {\n        style.setAttribute(\"nonce\", nonce);\n      }\n      if (style.styleSheet) {\n        style.styleSheet.cssText = css;\n      } else {\n        style.appendChild(doc.createTextNode(css));\n      }\n      head.appendChild(style);\n    }\n  };\n  const addResizeListener = function (element, fn) {\n    if (attachEvent) {\n      element.attachEvent(\"onresize\", fn);\n    } else {\n      if (!element.__resizeTriggers__) {\n        const doc = element.ownerDocument;\n        const elementStyle = windowObject.getComputedStyle(element);\n        if (elementStyle && elementStyle.position === \"static\") {\n          element.style.position = \"relative\";\n        }\n        createStyles(doc);\n        element.__resizeLast__ = {};\n        element.__resizeListeners__ = [];\n        (element.__resizeTriggers__ = doc.createElement(\"div\")).className = \"resize-triggers\";\n        const expandTrigger = doc.createElement(\"div\");\n        expandTrigger.className = \"expand-trigger\";\n        expandTrigger.appendChild(doc.createElement(\"div\"));\n        const contractTrigger = doc.createElement(\"div\");\n        contractTrigger.className = \"contract-trigger\";\n        element.__resizeTriggers__.appendChild(expandTrigger);\n        element.__resizeTriggers__.appendChild(contractTrigger);\n        element.appendChild(element.__resizeTriggers__);\n        resetTriggers(element);\n        element.addEventListener(\"scroll\", scrollListener, true);\n\n        /* Listen for a css animation to detect element display/re-attach */\n        if (animationStartEvent) {\n          element.__resizeTriggers__.__animationListener__ = function animationListener(e) {\n            if (e.animationName === animationName) {\n              resetTriggers(element);\n            }\n          };\n          element.__resizeTriggers__.addEventListener(animationStartEvent, element.__resizeTriggers__.__animationListener__);\n        }\n      }\n      element.__resizeListeners__.push(fn);\n    }\n  };\n  const removeResizeListener = function (element, fn) {\n    if (attachEvent) {\n      element.detachEvent(\"onresize\", fn);\n    } else {\n      element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(fn), 1);\n      if (!element.__resizeListeners__.length) {\n        element.removeEventListener(\"scroll\", scrollListener, true);\n        if (element.__resizeTriggers__.__animationListener__) {\n          element.__resizeTriggers__.removeEventListener(animationStartEvent, element.__resizeTriggers__.__animationListener__);\n          element.__resizeTriggers__.__animationListener__ = null;\n        }\n        try {\n          element.__resizeTriggers__ = !element.removeChild(element.__resizeTriggers__);\n        } catch (e) {\n          // Preact compat; see developit/preact-compat/issues/228\n        }\n      }\n    }\n  };\n  return {\n    addResizeListener,\n    removeResizeListener\n  };\n}\n\nclass AutoSizer extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      height: this.props.defaultHeight || 0,\n      width: this.props.defaultWidth || 0\n    };\n    this._autoSizer = null;\n    this._detectElementResize = null;\n    this._didLogDeprecationWarning = false;\n    this._parentNode = null;\n    this._resizeObserver = null;\n    this._timeoutId = null;\n    this._onResize = () => {\n      this._timeoutId = null;\n      const {\n        disableHeight,\n        disableWidth,\n        onResize\n      } = this.props;\n      if (this._parentNode) {\n        // Guard against AutoSizer component being removed from the DOM immediately after being added.\n        // This can result in invalid style values which can result in NaN values if we don't handle them.\n        // See issue #150 for more context.\n\n        const style = window.getComputedStyle(this._parentNode) || {};\n        const paddingLeft = parseFloat(style.paddingLeft || \"0\");\n        const paddingRight = parseFloat(style.paddingRight || \"0\");\n        const paddingTop = parseFloat(style.paddingTop || \"0\");\n        const paddingBottom = parseFloat(style.paddingBottom || \"0\");\n        const rect = this._parentNode.getBoundingClientRect();\n        const height = rect.height - paddingTop - paddingBottom;\n        const width = rect.width - paddingLeft - paddingRight;\n        if (!disableHeight && this.state.height !== height || !disableWidth && this.state.width !== width) {\n          this.setState({\n            height,\n            width\n          });\n          const maybeLogDeprecationWarning = () => {\n            if (!this._didLogDeprecationWarning) {\n              this._didLogDeprecationWarning = true;\n              console.warn(\"scaledWidth and scaledHeight parameters have been deprecated; use width and height instead\");\n            }\n          };\n          if (typeof onResize === \"function\") {\n            onResize({\n              height,\n              width,\n              // TODO Remove these params in the next major release\n              get scaledHeight() {\n                maybeLogDeprecationWarning();\n                return height;\n              },\n              get scaledWidth() {\n                maybeLogDeprecationWarning();\n                return width;\n              }\n            });\n          }\n        }\n      }\n    };\n    this._setRef = autoSizer => {\n      this._autoSizer = autoSizer;\n    };\n  }\n  componentDidMount() {\n    const {\n      nonce\n    } = this.props;\n    const parentNode = this._autoSizer ? this._autoSizer.parentNode : null;\n    if (parentNode != null && parentNode.ownerDocument && parentNode.ownerDocument.defaultView && parentNode instanceof parentNode.ownerDocument.defaultView.HTMLElement) {\n      // Delay access of parentNode until mount.\n      // This handles edge-cases where the component has already been unmounted before its ref has been set,\n      // As well as libraries like react-lite which have a slightly different lifecycle.\n      this._parentNode = parentNode;\n\n      // Use ResizeObserver from the same context where parentNode (which we will observe) was defined\n      // Using just global can result into onResize events not being emitted in cases with multiple realms\n      const ResizeObserverInstance = parentNode.ownerDocument.defaultView.ResizeObserver;\n      if (ResizeObserverInstance != null) {\n        this._resizeObserver = new ResizeObserverInstance(() => {\n          // Guard against \"ResizeObserver loop limit exceeded\" error;\n          // could be triggered if the state update causes the ResizeObserver handler to run long.\n          // See https://github.com/bvaughn/react-virtualized-auto-sizer/issues/55\n          this._timeoutId = setTimeout(this._onResize, 0);\n        });\n        this._resizeObserver.observe(parentNode);\n      } else {\n        // Defer requiring resize handler in order to support server-side rendering.\n        // See issue #41\n        this._detectElementResize = createDetectElementResize(nonce);\n        this._detectElementResize.addResizeListener(parentNode, this._onResize);\n      }\n      this._onResize();\n    }\n  }\n  componentWillUnmount() {\n    if (this._parentNode) {\n      if (this._detectElementResize) {\n        this._detectElementResize.removeResizeListener(this._parentNode, this._onResize);\n      }\n      if (this._timeoutId !== null) {\n        clearTimeout(this._timeoutId);\n      }\n      if (this._resizeObserver) {\n        this._resizeObserver.disconnect();\n      }\n    }\n  }\n  render() {\n    const {\n      children,\n      defaultHeight,\n      defaultWidth,\n      disableHeight = false,\n      disableWidth = false,\n      doNotBailOutOnEmptyChildren = false,\n      nonce,\n      onResize,\n      style = {},\n      tagName = \"div\",\n      ...rest\n    } = this.props;\n    const {\n      height,\n      width\n    } = this.state;\n\n    // Outer div should not force width/height since that may prevent containers from shrinking.\n    // Inner component should overflow and use calculated width/height.\n    // See issue #68 for more information.\n    const outerStyle = {\n      overflow: \"visible\"\n    };\n    const childParams = {};\n\n    // Avoid rendering children before the initial measurements have been collected.\n    // At best this would just be wasting cycles.\n    let bailoutOnChildren = false;\n    if (!disableHeight) {\n      if (height === 0) {\n        bailoutOnChildren = true;\n      }\n      outerStyle.height = 0;\n      childParams.height = height;\n\n      // TODO Remove this in the next major release\n      childParams.scaledHeight = height;\n    }\n    if (!disableWidth) {\n      if (width === 0) {\n        bailoutOnChildren = true;\n      }\n      outerStyle.width = 0;\n      childParams.width = width;\n\n      // TODO Remove this in the next major release\n      childParams.scaledWidth = width;\n    }\n    if (doNotBailOutOnEmptyChildren) {\n      bailoutOnChildren = false;\n    }\n    return createElement(tagName, {\n      ref: this._setRef,\n      style: {\n        ...outerStyle,\n        ...style\n      },\n      ...rest\n    }, !bailoutOnChildren && children(childParams));\n  }\n}\n\nfunction isHeightAndWidthProps(props) {\n  return props && props.disableHeight !== true && props.disableWidth !== true;\n}\nfunction isHeightOnlyProps(props) {\n  return props && props.disableHeight !== true && props.disableWidth === true;\n}\nfunction isWidthOnlyProps(props) {\n  return props && props.disableHeight === true && props.disableWidth !== true;\n}\n\nexport { AutoSizer as default, isHeightAndWidthProps, isHeightOnlyProps, isWidthOnlyProps };\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { css } from '@emotion/css';\nimport { memo, useMemo, useState } from 'react';\nimport AutoSizer from 'react-virtualized-auto-sizer';\nimport { FieldType, MappingType, applyFieldOverrides } from '@grafana/data';\nimport { useStyles2, useTheme2, Table, TableCellDisplayMode, IconButton } from '@grafana/ui';\nimport { diffColorBlindColors, diffDefaultColors } from '../FlameGraph/colors.mjs';\nimport { TOP_TABLE_COLUMN_WIDTH } from '../constants.mjs';\nimport { ColorSchemeDiff } from '../types.mjs';\n\n\"use strict\";\nconst FlameGraphTopTableContainer = memo(\n  ({\n    data,\n    onSymbolClick,\n    search,\n    matchedLabels,\n    onSearch,\n    sandwichItem,\n    onSandwich,\n    onTableSort,\n    colorScheme\n  }) => {\n    const table = useMemo(() => {\n      let filteredTable = /* @__PURE__ */ Object.create(null);\n      for (let i = 0; i < data.data.length; i++) {\n        const value = data.getValue(i);\n        const valueRight = data.getValueRight(i);\n        const self = data.getSelf(i);\n        const label = data.getLabel(i);\n        if (!matchedLabels || matchedLabels.has(label)) {\n          filteredTable[label] = filteredTable[label] || {};\n          filteredTable[label].self = filteredTable[label].self ? filteredTable[label].self + self : self;\n          filteredTable[label].total = filteredTable[label].total ? filteredTable[label].total + value : value;\n          filteredTable[label].totalRight = filteredTable[label].totalRight ? filteredTable[label].totalRight + valueRight : valueRight;\n        }\n      }\n      return filteredTable;\n    }, [data, matchedLabels]);\n    const styles = useStyles2(getStyles);\n    const theme = useTheme2();\n    const [sort, setSort] = useState([{ displayName: \"Self\", desc: true }]);\n    return /* @__PURE__ */ jsx(\"div\", { className: styles.topTableContainer, \"data-testid\": \"topTable\", children: /* @__PURE__ */ jsx(AutoSizer, { style: { width: \"100%\" }, children: ({ width, height }) => {\n      if (width < 3 || height < 3) {\n        return null;\n      }\n      const frame = buildTableDataFrame(\n        data,\n        table,\n        width,\n        onSymbolClick,\n        onSearch,\n        onSandwich,\n        theme,\n        colorScheme,\n        search,\n        sandwichItem\n      );\n      return /* @__PURE__ */ jsx(\n        Table,\n        {\n          initialSortBy: sort,\n          onSortByChange: (s) => {\n            if (s && s.length) {\n              onTableSort == null ? void 0 : onTableSort(s[0].displayName + \"_\" + (s[0].desc ? \"desc\" : \"asc\"));\n            }\n            setSort(s);\n          },\n          data: frame,\n          width,\n          height\n        }\n      );\n    } }) });\n  }\n);\nFlameGraphTopTableContainer.displayName = \"FlameGraphTopTableContainer\";\nfunction buildTableDataFrame(data, table, width, onSymbolClick, onSearch, onSandwich, theme, colorScheme, search, sandwichItem) {\n  const actionField = createActionField(onSandwich, onSearch, search, sandwichItem);\n  const symbolField = {\n    type: FieldType.string,\n    name: \"Symbol\",\n    values: [],\n    config: {\n      custom: { width: width - actionColumnWidth - TOP_TABLE_COLUMN_WIDTH * 2 },\n      links: [\n        {\n          title: \"Highlight symbol\",\n          url: \"\",\n          onClick: (e) => {\n            const field = e.origin.field;\n            const value = field.values[e.origin.rowIndex];\n            onSymbolClick(value);\n          }\n        }\n      ]\n    }\n  };\n  let frame;\n  if (data.isDiffFlamegraph()) {\n    symbolField.config.custom.width = width - actionColumnWidth - TOP_TABLE_COLUMN_WIDTH * 3;\n    const baselineField = createNumberField(\"Baseline\", \"percent\");\n    const comparisonField = createNumberField(\"Comparison\", \"percent\");\n    const diffField = createNumberField(\"Diff\", \"percent\");\n    diffField.config.custom.cellOptions.type = TableCellDisplayMode.ColorText;\n    const [removeColor, addColor] = colorScheme === ColorSchemeDiff.DiffColorBlind ? [diffColorBlindColors[0], diffColorBlindColors[2]] : [diffDefaultColors[0], diffDefaultColors[2]];\n    diffField.config.mappings = [\n      { type: MappingType.ValueToText, options: { [Infinity]: { text: \"new\", color: addColor } } },\n      { type: MappingType.ValueToText, options: { [-100]: { text: \"removed\", color: removeColor } } },\n      { type: MappingType.RangeToText, options: { from: 0, to: Infinity, result: { color: addColor } } },\n      { type: MappingType.RangeToText, options: { from: -Infinity, to: 0, result: { color: removeColor } } }\n    ];\n    const levels = data.getLevels();\n    const totalTicks = levels.length ? levels[0][0].value : 0;\n    const totalTicksRight = levels.length ? levels[0][0].valueRight : void 0;\n    for (let key in table) {\n      actionField.values.push(null);\n      symbolField.values.push(key);\n      const ticksLeft = table[key].total;\n      const ticksRight = table[key].totalRight;\n      const totalTicksLeft = totalTicks - totalTicksRight;\n      const percentageLeft = Math.round(1e4 * ticksLeft / totalTicksLeft) / 100;\n      const percentageRight = Math.round(1e4 * ticksRight / totalTicksRight) / 100;\n      const diff = (percentageRight - percentageLeft) / percentageLeft * 100;\n      diffField.values.push(diff);\n      baselineField.values.push(percentageLeft);\n      comparisonField.values.push(percentageRight);\n    }\n    frame = {\n      fields: [actionField, symbolField, baselineField, comparisonField, diffField],\n      length: symbolField.values.length\n    };\n  } else {\n    const selfField = createNumberField(\"Self\", data.selfField.config.unit);\n    const totalField = createNumberField(\"Total\", data.valueField.config.unit);\n    for (let key in table) {\n      actionField.values.push(null);\n      symbolField.values.push(key);\n      selfField.values.push(table[key].self);\n      totalField.values.push(table[key].total);\n    }\n    frame = { fields: [actionField, symbolField, selfField, totalField], length: symbolField.values.length };\n  }\n  const dataFrames = applyFieldOverrides({\n    data: [frame],\n    fieldConfig: {\n      defaults: {},\n      overrides: []\n    },\n    replaceVariables: (value) => value,\n    theme\n  });\n  return dataFrames[0];\n}\nfunction createNumberField(name, unit) {\n  const tableFieldOptions = {\n    width: TOP_TABLE_COLUMN_WIDTH,\n    align: \"auto\",\n    inspect: false,\n    cellOptions: { type: TableCellDisplayMode.Auto }\n  };\n  return {\n    type: FieldType.number,\n    name,\n    values: [],\n    config: {\n      unit,\n      custom: tableFieldOptions\n    }\n  };\n}\nconst actionColumnWidth = 61;\nfunction createActionField(onSandwich, onSearch, search, sandwichItem) {\n  const options = {\n    type: TableCellDisplayMode.Custom,\n    cellComponent: (props) => {\n      return /* @__PURE__ */ jsx(\n        ActionCell,\n        {\n          frame: props.frame,\n          onSandwich,\n          onSearch,\n          search,\n          sandwichItem,\n          rowIndex: props.rowIndex\n        }\n      );\n    }\n  };\n  const actionFieldTableConfig = {\n    filterable: false,\n    width: actionColumnWidth,\n    hideHeader: true,\n    inspect: false,\n    align: \"auto\",\n    cellOptions: options\n  };\n  return {\n    type: FieldType.number,\n    name: \"actions\",\n    values: [],\n    config: {\n      custom: actionFieldTableConfig\n    }\n  };\n}\nfunction ActionCell(props) {\n  var _a;\n  const styles = getStylesActionCell();\n  const symbol = (_a = props.frame.fields.find((f) => f.name === \"Symbol\")) == null ? void 0 : _a.values[props.rowIndex];\n  const isSearched = props.search === symbol;\n  const isSandwiched = props.sandwichItem === symbol;\n  return /* @__PURE__ */ jsxs(\"div\", { className: styles.actionCellWrapper, children: [\n    /* @__PURE__ */ jsx(\n      IconButton,\n      {\n        className: styles.actionCellButton,\n        name: \"search\",\n        variant: isSearched ? \"primary\" : \"secondary\",\n        tooltip: isSearched ? \"Clear from search\" : \"Search for symbol\",\n        \"aria-label\": isSearched ? \"Clear from search\" : \"Search for symbol\",\n        onClick: () => {\n          props.onSearch(isSearched ? \"\" : symbol);\n        }\n      }\n    ),\n    /* @__PURE__ */ jsx(\n      IconButton,\n      {\n        className: styles.actionCellButton,\n        name: \"gf-show-context\",\n        tooltip: isSandwiched ? \"Remove from sandwich view\" : \"Show in sandwich view\",\n        variant: isSandwiched ? \"primary\" : \"secondary\",\n        \"aria-label\": isSandwiched ? \"Remove from sandwich view\" : \"Show in sandwich view\",\n        onClick: () => {\n          props.onSandwich(isSandwiched ? void 0 : symbol);\n        }\n      }\n    )\n  ] });\n}\nconst getStyles = (theme) => {\n  return {\n    topTableContainer: css({\n      label: \"topTableContainer\",\n      padding: theme.spacing(1),\n      backgroundColor: theme.colors.background.secondary,\n      height: \"100%\"\n    })\n  };\n};\nconst getStylesActionCell = () => {\n  return {\n    actionCellWrapper: css({\n      label: \"actionCellWrapper\",\n      display: \"flex\",\n      height: \"24px\"\n    }),\n    actionCellButton: css({\n      label: \"actionCellButton\",\n      marginRight: 0,\n      width: \"24px\"\n    })\n  };\n};\n\nexport { FlameGraphTopTableContainer as default };\n//# sourceMappingURL=FlameGraphTopTableContainer.mjs.map\n","\"use strict\";\nfunction getAssistantContextFromDataFrame(data) {\n  var _a, _b;\n  return ((_b = (_a = data.meta) == null ? void 0 : _a.custom) == null ? void 0 : _b.assistantContext) || [];\n}\n\nexport { getAssistantContextFromDataFrame };\n//# sourceMappingURL=utils.mjs.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { css } from '@emotion/css';\nimport uFuzzy from '@leeoniya/ufuzzy';\nimport { useState, useMemo, useEffect, useCallback } from 'react';\nimport { useMeasure } from 'react-use';\nimport { ThemeContext } from '@grafana/ui';\nimport FlameGraph from './FlameGraph/FlameGraph.mjs';\nimport { CollapsedMap, FlameGraphDataContainer } from './FlameGraph/dataTransform.mjs';\nimport FlameGraphHeader from './FlameGraphHeader.mjs';\nimport FlameGraphTopTableContainer from './TopTable/FlameGraphTopTableContainer.mjs';\nimport { MIN_WIDTH_TO_SHOW_BOTH_TOPTABLE_AND_FLAMEGRAPH } from './constants.mjs';\nimport { SelectedView, ColorSchemeDiff, ColorScheme } from './types.mjs';\nimport { getAssistantContextFromDataFrame } from './utils.mjs';\n\n\"use strict\";\nconst ufuzzy = new uFuzzy();\nconst FlameGraphContainer = ({\n  data,\n  onTableSymbolClick,\n  onViewSelected,\n  onTextAlignSelected,\n  onTableSort,\n  getTheme,\n  stickyHeader,\n  extraHeaderElements,\n  vertical,\n  showFlameGraphOnly,\n  disableCollapsing,\n  keepFocusOnDataChange,\n  getExtraContextMenuButtons,\n  showAnalyzeWithAssistant = true\n}) => {\n  const [focusedItemData, setFocusedItemData] = useState();\n  const [rangeMin, setRangeMin] = useState(0);\n  const [rangeMax, setRangeMax] = useState(1);\n  const [search, setSearch] = useState(\"\");\n  const [selectedView, setSelectedView] = useState(SelectedView.Both);\n  const [sizeRef, { width: containerWidth }] = useMeasure();\n  const [textAlign, setTextAlign] = useState(\"left\");\n  const [sandwichItem, setSandwichItem] = useState();\n  const [collapsedMap, setCollapsedMap] = useState(new CollapsedMap());\n  const theme = useMemo(() => getTheme(), [getTheme]);\n  const dataContainer = useMemo(() => {\n    if (!data) {\n      return;\n    }\n    const container = new FlameGraphDataContainer(data, { collapsing: !disableCollapsing }, theme);\n    setCollapsedMap(container.getCollapsedMap());\n    return container;\n  }, [data, theme, disableCollapsing]);\n  const [colorScheme, setColorScheme] = useColorScheme(dataContainer);\n  const styles = getStyles(theme);\n  const matchedLabels = useLabelSearch(search, dataContainer);\n  useEffect(() => {\n    if (containerWidth > 0 && containerWidth < MIN_WIDTH_TO_SHOW_BOTH_TOPTABLE_AND_FLAMEGRAPH && selectedView === SelectedView.Both && !vertical) {\n      setSelectedView(SelectedView.FlameGraph);\n    }\n  }, [selectedView, setSelectedView, containerWidth, vertical]);\n  const resetFocus = useCallback(() => {\n    setFocusedItemData(void 0);\n    setRangeMin(0);\n    setRangeMax(1);\n  }, [setFocusedItemData, setRangeMax, setRangeMin]);\n  const resetSandwich = useCallback(() => {\n    setSandwichItem(void 0);\n  }, [setSandwichItem]);\n  useEffect(() => {\n    var _a;\n    if (!keepFocusOnDataChange) {\n      resetFocus();\n      resetSandwich();\n      return;\n    }\n    if (dataContainer && focusedItemData) {\n      const item = (_a = dataContainer.getNodesWithLabel(focusedItemData.label)) == null ? void 0 : _a[0];\n      if (item) {\n        setFocusedItemData({ ...focusedItemData, item });\n        const levels = dataContainer.getLevels();\n        const totalViewTicks = levels.length ? levels[0][0].value : 0;\n        setRangeMin(item.start / totalViewTicks);\n        setRangeMax((item.start + item.value) / totalViewTicks);\n      } else {\n        setFocusedItemData({\n          ...focusedItemData,\n          item: {\n            start: 0,\n            value: 0,\n            itemIndexes: [],\n            children: [],\n            level: 0\n          }\n        });\n        setRangeMin(0);\n        setRangeMax(1);\n      }\n    }\n  }, [dataContainer, keepFocusOnDataChange]);\n  const onSymbolClick = useCallback(\n    (symbol) => {\n      if (search === symbol) {\n        setSearch(\"\");\n      } else {\n        onTableSymbolClick == null ? void 0 : onTableSymbolClick(symbol);\n        setSearch(symbol);\n        resetFocus();\n      }\n    },\n    [setSearch, resetFocus, onTableSymbolClick, search]\n  );\n  if (!dataContainer) {\n    return null;\n  }\n  const flameGraph = /* @__PURE__ */ jsx(\n    FlameGraph,\n    {\n      data: dataContainer,\n      rangeMin,\n      rangeMax,\n      matchedLabels,\n      setRangeMin,\n      setRangeMax,\n      onItemFocused: (data2) => setFocusedItemData(data2),\n      focusedItemData,\n      textAlign,\n      sandwichItem,\n      onSandwich: (label) => {\n        resetFocus();\n        setSandwichItem(label);\n      },\n      onFocusPillClick: resetFocus,\n      onSandwichPillClick: resetSandwich,\n      colorScheme,\n      showFlameGraphOnly,\n      collapsing: !disableCollapsing,\n      getExtraContextMenuButtons,\n      selectedView,\n      search,\n      collapsedMap,\n      setCollapsedMap\n    }\n  );\n  const table = /* @__PURE__ */ jsx(\n    FlameGraphTopTableContainer,\n    {\n      data: dataContainer,\n      onSymbolClick,\n      search,\n      matchedLabels,\n      sandwichItem,\n      onSandwich: setSandwichItem,\n      onSearch: setSearch,\n      onTableSort,\n      colorScheme\n    }\n  );\n  let body;\n  if (showFlameGraphOnly || selectedView === SelectedView.FlameGraph) {\n    body = flameGraph;\n  } else if (selectedView === SelectedView.TopTable) {\n    body = /* @__PURE__ */ jsx(\"div\", { className: styles.tableContainer, children: table });\n  } else if (selectedView === SelectedView.Both) {\n    if (vertical) {\n      body = /* @__PURE__ */ jsxs(\"div\", { children: [\n        /* @__PURE__ */ jsx(\"div\", { className: styles.verticalGraphContainer, children: flameGraph }),\n        /* @__PURE__ */ jsx(\"div\", { className: styles.verticalTableContainer, children: table })\n      ] });\n    } else {\n      body = /* @__PURE__ */ jsxs(\"div\", { className: styles.horizontalContainer, children: [\n        /* @__PURE__ */ jsx(\"div\", { className: styles.horizontalTableContainer, children: table }),\n        /* @__PURE__ */ jsx(\"div\", { className: styles.horizontalGraphContainer, children: flameGraph })\n      ] });\n    }\n  }\n  return (\n    // We add the theme context to bridge the gap if this is rendered in non grafana environment where the context\n    // isn't already provided.\n    /* @__PURE__ */ jsx(ThemeContext.Provider, { value: theme, children: /* @__PURE__ */ jsxs(\"div\", { ref: sizeRef, className: styles.container, children: [\n      !showFlameGraphOnly && /* @__PURE__ */ jsx(\n        FlameGraphHeader,\n        {\n          search,\n          setSearch,\n          selectedView,\n          setSelectedView: (view) => {\n            setSelectedView(view);\n            onViewSelected == null ? void 0 : onViewSelected(view);\n          },\n          containerWidth,\n          onReset: () => {\n            resetFocus();\n            resetSandwich();\n          },\n          textAlign,\n          onTextAlignChange: (align) => {\n            setTextAlign(align);\n            onTextAlignSelected == null ? void 0 : onTextAlignSelected(align);\n          },\n          showResetButton: Boolean(focusedItemData || sandwichItem),\n          colorScheme,\n          onColorSchemeChange: setColorScheme,\n          stickyHeader: Boolean(stickyHeader),\n          extraHeaderElements,\n          vertical,\n          isDiffMode: dataContainer.isDiffFlamegraph(),\n          setCollapsedMap,\n          collapsedMap,\n          assistantContext: data && showAnalyzeWithAssistant ? getAssistantContextFromDataFrame(data) : void 0\n        }\n      ),\n      /* @__PURE__ */ jsx(\"div\", { className: styles.body, children: body })\n    ] }) })\n  );\n};\nfunction useColorScheme(dataContainer) {\n  const defaultColorScheme = (dataContainer == null ? void 0 : dataContainer.isDiffFlamegraph()) ? ColorSchemeDiff.Default : ColorScheme.PackageBased;\n  const [colorScheme, setColorScheme] = useState(defaultColorScheme);\n  useEffect(() => {\n    setColorScheme(defaultColorScheme);\n  }, [defaultColorScheme]);\n  return [colorScheme, setColorScheme];\n}\nfunction useLabelSearch(search, data) {\n  return useMemo(() => {\n    if (!search || !data) {\n      return void 0;\n    }\n    return labelSearch(search, data);\n  }, [search, data]);\n}\nfunction labelSearch(search, data) {\n  const foundLabels = /* @__PURE__ */ new Set();\n  const terms = search.split(\",\");\n  const regexFilter = (labels, pattern) => {\n    let regex;\n    try {\n      regex = new RegExp(pattern);\n    } catch (e) {\n      return false;\n    }\n    let foundMatch = false;\n    for (let label of labels) {\n      if (!regex.test(label)) {\n        continue;\n      }\n      foundLabels.add(label);\n      foundMatch = true;\n    }\n    return foundMatch;\n  };\n  const fuzzyFilter = (labels, term) => {\n    let idxs = ufuzzy.filter(labels, term);\n    if (!idxs) {\n      return false;\n    }\n    let foundMatch = false;\n    for (let idx of idxs) {\n      foundLabels.add(labels[idx]);\n      foundMatch = true;\n    }\n    return foundMatch;\n  };\n  for (let term of terms) {\n    if (!term) {\n      continue;\n    }\n    const found = regexFilter(data.getUniqueLabels(), term);\n    if (!found) {\n      fuzzyFilter(data.getUniqueLabels(), term);\n    }\n  }\n  return foundLabels;\n}\nfunction getStyles(theme) {\n  return {\n    container: css({\n      label: \"container\",\n      overflow: \"auto\",\n      height: \"100%\",\n      display: \"flex\",\n      flex: \"1 1 0\",\n      flexDirection: \"column\",\n      minHeight: 0,\n      gap: theme.spacing(1)\n    }),\n    body: css({\n      label: \"body\",\n      flexGrow: 1\n    }),\n    tableContainer: css({\n      // This is not ideal for dashboard panel where it creates a double scroll. In a panel it should be 100% but then\n      // in explore we need a specific height.\n      height: 800\n    }),\n    horizontalContainer: css({\n      label: \"horizontalContainer\",\n      display: \"flex\",\n      minHeight: 0,\n      flexDirection: \"row\",\n      columnGap: theme.spacing(1),\n      width: \"100%\"\n    }),\n    horizontalGraphContainer: css({\n      flexBasis: \"50%\"\n    }),\n    horizontalTableContainer: css({\n      flexBasis: \"50%\",\n      maxHeight: 800\n    }),\n    verticalGraphContainer: css({\n      marginBottom: theme.spacing(1)\n    }),\n    verticalTableContainer: css({\n      height: 800\n    })\n  };\n}\n\nexport { FlameGraphContainer as default, labelSearch, useLabelSearch };\n//# sourceMappingURL=FlameGraphContainer.mjs.map\n","var DataTopic = /* @__PURE__ */ ((DataTopic2) => {\n  DataTopic2[\"AlertStates\"] = \"alertStates\";\n  DataTopic2[\"Annotations\"] = \"annotations\";\n  DataTopic2[\"Series\"] = \"series\";\n  return DataTopic2;\n})(DataTopic || {});\nvar ScaleDimensionMode = /* @__PURE__ */ ((ScaleDimensionMode2) => {\n  ScaleDimensionMode2[\"Linear\"] = \"linear\";\n  ScaleDimensionMode2[\"Quad\"] = \"quad\";\n  return ScaleDimensionMode2;\n})(ScaleDimensionMode || {});\nvar ScalarDimensionMode = /* @__PURE__ */ ((ScalarDimensionMode2) => {\n  ScalarDimensionMode2[\"Clamped\"] = \"clamped\";\n  ScalarDimensionMode2[\"Mod\"] = \"mod\";\n  return ScalarDimensionMode2;\n})(ScalarDimensionMode || {});\nvar TextDimensionMode = /* @__PURE__ */ ((TextDimensionMode2) => {\n  TextDimensionMode2[\"Field\"] = \"field\";\n  TextDimensionMode2[\"Fixed\"] = \"fixed\";\n  TextDimensionMode2[\"Template\"] = \"template\";\n  return TextDimensionMode2;\n})(TextDimensionMode || {});\nvar ResourceDimensionMode = /* @__PURE__ */ ((ResourceDimensionMode2) => {\n  ResourceDimensionMode2[\"Field\"] = \"field\";\n  ResourceDimensionMode2[\"Fixed\"] = \"fixed\";\n  ResourceDimensionMode2[\"Mapping\"] = \"mapping\";\n  return ResourceDimensionMode2;\n})(ResourceDimensionMode || {});\nvar FrameGeometrySourceMode = /* @__PURE__ */ ((FrameGeometrySourceMode2) => {\n  FrameGeometrySourceMode2[\"Auto\"] = \"auto\";\n  FrameGeometrySourceMode2[\"Coords\"] = \"coords\";\n  FrameGeometrySourceMode2[\"Geohash\"] = \"geohash\";\n  FrameGeometrySourceMode2[\"Lookup\"] = \"lookup\";\n  return FrameGeometrySourceMode2;\n})(FrameGeometrySourceMode || {});\nvar HeatmapCalculationMode = /* @__PURE__ */ ((HeatmapCalculationMode2) => {\n  HeatmapCalculationMode2[\"Count\"] = \"count\";\n  HeatmapCalculationMode2[\"Size\"] = \"size\";\n  return HeatmapCalculationMode2;\n})(HeatmapCalculationMode || {});\nvar HeatmapCellLayout = /* @__PURE__ */ ((HeatmapCellLayout2) => {\n  HeatmapCellLayout2[\"auto\"] = \"auto\";\n  HeatmapCellLayout2[\"ge\"] = \"ge\";\n  HeatmapCellLayout2[\"le\"] = \"le\";\n  HeatmapCellLayout2[\"unknown\"] = \"unknown\";\n  return HeatmapCellLayout2;\n})(HeatmapCellLayout || {});\nvar LogsSortOrder = /* @__PURE__ */ ((LogsSortOrder2) => {\n  LogsSortOrder2[\"Ascending\"] = \"Ascending\";\n  LogsSortOrder2[\"Descending\"] = \"Descending\";\n  return LogsSortOrder2;\n})(LogsSortOrder || {});\nvar AxisPlacement = /* @__PURE__ */ ((AxisPlacement2) => {\n  AxisPlacement2[\"Auto\"] = \"auto\";\n  AxisPlacement2[\"Bottom\"] = \"bottom\";\n  AxisPlacement2[\"Hidden\"] = \"hidden\";\n  AxisPlacement2[\"Left\"] = \"left\";\n  AxisPlacement2[\"Right\"] = \"right\";\n  AxisPlacement2[\"Top\"] = \"top\";\n  return AxisPlacement2;\n})(AxisPlacement || {});\nvar AxisColorMode = /* @__PURE__ */ ((AxisColorMode2) => {\n  AxisColorMode2[\"Series\"] = \"series\";\n  AxisColorMode2[\"Text\"] = \"text\";\n  return AxisColorMode2;\n})(AxisColorMode || {});\nvar VisibilityMode = /* @__PURE__ */ ((VisibilityMode2) => {\n  VisibilityMode2[\"Always\"] = \"always\";\n  VisibilityMode2[\"Auto\"] = \"auto\";\n  VisibilityMode2[\"Never\"] = \"never\";\n  return VisibilityMode2;\n})(VisibilityMode || {});\nvar GraphDrawStyle = /* @__PURE__ */ ((GraphDrawStyle2) => {\n  GraphDrawStyle2[\"Bars\"] = \"bars\";\n  GraphDrawStyle2[\"Line\"] = \"line\";\n  GraphDrawStyle2[\"Points\"] = \"points\";\n  return GraphDrawStyle2;\n})(GraphDrawStyle || {});\nvar GraphTransform = /* @__PURE__ */ ((GraphTransform2) => {\n  GraphTransform2[\"Constant\"] = \"constant\";\n  GraphTransform2[\"NegativeY\"] = \"negative-Y\";\n  return GraphTransform2;\n})(GraphTransform || {});\nvar LineInterpolation = /* @__PURE__ */ ((LineInterpolation2) => {\n  LineInterpolation2[\"Linear\"] = \"linear\";\n  LineInterpolation2[\"Smooth\"] = \"smooth\";\n  LineInterpolation2[\"StepAfter\"] = \"stepAfter\";\n  LineInterpolation2[\"StepBefore\"] = \"stepBefore\";\n  return LineInterpolation2;\n})(LineInterpolation || {});\nvar ScaleDistribution = /* @__PURE__ */ ((ScaleDistribution2) => {\n  ScaleDistribution2[\"Linear\"] = \"linear\";\n  ScaleDistribution2[\"Log\"] = \"log\";\n  ScaleDistribution2[\"Ordinal\"] = \"ordinal\";\n  ScaleDistribution2[\"Symlog\"] = \"symlog\";\n  return ScaleDistribution2;\n})(ScaleDistribution || {});\nvar GraphGradientMode = /* @__PURE__ */ ((GraphGradientMode2) => {\n  GraphGradientMode2[\"Hue\"] = \"hue\";\n  GraphGradientMode2[\"None\"] = \"none\";\n  GraphGradientMode2[\"Opacity\"] = \"opacity\";\n  GraphGradientMode2[\"Scheme\"] = \"scheme\";\n  return GraphGradientMode2;\n})(GraphGradientMode || {});\nvar StackingMode = /* @__PURE__ */ ((StackingMode2) => {\n  StackingMode2[\"None\"] = \"none\";\n  StackingMode2[\"Normal\"] = \"normal\";\n  StackingMode2[\"Percent\"] = \"percent\";\n  return StackingMode2;\n})(StackingMode || {});\nvar BarAlignment = /* @__PURE__ */ ((BarAlignment2) => {\n  BarAlignment2[BarAlignment2[\"After\"] = 1] = \"After\";\n  BarAlignment2[BarAlignment2[\"Before\"] = -1] = \"Before\";\n  BarAlignment2[BarAlignment2[\"Center\"] = 0] = \"Center\";\n  return BarAlignment2;\n})(BarAlignment || {});\nvar ScaleOrientation = /* @__PURE__ */ ((ScaleOrientation2) => {\n  ScaleOrientation2[ScaleOrientation2[\"Horizontal\"] = 0] = \"Horizontal\";\n  ScaleOrientation2[ScaleOrientation2[\"Vertical\"] = 1] = \"Vertical\";\n  return ScaleOrientation2;\n})(ScaleOrientation || {});\nvar ScaleDirection = /* @__PURE__ */ ((ScaleDirection2) => {\n  ScaleDirection2[ScaleDirection2[\"Down\"] = -1] = \"Down\";\n  ScaleDirection2[ScaleDirection2[\"Left\"] = -1] = \"Left\";\n  ScaleDirection2[ScaleDirection2[\"Right\"] = 1] = \"Right\";\n  ScaleDirection2[ScaleDirection2[\"Up\"] = 1] = \"Up\";\n  return ScaleDirection2;\n})(ScaleDirection || {});\nconst defaultLineStyle = {\n  dash: []\n};\nvar GraphThresholdsStyleMode = /* @__PURE__ */ ((GraphThresholdsStyleMode2) => {\n  GraphThresholdsStyleMode2[\"Area\"] = \"area\";\n  GraphThresholdsStyleMode2[\"Dashed\"] = \"dashed\";\n  GraphThresholdsStyleMode2[\"DashedAndArea\"] = \"dashed+area\";\n  GraphThresholdsStyleMode2[\"Line\"] = \"line\";\n  GraphThresholdsStyleMode2[\"LineAndArea\"] = \"line+area\";\n  GraphThresholdsStyleMode2[\"Off\"] = \"off\";\n  GraphThresholdsStyleMode2[\"Series\"] = \"series\";\n  return GraphThresholdsStyleMode2;\n})(GraphThresholdsStyleMode || {});\nvar LegendDisplayMode = /* @__PURE__ */ ((LegendDisplayMode2) => {\n  LegendDisplayMode2[\"Hidden\"] = \"hidden\";\n  LegendDisplayMode2[\"List\"] = \"list\";\n  LegendDisplayMode2[\"Table\"] = \"table\";\n  return LegendDisplayMode2;\n})(LegendDisplayMode || {});\nconst defaultReduceDataOptions = {\n  calcs: []\n};\nvar VizOrientation = /* @__PURE__ */ ((VizOrientation2) => {\n  VizOrientation2[\"Auto\"] = \"auto\";\n  VizOrientation2[\"Horizontal\"] = \"horizontal\";\n  VizOrientation2[\"Vertical\"] = \"vertical\";\n  return VizOrientation2;\n})(VizOrientation || {});\nconst defaultOptionsWithTimezones = {\n  timezone: []\n};\nvar BigValueColorMode = /* @__PURE__ */ ((BigValueColorMode2) => {\n  BigValueColorMode2[\"Background\"] = \"background\";\n  BigValueColorMode2[\"BackgroundSolid\"] = \"background_solid\";\n  BigValueColorMode2[\"None\"] = \"none\";\n  BigValueColorMode2[\"Value\"] = \"value\";\n  return BigValueColorMode2;\n})(BigValueColorMode || {});\nvar BigValueGraphMode = /* @__PURE__ */ ((BigValueGraphMode2) => {\n  BigValueGraphMode2[\"Area\"] = \"area\";\n  BigValueGraphMode2[\"Line\"] = \"line\";\n  BigValueGraphMode2[\"None\"] = \"none\";\n  return BigValueGraphMode2;\n})(BigValueGraphMode || {});\nvar BigValueJustifyMode = /* @__PURE__ */ ((BigValueJustifyMode2) => {\n  BigValueJustifyMode2[\"Auto\"] = \"auto\";\n  BigValueJustifyMode2[\"Center\"] = \"center\";\n  return BigValueJustifyMode2;\n})(BigValueJustifyMode || {});\nvar BigValueTextMode = /* @__PURE__ */ ((BigValueTextMode2) => {\n  BigValueTextMode2[\"Auto\"] = \"auto\";\n  BigValueTextMode2[\"Name\"] = \"name\";\n  BigValueTextMode2[\"None\"] = \"none\";\n  BigValueTextMode2[\"Value\"] = \"value\";\n  BigValueTextMode2[\"ValueAndName\"] = \"value_and_name\";\n  return BigValueTextMode2;\n})(BigValueTextMode || {});\nvar PercentChangeColorMode = /* @__PURE__ */ ((PercentChangeColorMode2) => {\n  PercentChangeColorMode2[\"Inverted\"] = \"inverted\";\n  PercentChangeColorMode2[\"SameAsValue\"] = \"same_as_value\";\n  PercentChangeColorMode2[\"Standard\"] = \"standard\";\n  return PercentChangeColorMode2;\n})(PercentChangeColorMode || {});\nvar TooltipDisplayMode = /* @__PURE__ */ ((TooltipDisplayMode2) => {\n  TooltipDisplayMode2[\"Multi\"] = \"multi\";\n  TooltipDisplayMode2[\"None\"] = \"none\";\n  TooltipDisplayMode2[\"Single\"] = \"single\";\n  return TooltipDisplayMode2;\n})(TooltipDisplayMode || {});\nvar SortOrder = /* @__PURE__ */ ((SortOrder2) => {\n  SortOrder2[\"Ascending\"] = \"asc\";\n  SortOrder2[\"Descending\"] = \"desc\";\n  SortOrder2[\"None\"] = \"none\";\n  return SortOrder2;\n})(SortOrder || {});\nconst defaultVizLegendOptions = {\n  calcs: []\n};\nvar BarGaugeDisplayMode = /* @__PURE__ */ ((BarGaugeDisplayMode2) => {\n  BarGaugeDisplayMode2[\"Basic\"] = \"basic\";\n  BarGaugeDisplayMode2[\"Gradient\"] = \"gradient\";\n  BarGaugeDisplayMode2[\"Lcd\"] = \"lcd\";\n  return BarGaugeDisplayMode2;\n})(BarGaugeDisplayMode || {});\nvar BarGaugeValueMode = /* @__PURE__ */ ((BarGaugeValueMode2) => {\n  BarGaugeValueMode2[\"Color\"] = \"color\";\n  BarGaugeValueMode2[\"Hidden\"] = \"hidden\";\n  BarGaugeValueMode2[\"Text\"] = \"text\";\n  return BarGaugeValueMode2;\n})(BarGaugeValueMode || {});\nvar BarGaugeNamePlacement = /* @__PURE__ */ ((BarGaugeNamePlacement2) => {\n  BarGaugeNamePlacement2[\"Auto\"] = \"auto\";\n  BarGaugeNamePlacement2[\"Hidden\"] = \"hidden\";\n  BarGaugeNamePlacement2[\"Left\"] = \"left\";\n  BarGaugeNamePlacement2[\"Top\"] = \"top\";\n  return BarGaugeNamePlacement2;\n})(BarGaugeNamePlacement || {});\nvar BarGaugeSizing = /* @__PURE__ */ ((BarGaugeSizing2) => {\n  BarGaugeSizing2[\"Auto\"] = \"auto\";\n  BarGaugeSizing2[\"Manual\"] = \"manual\";\n  return BarGaugeSizing2;\n})(BarGaugeSizing || {});\nvar TableCellDisplayMode = /* @__PURE__ */ ((TableCellDisplayMode2) => {\n  TableCellDisplayMode2[\"Actions\"] = \"actions\";\n  TableCellDisplayMode2[\"Auto\"] = \"auto\";\n  TableCellDisplayMode2[\"BasicGauge\"] = \"basic\";\n  TableCellDisplayMode2[\"ColorBackground\"] = \"color-background\";\n  TableCellDisplayMode2[\"ColorBackgroundSolid\"] = \"color-background-solid\";\n  TableCellDisplayMode2[\"ColorText\"] = \"color-text\";\n  TableCellDisplayMode2[\"Custom\"] = \"custom\";\n  TableCellDisplayMode2[\"DataLinks\"] = \"data-links\";\n  TableCellDisplayMode2[\"Gauge\"] = \"gauge\";\n  TableCellDisplayMode2[\"GradientGauge\"] = \"gradient-gauge\";\n  TableCellDisplayMode2[\"Image\"] = \"image\";\n  TableCellDisplayMode2[\"JSONView\"] = \"json-view\";\n  TableCellDisplayMode2[\"LcdGauge\"] = \"lcd-gauge\";\n  TableCellDisplayMode2[\"Pill\"] = \"pill\";\n  TableCellDisplayMode2[\"Sparkline\"] = \"sparkline\";\n  return TableCellDisplayMode2;\n})(TableCellDisplayMode || {});\nvar TableCellBackgroundDisplayMode = /* @__PURE__ */ ((TableCellBackgroundDisplayMode2) => {\n  TableCellBackgroundDisplayMode2[\"Basic\"] = \"basic\";\n  TableCellBackgroundDisplayMode2[\"Gradient\"] = \"gradient\";\n  return TableCellBackgroundDisplayMode2;\n})(TableCellBackgroundDisplayMode || {});\nconst defaultTableFooterOptions = {\n  fields: [],\n  reducer: []\n};\nvar TableCellHeight = /* @__PURE__ */ ((TableCellHeight2) => {\n  TableCellHeight2[\"Auto\"] = \"auto\";\n  TableCellHeight2[\"Lg\"] = \"lg\";\n  TableCellHeight2[\"Md\"] = \"md\";\n  TableCellHeight2[\"Sm\"] = \"sm\";\n  return TableCellHeight2;\n})(TableCellHeight || {});\nvar VariableFormatID = /* @__PURE__ */ ((VariableFormatID2) => {\n  VariableFormatID2[\"CSV\"] = \"csv\";\n  VariableFormatID2[\"Date\"] = \"date\";\n  VariableFormatID2[\"Distributed\"] = \"distributed\";\n  VariableFormatID2[\"DoubleQuote\"] = \"doublequote\";\n  VariableFormatID2[\"Glob\"] = \"glob\";\n  VariableFormatID2[\"HTML\"] = \"html\";\n  VariableFormatID2[\"JSON\"] = \"json\";\n  VariableFormatID2[\"Join\"] = \"join\";\n  VariableFormatID2[\"Lucene\"] = \"lucene\";\n  VariableFormatID2[\"PercentEncode\"] = \"percentencode\";\n  VariableFormatID2[\"Pipe\"] = \"pipe\";\n  VariableFormatID2[\"QueryParam\"] = \"queryparam\";\n  VariableFormatID2[\"Raw\"] = \"raw\";\n  VariableFormatID2[\"Regex\"] = \"regex\";\n  VariableFormatID2[\"SQLString\"] = \"sqlstring\";\n  VariableFormatID2[\"SingleQuote\"] = \"singlequote\";\n  VariableFormatID2[\"Text\"] = \"text\";\n  VariableFormatID2[\"UriEncode\"] = \"uriencode\";\n  return VariableFormatID2;\n})(VariableFormatID || {});\nvar LogsDedupStrategy = /* @__PURE__ */ ((LogsDedupStrategy2) => {\n  LogsDedupStrategy2[\"exact\"] = \"exact\";\n  LogsDedupStrategy2[\"none\"] = \"none\";\n  LogsDedupStrategy2[\"numbers\"] = \"numbers\";\n  LogsDedupStrategy2[\"signature\"] = \"signature\";\n  return LogsDedupStrategy2;\n})(LogsDedupStrategy || {});\nvar ComparisonOperation = /* @__PURE__ */ ((ComparisonOperation2) => {\n  ComparisonOperation2[\"EQ\"] = \"eq\";\n  ComparisonOperation2[\"GT\"] = \"gt\";\n  ComparisonOperation2[\"GTE\"] = \"gte\";\n  ComparisonOperation2[\"LT\"] = \"lt\";\n  ComparisonOperation2[\"LTE\"] = \"lte\";\n  ComparisonOperation2[\"NEQ\"] = \"neq\";\n  return ComparisonOperation2;\n})(ComparisonOperation || {});\nconst defaultTimeZone = \"browser\";\n\nexport { AxisColorMode, AxisPlacement, BarAlignment, BarGaugeDisplayMode, BarGaugeNamePlacement, BarGaugeSizing, BarGaugeValueMode, BigValueColorMode, BigValueGraphMode, BigValueJustifyMode, BigValueTextMode, ComparisonOperation, DataTopic, FrameGeometrySourceMode, GraphDrawStyle, GraphGradientMode, GraphThresholdsStyleMode, GraphTransform, HeatmapCalculationMode, HeatmapCellLayout, LegendDisplayMode, LineInterpolation, LogsDedupStrategy, LogsSortOrder, PercentChangeColorMode, ResourceDimensionMode, ScalarDimensionMode, ScaleDimensionMode, ScaleDirection, ScaleDistribution, ScaleOrientation, SortOrder, StackingMode, TableCellBackgroundDisplayMode, TableCellDisplayMode, TableCellHeight, TextDimensionMode, TooltipDisplayMode, VariableFormatID, VisibilityMode, VizOrientation, defaultLineStyle, defaultOptionsWithTimezones, defaultReduceDataOptions, defaultTableFooterOptions, defaultTimeZone, defaultVizLegendOptions };\n//# sourceMappingURL=common.gen.mjs.map\n","/**\n* Copyright (c) 2025, Leon Sorokin\n* All rights reserved. (MIT Licensed)\n*\n* uFuzzy.js (Fuzzy)\n* A tiny, efficient fuzzy matcher that doesn't suck\n* https://github.com/leeoniya/uFuzzy (v1.0.18)\n*/\n\nconst cmp = (a, b) => a > b ? 1 : a < b ? -1 : 0;\n\nconst inf = Infinity;\n\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_expressions#escaping\nconst escapeRegExp = str => str.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n\n// meh, magic tmp placeholder, must be tolerant to toLocaleLowerCase(), interSplit, and intraSplit\nconst EXACT_HERE = 'eexxaacctt';\n\nconst PUNCT_RE = /\\p{P}/gu;\n\nconst LATIN_UPPER = 'A-Z';\nconst LATIN_LOWER = 'a-z';\n\nconst COLLATE_ARGS = ['en', { numeric: true, sensitivity: 'base' }];\n\nconst swapAlpha = (str, upper, lower) => str.replace(LATIN_UPPER, upper).replace(LATIN_LOWER, lower);\n\nconst OPTS = {\n\t// whether regexps use a /u unicode flag\n\tunicode: false,\n\n\talpha: null,\n\n\t// term segmentation & punct/whitespace merging\n\tinterSplit: \"[^A-Za-z\\\\d']+\",\n\tintraSplit: \"[a-z][A-Z]\",\n\n\t// inter bounds that will be used to increase lft2/rgt2 info counters\n\tinterBound: \"[^A-Za-z\\\\d]\",\n\t// intra bounds that will be used to increase lft1/rgt1 info counters\n\tintraBound: \"[A-Za-z]\\\\d|\\\\d[A-Za-z]|[a-z][A-Z]\",\n\n\t// inter-bounds mode\n\t// 2 = strict (will only match 'man' on whitepace and punct boundaries: Mega Man, Mega_Man, mega.man)\n\t// 1 = loose  (plus allowance for alpha-num and case-change boundaries: MegaMan, 0007man)\n\t// 0 = any    (will match 'man' as any substring: megamaniac)\n\tinterLft: 0,\n\tinterRgt: 0,\n\n\t// allowance between terms\n\tinterChars: '.',\n\tinterIns: inf,\n\n\t// allowance between chars in terms\n\tintraChars: \"[a-z\\\\d']\", // internally case-insensitive\n\tintraIns: null,\n\n\tintraContr: \"'[a-z]{1,2}\\\\b\",\n\n\t// multi-insert or single-error mode\n\tintraMode: 0,\n\n\t// single-error bounds for errors within terms, default requires exact first char\n\tintraSlice: [1, inf],\n\n\t// single-error tolerance toggles\n\tintraSub: null,\n\tintraTrn: null,\n\tintraDel: null,\n\n\t// can post-filter matches that are too far apart in distance or length\n\t// (since intraIns is between each char, it can accum to nonsense matches)\n\tintraFilt: (term, match, index) => true, // should this also accept WIP info?\n\n\ttoUpper: str => str.toLocaleUpperCase(),\n\ttoLower: str => str.toLocaleLowerCase(),\n\tcompare: null,\n\n\t// final sorting fn\n\tsort: (info, haystack, needle, compare = cmp) => {\n\t\tlet {\n\t\t\tidx,\n\t\t\tchars,\n\t\t\tterms,\n\t\t\tinterLft2,\n\t\t\tinterLft1,\n\t\t//\tinterRgt2,\n\t\t//\tinterRgt1,\n\t\t\tstart,\n\t\t\tintraIns,\n\t\t\tinterIns,\n\t\t\tcases,\n\t\t} = info;\n\n\t\treturn idx.map((v, i) => i).sort((ia, ib) => (\n\t\t\t// most contig chars matched\n\t\t\tchars[ib] - chars[ia] ||\n\t\t\t// least char intra-fuzz (most contiguous)\n\t\t\tintraIns[ia] - intraIns[ib] ||\n\t\t\t// most prefix bounds, boosted by full term matches\n\t\t\t(\n\t\t\t\t(terms[ib] + interLft2[ib] + 0.5 * interLft1[ib]) -\n\t\t\t\t(terms[ia] + interLft2[ia] + 0.5 * interLft1[ia])\n\t\t\t) ||\n\t\t\t// highest density of match (least span)\n\t\t//\tspan[ia] - span[ib] ||\n\t\t\t// highest density of match (least term inter-fuzz)\n\t\t\tinterIns[ia] - interIns[ib] ||\n\t\t\t// earliest start of match\n\t\t\tstart[ia] - start[ib] ||\n\t\t\t// case match\n\t\t\tcases[ib] - cases[ia] ||\n\t\t\t// alphabetic\n\t\t\tcompare(haystack[idx[ia]], haystack[idx[ib]])\n\t\t));\n\t},\n};\n\nconst lazyRepeat = (chars, limit) => (\n\tlimit == 0   ? ''           :\n\tlimit == 1   ? chars + '??' :\n\tlimit == inf ? chars + '*?' :\n\t               chars + `{0,${limit}}?`\n);\n\nconst mode2Tpl = '(?:\\\\b|_)';\n\nfunction uFuzzy(opts) {\n\topts = Object.assign({}, OPTS, opts);\n\n\tlet {\n\t\tunicode,\n\t\tinterLft,\n\t\tinterRgt,\n\t\tintraMode,\n\t\tintraSlice,\n\t\tintraIns,\n\t\tintraSub,\n\t\tintraTrn,\n\t\tintraDel,\n\t\tintraContr,\n\t\tintraSplit: _intraSplit,\n\t\tinterSplit: _interSplit,\n\t\tintraBound: _intraBound,\n\t\tinterBound: _interBound,\n\t\tintraChars,\n\t\ttoUpper,\n\t\ttoLower,\n\t\tcompare,\n\t} = opts;\n\n\tintraIns ??= intraMode;\n\tintraSub ??= intraMode;\n\tintraTrn ??= intraMode;\n\tintraDel ??= intraMode;\n\n\tcompare ??= typeof Intl == \"undefined\" ? cmp : new Intl.Collator(...COLLATE_ARGS).compare;\n\n\tlet alpha = opts.letters ?? opts.alpha;\n\n\tif (alpha != null) {\n\t\tlet upper = toUpper(alpha);\n\t\tlet lower = toLower(alpha);\n\n\t\t_interSplit = swapAlpha(_interSplit, upper, lower);\n\t\t_intraSplit = swapAlpha(_intraSplit, upper, lower);\n\t\t_interBound = swapAlpha(_interBound, upper, lower);\n\t\t_intraBound = swapAlpha(_intraBound, upper, lower);\n\t\tintraChars = swapAlpha(intraChars, upper, lower);\n\t\tintraContr = swapAlpha(intraContr, upper, lower);\n\t}\n\n\tlet uFlag = unicode ? 'u' : '';\n\n\tconst quotedAny = '\".+?\"';\n\tconst EXACTS_RE = new RegExp(quotedAny, 'gi' + uFlag);\n\tconst NEGS_RE = new RegExp(`(?:\\\\s+|^)-(?:${intraChars}+|${quotedAny})`, 'gi' + uFlag);\n\n\tlet { intraRules } = opts;\n\n\tif (intraRules == null) {\n\t\tintraRules = p => {\n\t\t\t// default is exact term matches only\n\t\t\tlet _intraSlice = OPTS.intraSlice, // requires first char\n\t\t\t\t_intraIns = 0,\n\t\t\t\t_intraSub = 0,\n\t\t\t\t_intraTrn = 0,\n\t\t\t\t_intraDel = 0;\n\n\t\t\t// only-digits strings should match exactly, else special rules for short strings\n\t\t\tif (/[^\\d]/.test(p)) {\n\t\t\t\tlet plen = p.length;\n\n\t\t\t\t// prevent junk matches by requiring stricter rules for short terms\n\t\t\t\tif (plen <= 4) {\n\t\t\t\t\tif (plen >= 3) {\n\t\t\t\t\t\t// one swap in non-first char when 3-4 chars\n\t\t\t\t\t\t_intraTrn = Math.min(intraTrn, 1);\n\n\t\t\t\t\t\t// or one insertion when 4 chars\n\t\t\t\t\t\tif (plen == 4)\n\t\t\t\t\t\t\t_intraIns = Math.min(intraIns, 1);\n\t\t\t\t\t}\n\t\t\t\t\t// else exact match when 1-2 chars\n\t\t\t\t}\n\t\t\t\t// use supplied opts\n\t\t\t\telse {\n\t\t\t\t\t_intraSlice = intraSlice;\n\t\t\t\t\t_intraIns = intraIns,\n\t\t\t\t\t_intraSub = intraSub,\n\t\t\t\t\t_intraTrn = intraTrn,\n\t\t\t\t\t_intraDel = intraDel;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tintraSlice: _intraSlice,\n\t\t\t\tintraIns: _intraIns,\n\t\t\t\tintraSub: _intraSub,\n\t\t\t\tintraTrn: _intraTrn,\n\t\t\t\tintraDel: _intraDel,\n\t\t\t};\n\t\t};\n\t}\n\n\tlet withIntraSplit = !!_intraSplit;\n\n\tlet intraSplit = new RegExp(_intraSplit, 'g' + uFlag);\n\tlet interSplit = new RegExp(_interSplit, 'g' + uFlag);\n\n\tlet trimRe = new RegExp('^' + _interSplit + '|' + _interSplit + '$', 'g' + uFlag);\n\tlet contrsRe = new RegExp(intraContr, 'gi' + uFlag);\n\n\tconst split = (needle, keepCase = false) => {\n\t\tlet exacts = [];\n\n\t\tneedle = needle.replace(EXACTS_RE, m => {\n\t\t\texacts.push(m);\n\t\t\treturn EXACT_HERE;\n\t\t});\n\n\t\tneedle = needle.replace(trimRe, '');\n\n\t\tif (!keepCase)\n\t\t\tneedle = toLower(needle);\n\n\t\tif (withIntraSplit)\n\t\t\tneedle = needle.replace(intraSplit, m => m[0] + ' ' + m[1]);\n\n\t\tlet j = 0;\n\t\treturn needle.split(interSplit).filter(t => t != '').map(v => v === EXACT_HERE ? exacts[j++] : v);\n\t};\n\n\tconst NUM_OR_ALPHA_RE = /[^\\d]+|\\d+/g;\n\n\tconst prepQuery = (needle, capt = 0, interOR = false) => {\n\t\t// split on punct, whitespace, num-alpha, and upper-lower boundaries\n\t\tlet parts = split(needle);\n\n\t\tif (parts.length == 0)\n\t\t\treturn [];\n\n\t\t// split out any detected contractions for each term that become required suffixes\n\t\tlet contrs = Array(parts.length).fill('');\n\t\tparts = parts.map((p, pi) => p.replace(contrsRe, m => {\n\t\t\tcontrs[pi] = m;\n\t\t\treturn '';\n\t\t}));\n\n\t\t// array of regexp tpls for each term\n\t\tlet reTpl;\n\n\t\t// allows single mutations within each term\n\t\tif (intraMode == 1) {\n\t\t\treTpl = parts.map((p, pi) => {\n\t\t\t\tif (p[0] === '\"')\n\t\t\t\t\treturn escapeRegExp(p.slice(1, -1));\n\n\t\t\t\tlet reTpl = '';\n\n\t\t\t\t// split into numeric and alpha parts, so numbers are only matched as following punct or alpha boundaries, without swaps or insertions\n\t\t\t\tfor (let m of p.matchAll(NUM_OR_ALPHA_RE)) {\n\t\t\t\t\tlet p = m[0];\n\n\t\t\t\t\tlet {\n\t\t\t\t\t\tintraSlice,\n\t\t\t\t\t\tintraIns,\n\t\t\t\t\t\tintraSub,\n\t\t\t\t\t\tintraTrn,\n\t\t\t\t\t\tintraDel,\n\t\t\t\t\t} = intraRules(p);\n\n\t\t\t\t\tif (intraIns + intraSub + intraTrn + intraDel == 0)\n\t\t\t\t\t\treTpl += p + contrs[pi];\n\t\t\t\t\telse {\n\t\t\t\t\t\tlet [lftIdx, rgtIdx] = intraSlice;\n\t\t\t\t\t\tlet lftChar = p.slice(0, lftIdx); // prefix\n\t\t\t\t\t\tlet rgtChar = p.slice(rgtIdx);    // suffix\n\n\t\t\t\t\t\tlet chars = p.slice(lftIdx, rgtIdx);\n\n\t\t\t\t\t\t// neg lookahead to prefer matching 'Test' instead of 'tTest' in ManifestTest or fittest\n\t\t\t\t\t\t// but skip when search term contains leading repetition (aardvark, aaa)\n\t\t\t\t\t\tif (intraIns == 1 && lftChar.length == 1 && lftChar != chars[0])\n\t\t\t\t\t\t\tlftChar += '(?!' + lftChar + ')';\n\n\t\t\t\t\t\tlet numChars = chars.length;\n\n\t\t\t\t\t\tlet variants = [p];\n\n\t\t\t\t\t\t// variants with single char substitutions\n\t\t\t\t\t\tif (intraSub) {\n\t\t\t\t\t\t\tfor (let i = 0; i < numChars; i++)\n\t\t\t\t\t\t\t\tvariants.push(lftChar + chars.slice(0, i) + intraChars + chars.slice(i + 1) + rgtChar);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// variants with single transpositions\n\t\t\t\t\t\tif (intraTrn) {\n\t\t\t\t\t\t\tfor (let i = 0; i < numChars - 1; i++) {\n\t\t\t\t\t\t\t\tif (chars[i] != chars[i+1])\n\t\t\t\t\t\t\t\t\tvariants.push(lftChar + chars.slice(0, i) + chars[i+1] + chars[i] + chars.slice(i + 2) + rgtChar);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// variants with single char omissions\n\t\t\t\t\t\tif (intraDel) {\n\t\t\t\t\t\t\tfor (let i = 0; i < numChars; i++)\n\t\t\t\t\t\t\t\tvariants.push(lftChar + chars.slice(0, i + 1) + '?' + chars.slice(i + 1) + rgtChar);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// variants with single char insertions\n\t\t\t\t\t\tif (intraIns) {\n\t\t\t\t\t\t\tlet intraInsTpl = lazyRepeat(intraChars, 1);\n\n\t\t\t\t\t\t\tfor (let i = 0; i < numChars; i++)\n\t\t\t\t\t\t\t\tvariants.push(lftChar + chars.slice(0, i) + intraInsTpl + chars.slice(i) + rgtChar);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treTpl += '(?:' + variants.join('|') + ')' + contrs[pi];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t//\tconsole.log(reTpl);\n\n\t\t\t\treturn reTpl;\n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\tlet intraInsTpl = lazyRepeat(intraChars, intraIns);\n\n\t\t\t// capture at char level\n\t\t\tif (capt == 2 && intraIns > 0) {\n\t\t\t\t// sadly, we also have to capture the inter-term junk via parenth-wrapping .*?\n\t\t\t\t// to accum other capture groups' indices for \\b boosting during scoring\n\t\t\t\tintraInsTpl = ')(' + intraInsTpl + ')(';\n\t\t\t}\n\n\t\t\treTpl = parts.map((p, pi) => p[0] === '\"' ? escapeRegExp(p.slice(1, -1)) :  p.split('').map((c, i, chars) => {\n\t\t\t\t// neg lookahead to prefer matching 'Test' instead of 'tTest' in ManifestTest or fittest\n\t\t\t\t// but skip when search term contains leading repetition (aardvark, aaa)\n\t\t\t\tif (intraIns == 1 && i == 0 && chars.length > 1 && c != chars[i+1])\n\t\t\t\t\tc += '(?!' + c + ')';\n\n\t\t\t\treturn c;\n\t\t\t}).join(intraInsTpl) + contrs[pi]);\n\t\t}\n\n\t//\tconsole.log(reTpl);\n\n\t\t// this only helps to reduce initial matches early when they can be detected\n\t\t// TODO: might want a mode 3 that excludes _\n\t\tlet preTpl = interLft == 2 ? mode2Tpl : '';\n\t\tlet sufTpl = interRgt == 2 ? mode2Tpl : '';\n\n\t\tlet interCharsTpl = sufTpl + lazyRepeat(opts.interChars, opts.interIns) + preTpl;\n\n\t\t// capture at word level\n\t\tif (capt > 0) {\n\t\t\tif (interOR) {\n\t\t\t\t// this is basically for doing .matchAll() occurence counting and highlighting without needing permuted ooo needles\n\t\t\t\treTpl = preTpl + '(' + reTpl.join(')' + sufTpl + '|' + preTpl + '(') + ')' + sufTpl;\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// sadly, we also have to capture the inter-term junk via parenth-wrapping .*?\n\t\t\t\t// to accum other capture groups' indices for \\b boosting during scoring\n\t\t\t\treTpl = '(' + reTpl.join(')(' + interCharsTpl + ')(') + ')';\n\t\t\t\treTpl = '(.??' + preTpl + ')' + reTpl + '(' + sufTpl + '.*)'; // nit: trailing capture here assumes interIns = Inf\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\treTpl = reTpl.join(interCharsTpl);\n\t\t\treTpl = preTpl + reTpl + sufTpl;\n\t\t}\n\n\t//\tconsole.log(reTpl);\n\n\t\treturn [new RegExp(reTpl, 'i' + uFlag), parts, contrs];\n\t};\n\n\tconst filter = (haystack, needle, idxs) => {\n\n\t\tlet [query] = prepQuery(needle);\n\n\t\tif (query == null)\n\t\t\treturn null;\n\n\t\tlet out = [];\n\n\t\tif (idxs != null) {\n\t\t\tfor (let i = 0; i < idxs.length; i++) {\n\t\t\t\tlet idx = idxs[i];\n\t\t\t\tquery.test(haystack[idx]) && out.push(idx);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tfor (let i = 0; i < haystack.length; i++)\n\t\t\t\tquery.test(haystack[i]) && out.push(i);\n\t\t}\n\n\t\treturn out;\n\t};\n\n\tlet withIntraBound = !!_intraBound;\n\n\tlet interBound = new RegExp(_interBound, uFlag);\n\tlet intraBound = new RegExp(_intraBound, uFlag);\n\n\tconst info = (idxs, haystack, needle) => {\n\n\t\tlet [query, parts, contrs] = prepQuery(needle, 1);\n\t\tlet partsCased = split(needle, true);\n\t\tlet [queryR] = prepQuery(needle, 2);\n\t\tlet partsLen = parts.length;\n\n\t\tlet _terms      = Array(partsLen);\n\t\tlet _termsCased = Array(partsLen);\n\n\t\tfor (let j = 0; j < partsLen; j++) {\n\t\t\tlet part      = parts[j];\n\t\t\tlet partCased = partsCased[j];\n\n\t\t\tlet term      = part[0]      == '\"' ? part.slice(1, -1)      : part      + contrs[j];\n\t\t\tlet termCased = partCased[0] == '\"' ? partCased.slice(1, -1) : partCased + contrs[j];\n\n\t\t\t_terms[j]      = term;\n\t\t\t_termsCased[j] = termCased;\n\t\t}\n\n\t\tlet len = idxs.length;\n\n\t\tlet field = Array(len).fill(0);\n\n\t\tlet info = {\n\t\t\t// idx in haystack\n\t\t\tidx: Array(len),\n\n\t\t\t// start of match\n\t\t\tstart: field.slice(),\n\t\t\t// length of match\n\t\t//\tspan: field.slice(),\n\n\t\t\t// contiguous chars matched\n\t\t\tchars: field.slice(),\n\n\t\t\t// case matched in term (via term.includes(match))\n\t\t\tcases: field.slice(),\n\n\t\t\t// contiguous (no fuzz) and bounded terms (intra=0, lft2/1, rgt2/1)\n\t\t\t// excludes terms that are contiguous but have < 2 bounds (substrings)\n\t\t\tterms: field.slice(),\n\n\t\t\t// cumulative length of unmatched chars (fuzz) within span\n\t\t\tinterIns: field.slice(), // between terms\n\t\t\tintraIns: field.slice(), // within terms\n\n\t\t\t// interLft/interRgt counters\n\t\t\tinterLft2: field.slice(),\n\t\t\tinterRgt2: field.slice(),\n\t\t\tinterLft1: field.slice(),\n\t\t\tinterRgt1: field.slice(),\n\n\t\t\tranges: Array(len),\n\t\t};\n\n\t\t// might discard idxs based on bounds checks\n\t\tlet mayDiscard = interLft == 1 || interRgt == 1;\n\n\t\tlet ii = 0;\n\n\t\tfor (let i = 0; i < idxs.length; i++) {\n\t\t\tlet mhstr = haystack[idxs[i]];\n\n\t\t\t// the matched parts are [full, junk, term, junk, term, junk]\n\t\t\tlet m = mhstr.match(query);\n\n\t\t\t// leading junk\n\t\t\tlet start = m.index + m[1].length;\n\n\t\t\tlet idxAcc = start;\n\t\t//\tlet span = m[0].length;\n\n\t\t\tlet disc = false;\n\t\t\tlet lft2 = 0;\n\t\t\tlet lft1 = 0;\n\t\t\tlet rgt2 = 0;\n\t\t\tlet rgt1 = 0;\n\t\t\tlet chars = 0;\n\t\t\tlet terms = 0;\n\t\t\tlet cases = 0;\n\t\t\tlet inter = 0;\n\t\t\tlet intra = 0;\n\n\t\t\tlet refine = [];\n\n\t\t\tfor (let j = 0, k = 2; j < partsLen; j++, k+=2) {\n\t\t\t\tlet group     = toLower(m[k]);\n\t\t\t\tlet term      = _terms[j];\n\t\t\t\tlet termCased = _termsCased[j];\n\t\t\t\tlet termLen   = term.length;\n\t\t\t\tlet groupLen  = group.length;\n\t\t\t\tlet fullMatch = group == term;\n\n\t\t\t\tif (m[k] == termCased)\n\t\t\t\t\tcases++;\n\n\t\t\t\t// this won't handle the case when an exact match exists across the boundary of the current group and the next junk\n\t\t\t\t// e.g. blob,ob when searching for 'bob' but finding the earlier `blob` (with extra insertion)\n\t\t\t\tif (!fullMatch && m[k+1].length >= termLen) {\n\t\t\t\t\t// probe for exact match in inter junk (TODO: maybe even in this matched part?)\n\t\t\t\t\tlet idxOf = toLower(m[k+1]).indexOf(term);\n\n\t\t\t\t\tif (idxOf > -1) {\n\t\t\t\t\t\trefine.push(idxAcc, groupLen, idxOf, termLen);\n\t\t\t\t\t\tidxAcc += refineMatch(m, k, idxOf, termLen);\n\t\t\t\t\t\tgroup = term;\n\t\t\t\t\t\tgroupLen = termLen;\n\t\t\t\t\t\tfullMatch = true;\n\n\t\t\t\t\t\tif (j == 0)\n\t\t\t\t\t\t\tstart = idxAcc;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (mayDiscard || fullMatch) {\n\t\t\t\t\t// does group's left and/or right land on \\b\n\t\t\t\t\tlet lftCharIdx = idxAcc - 1;\n\t\t\t\t\tlet rgtCharIdx = idxAcc + groupLen;\n\n\t\t\t\t\tlet isPre = false;\n\t\t\t\t\tlet isSuf = false;\n\n\t\t\t\t\t// prefix info\n\t\t\t\t\tif (lftCharIdx == -1           || interBound.test(mhstr[lftCharIdx])) {\n\t\t\t\t\t\tfullMatch && lft2++;\n\t\t\t\t\t\tisPre = true;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (interLft == 2) {\n\t\t\t\t\t\t\tdisc = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (withIntraBound && intraBound.test(mhstr[lftCharIdx] + mhstr[lftCharIdx + 1])) {\n\t\t\t\t\t\t\tfullMatch && lft1++;\n\t\t\t\t\t\t\tisPre = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tif (interLft == 1) {\n\t\t\t\t\t\t\t\t// regexps are eager, so try to improve the match by probing forward inter junk for exact match at a boundary\n\t\t\t\t\t\t\t\tlet junk = m[k+1];\n\t\t\t\t\t\t\t\tlet junkIdx = idxAcc + groupLen;\n\n\t\t\t\t\t\t\t\tif (junk.length >= termLen) {\n\t\t\t\t\t\t\t\t\tlet idxOf = 0;\n\t\t\t\t\t\t\t\t\tlet found = false;\n\t\t\t\t\t\t\t\t\tlet re = new RegExp(term, 'ig' + uFlag);\n\n\t\t\t\t\t\t\t\t\tlet m2;\n\t\t\t\t\t\t\t\t\twhile (m2 = re.exec(junk)) {\n\t\t\t\t\t\t\t\t\t\tidxOf = m2.index;\n\n\t\t\t\t\t\t\t\t\t\tlet charIdx = junkIdx + idxOf;\n\t\t\t\t\t\t\t\t\t\tlet lftCharIdx = charIdx - 1;\n\n\t\t\t\t\t\t\t\t\t\tif (lftCharIdx == -1 || interBound.test(mhstr[lftCharIdx])) {\n\t\t\t\t\t\t\t\t\t\t\tlft2++;\n\t\t\t\t\t\t\t\t\t\t\tfound = true;\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\telse if (intraBound.test(mhstr[lftCharIdx] + mhstr[charIdx])) {\n\t\t\t\t\t\t\t\t\t\t\tlft1++;\n\t\t\t\t\t\t\t\t\t\t\tfound = true;\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tif (found) {\n\t\t\t\t\t\t\t\t\t\tisPre = true;\n\n\t\t\t\t\t\t\t\t\t\t// identical to exact term refinement pass above\n\t\t\t\t\t\t\t\t\t\trefine.push(idxAcc, groupLen, idxOf, termLen);\n\t\t\t\t\t\t\t\t\t\tidxAcc += refineMatch(m, k, idxOf, termLen);\n\t\t\t\t\t\t\t\t\t\tgroup = term;\n\t\t\t\t\t\t\t\t\t\tgroupLen = termLen;\n\t\t\t\t\t\t\t\t\t\tfullMatch = true;\n\n\t\t\t\t\t\t\t\t\t\tif (j == 0)\n\t\t\t\t\t\t\t\t\t\t\tstart = idxAcc;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (!isPre) {\n\t\t\t\t\t\t\t\t\tdisc = true;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// suffix info\n\t\t\t\t\tif (rgtCharIdx == mhstr.length || interBound.test(mhstr[rgtCharIdx])) {\n\t\t\t\t\t\tfullMatch && rgt2++;\n\t\t\t\t\t\tisSuf = true;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (interRgt == 2) {\n\t\t\t\t\t\t\tdisc = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (withIntraBound && intraBound.test(mhstr[rgtCharIdx - 1] + mhstr[rgtCharIdx])) {\n\t\t\t\t\t\t\tfullMatch && rgt1++;\n\t\t\t\t\t\t\tisSuf = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tif (interRgt == 1) {\n\t\t\t\t\t\t\t\tdisc = true;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (fullMatch) {\n\t\t\t\t\t\tchars += termLen;\n\n\t\t\t\t\t\tif (isPre && isSuf)\n\t\t\t\t\t\t\tterms++;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (groupLen > termLen)\n\t\t\t\t\tintra += groupLen - termLen; // intraFuzz\n\n\t\t\t\tif (j > 0)\n\t\t\t\t\tinter += m[k-1].length; // interFuzz\n\n\t\t\t\t// TODO: group here is lowercased, which is okay for length cmp, but not more case-sensitive filts\n\t\t\t\tif (!opts.intraFilt(term, group, idxAcc)) {\n\t\t\t\t\tdisc = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif (j < partsLen - 1)\n\t\t\t\t\tidxAcc += groupLen + m[k+1].length;\n\t\t\t}\n\n\t\t\tif (!disc) {\n\t\t\t\tinfo.idx[ii]       = idxs[i];\n\t\t\t\tinfo.interLft2[ii] = lft2;\n\t\t\t\tinfo.interLft1[ii] = lft1;\n\t\t\t\tinfo.interRgt2[ii] = rgt2;\n\t\t\t\tinfo.interRgt1[ii] = rgt1;\n\t\t\t\tinfo.chars[ii]     = chars;\n\t\t\t\tinfo.terms[ii]     = terms;\n\t\t\t\tinfo.cases[ii]     = cases;\n\t\t\t\tinfo.interIns[ii]  = inter;\n\t\t\t\tinfo.intraIns[ii]  = intra;\n\n\t\t\t\tinfo.start[ii] = start;\n\t\t\t//\tinfo.span[ii] = span;\n\n\t\t\t\t// ranges\n\t\t\t\tlet m = mhstr.match(queryR);\n\n\t\t\t\tlet idxAcc = m.index + m[1].length;\n\n\t\t\t\tlet refLen = refine.length;\n\t\t\t\tlet ri = refLen > 0 ? 0 : Infinity;\n\t\t\t\tlet lastRi = refLen - 4;\n\n\t\t\t\tfor (let i = 2; i < m.length;) {\n\t\t\t\t\tlet len = m[i].length;\n\n\t\t\t\t\tif (ri <= lastRi && refine[ri] == idxAcc) {\n\t\t\t\t\t\tlet groupLen = refine[ri+1];\n\t\t\t\t\t\tlet idxOf    = refine[ri+2];\n\t\t\t\t\t\tlet termLen  = refine[ri+3];\n\n\t\t\t\t\t\t// advance to end of original (full) group match that includes intra-junk\n\t\t\t\t\t\tlet j = i;\n\t\t\t\t\t\tlet v = '';\n\t\t\t\t\t\tfor (let _len = 0; _len < groupLen; j++) {\n\t\t\t\t\t\t\tv += m[j];\n\t\t\t\t\t\t\t_len += m[j].length;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tm.splice(i, j - i, v);\n\n\t\t\t\t\t\tidxAcc += refineMatch(m, i, idxOf, termLen);\n\n\t\t\t\t\t\tri += 4;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tidxAcc += len;\n\t\t\t\t\t\ti++;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tidxAcc = m.index + m[1].length;\n\n\t\t\t\tlet ranges = info.ranges[ii] = [];\n\t\t\t\tlet from = idxAcc;\n\t\t\t\tlet to = idxAcc;\n\n\t\t\t\tfor (let i = 2; i < m.length; i++) {\n\t\t\t\t\tlet len = m[i].length;\n\n\t\t\t\t\tidxAcc += len;\n\n\t\t\t\t\tif (i % 2 == 0)\n\t\t\t\t\t\tto = idxAcc;\n\t\t\t\t\telse if (len > 0) {\n\t\t\t\t\t\tranges.push(from, to);\n\t\t\t\t\t\tfrom = to = idxAcc;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (to > from)\n\t\t\t\t\tranges.push(from, to);\n\n\t\t\t\tii++;\n\t\t\t}\n\t\t}\n\n\t\t// trim arrays\n\t\tif (ii < idxs.length) {\n\t\t\tfor (let k in info)\n\t\t\t\tinfo[k] = info[k].slice(0, ii);\n\t\t}\n\n\t\treturn info;\n\t};\n\n\tconst refineMatch = (m, k, idxInNext, termLen) => {\n\t\t// shift the current group into the prior junk\n\t\tlet prepend = m[k] + m[k+1].slice(0, idxInNext);\n\t\tm[k-1] += prepend;\n\t\tm[k]    = m[k+1].slice(idxInNext, idxInNext + termLen);\n\t\tm[k+1]  = m[k+1].slice(idxInNext + termLen);\n\t\treturn prepend.length;\n\t};\n\n\tconst OOO_TERMS_LIMIT = 5;\n\n\t// returns [idxs, info, order]\n\tconst _search = (haystack, needle, outOfOrder, infoThresh = 1e3, preFiltered) => {\n\t\toutOfOrder = !outOfOrder ? 0 : outOfOrder === true ? OOO_TERMS_LIMIT : outOfOrder;\n\n\t\tlet needles = null;\n\t\tlet matches = null;\n\n\t\tlet negs = [];\n\n\t\tneedle = needle.replace(NEGS_RE, m => {\n\t\t\tlet neg = m.trim().slice(1);\n\n\t\t\tneg = neg[0] === '\"' ? escapeRegExp(neg.slice(1,-1)) :  neg.replace(PUNCT_RE, '');\n\n\t\t\tif (neg != '')\n\t\t\t\tnegs.push(neg);\n\n\t\t\treturn '';\n\t\t});\n\n\t\tlet terms = split(needle);\n\n\t\tlet negsRe;\n\n\t\tif (negs.length > 0) {\n\t\t\tnegsRe = new RegExp(negs.join('|'), 'i' + uFlag);\n\n\t\t\tif (terms.length == 0) {\n\t\t\t\tlet idxs = [];\n\n\t\t\t\tfor (let i = 0; i < haystack.length; i++) {\n\t\t\t\t\tif (!negsRe.test(haystack[i]))\n\t\t\t\t\t\tidxs.push(i);\n\t\t\t\t}\n\n\t\t\t\treturn [idxs, null, null];\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\t// abort search (needle is empty after pre-processing, e.g. no alpha-numeric chars)\n\t\t\tif (terms.length == 0)\n\t\t\t\treturn [null, null, null];\n\t\t}\n\n\t//\tconsole.log(negs);\n\t//\tconsole.log(needle);\n\n\t\tif (outOfOrder > 0) {\n\t\t\t// since uFuzzy is an AND-based search, we can iteratively pre-reduce the haystack by searching\n\t\t\t// for each term in isolation before running permutations on what's left.\n\t\t\t// this is a major perf win. e.g. searching \"test man ger pp a\" goes from 570ms -> 14ms\n\t\t\tlet terms = split(needle);\n\n\t\t\tif (terms.length > 1) {\n\t\t\t\t// longest -> shortest\n\t\t\t\tlet terms2 = terms.slice().sort((a, b) => b.length - a.length);\n\n\t\t\t\tfor (let ti = 0; ti < terms2.length; ti++) {\n\t\t\t\t\t// no haystack item contained all terms\n\t\t\t\t\tif (preFiltered?.length == 0)\n\t\t\t\t\t\treturn [[], null, null];\n\n\t\t\t\t\tpreFiltered = filter(haystack, terms2[ti], preFiltered);\n\t\t\t\t}\n\n\t\t\t\t// avoid combinatorial explosion by limiting outOfOrder to 5 terms (120 max searches)\n\t\t\t\t// fall back to just filter() otherwise\n\t\t\t\tif (terms.length > outOfOrder)\n\t\t\t\t\treturn [preFiltered, null, null];\n\n\t\t\t\tneedles = permute(terms).map(perm => perm.join(' '));\n\n\t\t\t\t// filtered matches for each needle excluding same matches for prior needles\n\t\t\t\tmatches = [];\n\n\t\t\t\t// keeps track of already-matched idxs to skip in follow-up permutations\n\t\t\t\tlet matchedIdxs = new Set();\n\n\t\t\t\tfor (let ni = 0; ni < needles.length; ni++) {\n\t\t\t\t\tif (matchedIdxs.size < preFiltered.length) {\n\t\t\t\t\t\t// filter further for this needle, exclude already-matched\n\t\t\t\t\t\tlet preFiltered2 = preFiltered.filter(idx => !matchedIdxs.has(idx));\n\n\t\t\t\t\t\tlet matched = filter(haystack, needles[ni], preFiltered2);\n\n\t\t\t\t\t\tfor (let j = 0; j < matched.length; j++)\n\t\t\t\t\t\t\tmatchedIdxs.add(matched[j]);\n\n\t\t\t\t\t\tmatches.push(matched);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\tmatches.push([]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// interOR\n\t//\tconsole.log(prepQuery(needle, 1, null, true));\n\n\t\t// non-ooo or ooo w/single term\n\t\tif (needles == null) {\n\t\t\tneedles = [needle];\n\t\t\tmatches = [preFiltered?.length > 0 ? preFiltered : filter(haystack, needle)];\n\t\t}\n\n\t\tlet retInfo = null;\n\t\tlet retOrder = null;\n\n\t\tif (negs.length > 0)\n\t\t\tmatches = matches.map(idxs => idxs.filter(idx => !negsRe.test(haystack[idx])));\n\n\t\tlet matchCount = matches.reduce((acc, idxs) => acc + idxs.length, 0);\n\n\t\t// rank, sort, concat\n\t\tif (matchCount <= infoThresh) {\n\t\t\tretInfo = {};\n\t\t\tretOrder = [];\n\n\t\t\tfor (let ni = 0; ni < matches.length; ni++) {\n\t\t\t\tlet idxs = matches[ni];\n\n\t\t\t\tif (idxs == null || idxs.length == 0)\n\t\t\t\t\tcontinue;\n\n\t\t\t\tlet needle = needles[ni];\n\t\t\t\tlet _info = info(idxs, haystack, needle);\n\t\t\t\tlet order = opts.sort(_info, haystack, needle, compare);\n\n\t\t\t\t// offset idxs for concat'ing infos\n\t\t\t\tif (ni > 0) {\n\t\t\t\t\tfor (let i = 0; i < order.length; i++)\n\t\t\t\t\t\torder[i] += retOrder.length;\n\t\t\t\t}\n\n\t\t\t\tfor (let k in _info)\n\t\t\t\t\tretInfo[k] = (retInfo[k] ?? []).concat(_info[k]);\n\n\t\t\t\tretOrder = retOrder.concat(order);\n\t\t\t}\n\t\t}\n\n\t\treturn [\n\t\t\t[].concat(...matches),\n\t\t\tretInfo,\n\t\t\tretOrder,\n\t\t];\n\t};\n\n\treturn {\n\t\tsearch: (...args) => {\n\t\t\tlet out = _search(...args);\n\t\t\treturn out;\n\t\t},\n\t\tsplit,\n\t\tfilter,\n\t\tinfo,\n\t\tsort: opts.sort,\n\t};\n}\n\nconst latinize = (() => {\n\tlet accents = {\n\t\tA: '',\n\t\ta: '',\n\t\tE: '',\n\t\te: '',\n\t\tI: '',\n\t\ti: '',\n\t\tO: '',\n\t\to: '',\n\t\tU: '',\n\t\tu: '',\n\t\tC: '',\n\t\tc: '',\n\t\tL: '',\n\t\tl: '',\n\t\tN: '',\n\t\tn: '',\n\t\tS: '',\n\t\ts: '',\n\t\tZ: '',\n\t\tz: ''\n\t};\n\n\tlet accentsMap = new Map();\n\tlet accentsTpl = '';\n\n\tfor (let r in accents) {\n\t\taccents[r].split('').forEach(a => {\n\t\t\taccentsTpl += a;\n\t\t\taccentsMap.set(a, r);\n\t\t});\n\t}\n\n\tlet accentsRe = new RegExp(`[${accentsTpl}]`, 'g');\n\tlet replacer = m => accentsMap.get(m);\n\n\treturn strings => {\n\t\tif (typeof strings == 'string')\n\t\t\treturn strings.replace(accentsRe, replacer);\n\n\t\tlet out = Array(strings.length);\n\t\tfor (let i = 0; i < strings.length; i++)\n\t\t\tout[i] = strings[i].replace(accentsRe, replacer);\n\t\treturn out;\n\t};\n})();\n\n// https://stackoverflow.com/questions/9960908/permutations-in-javascript/37580979#37580979\nfunction permute(arr) {\n\tarr = arr.slice();\n\n\tlet length = arr.length,\n\t\tresult = [arr.slice()],\n\t\tc = new Array(length).fill(0),\n\t\ti = 1, k, p;\n\n\twhile (i < length) {\n\t\tif (c[i] < i) {\n\t\t\tk = i % 2 && c[i];\n\t\t\tp = arr[i];\n\t\t\tarr[i] = arr[k];\n\t\t\tarr[k] = p;\n\t\t\t++c[i];\n\t\t\ti = 1;\n\t\t\tresult.push(arr.slice());\n\t\t} else {\n\t\t\tc[i] = 0;\n\t\t\t++i;\n\t\t}\n\t}\n\n\treturn result;\n}\n\nconst _mark = (part, matched) => matched ? `<mark>${part}</mark>` : part;\nconst _append = (acc, part) => acc + part;\n\nfunction highlight(str, ranges, mark = _mark, accum = '', append = _append) {\n\taccum = append(accum, mark(str.substring(0, ranges[0]), false)) ?? accum;\n\n\tfor (let i = 0; i < ranges.length; i+=2) {\n\t\tlet fr = ranges[i];\n\t\tlet to = ranges[i+1];\n\n\t\taccum = append(accum, mark(str.substring(fr, to), true)) ?? accum;\n\n\t\tif (i < ranges.length - 3)\n\t\t\taccum = append(accum, mark(str.substring(ranges[i+1], ranges[i+2]), false)) ?? accum;\n\t}\n\n\taccum = append(accum, mark(str.substring(ranges[ranges.length - 1]), false)) ?? accum;\n\n\treturn accum;\n}\n\nuFuzzy.latinize = latinize;\nuFuzzy.permute = arr => {\n\tlet idxs = permute([...Array(arr.length).keys()]).sort((a,b) => {\n\t\tfor (let i = 0; i < a.length; i++) {\n\t\t\tif (a[i] != b[i])\n\t\t\t\treturn a[i] - b[i];\n\t\t}\n\t\treturn 0;\n\t});\n\n\treturn idxs.map(pi => pi.map(i => arr[i]));\n};\nuFuzzy.highlight = highlight;\n\nexport { uFuzzy as default };\n","import {useEffect as $Vsl8o$useEffect} from \"react\";\n\n\nfunction $9daab02d461809db$var$hasResizeObserver() {\n    return typeof window.ResizeObserver !== 'undefined';\n}\nfunction $9daab02d461809db$export$683480f191c0e3ea(options) {\n    const { ref: ref, box: box, onResize: onResize } = options;\n    (0, $Vsl8o$useEffect)(()=>{\n        let element = ref === null || ref === void 0 ? void 0 : ref.current;\n        if (!element) return;\n        if (!$9daab02d461809db$var$hasResizeObserver()) {\n            window.addEventListener('resize', onResize, false);\n            return ()=>{\n                window.removeEventListener('resize', onResize, false);\n            };\n        } else {\n            const resizeObserverInstance = new window.ResizeObserver((entries)=>{\n                if (!entries.length) return;\n                onResize();\n            });\n            resizeObserverInstance.observe(element, {\n                box: box\n            });\n            return ()=>{\n                if (element) resizeObserverInstance.unobserve(element);\n            };\n        }\n    }, [\n        onResize,\n        ref,\n        box\n    ]);\n}\n\n\nexport {$9daab02d461809db$export$683480f191c0e3ea as useResizeObserver};\n//# sourceMappingURL=useResizeObserver.module.js.map\n","// src/focusManager.ts\nimport { Subscribable } from \"./subscribable.js\";\nimport { isServer } from \"./utils.js\";\nvar FocusManager = class extends Subscribable {\n  #focused;\n  #cleanup;\n  #setup;\n  constructor() {\n    super();\n    this.#setup = (onFocus) => {\n      if (!isServer && window.addEventListener) {\n        const listener = () => onFocus();\n        window.addEventListener(\"visibilitychange\", listener, false);\n        return () => {\n          window.removeEventListener(\"visibilitychange\", listener);\n        };\n      }\n      return;\n    };\n  }\n  onSubscribe() {\n    if (!this.#cleanup) {\n      this.setEventListener(this.#setup);\n    }\n  }\n  onUnsubscribe() {\n    if (!this.hasListeners()) {\n      this.#cleanup?.();\n      this.#cleanup = void 0;\n    }\n  }\n  setEventListener(setup) {\n    this.#setup = setup;\n    this.#cleanup?.();\n    this.#cleanup = setup((focused) => {\n      if (typeof focused === \"boolean\") {\n        this.setFocused(focused);\n      } else {\n        this.onFocus();\n      }\n    });\n  }\n  setFocused(focused) {\n    const changed = this.#focused !== focused;\n    if (changed) {\n      this.#focused = focused;\n      this.onFocus();\n    }\n  }\n  onFocus() {\n    const isFocused = this.isFocused();\n    this.listeners.forEach((listener) => {\n      listener(isFocused);\n    });\n  }\n  isFocused() {\n    if (typeof this.#focused === \"boolean\") {\n      return this.#focused;\n    }\n    return globalThis.document?.visibilityState !== \"hidden\";\n  }\n};\nvar focusManager = new FocusManager();\nexport {\n  FocusManager,\n  focusManager\n};\n//# sourceMappingURL=focusManager.js.map","// src/mutation.ts\nimport { notifyManager } from \"./notifyManager.js\";\nimport { Removable } from \"./removable.js\";\nimport { createRetryer } from \"./retryer.js\";\nvar Mutation = class extends Removable {\n  #observers;\n  #mutationCache;\n  #retryer;\n  constructor(config) {\n    super();\n    this.mutationId = config.mutationId;\n    this.#mutationCache = config.mutationCache;\n    this.#observers = [];\n    this.state = config.state || getDefaultState();\n    this.setOptions(config.options);\n    this.scheduleGc();\n  }\n  setOptions(options) {\n    this.options = options;\n    this.updateGcTime(this.options.gcTime);\n  }\n  get meta() {\n    return this.options.meta;\n  }\n  addObserver(observer) {\n    if (!this.#observers.includes(observer)) {\n      this.#observers.push(observer);\n      this.clearGcTimeout();\n      this.#mutationCache.notify({\n        type: \"observerAdded\",\n        mutation: this,\n        observer\n      });\n    }\n  }\n  removeObserver(observer) {\n    this.#observers = this.#observers.filter((x) => x !== observer);\n    this.scheduleGc();\n    this.#mutationCache.notify({\n      type: \"observerRemoved\",\n      mutation: this,\n      observer\n    });\n  }\n  optionalRemove() {\n    if (!this.#observers.length) {\n      if (this.state.status === \"pending\") {\n        this.scheduleGc();\n      } else {\n        this.#mutationCache.remove(this);\n      }\n    }\n  }\n  continue() {\n    return this.#retryer?.continue() ?? // continuing a mutation assumes that variables are set, mutation must have been dehydrated before\n    this.execute(this.state.variables);\n  }\n  async execute(variables) {\n    this.#retryer = createRetryer({\n      fn: () => {\n        if (!this.options.mutationFn) {\n          return Promise.reject(new Error(\"No mutationFn found\"));\n        }\n        return this.options.mutationFn(variables);\n      },\n      onFail: (failureCount, error) => {\n        this.#dispatch({ type: \"failed\", failureCount, error });\n      },\n      onPause: () => {\n        this.#dispatch({ type: \"pause\" });\n      },\n      onContinue: () => {\n        this.#dispatch({ type: \"continue\" });\n      },\n      retry: this.options.retry ?? 0,\n      retryDelay: this.options.retryDelay,\n      networkMode: this.options.networkMode,\n      canRun: () => this.#mutationCache.canRun(this)\n    });\n    const restored = this.state.status === \"pending\";\n    const isPaused = !this.#retryer.canStart();\n    try {\n      if (!restored) {\n        this.#dispatch({ type: \"pending\", variables, isPaused });\n        await this.#mutationCache.config.onMutate?.(\n          variables,\n          this\n        );\n        const context = await this.options.onMutate?.(variables);\n        if (context !== this.state.context) {\n          this.#dispatch({\n            type: \"pending\",\n            context,\n            variables,\n            isPaused\n          });\n        }\n      }\n      const data = await this.#retryer.start();\n      await this.#mutationCache.config.onSuccess?.(\n        data,\n        variables,\n        this.state.context,\n        this\n      );\n      await this.options.onSuccess?.(data, variables, this.state.context);\n      await this.#mutationCache.config.onSettled?.(\n        data,\n        null,\n        this.state.variables,\n        this.state.context,\n        this\n      );\n      await this.options.onSettled?.(data, null, variables, this.state.context);\n      this.#dispatch({ type: \"success\", data });\n      return data;\n    } catch (error) {\n      try {\n        await this.#mutationCache.config.onError?.(\n          error,\n          variables,\n          this.state.context,\n          this\n        );\n        await this.options.onError?.(\n          error,\n          variables,\n          this.state.context\n        );\n        await this.#mutationCache.config.onSettled?.(\n          void 0,\n          error,\n          this.state.variables,\n          this.state.context,\n          this\n        );\n        await this.options.onSettled?.(\n          void 0,\n          error,\n          variables,\n          this.state.context\n        );\n        throw error;\n      } finally {\n        this.#dispatch({ type: \"error\", error });\n      }\n    } finally {\n      this.#mutationCache.runNext(this);\n    }\n  }\n  #dispatch(action) {\n    const reducer = (state) => {\n      switch (action.type) {\n        case \"failed\":\n          return {\n            ...state,\n            failureCount: action.failureCount,\n            failureReason: action.error\n          };\n        case \"pause\":\n          return {\n            ...state,\n            isPaused: true\n          };\n        case \"continue\":\n          return {\n            ...state,\n            isPaused: false\n          };\n        case \"pending\":\n          return {\n            ...state,\n            context: action.context,\n            data: void 0,\n            failureCount: 0,\n            failureReason: null,\n            error: null,\n            isPaused: action.isPaused,\n            status: \"pending\",\n            variables: action.variables,\n            submittedAt: Date.now()\n          };\n        case \"success\":\n          return {\n            ...state,\n            data: action.data,\n            failureCount: 0,\n            failureReason: null,\n            error: null,\n            status: \"success\",\n            isPaused: false\n          };\n        case \"error\":\n          return {\n            ...state,\n            data: void 0,\n            error: action.error,\n            failureCount: state.failureCount + 1,\n            failureReason: action.error,\n            isPaused: false,\n            status: \"error\"\n          };\n      }\n    };\n    this.state = reducer(this.state);\n    notifyManager.batch(() => {\n      this.#observers.forEach((observer) => {\n        observer.onMutationUpdate(action);\n      });\n      this.#mutationCache.notify({\n        mutation: this,\n        type: \"updated\",\n        action\n      });\n    });\n  }\n};\nfunction getDefaultState() {\n  return {\n    context: void 0,\n    data: void 0,\n    error: null,\n    failureCount: 0,\n    failureReason: null,\n    isPaused: false,\n    status: \"idle\",\n    variables: void 0,\n    submittedAt: 0\n  };\n}\nexport {\n  Mutation,\n  getDefaultState\n};\n//# sourceMappingURL=mutation.js.map","// src/notifyManager.ts\nfunction createNotifyManager() {\n  let queue = [];\n  let transactions = 0;\n  let notifyFn = (callback) => {\n    callback();\n  };\n  let batchNotifyFn = (callback) => {\n    callback();\n  };\n  let scheduleFn = (cb) => setTimeout(cb, 0);\n  const setScheduler = (fn) => {\n    scheduleFn = fn;\n  };\n  const batch = (callback) => {\n    let result;\n    transactions++;\n    try {\n      result = callback();\n    } finally {\n      transactions--;\n      if (!transactions) {\n        flush();\n      }\n    }\n    return result;\n  };\n  const schedule = (callback) => {\n    if (transactions) {\n      queue.push(callback);\n    } else {\n      scheduleFn(() => {\n        notifyFn(callback);\n      });\n    }\n  };\n  const batchCalls = (callback) => {\n    return (...args) => {\n      schedule(() => {\n        callback(...args);\n      });\n    };\n  };\n  const flush = () => {\n    const originalQueue = queue;\n    queue = [];\n    if (originalQueue.length) {\n      scheduleFn(() => {\n        batchNotifyFn(() => {\n          originalQueue.forEach((callback) => {\n            notifyFn(callback);\n          });\n        });\n      });\n    }\n  };\n  const setNotifyFunction = (fn) => {\n    notifyFn = fn;\n  };\n  const setBatchNotifyFunction = (fn) => {\n    batchNotifyFn = fn;\n  };\n  return {\n    batch,\n    batchCalls,\n    schedule,\n    setNotifyFunction,\n    setBatchNotifyFunction,\n    setScheduler\n  };\n}\nvar notifyManager = createNotifyManager();\nexport {\n  createNotifyManager,\n  notifyManager\n};\n//# sourceMappingURL=notifyManager.js.map","// src/onlineManager.ts\nimport { Subscribable } from \"./subscribable.js\";\nimport { isServer } from \"./utils.js\";\nvar OnlineManager = class extends Subscribable {\n  #online = true;\n  #cleanup;\n  #setup;\n  constructor() {\n    super();\n    this.#setup = (onOnline) => {\n      if (!isServer && window.addEventListener) {\n        const onlineListener = () => onOnline(true);\n        const offlineListener = () => onOnline(false);\n        window.addEventListener(\"online\", onlineListener, false);\n        window.addEventListener(\"offline\", offlineListener, false);\n        return () => {\n          window.removeEventListener(\"online\", onlineListener);\n          window.removeEventListener(\"offline\", offlineListener);\n        };\n      }\n      return;\n    };\n  }\n  onSubscribe() {\n    if (!this.#cleanup) {\n      this.setEventListener(this.#setup);\n    }\n  }\n  onUnsubscribe() {\n    if (!this.hasListeners()) {\n      this.#cleanup?.();\n      this.#cleanup = void 0;\n    }\n  }\n  setEventListener(setup) {\n    this.#setup = setup;\n    this.#cleanup?.();\n    this.#cleanup = setup(this.setOnline.bind(this));\n  }\n  setOnline(online) {\n    const changed = this.#online !== online;\n    if (changed) {\n      this.#online = online;\n      this.listeners.forEach((listener) => {\n        listener(online);\n      });\n    }\n  }\n  isOnline() {\n    return this.#online;\n  }\n};\nvar onlineManager = new OnlineManager();\nexport {\n  OnlineManager,\n  onlineManager\n};\n//# sourceMappingURL=onlineManager.js.map","// src/query.ts\nimport {\n  ensureQueryFn,\n  noop,\n  replaceData,\n  resolveEnabled,\n  timeUntilStale\n} from \"./utils.js\";\nimport { notifyManager } from \"./notifyManager.js\";\nimport { canFetch, createRetryer, isCancelledError } from \"./retryer.js\";\nimport { Removable } from \"./removable.js\";\nvar Query = class extends Removable {\n  #initialState;\n  #revertState;\n  #cache;\n  #retryer;\n  #defaultOptions;\n  #abortSignalConsumed;\n  constructor(config) {\n    super();\n    this.#abortSignalConsumed = false;\n    this.#defaultOptions = config.defaultOptions;\n    this.setOptions(config.options);\n    this.observers = [];\n    this.#cache = config.cache;\n    this.queryKey = config.queryKey;\n    this.queryHash = config.queryHash;\n    this.#initialState = config.state || getDefaultState(this.options);\n    this.state = this.#initialState;\n    this.scheduleGc();\n  }\n  get meta() {\n    return this.options.meta;\n  }\n  get promise() {\n    return this.#retryer?.promise;\n  }\n  setOptions(options) {\n    this.options = { ...this.#defaultOptions, ...options };\n    this.updateGcTime(this.options.gcTime);\n  }\n  optionalRemove() {\n    if (!this.observers.length && this.state.fetchStatus === \"idle\") {\n      this.#cache.remove(this);\n    }\n  }\n  setData(newData, options) {\n    const data = replaceData(this.state.data, newData, this.options);\n    this.#dispatch({\n      data,\n      type: \"success\",\n      dataUpdatedAt: options?.updatedAt,\n      manual: options?.manual\n    });\n    return data;\n  }\n  setState(state, setStateOptions) {\n    this.#dispatch({ type: \"setState\", state, setStateOptions });\n  }\n  cancel(options) {\n    const promise = this.#retryer?.promise;\n    this.#retryer?.cancel(options);\n    return promise ? promise.then(noop).catch(noop) : Promise.resolve();\n  }\n  destroy() {\n    super.destroy();\n    this.cancel({ silent: true });\n  }\n  reset() {\n    this.destroy();\n    this.setState(this.#initialState);\n  }\n  isActive() {\n    return this.observers.some(\n      (observer) => resolveEnabled(observer.options.enabled, this) !== false\n    );\n  }\n  isDisabled() {\n    return this.getObserversCount() > 0 && !this.isActive();\n  }\n  isStale() {\n    if (this.state.isInvalidated) {\n      return true;\n    }\n    if (this.getObserversCount() > 0) {\n      return this.observers.some(\n        (observer) => observer.getCurrentResult().isStale\n      );\n    }\n    return this.state.data === void 0;\n  }\n  isStaleByTime(staleTime = 0) {\n    return this.state.isInvalidated || this.state.data === void 0 || !timeUntilStale(this.state.dataUpdatedAt, staleTime);\n  }\n  onFocus() {\n    const observer = this.observers.find((x) => x.shouldFetchOnWindowFocus());\n    observer?.refetch({ cancelRefetch: false });\n    this.#retryer?.continue();\n  }\n  onOnline() {\n    const observer = this.observers.find((x) => x.shouldFetchOnReconnect());\n    observer?.refetch({ cancelRefetch: false });\n    this.#retryer?.continue();\n  }\n  addObserver(observer) {\n    if (!this.observers.includes(observer)) {\n      this.observers.push(observer);\n      this.clearGcTimeout();\n      this.#cache.notify({ type: \"observerAdded\", query: this, observer });\n    }\n  }\n  removeObserver(observer) {\n    if (this.observers.includes(observer)) {\n      this.observers = this.observers.filter((x) => x !== observer);\n      if (!this.observers.length) {\n        if (this.#retryer) {\n          if (this.#abortSignalConsumed) {\n            this.#retryer.cancel({ revert: true });\n          } else {\n            this.#retryer.cancelRetry();\n          }\n        }\n        this.scheduleGc();\n      }\n      this.#cache.notify({ type: \"observerRemoved\", query: this, observer });\n    }\n  }\n  getObserversCount() {\n    return this.observers.length;\n  }\n  invalidate() {\n    if (!this.state.isInvalidated) {\n      this.#dispatch({ type: \"invalidate\" });\n    }\n  }\n  fetch(options, fetchOptions) {\n    if (this.state.fetchStatus !== \"idle\") {\n      if (this.state.data !== void 0 && fetchOptions?.cancelRefetch) {\n        this.cancel({ silent: true });\n      } else if (this.#retryer) {\n        this.#retryer.continueRetry();\n        return this.#retryer.promise;\n      }\n    }\n    if (options) {\n      this.setOptions(options);\n    }\n    if (!this.options.queryFn) {\n      const observer = this.observers.find((x) => x.options.queryFn);\n      if (observer) {\n        this.setOptions(observer.options);\n      }\n    }\n    if (process.env.NODE_ENV !== \"production\") {\n      if (!Array.isArray(this.options.queryKey)) {\n        console.error(\n          `As of v4, queryKey needs to be an Array. If you are using a string like 'repoData', please change it to an Array, e.g. ['repoData']`\n        );\n      }\n    }\n    const abortController = new AbortController();\n    const addSignalProperty = (object) => {\n      Object.defineProperty(object, \"signal\", {\n        enumerable: true,\n        get: () => {\n          this.#abortSignalConsumed = true;\n          return abortController.signal;\n        }\n      });\n    };\n    const fetchFn = () => {\n      const queryFn = ensureQueryFn(this.options, fetchOptions);\n      const queryFnContext = {\n        queryKey: this.queryKey,\n        meta: this.meta\n      };\n      addSignalProperty(queryFnContext);\n      this.#abortSignalConsumed = false;\n      if (this.options.persister) {\n        return this.options.persister(\n          queryFn,\n          queryFnContext,\n          this\n        );\n      }\n      return queryFn(queryFnContext);\n    };\n    const context = {\n      fetchOptions,\n      options: this.options,\n      queryKey: this.queryKey,\n      state: this.state,\n      fetchFn\n    };\n    addSignalProperty(context);\n    this.options.behavior?.onFetch(\n      context,\n      this\n    );\n    this.#revertState = this.state;\n    if (this.state.fetchStatus === \"idle\" || this.state.fetchMeta !== context.fetchOptions?.meta) {\n      this.#dispatch({ type: \"fetch\", meta: context.fetchOptions?.meta });\n    }\n    const onError = (error) => {\n      if (!(isCancelledError(error) && error.silent)) {\n        this.#dispatch({\n          type: \"error\",\n          error\n        });\n      }\n      if (!isCancelledError(error)) {\n        this.#cache.config.onError?.(\n          error,\n          this\n        );\n        this.#cache.config.onSettled?.(\n          this.state.data,\n          error,\n          this\n        );\n      }\n      if (!this.isFetchingOptimistic) {\n        this.scheduleGc();\n      }\n      this.isFetchingOptimistic = false;\n    };\n    this.#retryer = createRetryer({\n      initialPromise: fetchOptions?.initialPromise,\n      fn: context.fetchFn,\n      abort: abortController.abort.bind(abortController),\n      onSuccess: (data) => {\n        if (data === void 0) {\n          if (process.env.NODE_ENV !== \"production\") {\n            console.error(\n              `Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ${this.queryHash}`\n            );\n          }\n          onError(new Error(`${this.queryHash} data is undefined`));\n          return;\n        }\n        this.setData(data);\n        this.#cache.config.onSuccess?.(data, this);\n        this.#cache.config.onSettled?.(\n          data,\n          this.state.error,\n          this\n        );\n        if (!this.isFetchingOptimistic) {\n          this.scheduleGc();\n        }\n        this.isFetchingOptimistic = false;\n      },\n      onError,\n      onFail: (failureCount, error) => {\n        this.#dispatch({ type: \"failed\", failureCount, error });\n      },\n      onPause: () => {\n        this.#dispatch({ type: \"pause\" });\n      },\n      onContinue: () => {\n        this.#dispatch({ type: \"continue\" });\n      },\n      retry: context.options.retry,\n      retryDelay: context.options.retryDelay,\n      networkMode: context.options.networkMode,\n      canRun: () => true\n    });\n    return this.#retryer.start();\n  }\n  #dispatch(action) {\n    const reducer = (state) => {\n      switch (action.type) {\n        case \"failed\":\n          return {\n            ...state,\n            fetchFailureCount: action.failureCount,\n            fetchFailureReason: action.error\n          };\n        case \"pause\":\n          return {\n            ...state,\n            fetchStatus: \"paused\"\n          };\n        case \"continue\":\n          return {\n            ...state,\n            fetchStatus: \"fetching\"\n          };\n        case \"fetch\":\n          return {\n            ...state,\n            ...fetchState(state.data, this.options),\n            fetchMeta: action.meta ?? null\n          };\n        case \"success\":\n          return {\n            ...state,\n            data: action.data,\n            dataUpdateCount: state.dataUpdateCount + 1,\n            dataUpdatedAt: action.dataUpdatedAt ?? Date.now(),\n            error: null,\n            isInvalidated: false,\n            status: \"success\",\n            ...!action.manual && {\n              fetchStatus: \"idle\",\n              fetchFailureCount: 0,\n              fetchFailureReason: null\n            }\n          };\n        case \"error\":\n          const error = action.error;\n          if (isCancelledError(error) && error.revert && this.#revertState) {\n            return { ...this.#revertState, fetchStatus: \"idle\" };\n          }\n          return {\n            ...state,\n            error,\n            errorUpdateCount: state.errorUpdateCount + 1,\n            errorUpdatedAt: Date.now(),\n            fetchFailureCount: state.fetchFailureCount + 1,\n            fetchFailureReason: error,\n            fetchStatus: \"idle\",\n            status: \"error\"\n          };\n        case \"invalidate\":\n          return {\n            ...state,\n            isInvalidated: true\n          };\n        case \"setState\":\n          return {\n            ...state,\n            ...action.state\n          };\n      }\n    };\n    this.state = reducer(this.state);\n    notifyManager.batch(() => {\n      this.observers.forEach((observer) => {\n        observer.onQueryUpdate();\n      });\n      this.#cache.notify({ query: this, type: \"updated\", action });\n    });\n  }\n};\nfunction fetchState(data, options) {\n  return {\n    fetchFailureCount: 0,\n    fetchFailureReason: null,\n    fetchStatus: canFetch(options.networkMode) ? \"fetching\" : \"paused\",\n    ...data === void 0 && {\n      error: null,\n      status: \"pending\"\n    }\n  };\n}\nfunction getDefaultState(options) {\n  const data = typeof options.initialData === \"function\" ? options.initialData() : options.initialData;\n  const hasData = data !== void 0;\n  const initialDataUpdatedAt = hasData ? typeof options.initialDataUpdatedAt === \"function\" ? options.initialDataUpdatedAt() : options.initialDataUpdatedAt : 0;\n  return {\n    data,\n    dataUpdateCount: 0,\n    dataUpdatedAt: hasData ? initialDataUpdatedAt ?? Date.now() : 0,\n    error: null,\n    errorUpdateCount: 0,\n    errorUpdatedAt: 0,\n    fetchFailureCount: 0,\n    fetchFailureReason: null,\n    fetchMeta: null,\n    isInvalidated: false,\n    status: hasData ? \"success\" : \"pending\",\n    fetchStatus: \"idle\"\n  };\n}\nexport {\n  Query,\n  fetchState\n};\n//# sourceMappingURL=query.js.map","// src/queryCache.ts\nimport { hashQueryKeyByOptions, matchQuery } from \"./utils.js\";\nimport { Query } from \"./query.js\";\nimport { notifyManager } from \"./notifyManager.js\";\nimport { Subscribable } from \"./subscribable.js\";\nvar QueryCache = class extends Subscribable {\n  constructor(config = {}) {\n    super();\n    this.config = config;\n    this.#queries = /* @__PURE__ */ new Map();\n  }\n  #queries;\n  build(client, options, state) {\n    const queryKey = options.queryKey;\n    const queryHash = options.queryHash ?? hashQueryKeyByOptions(queryKey, options);\n    let query = this.get(queryHash);\n    if (!query) {\n      query = new Query({\n        cache: this,\n        queryKey,\n        queryHash,\n        options: client.defaultQueryOptions(options),\n        state,\n        defaultOptions: client.getQueryDefaults(queryKey)\n      });\n      this.add(query);\n    }\n    return query;\n  }\n  add(query) {\n    if (!this.#queries.has(query.queryHash)) {\n      this.#queries.set(query.queryHash, query);\n      this.notify({\n        type: \"added\",\n        query\n      });\n    }\n  }\n  remove(query) {\n    const queryInMap = this.#queries.get(query.queryHash);\n    if (queryInMap) {\n      query.destroy();\n      if (queryInMap === query) {\n        this.#queries.delete(query.queryHash);\n      }\n      this.notify({ type: \"removed\", query });\n    }\n  }\n  clear() {\n    notifyManager.batch(() => {\n      this.getAll().forEach((query) => {\n        this.remove(query);\n      });\n    });\n  }\n  get(queryHash) {\n    return this.#queries.get(queryHash);\n  }\n  getAll() {\n    return [...this.#queries.values()];\n  }\n  find(filters) {\n    const defaultedFilters = { exact: true, ...filters };\n    return this.getAll().find(\n      (query) => matchQuery(defaultedFilters, query)\n    );\n  }\n  findAll(filters = {}) {\n    const queries = this.getAll();\n    return Object.keys(filters).length > 0 ? queries.filter((query) => matchQuery(filters, query)) : queries;\n  }\n  notify(event) {\n    notifyManager.batch(() => {\n      this.listeners.forEach((listener) => {\n        listener(event);\n      });\n    });\n  }\n  onFocus() {\n    notifyManager.batch(() => {\n      this.getAll().forEach((query) => {\n        query.onFocus();\n      });\n    });\n  }\n  onOnline() {\n    notifyManager.batch(() => {\n      this.getAll().forEach((query) => {\n        query.onOnline();\n      });\n    });\n  }\n};\nexport {\n  QueryCache\n};\n//# sourceMappingURL=queryCache.js.map","// src/mutationCache.ts\nimport { notifyManager } from \"./notifyManager.js\";\nimport { Mutation } from \"./mutation.js\";\nimport { matchMutation, noop } from \"./utils.js\";\nimport { Subscribable } from \"./subscribable.js\";\nvar MutationCache = class extends Subscribable {\n  constructor(config = {}) {\n    super();\n    this.config = config;\n    this.#mutations = /* @__PURE__ */ new Map();\n    this.#mutationId = Date.now();\n  }\n  #mutations;\n  #mutationId;\n  build(client, options, state) {\n    const mutation = new Mutation({\n      mutationCache: this,\n      mutationId: ++this.#mutationId,\n      options: client.defaultMutationOptions(options),\n      state\n    });\n    this.add(mutation);\n    return mutation;\n  }\n  add(mutation) {\n    const scope = scopeFor(mutation);\n    const mutations = this.#mutations.get(scope) ?? [];\n    mutations.push(mutation);\n    this.#mutations.set(scope, mutations);\n    this.notify({ type: \"added\", mutation });\n  }\n  remove(mutation) {\n    const scope = scopeFor(mutation);\n    if (this.#mutations.has(scope)) {\n      const mutations = this.#mutations.get(scope)?.filter((x) => x !== mutation);\n      if (mutations) {\n        if (mutations.length === 0) {\n          this.#mutations.delete(scope);\n        } else {\n          this.#mutations.set(scope, mutations);\n        }\n      }\n    }\n    this.notify({ type: \"removed\", mutation });\n  }\n  canRun(mutation) {\n    const firstPendingMutation = this.#mutations.get(scopeFor(mutation))?.find((m) => m.state.status === \"pending\");\n    return !firstPendingMutation || firstPendingMutation === mutation;\n  }\n  runNext(mutation) {\n    const foundMutation = this.#mutations.get(scopeFor(mutation))?.find((m) => m !== mutation && m.state.isPaused);\n    return foundMutation?.continue() ?? Promise.resolve();\n  }\n  clear() {\n    notifyManager.batch(() => {\n      this.getAll().forEach((mutation) => {\n        this.remove(mutation);\n      });\n    });\n  }\n  getAll() {\n    return [...this.#mutations.values()].flat();\n  }\n  find(filters) {\n    const defaultedFilters = { exact: true, ...filters };\n    return this.getAll().find(\n      (mutation) => matchMutation(defaultedFilters, mutation)\n    );\n  }\n  findAll(filters = {}) {\n    return this.getAll().filter((mutation) => matchMutation(filters, mutation));\n  }\n  notify(event) {\n    notifyManager.batch(() => {\n      this.listeners.forEach((listener) => {\n        listener(event);\n      });\n    });\n  }\n  resumePausedMutations() {\n    const pausedMutations = this.getAll().filter((x) => x.state.isPaused);\n    return notifyManager.batch(\n      () => Promise.all(\n        pausedMutations.map((mutation) => mutation.continue().catch(noop))\n      )\n    );\n  }\n};\nfunction scopeFor(mutation) {\n  return mutation.options.scope?.id ?? String(mutation.mutationId);\n}\nexport {\n  MutationCache\n};\n//# sourceMappingURL=mutationCache.js.map","// src/infiniteQueryBehavior.ts\nimport { addToEnd, addToStart, ensureQueryFn } from \"./utils.js\";\nfunction infiniteQueryBehavior(pages) {\n  return {\n    onFetch: (context, query) => {\n      const fetchFn = async () => {\n        const options = context.options;\n        const direction = context.fetchOptions?.meta?.fetchMore?.direction;\n        const oldPages = context.state.data?.pages || [];\n        const oldPageParams = context.state.data?.pageParams || [];\n        const empty = { pages: [], pageParams: [] };\n        let cancelled = false;\n        const addSignalProperty = (object) => {\n          Object.defineProperty(object, \"signal\", {\n            enumerable: true,\n            get: () => {\n              if (context.signal.aborted) {\n                cancelled = true;\n              } else {\n                context.signal.addEventListener(\"abort\", () => {\n                  cancelled = true;\n                });\n              }\n              return context.signal;\n            }\n          });\n        };\n        const queryFn = ensureQueryFn(context.options, context.fetchOptions);\n        const fetchPage = async (data, param, previous) => {\n          if (cancelled) {\n            return Promise.reject();\n          }\n          if (param == null && data.pages.length) {\n            return Promise.resolve(data);\n          }\n          const queryFnContext = {\n            queryKey: context.queryKey,\n            pageParam: param,\n            direction: previous ? \"backward\" : \"forward\",\n            meta: context.options.meta\n          };\n          addSignalProperty(queryFnContext);\n          const page = await queryFn(\n            queryFnContext\n          );\n          const { maxPages } = context.options;\n          const addTo = previous ? addToStart : addToEnd;\n          return {\n            pages: addTo(data.pages, page, maxPages),\n            pageParams: addTo(data.pageParams, param, maxPages)\n          };\n        };\n        let result;\n        if (direction && oldPages.length) {\n          const previous = direction === \"backward\";\n          const pageParamFn = previous ? getPreviousPageParam : getNextPageParam;\n          const oldData = {\n            pages: oldPages,\n            pageParams: oldPageParams\n          };\n          const param = pageParamFn(options, oldData);\n          result = await fetchPage(oldData, param, previous);\n        } else {\n          result = await fetchPage(\n            empty,\n            oldPageParams[0] ?? options.initialPageParam\n          );\n          const remainingPages = pages ?? oldPages.length;\n          for (let i = 1; i < remainingPages; i++) {\n            const param = getNextPageParam(options, result);\n            result = await fetchPage(result, param);\n          }\n        }\n        return result;\n      };\n      if (context.options.persister) {\n        context.fetchFn = () => {\n          return context.options.persister?.(\n            fetchFn,\n            {\n              queryKey: context.queryKey,\n              meta: context.options.meta,\n              signal: context.signal\n            },\n            query\n          );\n        };\n      } else {\n        context.fetchFn = fetchFn;\n      }\n    }\n  };\n}\nfunction getNextPageParam(options, { pages, pageParams }) {\n  const lastIndex = pages.length - 1;\n  return options.getNextPageParam(\n    pages[lastIndex],\n    pages,\n    pageParams[lastIndex],\n    pageParams\n  );\n}\nfunction getPreviousPageParam(options, { pages, pageParams }) {\n  return options.getPreviousPageParam?.(\n    pages[0],\n    pages,\n    pageParams[0],\n    pageParams\n  );\n}\nfunction hasNextPage(options, data) {\n  if (!data)\n    return false;\n  return getNextPageParam(options, data) != null;\n}\nfunction hasPreviousPage(options, data) {\n  if (!data || !options.getPreviousPageParam)\n    return false;\n  return getPreviousPageParam(options, data) != null;\n}\nexport {\n  hasNextPage,\n  hasPreviousPage,\n  infiniteQueryBehavior\n};\n//# sourceMappingURL=infiniteQueryBehavior.js.map","// src/queryClient.ts\nimport {\n  functionalUpdate,\n  hashKey,\n  hashQueryKeyByOptions,\n  noop,\n  partialMatchKey,\n  resolveStaleTime,\n  skipToken\n} from \"./utils.js\";\nimport { QueryCache } from \"./queryCache.js\";\nimport { MutationCache } from \"./mutationCache.js\";\nimport { focusManager } from \"./focusManager.js\";\nimport { onlineManager } from \"./onlineManager.js\";\nimport { notifyManager } from \"./notifyManager.js\";\nimport { infiniteQueryBehavior } from \"./infiniteQueryBehavior.js\";\nvar QueryClient = class {\n  #queryCache;\n  #mutationCache;\n  #defaultOptions;\n  #queryDefaults;\n  #mutationDefaults;\n  #mountCount;\n  #unsubscribeFocus;\n  #unsubscribeOnline;\n  constructor(config = {}) {\n    this.#queryCache = config.queryCache || new QueryCache();\n    this.#mutationCache = config.mutationCache || new MutationCache();\n    this.#defaultOptions = config.defaultOptions || {};\n    this.#queryDefaults = /* @__PURE__ */ new Map();\n    this.#mutationDefaults = /* @__PURE__ */ new Map();\n    this.#mountCount = 0;\n  }\n  mount() {\n    this.#mountCount++;\n    if (this.#mountCount !== 1)\n      return;\n    this.#unsubscribeFocus = focusManager.subscribe(async (focused) => {\n      if (focused) {\n        await this.resumePausedMutations();\n        this.#queryCache.onFocus();\n      }\n    });\n    this.#unsubscribeOnline = onlineManager.subscribe(async (online) => {\n      if (online) {\n        await this.resumePausedMutations();\n        this.#queryCache.onOnline();\n      }\n    });\n  }\n  unmount() {\n    this.#mountCount--;\n    if (this.#mountCount !== 0)\n      return;\n    this.#unsubscribeFocus?.();\n    this.#unsubscribeFocus = void 0;\n    this.#unsubscribeOnline?.();\n    this.#unsubscribeOnline = void 0;\n  }\n  isFetching(filters) {\n    return this.#queryCache.findAll({ ...filters, fetchStatus: \"fetching\" }).length;\n  }\n  isMutating(filters) {\n    return this.#mutationCache.findAll({ ...filters, status: \"pending\" }).length;\n  }\n  getQueryData(queryKey) {\n    const options = this.defaultQueryOptions({ queryKey });\n    return this.#queryCache.get(options.queryHash)?.state.data;\n  }\n  ensureQueryData(options) {\n    const cachedData = this.getQueryData(options.queryKey);\n    if (cachedData === void 0)\n      return this.fetchQuery(options);\n    else {\n      const defaultedOptions = this.defaultQueryOptions(options);\n      const query = this.#queryCache.build(this, defaultedOptions);\n      if (options.revalidateIfStale && query.isStaleByTime(resolveStaleTime(defaultedOptions.staleTime, query))) {\n        void this.prefetchQuery(defaultedOptions);\n      }\n      return Promise.resolve(cachedData);\n    }\n  }\n  getQueriesData(filters) {\n    return this.#queryCache.findAll(filters).map(({ queryKey, state }) => {\n      const data = state.data;\n      return [queryKey, data];\n    });\n  }\n  setQueryData(queryKey, updater, options) {\n    const defaultedOptions = this.defaultQueryOptions({ queryKey });\n    const query = this.#queryCache.get(\n      defaultedOptions.queryHash\n    );\n    const prevData = query?.state.data;\n    const data = functionalUpdate(updater, prevData);\n    if (data === void 0) {\n      return void 0;\n    }\n    return this.#queryCache.build(this, defaultedOptions).setData(data, { ...options, manual: true });\n  }\n  setQueriesData(filters, updater, options) {\n    return notifyManager.batch(\n      () => this.#queryCache.findAll(filters).map(({ queryKey }) => [\n        queryKey,\n        this.setQueryData(queryKey, updater, options)\n      ])\n    );\n  }\n  getQueryState(queryKey) {\n    const options = this.defaultQueryOptions({ queryKey });\n    return this.#queryCache.get(options.queryHash)?.state;\n  }\n  removeQueries(filters) {\n    const queryCache = this.#queryCache;\n    notifyManager.batch(() => {\n      queryCache.findAll(filters).forEach((query) => {\n        queryCache.remove(query);\n      });\n    });\n  }\n  resetQueries(filters, options) {\n    const queryCache = this.#queryCache;\n    const refetchFilters = {\n      type: \"active\",\n      ...filters\n    };\n    return notifyManager.batch(() => {\n      queryCache.findAll(filters).forEach((query) => {\n        query.reset();\n      });\n      return this.refetchQueries(refetchFilters, options);\n    });\n  }\n  cancelQueries(filters = {}, cancelOptions = {}) {\n    const defaultedCancelOptions = { revert: true, ...cancelOptions };\n    const promises = notifyManager.batch(\n      () => this.#queryCache.findAll(filters).map((query) => query.cancel(defaultedCancelOptions))\n    );\n    return Promise.all(promises).then(noop).catch(noop);\n  }\n  invalidateQueries(filters = {}, options = {}) {\n    return notifyManager.batch(() => {\n      this.#queryCache.findAll(filters).forEach((query) => {\n        query.invalidate();\n      });\n      if (filters.refetchType === \"none\") {\n        return Promise.resolve();\n      }\n      const refetchFilters = {\n        ...filters,\n        type: filters.refetchType ?? filters.type ?? \"active\"\n      };\n      return this.refetchQueries(refetchFilters, options);\n    });\n  }\n  refetchQueries(filters = {}, options) {\n    const fetchOptions = {\n      ...options,\n      cancelRefetch: options?.cancelRefetch ?? true\n    };\n    const promises = notifyManager.batch(\n      () => this.#queryCache.findAll(filters).filter((query) => !query.isDisabled()).map((query) => {\n        let promise = query.fetch(void 0, fetchOptions);\n        if (!fetchOptions.throwOnError) {\n          promise = promise.catch(noop);\n        }\n        return query.state.fetchStatus === \"paused\" ? Promise.resolve() : promise;\n      })\n    );\n    return Promise.all(promises).then(noop);\n  }\n  fetchQuery(options) {\n    const defaultedOptions = this.defaultQueryOptions(options);\n    if (defaultedOptions.retry === void 0) {\n      defaultedOptions.retry = false;\n    }\n    const query = this.#queryCache.build(this, defaultedOptions);\n    return query.isStaleByTime(\n      resolveStaleTime(defaultedOptions.staleTime, query)\n    ) ? query.fetch(defaultedOptions) : Promise.resolve(query.state.data);\n  }\n  prefetchQuery(options) {\n    return this.fetchQuery(options).then(noop).catch(noop);\n  }\n  fetchInfiniteQuery(options) {\n    options.behavior = infiniteQueryBehavior(options.pages);\n    return this.fetchQuery(options);\n  }\n  prefetchInfiniteQuery(options) {\n    return this.fetchInfiniteQuery(options).then(noop).catch(noop);\n  }\n  resumePausedMutations() {\n    if (onlineManager.isOnline()) {\n      return this.#mutationCache.resumePausedMutations();\n    }\n    return Promise.resolve();\n  }\n  getQueryCache() {\n    return this.#queryCache;\n  }\n  getMutationCache() {\n    return this.#mutationCache;\n  }\n  getDefaultOptions() {\n    return this.#defaultOptions;\n  }\n  setDefaultOptions(options) {\n    this.#defaultOptions = options;\n  }\n  setQueryDefaults(queryKey, options) {\n    this.#queryDefaults.set(hashKey(queryKey), {\n      queryKey,\n      defaultOptions: options\n    });\n  }\n  getQueryDefaults(queryKey) {\n    const defaults = [...this.#queryDefaults.values()];\n    let result = {};\n    defaults.forEach((queryDefault) => {\n      if (partialMatchKey(queryKey, queryDefault.queryKey)) {\n        result = { ...result, ...queryDefault.defaultOptions };\n      }\n    });\n    return result;\n  }\n  setMutationDefaults(mutationKey, options) {\n    this.#mutationDefaults.set(hashKey(mutationKey), {\n      mutationKey,\n      defaultOptions: options\n    });\n  }\n  getMutationDefaults(mutationKey) {\n    const defaults = [...this.#mutationDefaults.values()];\n    let result = {};\n    defaults.forEach((queryDefault) => {\n      if (partialMatchKey(mutationKey, queryDefault.mutationKey)) {\n        result = { ...result, ...queryDefault.defaultOptions };\n      }\n    });\n    return result;\n  }\n  defaultQueryOptions(options) {\n    if (options._defaulted) {\n      return options;\n    }\n    const defaultedOptions = {\n      ...this.#defaultOptions.queries,\n      ...this.getQueryDefaults(options.queryKey),\n      ...options,\n      _defaulted: true\n    };\n    if (!defaultedOptions.queryHash) {\n      defaultedOptions.queryHash = hashQueryKeyByOptions(\n        defaultedOptions.queryKey,\n        defaultedOptions\n      );\n    }\n    if (defaultedOptions.refetchOnReconnect === void 0) {\n      defaultedOptions.refetchOnReconnect = defaultedOptions.networkMode !== \"always\";\n    }\n    if (defaultedOptions.throwOnError === void 0) {\n      defaultedOptions.throwOnError = !!defaultedOptions.suspense;\n    }\n    if (!defaultedOptions.networkMode && defaultedOptions.persister) {\n      defaultedOptions.networkMode = \"offlineFirst\";\n    }\n    if (defaultedOptions.enabled !== true && defaultedOptions.queryFn === skipToken) {\n      defaultedOptions.enabled = false;\n    }\n    return defaultedOptions;\n  }\n  defaultMutationOptions(options) {\n    if (options?._defaulted) {\n      return options;\n    }\n    return {\n      ...this.#defaultOptions.mutations,\n      ...options?.mutationKey && this.getMutationDefaults(options.mutationKey),\n      ...options,\n      _defaulted: true\n    };\n  }\n  clear() {\n    this.#queryCache.clear();\n    this.#mutationCache.clear();\n  }\n};\nexport {\n  QueryClient\n};\n//# sourceMappingURL=queryClient.js.map","// src/removable.ts\nimport { isServer, isValidTimeout } from \"./utils.js\";\nvar Removable = class {\n  #gcTimeout;\n  destroy() {\n    this.clearGcTimeout();\n  }\n  scheduleGc() {\n    this.clearGcTimeout();\n    if (isValidTimeout(this.gcTime)) {\n      this.#gcTimeout = setTimeout(() => {\n        this.optionalRemove();\n      }, this.gcTime);\n    }\n  }\n  updateGcTime(newGcTime) {\n    this.gcTime = Math.max(\n      this.gcTime || 0,\n      newGcTime ?? (isServer ? Infinity : 5 * 60 * 1e3)\n    );\n  }\n  clearGcTimeout() {\n    if (this.#gcTimeout) {\n      clearTimeout(this.#gcTimeout);\n      this.#gcTimeout = void 0;\n    }\n  }\n};\nexport {\n  Removable\n};\n//# sourceMappingURL=removable.js.map","// src/retryer.ts\nimport { focusManager } from \"./focusManager.js\";\nimport { onlineManager } from \"./onlineManager.js\";\nimport { isServer, sleep } from \"./utils.js\";\nfunction defaultRetryDelay(failureCount) {\n  return Math.min(1e3 * 2 ** failureCount, 3e4);\n}\nfunction canFetch(networkMode) {\n  return (networkMode ?? \"online\") === \"online\" ? onlineManager.isOnline() : true;\n}\nvar CancelledError = class {\n  constructor(options) {\n    this.revert = options?.revert;\n    this.silent = options?.silent;\n  }\n};\nfunction isCancelledError(value) {\n  return value instanceof CancelledError;\n}\nfunction createRetryer(config) {\n  let isRetryCancelled = false;\n  let failureCount = 0;\n  let isResolved = false;\n  let continueFn;\n  let promiseResolve;\n  let promiseReject;\n  const promise = new Promise((outerResolve, outerReject) => {\n    promiseResolve = outerResolve;\n    promiseReject = outerReject;\n  });\n  const cancel = (cancelOptions) => {\n    if (!isResolved) {\n      reject(new CancelledError(cancelOptions));\n      config.abort?.();\n    }\n  };\n  const cancelRetry = () => {\n    isRetryCancelled = true;\n  };\n  const continueRetry = () => {\n    isRetryCancelled = false;\n  };\n  const canContinue = () => focusManager.isFocused() && (config.networkMode === \"always\" || onlineManager.isOnline()) && config.canRun();\n  const canStart = () => canFetch(config.networkMode) && config.canRun();\n  const resolve = (value) => {\n    if (!isResolved) {\n      isResolved = true;\n      config.onSuccess?.(value);\n      continueFn?.();\n      promiseResolve(value);\n    }\n  };\n  const reject = (value) => {\n    if (!isResolved) {\n      isResolved = true;\n      config.onError?.(value);\n      continueFn?.();\n      promiseReject(value);\n    }\n  };\n  const pause = () => {\n    return new Promise((continueResolve) => {\n      continueFn = (value) => {\n        if (isResolved || canContinue()) {\n          continueResolve(value);\n        }\n      };\n      config.onPause?.();\n    }).then(() => {\n      continueFn = void 0;\n      if (!isResolved) {\n        config.onContinue?.();\n      }\n    });\n  };\n  const run = () => {\n    if (isResolved) {\n      return;\n    }\n    let promiseOrValue;\n    const initialPromise = failureCount === 0 ? config.initialPromise : void 0;\n    try {\n      promiseOrValue = initialPromise ?? config.fn();\n    } catch (error) {\n      promiseOrValue = Promise.reject(error);\n    }\n    Promise.resolve(promiseOrValue).then(resolve).catch((error) => {\n      if (isResolved) {\n        return;\n      }\n      const retry = config.retry ?? (isServer ? 0 : 3);\n      const retryDelay = config.retryDelay ?? defaultRetryDelay;\n      const delay = typeof retryDelay === \"function\" ? retryDelay(failureCount, error) : retryDelay;\n      const shouldRetry = retry === true || typeof retry === \"number\" && failureCount < retry || typeof retry === \"function\" && retry(failureCount, error);\n      if (isRetryCancelled || !shouldRetry) {\n        reject(error);\n        return;\n      }\n      failureCount++;\n      config.onFail?.(failureCount, error);\n      sleep(delay).then(() => {\n        return canContinue() ? void 0 : pause();\n      }).then(() => {\n        if (isRetryCancelled) {\n          reject(error);\n        } else {\n          run();\n        }\n      });\n    });\n  };\n  return {\n    promise,\n    cancel,\n    continue: () => {\n      continueFn?.();\n      return promise;\n    },\n    cancelRetry,\n    continueRetry,\n    canStart,\n    start: () => {\n      if (canStart()) {\n        run();\n      } else {\n        pause().then(run);\n      }\n      return promise;\n    }\n  };\n}\nexport {\n  CancelledError,\n  canFetch,\n  createRetryer,\n  isCancelledError\n};\n//# sourceMappingURL=retryer.js.map","// src/subscribable.ts\nvar Subscribable = class {\n  constructor() {\n    this.listeners = /* @__PURE__ */ new Set();\n    this.subscribe = this.subscribe.bind(this);\n  }\n  subscribe(listener) {\n    this.listeners.add(listener);\n    this.onSubscribe();\n    return () => {\n      this.listeners.delete(listener);\n      this.onUnsubscribe();\n    };\n  }\n  hasListeners() {\n    return this.listeners.size > 0;\n  }\n  onSubscribe() {\n  }\n  onUnsubscribe() {\n  }\n};\nexport {\n  Subscribable\n};\n//# sourceMappingURL=subscribable.js.map","// src/utils.ts\nvar isServer = typeof window === \"undefined\" || \"Deno\" in globalThis;\nfunction noop() {\n  return void 0;\n}\nfunction functionalUpdate(updater, input) {\n  return typeof updater === \"function\" ? updater(input) : updater;\n}\nfunction isValidTimeout(value) {\n  return typeof value === \"number\" && value >= 0 && value !== Infinity;\n}\nfunction timeUntilStale(updatedAt, staleTime) {\n  return Math.max(updatedAt + (staleTime || 0) - Date.now(), 0);\n}\nfunction resolveStaleTime(staleTime, query) {\n  return typeof staleTime === \"function\" ? staleTime(query) : staleTime;\n}\nfunction resolveEnabled(enabled, query) {\n  return typeof enabled === \"function\" ? enabled(query) : enabled;\n}\nfunction matchQuery(filters, query) {\n  const {\n    type = \"all\",\n    exact,\n    fetchStatus,\n    predicate,\n    queryKey,\n    stale\n  } = filters;\n  if (queryKey) {\n    if (exact) {\n      if (query.queryHash !== hashQueryKeyByOptions(queryKey, query.options)) {\n        return false;\n      }\n    } else if (!partialMatchKey(query.queryKey, queryKey)) {\n      return false;\n    }\n  }\n  if (type !== \"all\") {\n    const isActive = query.isActive();\n    if (type === \"active\" && !isActive) {\n      return false;\n    }\n    if (type === \"inactive\" && isActive) {\n      return false;\n    }\n  }\n  if (typeof stale === \"boolean\" && query.isStale() !== stale) {\n    return false;\n  }\n  if (fetchStatus && fetchStatus !== query.state.fetchStatus) {\n    return false;\n  }\n  if (predicate && !predicate(query)) {\n    return false;\n  }\n  return true;\n}\nfunction matchMutation(filters, mutation) {\n  const { exact, status, predicate, mutationKey } = filters;\n  if (mutationKey) {\n    if (!mutation.options.mutationKey) {\n      return false;\n    }\n    if (exact) {\n      if (hashKey(mutation.options.mutationKey) !== hashKey(mutationKey)) {\n        return false;\n      }\n    } else if (!partialMatchKey(mutation.options.mutationKey, mutationKey)) {\n      return false;\n    }\n  }\n  if (status && mutation.state.status !== status) {\n    return false;\n  }\n  if (predicate && !predicate(mutation)) {\n    return false;\n  }\n  return true;\n}\nfunction hashQueryKeyByOptions(queryKey, options) {\n  const hashFn = options?.queryKeyHashFn || hashKey;\n  return hashFn(queryKey);\n}\nfunction hashKey(queryKey) {\n  return JSON.stringify(\n    queryKey,\n    (_, val) => isPlainObject(val) ? Object.keys(val).sort().reduce((result, key) => {\n      result[key] = val[key];\n      return result;\n    }, {}) : val\n  );\n}\nfunction partialMatchKey(a, b) {\n  if (a === b) {\n    return true;\n  }\n  if (typeof a !== typeof b) {\n    return false;\n  }\n  if (a && b && typeof a === \"object\" && typeof b === \"object\") {\n    return !Object.keys(b).some((key) => !partialMatchKey(a[key], b[key]));\n  }\n  return false;\n}\nfunction replaceEqualDeep(a, b) {\n  if (a === b) {\n    return a;\n  }\n  const array = isPlainArray(a) && isPlainArray(b);\n  if (array || isPlainObject(a) && isPlainObject(b)) {\n    const aItems = array ? a : Object.keys(a);\n    const aSize = aItems.length;\n    const bItems = array ? b : Object.keys(b);\n    const bSize = bItems.length;\n    const copy = array ? [] : {};\n    let equalItems = 0;\n    for (let i = 0; i < bSize; i++) {\n      const key = array ? i : bItems[i];\n      if ((!array && aItems.includes(key) || array) && a[key] === void 0 && b[key] === void 0) {\n        copy[key] = void 0;\n        equalItems++;\n      } else {\n        copy[key] = replaceEqualDeep(a[key], b[key]);\n        if (copy[key] === a[key] && a[key] !== void 0) {\n          equalItems++;\n        }\n      }\n    }\n    return aSize === bSize && equalItems === aSize ? a : copy;\n  }\n  return b;\n}\nfunction shallowEqualObjects(a, b) {\n  if (!b || Object.keys(a).length !== Object.keys(b).length) {\n    return false;\n  }\n  for (const key in a) {\n    if (a[key] !== b[key]) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction isPlainArray(value) {\n  return Array.isArray(value) && value.length === Object.keys(value).length;\n}\nfunction isPlainObject(o) {\n  if (!hasObjectPrototype(o)) {\n    return false;\n  }\n  const ctor = o.constructor;\n  if (ctor === void 0) {\n    return true;\n  }\n  const prot = ctor.prototype;\n  if (!hasObjectPrototype(prot)) {\n    return false;\n  }\n  if (!prot.hasOwnProperty(\"isPrototypeOf\")) {\n    return false;\n  }\n  if (Object.getPrototypeOf(o) !== Object.prototype) {\n    return false;\n  }\n  return true;\n}\nfunction hasObjectPrototype(o) {\n  return Object.prototype.toString.call(o) === \"[object Object]\";\n}\nfunction sleep(ms) {\n  return new Promise((resolve) => {\n    setTimeout(resolve, ms);\n  });\n}\nfunction replaceData(prevData, data, options) {\n  if (typeof options.structuralSharing === \"function\") {\n    return options.structuralSharing(prevData, data);\n  } else if (options.structuralSharing !== false) {\n    return replaceEqualDeep(prevData, data);\n  }\n  return data;\n}\nfunction keepPreviousData(previousData) {\n  return previousData;\n}\nfunction addToEnd(items, item, max = 0) {\n  const newItems = [...items, item];\n  return max && newItems.length > max ? newItems.slice(1) : newItems;\n}\nfunction addToStart(items, item, max = 0) {\n  const newItems = [item, ...items];\n  return max && newItems.length > max ? newItems.slice(0, -1) : newItems;\n}\nvar skipToken = Symbol();\nvar ensureQueryFn = (options, fetchOptions) => {\n  if (process.env.NODE_ENV !== \"production\") {\n    if (options.queryFn === skipToken) {\n      console.error(\n        `Attempted to invoke queryFn when set to skipToken. This is likely a configuration error. Query hash: '${options.queryHash}'`\n      );\n    }\n  }\n  if (!options.queryFn && fetchOptions?.initialPromise) {\n    return () => fetchOptions.initialPromise;\n  }\n  if (!options.queryFn || options.queryFn === skipToken) {\n    return () => Promise.reject(new Error(`Missing queryFn: '${options.queryHash}'`));\n  }\n  return options.queryFn;\n};\nexport {\n  addToEnd,\n  addToStart,\n  ensureQueryFn,\n  functionalUpdate,\n  hashKey,\n  hashQueryKeyByOptions,\n  isPlainArray,\n  isPlainObject,\n  isServer,\n  isValidTimeout,\n  keepPreviousData,\n  matchMutation,\n  matchQuery,\n  noop,\n  partialMatchKey,\n  replaceData,\n  replaceEqualDeep,\n  resolveEnabled,\n  resolveStaleTime,\n  shallowEqualObjects,\n  skipToken,\n  sleep,\n  timeUntilStale\n};\n//# sourceMappingURL=utils.js.map","\"use client\";\n\n// src/QueryClientProvider.tsx\nimport * as React from \"react\";\nimport { jsx } from \"react/jsx-runtime\";\nvar QueryClientContext = React.createContext(\n  void 0\n);\nvar useQueryClient = (queryClient) => {\n  const client = React.useContext(QueryClientContext);\n  if (queryClient) {\n    return queryClient;\n  }\n  if (!client) {\n    throw new Error(\"No QueryClient set, use QueryClientProvider to set one\");\n  }\n  return client;\n};\nvar QueryClientProvider = ({\n  client,\n  children\n}) => {\n  React.useEffect(() => {\n    client.mount();\n    return () => {\n      client.unmount();\n    };\n  }, [client]);\n  return /* @__PURE__ */ jsx(QueryClientContext.Provider, { value: client, children });\n};\nexport {\n  QueryClientContext,\n  QueryClientProvider,\n  useQueryClient\n};\n//# sourceMappingURL=QueryClientProvider.js.map","// src/mutationObserver.ts\nimport { getDefaultState } from \"./mutation.js\";\nimport { notifyManager } from \"./notifyManager.js\";\nimport { Subscribable } from \"./subscribable.js\";\nimport { hashKey, shallowEqualObjects } from \"./utils.js\";\nvar MutationObserver = class extends Subscribable {\n  #client;\n  #currentResult = void 0;\n  #currentMutation;\n  #mutateOptions;\n  constructor(client, options) {\n    super();\n    this.#client = client;\n    this.setOptions(options);\n    this.bindMethods();\n    this.#updateResult();\n  }\n  bindMethods() {\n    this.mutate = this.mutate.bind(this);\n    this.reset = this.reset.bind(this);\n  }\n  setOptions(options) {\n    const prevOptions = this.options;\n    this.options = this.#client.defaultMutationOptions(options);\n    if (!shallowEqualObjects(this.options, prevOptions)) {\n      this.#client.getMutationCache().notify({\n        type: \"observerOptionsUpdated\",\n        mutation: this.#currentMutation,\n        observer: this\n      });\n    }\n    if (prevOptions?.mutationKey && this.options.mutationKey && hashKey(prevOptions.mutationKey) !== hashKey(this.options.mutationKey)) {\n      this.reset();\n    } else if (this.#currentMutation?.state.status === \"pending\") {\n      this.#currentMutation.setOptions(this.options);\n    }\n  }\n  onUnsubscribe() {\n    if (!this.hasListeners()) {\n      this.#currentMutation?.removeObserver(this);\n    }\n  }\n  onMutationUpdate(action) {\n    this.#updateResult();\n    this.#notify(action);\n  }\n  getCurrentResult() {\n    return this.#currentResult;\n  }\n  reset() {\n    this.#currentMutation?.removeObserver(this);\n    this.#currentMutation = void 0;\n    this.#updateResult();\n    this.#notify();\n  }\n  mutate(variables, options) {\n    this.#mutateOptions = options;\n    this.#currentMutation?.removeObserver(this);\n    this.#currentMutation = this.#client.getMutationCache().build(this.#client, this.options);\n    this.#currentMutation.addObserver(this);\n    return this.#currentMutation.execute(variables);\n  }\n  #updateResult() {\n    const state = this.#currentMutation?.state ?? getDefaultState();\n    this.#currentResult = {\n      ...state,\n      isPending: state.status === \"pending\",\n      isSuccess: state.status === \"success\",\n      isError: state.status === \"error\",\n      isIdle: state.status === \"idle\",\n      mutate: this.mutate,\n      reset: this.reset\n    };\n  }\n  #notify(action) {\n    notifyManager.batch(() => {\n      if (this.#mutateOptions && this.hasListeners()) {\n        const variables = this.#currentResult.variables;\n        const context = this.#currentResult.context;\n        if (action?.type === \"success\") {\n          this.#mutateOptions.onSuccess?.(action.data, variables, context);\n          this.#mutateOptions.onSettled?.(action.data, null, variables, context);\n        } else if (action?.type === \"error\") {\n          this.#mutateOptions.onError?.(action.error, variables, context);\n          this.#mutateOptions.onSettled?.(\n            void 0,\n            action.error,\n            variables,\n            context\n          );\n        }\n      }\n      this.listeners.forEach((listener) => {\n        listener(this.#currentResult);\n      });\n    });\n  }\n};\nexport {\n  MutationObserver\n};\n//# sourceMappingURL=mutationObserver.js.map","\"use client\";\n\n// src/useMutation.ts\nimport * as React from \"react\";\nimport { MutationObserver, notifyManager } from \"@tanstack/query-core\";\nimport { useQueryClient } from \"./QueryClientProvider.js\";\nimport { noop, shouldThrowError } from \"./utils.js\";\nfunction useMutation(options, queryClient) {\n  const client = useQueryClient(queryClient);\n  const [observer] = React.useState(\n    () => new MutationObserver(\n      client,\n      options\n    )\n  );\n  React.useEffect(() => {\n    observer.setOptions(options);\n  }, [observer, options]);\n  const result = React.useSyncExternalStore(\n    React.useCallback(\n      (onStoreChange) => observer.subscribe(notifyManager.batchCalls(onStoreChange)),\n      [observer]\n    ),\n    () => observer.getCurrentResult(),\n    () => observer.getCurrentResult()\n  );\n  const mutate = React.useCallback(\n    (variables, mutateOptions) => {\n      observer.mutate(variables, mutateOptions).catch(noop);\n    },\n    [observer]\n  );\n  if (result.error && shouldThrowError(observer.options.throwOnError, [result.error])) {\n    throw result.error;\n  }\n  return { ...result, mutate, mutateAsync: result.mutate };\n}\nexport {\n  useMutation\n};\n//# sourceMappingURL=useMutation.js.map","// src/queryObserver.ts\nimport {\n  isServer,\n  isValidTimeout,\n  noop,\n  replaceData,\n  resolveEnabled,\n  resolveStaleTime,\n  shallowEqualObjects,\n  timeUntilStale\n} from \"./utils.js\";\nimport { notifyManager } from \"./notifyManager.js\";\nimport { focusManager } from \"./focusManager.js\";\nimport { Subscribable } from \"./subscribable.js\";\nimport { fetchState } from \"./query.js\";\nvar QueryObserver = class extends Subscribable {\n  constructor(client, options) {\n    super();\n    this.options = options;\n    this.#client = client;\n    this.#selectError = null;\n    this.bindMethods();\n    this.setOptions(options);\n  }\n  #client;\n  #currentQuery = void 0;\n  #currentQueryInitialState = void 0;\n  #currentResult = void 0;\n  #currentResultState;\n  #currentResultOptions;\n  #selectError;\n  #selectFn;\n  #selectResult;\n  // This property keeps track of the last query with defined data.\n  // It will be used to pass the previous data and query to the placeholder function between renders.\n  #lastQueryWithDefinedData;\n  #staleTimeoutId;\n  #refetchIntervalId;\n  #currentRefetchInterval;\n  #trackedProps = /* @__PURE__ */ new Set();\n  bindMethods() {\n    this.refetch = this.refetch.bind(this);\n  }\n  onSubscribe() {\n    if (this.listeners.size === 1) {\n      this.#currentQuery.addObserver(this);\n      if (shouldFetchOnMount(this.#currentQuery, this.options)) {\n        this.#executeFetch();\n      } else {\n        this.updateResult();\n      }\n      this.#updateTimers();\n    }\n  }\n  onUnsubscribe() {\n    if (!this.hasListeners()) {\n      this.destroy();\n    }\n  }\n  shouldFetchOnReconnect() {\n    return shouldFetchOn(\n      this.#currentQuery,\n      this.options,\n      this.options.refetchOnReconnect\n    );\n  }\n  shouldFetchOnWindowFocus() {\n    return shouldFetchOn(\n      this.#currentQuery,\n      this.options,\n      this.options.refetchOnWindowFocus\n    );\n  }\n  destroy() {\n    this.listeners = /* @__PURE__ */ new Set();\n    this.#clearStaleTimeout();\n    this.#clearRefetchInterval();\n    this.#currentQuery.removeObserver(this);\n  }\n  setOptions(options, notifyOptions) {\n    const prevOptions = this.options;\n    const prevQuery = this.#currentQuery;\n    this.options = this.#client.defaultQueryOptions(options);\n    if (this.options.enabled !== void 0 && typeof this.options.enabled !== \"boolean\" && typeof this.options.enabled !== \"function\" && typeof resolveEnabled(this.options.enabled, this.#currentQuery) !== \"boolean\") {\n      throw new Error(\n        \"Expected enabled to be a boolean or a callback that returns a boolean\"\n      );\n    }\n    this.#updateQuery();\n    this.#currentQuery.setOptions(this.options);\n    if (prevOptions._defaulted && !shallowEqualObjects(this.options, prevOptions)) {\n      this.#client.getQueryCache().notify({\n        type: \"observerOptionsUpdated\",\n        query: this.#currentQuery,\n        observer: this\n      });\n    }\n    const mounted = this.hasListeners();\n    if (mounted && shouldFetchOptionally(\n      this.#currentQuery,\n      prevQuery,\n      this.options,\n      prevOptions\n    )) {\n      this.#executeFetch();\n    }\n    this.updateResult(notifyOptions);\n    if (mounted && (this.#currentQuery !== prevQuery || resolveEnabled(this.options.enabled, this.#currentQuery) !== resolveEnabled(prevOptions.enabled, this.#currentQuery) || resolveStaleTime(this.options.staleTime, this.#currentQuery) !== resolveStaleTime(prevOptions.staleTime, this.#currentQuery))) {\n      this.#updateStaleTimeout();\n    }\n    const nextRefetchInterval = this.#computeRefetchInterval();\n    if (mounted && (this.#currentQuery !== prevQuery || resolveEnabled(this.options.enabled, this.#currentQuery) !== resolveEnabled(prevOptions.enabled, this.#currentQuery) || nextRefetchInterval !== this.#currentRefetchInterval)) {\n      this.#updateRefetchInterval(nextRefetchInterval);\n    }\n  }\n  getOptimisticResult(options) {\n    const query = this.#client.getQueryCache().build(this.#client, options);\n    const result = this.createResult(query, options);\n    if (shouldAssignObserverCurrentProperties(this, result)) {\n      this.#currentResult = result;\n      this.#currentResultOptions = this.options;\n      this.#currentResultState = this.#currentQuery.state;\n    }\n    return result;\n  }\n  getCurrentResult() {\n    return this.#currentResult;\n  }\n  trackResult(result, onPropTracked) {\n    const trackedResult = {};\n    Object.keys(result).forEach((key) => {\n      Object.defineProperty(trackedResult, key, {\n        configurable: false,\n        enumerable: true,\n        get: () => {\n          this.trackProp(key);\n          onPropTracked?.(key);\n          return result[key];\n        }\n      });\n    });\n    return trackedResult;\n  }\n  trackProp(key) {\n    this.#trackedProps.add(key);\n  }\n  getCurrentQuery() {\n    return this.#currentQuery;\n  }\n  refetch({ ...options } = {}) {\n    return this.fetch({\n      ...options\n    });\n  }\n  fetchOptimistic(options) {\n    const defaultedOptions = this.#client.defaultQueryOptions(options);\n    const query = this.#client.getQueryCache().build(this.#client, defaultedOptions);\n    query.isFetchingOptimistic = true;\n    return query.fetch().then(() => this.createResult(query, defaultedOptions));\n  }\n  fetch(fetchOptions) {\n    return this.#executeFetch({\n      ...fetchOptions,\n      cancelRefetch: fetchOptions.cancelRefetch ?? true\n    }).then(() => {\n      this.updateResult();\n      return this.#currentResult;\n    });\n  }\n  #executeFetch(fetchOptions) {\n    this.#updateQuery();\n    let promise = this.#currentQuery.fetch(\n      this.options,\n      fetchOptions\n    );\n    if (!fetchOptions?.throwOnError) {\n      promise = promise.catch(noop);\n    }\n    return promise;\n  }\n  #updateStaleTimeout() {\n    this.#clearStaleTimeout();\n    const staleTime = resolveStaleTime(\n      this.options.staleTime,\n      this.#currentQuery\n    );\n    if (isServer || this.#currentResult.isStale || !isValidTimeout(staleTime)) {\n      return;\n    }\n    const time = timeUntilStale(this.#currentResult.dataUpdatedAt, staleTime);\n    const timeout = time + 1;\n    this.#staleTimeoutId = setTimeout(() => {\n      if (!this.#currentResult.isStale) {\n        this.updateResult();\n      }\n    }, timeout);\n  }\n  #computeRefetchInterval() {\n    return (typeof this.options.refetchInterval === \"function\" ? this.options.refetchInterval(this.#currentQuery) : this.options.refetchInterval) ?? false;\n  }\n  #updateRefetchInterval(nextInterval) {\n    this.#clearRefetchInterval();\n    this.#currentRefetchInterval = nextInterval;\n    if (isServer || resolveEnabled(this.options.enabled, this.#currentQuery) === false || !isValidTimeout(this.#currentRefetchInterval) || this.#currentRefetchInterval === 0) {\n      return;\n    }\n    this.#refetchIntervalId = setInterval(() => {\n      if (this.options.refetchIntervalInBackground || focusManager.isFocused()) {\n        this.#executeFetch();\n      }\n    }, this.#currentRefetchInterval);\n  }\n  #updateTimers() {\n    this.#updateStaleTimeout();\n    this.#updateRefetchInterval(this.#computeRefetchInterval());\n  }\n  #clearStaleTimeout() {\n    if (this.#staleTimeoutId) {\n      clearTimeout(this.#staleTimeoutId);\n      this.#staleTimeoutId = void 0;\n    }\n  }\n  #clearRefetchInterval() {\n    if (this.#refetchIntervalId) {\n      clearInterval(this.#refetchIntervalId);\n      this.#refetchIntervalId = void 0;\n    }\n  }\n  createResult(query, options) {\n    const prevQuery = this.#currentQuery;\n    const prevOptions = this.options;\n    const prevResult = this.#currentResult;\n    const prevResultState = this.#currentResultState;\n    const prevResultOptions = this.#currentResultOptions;\n    const queryChange = query !== prevQuery;\n    const queryInitialState = queryChange ? query.state : this.#currentQueryInitialState;\n    const { state } = query;\n    let newState = { ...state };\n    let isPlaceholderData = false;\n    let data;\n    if (options._optimisticResults) {\n      const mounted = this.hasListeners();\n      const fetchOnMount = !mounted && shouldFetchOnMount(query, options);\n      const fetchOptionally = mounted && shouldFetchOptionally(query, prevQuery, options, prevOptions);\n      if (fetchOnMount || fetchOptionally) {\n        newState = {\n          ...newState,\n          ...fetchState(state.data, query.options)\n        };\n      }\n      if (options._optimisticResults === \"isRestoring\") {\n        newState.fetchStatus = \"idle\";\n      }\n    }\n    let { error, errorUpdatedAt, status } = newState;\n    if (options.select && newState.data !== void 0) {\n      if (prevResult && newState.data === prevResultState?.data && options.select === this.#selectFn) {\n        data = this.#selectResult;\n      } else {\n        try {\n          this.#selectFn = options.select;\n          data = options.select(newState.data);\n          data = replaceData(prevResult?.data, data, options);\n          this.#selectResult = data;\n          this.#selectError = null;\n        } catch (selectError) {\n          this.#selectError = selectError;\n        }\n      }\n    } else {\n      data = newState.data;\n    }\n    if (options.placeholderData !== void 0 && data === void 0 && status === \"pending\") {\n      let placeholderData;\n      if (prevResult?.isPlaceholderData && options.placeholderData === prevResultOptions?.placeholderData) {\n        placeholderData = prevResult.data;\n      } else {\n        placeholderData = typeof options.placeholderData === \"function\" ? options.placeholderData(\n          this.#lastQueryWithDefinedData?.state.data,\n          this.#lastQueryWithDefinedData\n        ) : options.placeholderData;\n        if (options.select && placeholderData !== void 0) {\n          try {\n            placeholderData = options.select(placeholderData);\n            this.#selectError = null;\n          } catch (selectError) {\n            this.#selectError = selectError;\n          }\n        }\n      }\n      if (placeholderData !== void 0) {\n        status = \"success\";\n        data = replaceData(\n          prevResult?.data,\n          placeholderData,\n          options\n        );\n        isPlaceholderData = true;\n      }\n    }\n    if (this.#selectError) {\n      error = this.#selectError;\n      data = this.#selectResult;\n      errorUpdatedAt = Date.now();\n      status = \"error\";\n    }\n    const isFetching = newState.fetchStatus === \"fetching\";\n    const isPending = status === \"pending\";\n    const isError = status === \"error\";\n    const isLoading = isPending && isFetching;\n    const hasData = data !== void 0;\n    const result = {\n      status,\n      fetchStatus: newState.fetchStatus,\n      isPending,\n      isSuccess: status === \"success\",\n      isError,\n      isInitialLoading: isLoading,\n      isLoading,\n      data,\n      dataUpdatedAt: newState.dataUpdatedAt,\n      error,\n      errorUpdatedAt,\n      failureCount: newState.fetchFailureCount,\n      failureReason: newState.fetchFailureReason,\n      errorUpdateCount: newState.errorUpdateCount,\n      isFetched: newState.dataUpdateCount > 0 || newState.errorUpdateCount > 0,\n      isFetchedAfterMount: newState.dataUpdateCount > queryInitialState.dataUpdateCount || newState.errorUpdateCount > queryInitialState.errorUpdateCount,\n      isFetching,\n      isRefetching: isFetching && !isPending,\n      isLoadingError: isError && !hasData,\n      isPaused: newState.fetchStatus === \"paused\",\n      isPlaceholderData,\n      isRefetchError: isError && hasData,\n      isStale: isStale(query, options),\n      refetch: this.refetch\n    };\n    return result;\n  }\n  updateResult(notifyOptions) {\n    const prevResult = this.#currentResult;\n    const nextResult = this.createResult(this.#currentQuery, this.options);\n    this.#currentResultState = this.#currentQuery.state;\n    this.#currentResultOptions = this.options;\n    if (this.#currentResultState.data !== void 0) {\n      this.#lastQueryWithDefinedData = this.#currentQuery;\n    }\n    if (shallowEqualObjects(nextResult, prevResult)) {\n      return;\n    }\n    this.#currentResult = nextResult;\n    const defaultNotifyOptions = {};\n    const shouldNotifyListeners = () => {\n      if (!prevResult) {\n        return true;\n      }\n      const { notifyOnChangeProps } = this.options;\n      const notifyOnChangePropsValue = typeof notifyOnChangeProps === \"function\" ? notifyOnChangeProps() : notifyOnChangeProps;\n      if (notifyOnChangePropsValue === \"all\" || !notifyOnChangePropsValue && !this.#trackedProps.size) {\n        return true;\n      }\n      const includedProps = new Set(\n        notifyOnChangePropsValue ?? this.#trackedProps\n      );\n      if (this.options.throwOnError) {\n        includedProps.add(\"error\");\n      }\n      return Object.keys(this.#currentResult).some((key) => {\n        const typedKey = key;\n        const changed = this.#currentResult[typedKey] !== prevResult[typedKey];\n        return changed && includedProps.has(typedKey);\n      });\n    };\n    if (notifyOptions?.listeners !== false && shouldNotifyListeners()) {\n      defaultNotifyOptions.listeners = true;\n    }\n    this.#notify({ ...defaultNotifyOptions, ...notifyOptions });\n  }\n  #updateQuery() {\n    const query = this.#client.getQueryCache().build(this.#client, this.options);\n    if (query === this.#currentQuery) {\n      return;\n    }\n    const prevQuery = this.#currentQuery;\n    this.#currentQuery = query;\n    this.#currentQueryInitialState = query.state;\n    if (this.hasListeners()) {\n      prevQuery?.removeObserver(this);\n      query.addObserver(this);\n    }\n  }\n  onQueryUpdate() {\n    this.updateResult();\n    if (this.hasListeners()) {\n      this.#updateTimers();\n    }\n  }\n  #notify(notifyOptions) {\n    notifyManager.batch(() => {\n      if (notifyOptions.listeners) {\n        this.listeners.forEach((listener) => {\n          listener(this.#currentResult);\n        });\n      }\n      this.#client.getQueryCache().notify({\n        query: this.#currentQuery,\n        type: \"observerResultsUpdated\"\n      });\n    });\n  }\n};\nfunction shouldLoadOnMount(query, options) {\n  return resolveEnabled(options.enabled, query) !== false && query.state.data === void 0 && !(query.state.status === \"error\" && options.retryOnMount === false);\n}\nfunction shouldFetchOnMount(query, options) {\n  return shouldLoadOnMount(query, options) || query.state.data !== void 0 && shouldFetchOn(query, options, options.refetchOnMount);\n}\nfunction shouldFetchOn(query, options, field) {\n  if (resolveEnabled(options.enabled, query) !== false) {\n    const value = typeof field === \"function\" ? field(query) : field;\n    return value === \"always\" || value !== false && isStale(query, options);\n  }\n  return false;\n}\nfunction shouldFetchOptionally(query, prevQuery, options, prevOptions) {\n  return (query !== prevQuery || resolveEnabled(prevOptions.enabled, query) === false) && (!options.suspense || query.state.status !== \"error\") && isStale(query, options);\n}\nfunction isStale(query, options) {\n  return resolveEnabled(options.enabled, query) !== false && query.isStaleByTime(resolveStaleTime(options.staleTime, query));\n}\nfunction shouldAssignObserverCurrentProperties(observer, optimisticResult) {\n  if (!shallowEqualObjects(observer.getCurrentResult(), optimisticResult)) {\n    return true;\n  }\n  return false;\n}\nexport {\n  QueryObserver\n};\n//# sourceMappingURL=queryObserver.js.map","\"use client\";\n\n// src/QueryErrorResetBoundary.tsx\nimport * as React from \"react\";\nimport { jsx } from \"react/jsx-runtime\";\nfunction createValue() {\n  let isReset = false;\n  return {\n    clearReset: () => {\n      isReset = false;\n    },\n    reset: () => {\n      isReset = true;\n    },\n    isReset: () => {\n      return isReset;\n    }\n  };\n}\nvar QueryErrorResetBoundaryContext = React.createContext(createValue());\nvar useQueryErrorResetBoundary = () => React.useContext(QueryErrorResetBoundaryContext);\nvar QueryErrorResetBoundary = ({\n  children\n}) => {\n  const [value] = React.useState(() => createValue());\n  return /* @__PURE__ */ jsx(QueryErrorResetBoundaryContext.Provider, { value, children: typeof children === \"function\" ? children(value) : children });\n};\nexport {\n  QueryErrorResetBoundary,\n  useQueryErrorResetBoundary\n};\n//# sourceMappingURL=QueryErrorResetBoundary.js.map","\"use client\";\n\n// src/isRestoring.ts\nimport * as React from \"react\";\nvar IsRestoringContext = React.createContext(false);\nvar useIsRestoring = () => React.useContext(IsRestoringContext);\nvar IsRestoringProvider = IsRestoringContext.Provider;\nexport {\n  IsRestoringProvider,\n  useIsRestoring\n};\n//# sourceMappingURL=isRestoring.js.map","\"use client\";\n\n// src/errorBoundaryUtils.ts\nimport * as React from \"react\";\nimport { shouldThrowError } from \"./utils.js\";\nvar ensurePreventErrorBoundaryRetry = (options, errorResetBoundary) => {\n  if (options.suspense || options.throwOnError) {\n    if (!errorResetBoundary.isReset()) {\n      options.retryOnMount = false;\n    }\n  }\n};\nvar useClearResetErrorBoundary = (errorResetBoundary) => {\n  React.useEffect(() => {\n    errorResetBoundary.clearReset();\n  }, [errorResetBoundary]);\n};\nvar getHasError = ({\n  result,\n  errorResetBoundary,\n  throwOnError,\n  query\n}) => {\n  return result.isError && !errorResetBoundary.isReset() && !result.isFetching && query && shouldThrowError(throwOnError, [result.error, query]);\n};\nexport {\n  ensurePreventErrorBoundaryRetry,\n  getHasError,\n  useClearResetErrorBoundary\n};\n//# sourceMappingURL=errorBoundaryUtils.js.map","// src/suspense.ts\nvar defaultThrowOnError = (_error, query) => query.state.data === void 0;\nvar ensureStaleTime = (defaultedOptions) => {\n  if (defaultedOptions.suspense) {\n    if (typeof defaultedOptions.staleTime !== \"number\") {\n      defaultedOptions.staleTime = 1e3;\n    }\n  }\n};\nvar willFetch = (result, isRestoring) => result.isLoading && result.isFetching && !isRestoring;\nvar shouldSuspend = (defaultedOptions, result) => defaultedOptions?.suspense && result.isPending;\nvar fetchOptimistic = (defaultedOptions, observer, errorResetBoundary) => observer.fetchOptimistic(defaultedOptions).catch(() => {\n  errorResetBoundary.clearReset();\n});\nexport {\n  defaultThrowOnError,\n  ensureStaleTime,\n  fetchOptimistic,\n  shouldSuspend,\n  willFetch\n};\n//# sourceMappingURL=suspense.js.map","\"use client\";\n\n// src/useQuery.ts\nimport { QueryObserver } from \"@tanstack/query-core\";\nimport { useBaseQuery } from \"./useBaseQuery.js\";\nfunction useQuery(options, queryClient) {\n  return useBaseQuery(options, QueryObserver, queryClient);\n}\nexport {\n  useQuery\n};\n//# sourceMappingURL=useQuery.js.map","\"use client\";\n\n// src/useBaseQuery.ts\nimport * as React from \"react\";\nimport { notifyManager } from \"@tanstack/query-core\";\nimport { useQueryErrorResetBoundary } from \"./QueryErrorResetBoundary.js\";\nimport { useQueryClient } from \"./QueryClientProvider.js\";\nimport { useIsRestoring } from \"./isRestoring.js\";\nimport {\n  ensurePreventErrorBoundaryRetry,\n  getHasError,\n  useClearResetErrorBoundary\n} from \"./errorBoundaryUtils.js\";\nimport { ensureStaleTime, fetchOptimistic, shouldSuspend } from \"./suspense.js\";\nfunction useBaseQuery(options, Observer, queryClient) {\n  if (process.env.NODE_ENV !== \"production\") {\n    if (typeof options !== \"object\" || Array.isArray(options)) {\n      throw new Error(\n        'Bad argument type. Starting with v5, only the \"Object\" form is allowed when calling query related functions. Please use the error stack to find the culprit call. More info here: https://tanstack.com/query/latest/docs/react/guides/migrating-to-v5#supports-a-single-signature-one-object'\n      );\n    }\n  }\n  const client = useQueryClient(queryClient);\n  const isRestoring = useIsRestoring();\n  const errorResetBoundary = useQueryErrorResetBoundary();\n  const defaultedOptions = client.defaultQueryOptions(options);\n  client.getDefaultOptions().queries?._experimental_beforeQuery?.(\n    defaultedOptions\n  );\n  defaultedOptions._optimisticResults = isRestoring ? \"isRestoring\" : \"optimistic\";\n  ensureStaleTime(defaultedOptions);\n  ensurePreventErrorBoundaryRetry(defaultedOptions, errorResetBoundary);\n  useClearResetErrorBoundary(errorResetBoundary);\n  const [observer] = React.useState(\n    () => new Observer(\n      client,\n      defaultedOptions\n    )\n  );\n  const result = observer.getOptimisticResult(defaultedOptions);\n  React.useSyncExternalStore(\n    React.useCallback(\n      (onStoreChange) => {\n        const unsubscribe = isRestoring ? () => void 0 : observer.subscribe(notifyManager.batchCalls(onStoreChange));\n        observer.updateResult();\n        return unsubscribe;\n      },\n      [observer, isRestoring]\n    ),\n    () => observer.getCurrentResult(),\n    () => observer.getCurrentResult()\n  );\n  React.useEffect(() => {\n    observer.setOptions(defaultedOptions, { listeners: false });\n  }, [defaultedOptions, observer]);\n  if (shouldSuspend(defaultedOptions, result)) {\n    throw fetchOptimistic(defaultedOptions, observer, errorResetBoundary);\n  }\n  if (getHasError({\n    result,\n    errorResetBoundary,\n    throwOnError: defaultedOptions.throwOnError,\n    query: client.getQueryCache().get(defaultedOptions.queryHash)\n  })) {\n    throw result.error;\n  }\n  ;\n  client.getDefaultOptions().queries?._experimental_afterQuery?.(\n    defaultedOptions,\n    result\n  );\n  return !defaultedOptions.notifyOnChangeProps ? observer.trackResult(result) : result;\n}\nexport {\n  useBaseQuery\n};\n//# sourceMappingURL=useBaseQuery.js.map","// src/utils.ts\nfunction shouldThrowError(throwError, params) {\n  if (typeof throwError === \"function\") {\n    return throwError(...params);\n  }\n  return !!throwError;\n}\nfunction noop() {\n}\nexport {\n  noop,\n  shouldThrowError\n};\n//# sourceMappingURL=utils.js.map","// DEFLATE is a complex format; to read this code, you should probably check the RFC first:\n// https://tools.ietf.org/html/rfc1951\n// You may also wish to take a look at the guide I made about this program:\n// https://gist.github.com/101arrowz/253f31eb5abc3d9275ab943003ffecad\n// Some of the following code is similar to that of UZIP.js:\n// https://github.com/photopea/UZIP.js\n// However, the vast majority of the codebase has diverged from UZIP.js to increase performance and reduce bundle size.\n// Sometimes 0 will appear where -1 would be more appropriate. This is because using a uint\n// is better for memory in most engines (I *think*).\nvar ch2 = {};\nvar wk = (function (c, id, msg, transfer, cb) {\n    var w = new Worker(ch2[id] || (ch2[id] = URL.createObjectURL(new Blob([\n        c + ';addEventListener(\"error\",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'\n    ], { type: 'text/javascript' }))));\n    w.onmessage = function (e) {\n        var d = e.data, ed = d.$e$;\n        if (ed) {\n            var err = new Error(ed[0]);\n            err['code'] = ed[1];\n            err.stack = ed[2];\n            cb(err, null);\n        }\n        else\n            cb(null, d);\n    };\n    w.postMessage(msg, transfer);\n    return w;\n});\n\n// aliases for shorter compressed code (most minifers don't do this)\nvar u8 = Uint8Array, u16 = Uint16Array, i32 = Int32Array;\n// fixed length extra bits\nvar fleb = new u8([0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, /* unused */ 0, 0, /* impossible */ 0]);\n// fixed distance extra bits\nvar fdeb = new u8([0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13, /* unused */ 0, 0]);\n// code length index map\nvar clim = new u8([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]);\n// get base, reverse index map from extra bits\nvar freb = function (eb, start) {\n    var b = new u16(31);\n    for (var i = 0; i < 31; ++i) {\n        b[i] = start += 1 << eb[i - 1];\n    }\n    // numbers here are at max 18 bits\n    var r = new i32(b[30]);\n    for (var i = 1; i < 30; ++i) {\n        for (var j = b[i]; j < b[i + 1]; ++j) {\n            r[j] = ((j - b[i]) << 5) | i;\n        }\n    }\n    return { b: b, r: r };\n};\nvar _a = freb(fleb, 2), fl = _a.b, revfl = _a.r;\n// we can ignore the fact that the other numbers are wrong; they never happen anyway\nfl[28] = 258, revfl[258] = 28;\nvar _b = freb(fdeb, 0), fd = _b.b, revfd = _b.r;\n// map of value to reverse (assuming 16 bits)\nvar rev = new u16(32768);\nfor (var i = 0; i < 32768; ++i) {\n    // reverse table algorithm from SO\n    var x = ((i & 0xAAAA) >> 1) | ((i & 0x5555) << 1);\n    x = ((x & 0xCCCC) >> 2) | ((x & 0x3333) << 2);\n    x = ((x & 0xF0F0) >> 4) | ((x & 0x0F0F) << 4);\n    rev[i] = (((x & 0xFF00) >> 8) | ((x & 0x00FF) << 8)) >> 1;\n}\n// create huffman tree from u8 \"map\": index -> code length for code index\n// mb (max bits) must be at most 15\n// TODO: optimize/split up?\nvar hMap = (function (cd, mb, r) {\n    var s = cd.length;\n    // index\n    var i = 0;\n    // u16 \"map\": index -> # of codes with bit length = index\n    var l = new u16(mb);\n    // length of cd must be 288 (total # of codes)\n    for (; i < s; ++i) {\n        if (cd[i])\n            ++l[cd[i] - 1];\n    }\n    // u16 \"map\": index -> minimum code for bit length = index\n    var le = new u16(mb);\n    for (i = 1; i < mb; ++i) {\n        le[i] = (le[i - 1] + l[i - 1]) << 1;\n    }\n    var co;\n    if (r) {\n        // u16 \"map\": index -> number of actual bits, symbol for code\n        co = new u16(1 << mb);\n        // bits to remove for reverser\n        var rvb = 15 - mb;\n        for (i = 0; i < s; ++i) {\n            // ignore 0 lengths\n            if (cd[i]) {\n                // num encoding both symbol and bits read\n                var sv = (i << 4) | cd[i];\n                // free bits\n                var r_1 = mb - cd[i];\n                // start value\n                var v = le[cd[i] - 1]++ << r_1;\n                // m is end value\n                for (var m = v | ((1 << r_1) - 1); v <= m; ++v) {\n                    // every 16 bit value starting with the code yields the same result\n                    co[rev[v] >> rvb] = sv;\n                }\n            }\n        }\n    }\n    else {\n        co = new u16(s);\n        for (i = 0; i < s; ++i) {\n            if (cd[i]) {\n                co[i] = rev[le[cd[i] - 1]++] >> (15 - cd[i]);\n            }\n        }\n    }\n    return co;\n});\n// fixed length tree\nvar flt = new u8(288);\nfor (var i = 0; i < 144; ++i)\n    flt[i] = 8;\nfor (var i = 144; i < 256; ++i)\n    flt[i] = 9;\nfor (var i = 256; i < 280; ++i)\n    flt[i] = 7;\nfor (var i = 280; i < 288; ++i)\n    flt[i] = 8;\n// fixed distance tree\nvar fdt = new u8(32);\nfor (var i = 0; i < 32; ++i)\n    fdt[i] = 5;\n// fixed length map\nvar flm = /*#__PURE__*/ hMap(flt, 9, 0), flrm = /*#__PURE__*/ hMap(flt, 9, 1);\n// fixed distance map\nvar fdm = /*#__PURE__*/ hMap(fdt, 5, 0), fdrm = /*#__PURE__*/ hMap(fdt, 5, 1);\n// find max of array\nvar max = function (a) {\n    var m = a[0];\n    for (var i = 1; i < a.length; ++i) {\n        if (a[i] > m)\n            m = a[i];\n    }\n    return m;\n};\n// read d, starting at bit p and mask with m\nvar bits = function (d, p, m) {\n    var o = (p / 8) | 0;\n    return ((d[o] | (d[o + 1] << 8)) >> (p & 7)) & m;\n};\n// read d, starting at bit p continuing for at least 16 bits\nvar bits16 = function (d, p) {\n    var o = (p / 8) | 0;\n    return ((d[o] | (d[o + 1] << 8) | (d[o + 2] << 16)) >> (p & 7));\n};\n// get end of byte\nvar shft = function (p) { return ((p + 7) / 8) | 0; };\n// typed array slice - allows garbage collector to free original reference,\n// while being more compatible than .slice\nvar slc = function (v, s, e) {\n    if (s == null || s < 0)\n        s = 0;\n    if (e == null || e > v.length)\n        e = v.length;\n    // can't use .constructor in case user-supplied\n    return new u8(v.subarray(s, e));\n};\n/**\n * Codes for errors generated within this library\n */\nexport var FlateErrorCode = {\n    UnexpectedEOF: 0,\n    InvalidBlockType: 1,\n    InvalidLengthLiteral: 2,\n    InvalidDistance: 3,\n    StreamFinished: 4,\n    NoStreamHandler: 5,\n    InvalidHeader: 6,\n    NoCallback: 7,\n    InvalidUTF8: 8,\n    ExtraFieldTooLong: 9,\n    InvalidDate: 10,\n    FilenameTooLong: 11,\n    StreamFinishing: 12,\n    InvalidZipData: 13,\n    UnknownCompressionMethod: 14\n};\n// error codes\nvar ec = [\n    'unexpected EOF',\n    'invalid block type',\n    'invalid length/literal',\n    'invalid distance',\n    'stream finished',\n    'no stream handler',\n    ,\n    'no callback',\n    'invalid UTF-8 data',\n    'extra field too long',\n    'date not in range 1980-2099',\n    'filename too long',\n    'stream finishing',\n    'invalid zip data'\n    // determined by unknown compression method\n];\n;\nvar err = function (ind, msg, nt) {\n    var e = new Error(msg || ec[ind]);\n    e.code = ind;\n    if (Error.captureStackTrace)\n        Error.captureStackTrace(e, err);\n    if (!nt)\n        throw e;\n    return e;\n};\n// expands raw DEFLATE data\nvar inflt = function (dat, st, buf, dict) {\n    // source length       dict length\n    var sl = dat.length, dl = dict ? dict.length : 0;\n    if (!sl || st.f && !st.l)\n        return buf || new u8(0);\n    var noBuf = !buf;\n    // have to estimate size\n    var resize = noBuf || st.i != 2;\n    // no state\n    var noSt = st.i;\n    // Assumes roughly 33% compression ratio average\n    if (noBuf)\n        buf = new u8(sl * 3);\n    // ensure buffer can fit at least l elements\n    var cbuf = function (l) {\n        var bl = buf.length;\n        // need to increase size to fit\n        if (l > bl) {\n            // Double or set to necessary, whichever is greater\n            var nbuf = new u8(Math.max(bl * 2, l));\n            nbuf.set(buf);\n            buf = nbuf;\n        }\n    };\n    //  last chunk         bitpos           bytes\n    var final = st.f || 0, pos = st.p || 0, bt = st.b || 0, lm = st.l, dm = st.d, lbt = st.m, dbt = st.n;\n    // total bits\n    var tbts = sl * 8;\n    do {\n        if (!lm) {\n            // BFINAL - this is only 1 when last chunk is next\n            final = bits(dat, pos, 1);\n            // type: 0 = no compression, 1 = fixed huffman, 2 = dynamic huffman\n            var type = bits(dat, pos + 1, 3);\n            pos += 3;\n            if (!type) {\n                // go to end of byte boundary\n                var s = shft(pos) + 4, l = dat[s - 4] | (dat[s - 3] << 8), t = s + l;\n                if (t > sl) {\n                    if (noSt)\n                        err(0);\n                    break;\n                }\n                // ensure size\n                if (resize)\n                    cbuf(bt + l);\n                // Copy over uncompressed data\n                buf.set(dat.subarray(s, t), bt);\n                // Get new bitpos, update byte count\n                st.b = bt += l, st.p = pos = t * 8, st.f = final;\n                continue;\n            }\n            else if (type == 1)\n                lm = flrm, dm = fdrm, lbt = 9, dbt = 5;\n            else if (type == 2) {\n                //  literal                            lengths\n                var hLit = bits(dat, pos, 31) + 257, hcLen = bits(dat, pos + 10, 15) + 4;\n                var tl = hLit + bits(dat, pos + 5, 31) + 1;\n                pos += 14;\n                // length+distance tree\n                var ldt = new u8(tl);\n                // code length tree\n                var clt = new u8(19);\n                for (var i = 0; i < hcLen; ++i) {\n                    // use index map to get real code\n                    clt[clim[i]] = bits(dat, pos + i * 3, 7);\n                }\n                pos += hcLen * 3;\n                // code lengths bits\n                var clb = max(clt), clbmsk = (1 << clb) - 1;\n                // code lengths map\n                var clm = hMap(clt, clb, 1);\n                for (var i = 0; i < tl;) {\n                    var r = clm[bits(dat, pos, clbmsk)];\n                    // bits read\n                    pos += r & 15;\n                    // symbol\n                    var s = r >> 4;\n                    // code length to copy\n                    if (s < 16) {\n                        ldt[i++] = s;\n                    }\n                    else {\n                        //  copy   count\n                        var c = 0, n = 0;\n                        if (s == 16)\n                            n = 3 + bits(dat, pos, 3), pos += 2, c = ldt[i - 1];\n                        else if (s == 17)\n                            n = 3 + bits(dat, pos, 7), pos += 3;\n                        else if (s == 18)\n                            n = 11 + bits(dat, pos, 127), pos += 7;\n                        while (n--)\n                            ldt[i++] = c;\n                    }\n                }\n                //    length tree                 distance tree\n                var lt = ldt.subarray(0, hLit), dt = ldt.subarray(hLit);\n                // max length bits\n                lbt = max(lt);\n                // max dist bits\n                dbt = max(dt);\n                lm = hMap(lt, lbt, 1);\n                dm = hMap(dt, dbt, 1);\n            }\n            else\n                err(1);\n            if (pos > tbts) {\n                if (noSt)\n                    err(0);\n                break;\n            }\n        }\n        // Make sure the buffer can hold this + the largest possible addition\n        // Maximum chunk size (practically, theoretically infinite) is 2^17\n        if (resize)\n            cbuf(bt + 131072);\n        var lms = (1 << lbt) - 1, dms = (1 << dbt) - 1;\n        var lpos = pos;\n        for (;; lpos = pos) {\n            // bits read, code\n            var c = lm[bits16(dat, pos) & lms], sym = c >> 4;\n            pos += c & 15;\n            if (pos > tbts) {\n                if (noSt)\n                    err(0);\n                break;\n            }\n            if (!c)\n                err(2);\n            if (sym < 256)\n                buf[bt++] = sym;\n            else if (sym == 256) {\n                lpos = pos, lm = null;\n                break;\n            }\n            else {\n                var add = sym - 254;\n                // no extra bits needed if less\n                if (sym > 264) {\n                    // index\n                    var i = sym - 257, b = fleb[i];\n                    add = bits(dat, pos, (1 << b) - 1) + fl[i];\n                    pos += b;\n                }\n                // dist\n                var d = dm[bits16(dat, pos) & dms], dsym = d >> 4;\n                if (!d)\n                    err(3);\n                pos += d & 15;\n                var dt = fd[dsym];\n                if (dsym > 3) {\n                    var b = fdeb[dsym];\n                    dt += bits16(dat, pos) & (1 << b) - 1, pos += b;\n                }\n                if (pos > tbts) {\n                    if (noSt)\n                        err(0);\n                    break;\n                }\n                if (resize)\n                    cbuf(bt + 131072);\n                var end = bt + add;\n                if (bt < dt) {\n                    var shift = dl - dt, dend = Math.min(dt, end);\n                    if (shift + bt < 0)\n                        err(3);\n                    for (; bt < dend; ++bt)\n                        buf[bt] = dict[shift + bt];\n                }\n                for (; bt < end; ++bt)\n                    buf[bt] = buf[bt - dt];\n            }\n        }\n        st.l = lm, st.p = lpos, st.b = bt, st.f = final;\n        if (lm)\n            final = 1, st.m = lbt, st.d = dm, st.n = dbt;\n    } while (!final);\n    // don't reallocate for streams or user buffers\n    return bt != buf.length && noBuf ? slc(buf, 0, bt) : buf.subarray(0, bt);\n};\n// starting at p, write the minimum number of bits that can hold v to d\nvar wbits = function (d, p, v) {\n    v <<= p & 7;\n    var o = (p / 8) | 0;\n    d[o] |= v;\n    d[o + 1] |= v >> 8;\n};\n// starting at p, write the minimum number of bits (>8) that can hold v to d\nvar wbits16 = function (d, p, v) {\n    v <<= p & 7;\n    var o = (p / 8) | 0;\n    d[o] |= v;\n    d[o + 1] |= v >> 8;\n    d[o + 2] |= v >> 16;\n};\n// creates code lengths from a frequency table\nvar hTree = function (d, mb) {\n    // Need extra info to make a tree\n    var t = [];\n    for (var i = 0; i < d.length; ++i) {\n        if (d[i])\n            t.push({ s: i, f: d[i] });\n    }\n    var s = t.length;\n    var t2 = t.slice();\n    if (!s)\n        return { t: et, l: 0 };\n    if (s == 1) {\n        var v = new u8(t[0].s + 1);\n        v[t[0].s] = 1;\n        return { t: v, l: 1 };\n    }\n    t.sort(function (a, b) { return a.f - b.f; });\n    // after i2 reaches last ind, will be stopped\n    // freq must be greater than largest possible number of symbols\n    t.push({ s: -1, f: 25001 });\n    var l = t[0], r = t[1], i0 = 0, i1 = 1, i2 = 2;\n    t[0] = { s: -1, f: l.f + r.f, l: l, r: r };\n    // efficient algorithm from UZIP.js\n    // i0 is lookbehind, i2 is lookahead - after processing two low-freq\n    // symbols that combined have high freq, will start processing i2 (high-freq,\n    // non-composite) symbols instead\n    // see https://reddit.com/r/photopea/comments/ikekht/uzipjs_questions/\n    while (i1 != s - 1) {\n        l = t[t[i0].f < t[i2].f ? i0++ : i2++];\n        r = t[i0 != i1 && t[i0].f < t[i2].f ? i0++ : i2++];\n        t[i1++] = { s: -1, f: l.f + r.f, l: l, r: r };\n    }\n    var maxSym = t2[0].s;\n    for (var i = 1; i < s; ++i) {\n        if (t2[i].s > maxSym)\n            maxSym = t2[i].s;\n    }\n    // code lengths\n    var tr = new u16(maxSym + 1);\n    // max bits in tree\n    var mbt = ln(t[i1 - 1], tr, 0);\n    if (mbt > mb) {\n        // more algorithms from UZIP.js\n        // TODO: find out how this code works (debt)\n        //  ind    debt\n        var i = 0, dt = 0;\n        //    left            cost\n        var lft = mbt - mb, cst = 1 << lft;\n        t2.sort(function (a, b) { return tr[b.s] - tr[a.s] || a.f - b.f; });\n        for (; i < s; ++i) {\n            var i2_1 = t2[i].s;\n            if (tr[i2_1] > mb) {\n                dt += cst - (1 << (mbt - tr[i2_1]));\n                tr[i2_1] = mb;\n            }\n            else\n                break;\n        }\n        dt >>= lft;\n        while (dt > 0) {\n            var i2_2 = t2[i].s;\n            if (tr[i2_2] < mb)\n                dt -= 1 << (mb - tr[i2_2]++ - 1);\n            else\n                ++i;\n        }\n        for (; i >= 0 && dt; --i) {\n            var i2_3 = t2[i].s;\n            if (tr[i2_3] == mb) {\n                --tr[i2_3];\n                ++dt;\n            }\n        }\n        mbt = mb;\n    }\n    return { t: new u8(tr), l: mbt };\n};\n// get the max length and assign length codes\nvar ln = function (n, l, d) {\n    return n.s == -1\n        ? Math.max(ln(n.l, l, d + 1), ln(n.r, l, d + 1))\n        : (l[n.s] = d);\n};\n// length codes generation\nvar lc = function (c) {\n    var s = c.length;\n    // Note that the semicolon was intentional\n    while (s && !c[--s])\n        ;\n    var cl = new u16(++s);\n    //  ind      num         streak\n    var cli = 0, cln = c[0], cls = 1;\n    var w = function (v) { cl[cli++] = v; };\n    for (var i = 1; i <= s; ++i) {\n        if (c[i] == cln && i != s)\n            ++cls;\n        else {\n            if (!cln && cls > 2) {\n                for (; cls > 138; cls -= 138)\n                    w(32754);\n                if (cls > 2) {\n                    w(cls > 10 ? ((cls - 11) << 5) | 28690 : ((cls - 3) << 5) | 12305);\n                    cls = 0;\n                }\n            }\n            else if (cls > 3) {\n                w(cln), --cls;\n                for (; cls > 6; cls -= 6)\n                    w(8304);\n                if (cls > 2)\n                    w(((cls - 3) << 5) | 8208), cls = 0;\n            }\n            while (cls--)\n                w(cln);\n            cls = 1;\n            cln = c[i];\n        }\n    }\n    return { c: cl.subarray(0, cli), n: s };\n};\n// calculate the length of output from tree, code lengths\nvar clen = function (cf, cl) {\n    var l = 0;\n    for (var i = 0; i < cl.length; ++i)\n        l += cf[i] * cl[i];\n    return l;\n};\n// writes a fixed block\n// returns the new bit pos\nvar wfblk = function (out, pos, dat) {\n    // no need to write 00 as type: TypedArray defaults to 0\n    var s = dat.length;\n    var o = shft(pos + 2);\n    out[o] = s & 255;\n    out[o + 1] = s >> 8;\n    out[o + 2] = out[o] ^ 255;\n    out[o + 3] = out[o + 1] ^ 255;\n    for (var i = 0; i < s; ++i)\n        out[o + i + 4] = dat[i];\n    return (o + 4 + s) * 8;\n};\n// writes a block\nvar wblk = function (dat, out, final, syms, lf, df, eb, li, bs, bl, p) {\n    wbits(out, p++, final);\n    ++lf[256];\n    var _a = hTree(lf, 15), dlt = _a.t, mlb = _a.l;\n    var _b = hTree(df, 15), ddt = _b.t, mdb = _b.l;\n    var _c = lc(dlt), lclt = _c.c, nlc = _c.n;\n    var _d = lc(ddt), lcdt = _d.c, ndc = _d.n;\n    var lcfreq = new u16(19);\n    for (var i = 0; i < lclt.length; ++i)\n        ++lcfreq[lclt[i] & 31];\n    for (var i = 0; i < lcdt.length; ++i)\n        ++lcfreq[lcdt[i] & 31];\n    var _e = hTree(lcfreq, 7), lct = _e.t, mlcb = _e.l;\n    var nlcc = 19;\n    for (; nlcc > 4 && !lct[clim[nlcc - 1]]; --nlcc)\n        ;\n    var flen = (bl + 5) << 3;\n    var ftlen = clen(lf, flt) + clen(df, fdt) + eb;\n    var dtlen = clen(lf, dlt) + clen(df, ddt) + eb + 14 + 3 * nlcc + clen(lcfreq, lct) + 2 * lcfreq[16] + 3 * lcfreq[17] + 7 * lcfreq[18];\n    if (bs >= 0 && flen <= ftlen && flen <= dtlen)\n        return wfblk(out, p, dat.subarray(bs, bs + bl));\n    var lm, ll, dm, dl;\n    wbits(out, p, 1 + (dtlen < ftlen)), p += 2;\n    if (dtlen < ftlen) {\n        lm = hMap(dlt, mlb, 0), ll = dlt, dm = hMap(ddt, mdb, 0), dl = ddt;\n        var llm = hMap(lct, mlcb, 0);\n        wbits(out, p, nlc - 257);\n        wbits(out, p + 5, ndc - 1);\n        wbits(out, p + 10, nlcc - 4);\n        p += 14;\n        for (var i = 0; i < nlcc; ++i)\n            wbits(out, p + 3 * i, lct[clim[i]]);\n        p += 3 * nlcc;\n        var lcts = [lclt, lcdt];\n        for (var it = 0; it < 2; ++it) {\n            var clct = lcts[it];\n            for (var i = 0; i < clct.length; ++i) {\n                var len = clct[i] & 31;\n                wbits(out, p, llm[len]), p += lct[len];\n                if (len > 15)\n                    wbits(out, p, (clct[i] >> 5) & 127), p += clct[i] >> 12;\n            }\n        }\n    }\n    else {\n        lm = flm, ll = flt, dm = fdm, dl = fdt;\n    }\n    for (var i = 0; i < li; ++i) {\n        var sym = syms[i];\n        if (sym > 255) {\n            var len = (sym >> 18) & 31;\n            wbits16(out, p, lm[len + 257]), p += ll[len + 257];\n            if (len > 7)\n                wbits(out, p, (sym >> 23) & 31), p += fleb[len];\n            var dst = sym & 31;\n            wbits16(out, p, dm[dst]), p += dl[dst];\n            if (dst > 3)\n                wbits16(out, p, (sym >> 5) & 8191), p += fdeb[dst];\n        }\n        else {\n            wbits16(out, p, lm[sym]), p += ll[sym];\n        }\n    }\n    wbits16(out, p, lm[256]);\n    return p + ll[256];\n};\n// deflate options (nice << 13) | chain\nvar deo = /*#__PURE__*/ new i32([65540, 131080, 131088, 131104, 262176, 1048704, 1048832, 2114560, 2117632]);\n// empty\nvar et = /*#__PURE__*/ new u8(0);\n// compresses data into a raw DEFLATE buffer\nvar dflt = function (dat, lvl, plvl, pre, post, st) {\n    var s = st.z || dat.length;\n    var o = new u8(pre + s + 5 * (1 + Math.ceil(s / 7000)) + post);\n    // writing to this writes to the output buffer\n    var w = o.subarray(pre, o.length - post);\n    var lst = st.l;\n    var pos = (st.r || 0) & 7;\n    if (lvl) {\n        if (pos)\n            w[0] = st.r >> 3;\n        var opt = deo[lvl - 1];\n        var n = opt >> 13, c = opt & 8191;\n        var msk_1 = (1 << plvl) - 1;\n        //    prev 2-byte val map    curr 2-byte val map\n        var prev = st.p || new u16(32768), head = st.h || new u16(msk_1 + 1);\n        var bs1_1 = Math.ceil(plvl / 3), bs2_1 = 2 * bs1_1;\n        var hsh = function (i) { return (dat[i] ^ (dat[i + 1] << bs1_1) ^ (dat[i + 2] << bs2_1)) & msk_1; };\n        // 24576 is an arbitrary number of maximum symbols per block\n        // 424 buffer for last block\n        var syms = new i32(25000);\n        // length/literal freq   distance freq\n        var lf = new u16(288), df = new u16(32);\n        //  l/lcnt  exbits  index          l/lind  waitdx          blkpos\n        var lc_1 = 0, eb = 0, i = st.i || 0, li = 0, wi = st.w || 0, bs = 0;\n        for (; i + 2 < s; ++i) {\n            // hash value\n            var hv = hsh(i);\n            // index mod 32768    previous index mod\n            var imod = i & 32767, pimod = head[hv];\n            prev[imod] = pimod;\n            head[hv] = imod;\n            // We always should modify head and prev, but only add symbols if\n            // this data is not yet processed (\"wait\" for wait index)\n            if (wi <= i) {\n                // bytes remaining\n                var rem = s - i;\n                if ((lc_1 > 7000 || li > 24576) && (rem > 423 || !lst)) {\n                    pos = wblk(dat, w, 0, syms, lf, df, eb, li, bs, i - bs, pos);\n                    li = lc_1 = eb = 0, bs = i;\n                    for (var j = 0; j < 286; ++j)\n                        lf[j] = 0;\n                    for (var j = 0; j < 30; ++j)\n                        df[j] = 0;\n                }\n                //  len    dist   chain\n                var l = 2, d = 0, ch_1 = c, dif = imod - pimod & 32767;\n                if (rem > 2 && hv == hsh(i - dif)) {\n                    var maxn = Math.min(n, rem) - 1;\n                    var maxd = Math.min(32767, i);\n                    // max possible length\n                    // not capped at dif because decompressors implement \"rolling\" index population\n                    var ml = Math.min(258, rem);\n                    while (dif <= maxd && --ch_1 && imod != pimod) {\n                        if (dat[i + l] == dat[i + l - dif]) {\n                            var nl = 0;\n                            for (; nl < ml && dat[i + nl] == dat[i + nl - dif]; ++nl)\n                                ;\n                            if (nl > l) {\n                                l = nl, d = dif;\n                                // break out early when we reach \"nice\" (we are satisfied enough)\n                                if (nl > maxn)\n                                    break;\n                                // now, find the rarest 2-byte sequence within this\n                                // length of literals and search for that instead.\n                                // Much faster than just using the start\n                                var mmd = Math.min(dif, nl - 2);\n                                var md = 0;\n                                for (var j = 0; j < mmd; ++j) {\n                                    var ti = i - dif + j & 32767;\n                                    var pti = prev[ti];\n                                    var cd = ti - pti & 32767;\n                                    if (cd > md)\n                                        md = cd, pimod = ti;\n                                }\n                            }\n                        }\n                        // check the previous match\n                        imod = pimod, pimod = prev[imod];\n                        dif += imod - pimod & 32767;\n                    }\n                }\n                // d will be nonzero only when a match was found\n                if (d) {\n                    // store both dist and len data in one int32\n                    // Make sure this is recognized as a len/dist with 28th bit (2^28)\n                    syms[li++] = 268435456 | (revfl[l] << 18) | revfd[d];\n                    var lin = revfl[l] & 31, din = revfd[d] & 31;\n                    eb += fleb[lin] + fdeb[din];\n                    ++lf[257 + lin];\n                    ++df[din];\n                    wi = i + l;\n                    ++lc_1;\n                }\n                else {\n                    syms[li++] = dat[i];\n                    ++lf[dat[i]];\n                }\n            }\n        }\n        for (i = Math.max(i, wi); i < s; ++i) {\n            syms[li++] = dat[i];\n            ++lf[dat[i]];\n        }\n        pos = wblk(dat, w, lst, syms, lf, df, eb, li, bs, i - bs, pos);\n        if (!lst) {\n            st.r = (pos & 7) | w[(pos / 8) | 0] << 3;\n            // shft(pos) now 1 less if pos & 7 != 0\n            pos -= 7;\n            st.h = head, st.p = prev, st.i = i, st.w = wi;\n        }\n    }\n    else {\n        for (var i = st.w || 0; i < s + lst; i += 65535) {\n            // end\n            var e = i + 65535;\n            if (e >= s) {\n                // write final block\n                w[(pos / 8) | 0] = lst;\n                e = s;\n            }\n            pos = wfblk(w, pos + 1, dat.subarray(i, e));\n        }\n        st.i = s;\n    }\n    return slc(o, 0, pre + shft(pos) + post);\n};\n// CRC32 table\nvar crct = /*#__PURE__*/ (function () {\n    var t = new Int32Array(256);\n    for (var i = 0; i < 256; ++i) {\n        var c = i, k = 9;\n        while (--k)\n            c = ((c & 1) && -306674912) ^ (c >>> 1);\n        t[i] = c;\n    }\n    return t;\n})();\n// CRC32\nvar crc = function () {\n    var c = -1;\n    return {\n        p: function (d) {\n            // closures have awful performance\n            var cr = c;\n            for (var i = 0; i < d.length; ++i)\n                cr = crct[(cr & 255) ^ d[i]] ^ (cr >>> 8);\n            c = cr;\n        },\n        d: function () { return ~c; }\n    };\n};\n// Adler32\nvar adler = function () {\n    var a = 1, b = 0;\n    return {\n        p: function (d) {\n            // closures have awful performance\n            var n = a, m = b;\n            var l = d.length | 0;\n            for (var i = 0; i != l;) {\n                var e = Math.min(i + 2655, l);\n                for (; i < e; ++i)\n                    m += n += d[i];\n                n = (n & 65535) + 15 * (n >> 16), m = (m & 65535) + 15 * (m >> 16);\n            }\n            a = n, b = m;\n        },\n        d: function () {\n            a %= 65521, b %= 65521;\n            return (a & 255) << 24 | (a & 0xFF00) << 8 | (b & 255) << 8 | (b >> 8);\n        }\n    };\n};\n;\n// deflate with opts\nvar dopt = function (dat, opt, pre, post, st) {\n    if (!st) {\n        st = { l: 1 };\n        if (opt.dictionary) {\n            var dict = opt.dictionary.subarray(-32768);\n            var newDat = new u8(dict.length + dat.length);\n            newDat.set(dict);\n            newDat.set(dat, dict.length);\n            dat = newDat;\n            st.w = dict.length;\n        }\n    }\n    return dflt(dat, opt.level == null ? 6 : opt.level, opt.mem == null ? (st.l ? Math.ceil(Math.max(8, Math.min(13, Math.log(dat.length))) * 1.5) : 20) : (12 + opt.mem), pre, post, st);\n};\n// Walmart object spread\nvar mrg = function (a, b) {\n    var o = {};\n    for (var k in a)\n        o[k] = a[k];\n    for (var k in b)\n        o[k] = b[k];\n    return o;\n};\n// worker clone\n// This is possibly the craziest part of the entire codebase, despite how simple it may seem.\n// The only parameter to this function is a closure that returns an array of variables outside of the function scope.\n// We're going to try to figure out the variable names used in the closure as strings because that is crucial for workerization.\n// We will return an object mapping of true variable name to value (basically, the current scope as a JS object).\n// The reason we can't just use the original variable names is minifiers mangling the toplevel scope.\n// This took me three weeks to figure out how to do.\nvar wcln = function (fn, fnStr, td) {\n    var dt = fn();\n    var st = fn.toString();\n    var ks = st.slice(st.indexOf('[') + 1, st.lastIndexOf(']')).replace(/\\s+/g, '').split(',');\n    for (var i = 0; i < dt.length; ++i) {\n        var v = dt[i], k = ks[i];\n        if (typeof v == 'function') {\n            fnStr += ';' + k + '=';\n            var st_1 = v.toString();\n            if (v.prototype) {\n                // for global objects\n                if (st_1.indexOf('[native code]') != -1) {\n                    var spInd = st_1.indexOf(' ', 8) + 1;\n                    fnStr += st_1.slice(spInd, st_1.indexOf('(', spInd));\n                }\n                else {\n                    fnStr += st_1;\n                    for (var t in v.prototype)\n                        fnStr += ';' + k + '.prototype.' + t + '=' + v.prototype[t].toString();\n                }\n            }\n            else\n                fnStr += st_1;\n        }\n        else\n            td[k] = v;\n    }\n    return fnStr;\n};\nvar ch = [];\n// clone bufs\nvar cbfs = function (v) {\n    var tl = [];\n    for (var k in v) {\n        if (v[k].buffer) {\n            tl.push((v[k] = new v[k].constructor(v[k])).buffer);\n        }\n    }\n    return tl;\n};\n// use a worker to execute code\nvar wrkr = function (fns, init, id, cb) {\n    if (!ch[id]) {\n        var fnStr = '', td_1 = {}, m = fns.length - 1;\n        for (var i = 0; i < m; ++i)\n            fnStr = wcln(fns[i], fnStr, td_1);\n        ch[id] = { c: wcln(fns[m], fnStr, td_1), e: td_1 };\n    }\n    var td = mrg({}, ch[id].e);\n    return wk(ch[id].c + ';onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage=' + init.toString() + '}', id, td, cbfs(td), cb);\n};\n// base async inflate fn\nvar bInflt = function () { return [u8, u16, i32, fleb, fdeb, clim, fl, fd, flrm, fdrm, rev, ec, hMap, max, bits, bits16, shft, slc, err, inflt, inflateSync, pbf, gopt]; };\nvar bDflt = function () { return [u8, u16, i32, fleb, fdeb, clim, revfl, revfd, flm, flt, fdm, fdt, rev, deo, et, hMap, wbits, wbits16, hTree, ln, lc, clen, wfblk, wblk, shft, slc, dflt, dopt, deflateSync, pbf]; };\n// gzip extra\nvar gze = function () { return [gzh, gzhl, wbytes, crc, crct]; };\n// gunzip extra\nvar guze = function () { return [gzs, gzl]; };\n// zlib extra\nvar zle = function () { return [zlh, wbytes, adler]; };\n// unzlib extra\nvar zule = function () { return [zls]; };\n// post buf\nvar pbf = function (msg) { return postMessage(msg, [msg.buffer]); };\n// get opts\nvar gopt = function (o) { return o && {\n    out: o.size && new u8(o.size),\n    dictionary: o.dictionary\n}; };\n// async helper\nvar cbify = function (dat, opts, fns, init, id, cb) {\n    var w = wrkr(fns, init, id, function (err, dat) {\n        w.terminate();\n        cb(err, dat);\n    });\n    w.postMessage([dat, opts], opts.consume ? [dat.buffer] : []);\n    return function () { w.terminate(); };\n};\n// auto stream\nvar astrm = function (strm) {\n    strm.ondata = function (dat, final) { return postMessage([dat, final], [dat.buffer]); };\n    return function (ev) {\n        if (ev.data.length) {\n            strm.push(ev.data[0], ev.data[1]);\n            postMessage([ev.data[0].length]);\n        }\n        else\n            strm.flush();\n    };\n};\n// async stream attach\nvar astrmify = function (fns, strm, opts, init, id, flush, ext) {\n    var t;\n    var w = wrkr(fns, init, id, function (err, dat) {\n        if (err)\n            w.terminate(), strm.ondata.call(strm, err);\n        else if (!Array.isArray(dat))\n            ext(dat);\n        else if (dat.length == 1) {\n            strm.queuedSize -= dat[0];\n            if (strm.ondrain)\n                strm.ondrain(dat[0]);\n        }\n        else {\n            if (dat[1])\n                w.terminate();\n            strm.ondata.call(strm, err, dat[0], dat[1]);\n        }\n    });\n    w.postMessage(opts);\n    strm.queuedSize = 0;\n    strm.push = function (d, f) {\n        if (!strm.ondata)\n            err(5);\n        if (t)\n            strm.ondata(err(4, 0, 1), null, !!f);\n        strm.queuedSize += d.length;\n        w.postMessage([d, t = f], [d.buffer]);\n    };\n    strm.terminate = function () { w.terminate(); };\n    if (flush) {\n        strm.flush = function () { w.postMessage([]); };\n    }\n};\n// read 2 bytes\nvar b2 = function (d, b) { return d[b] | (d[b + 1] << 8); };\n// read 4 bytes\nvar b4 = function (d, b) { return (d[b] | (d[b + 1] << 8) | (d[b + 2] << 16) | (d[b + 3] << 24)) >>> 0; };\nvar b8 = function (d, b) { return b4(d, b) + (b4(d, b + 4) * 4294967296); };\n// write bytes\nvar wbytes = function (d, b, v) {\n    for (; v; ++b)\n        d[b] = v, v >>>= 8;\n};\n// gzip header\nvar gzh = function (c, o) {\n    var fn = o.filename;\n    c[0] = 31, c[1] = 139, c[2] = 8, c[8] = o.level < 2 ? 4 : o.level == 9 ? 2 : 0, c[9] = 3; // assume Unix\n    if (o.mtime != 0)\n        wbytes(c, 4, Math.floor(new Date(o.mtime || Date.now()) / 1000));\n    if (fn) {\n        c[3] = 8;\n        for (var i = 0; i <= fn.length; ++i)\n            c[i + 10] = fn.charCodeAt(i);\n    }\n};\n// gzip footer: -8 to -4 = CRC, -4 to -0 is length\n// gzip start\nvar gzs = function (d) {\n    if (d[0] != 31 || d[1] != 139 || d[2] != 8)\n        err(6, 'invalid gzip data');\n    var flg = d[3];\n    var st = 10;\n    if (flg & 4)\n        st += (d[10] | d[11] << 8) + 2;\n    for (var zs = (flg >> 3 & 1) + (flg >> 4 & 1); zs > 0; zs -= !d[st++])\n        ;\n    return st + (flg & 2);\n};\n// gzip length\nvar gzl = function (d) {\n    var l = d.length;\n    return (d[l - 4] | d[l - 3] << 8 | d[l - 2] << 16 | d[l - 1] << 24) >>> 0;\n};\n// gzip header length\nvar gzhl = function (o) { return 10 + (o.filename ? o.filename.length + 1 : 0); };\n// zlib header\nvar zlh = function (c, o) {\n    var lv = o.level, fl = lv == 0 ? 0 : lv < 6 ? 1 : lv == 9 ? 3 : 2;\n    c[0] = 120, c[1] = (fl << 6) | (o.dictionary && 32);\n    c[1] |= 31 - ((c[0] << 8) | c[1]) % 31;\n    if (o.dictionary) {\n        var h = adler();\n        h.p(o.dictionary);\n        wbytes(c, 2, h.d());\n    }\n};\n// zlib start\nvar zls = function (d, dict) {\n    if ((d[0] & 15) != 8 || (d[0] >> 4) > 7 || ((d[0] << 8 | d[1]) % 31))\n        err(6, 'invalid zlib data');\n    if ((d[1] >> 5 & 1) == +!dict)\n        err(6, 'invalid zlib data: ' + (d[1] & 32 ? 'need' : 'unexpected') + ' dictionary');\n    return (d[1] >> 3 & 4) + 2;\n};\nfunction StrmOpt(opts, cb) {\n    if (typeof opts == 'function')\n        cb = opts, opts = {};\n    this.ondata = cb;\n    return opts;\n}\n/**\n * Streaming DEFLATE compression\n */\nvar Deflate = /*#__PURE__*/ (function () {\n    function Deflate(opts, cb) {\n        if (typeof opts == 'function')\n            cb = opts, opts = {};\n        this.ondata = cb;\n        this.o = opts || {};\n        this.s = { l: 0, i: 32768, w: 32768, z: 32768 };\n        // Buffer length must always be 0 mod 32768 for index calculations to be correct when modifying head and prev\n        // 98304 = 32768 (lookback) + 65536 (common chunk size)\n        this.b = new u8(98304);\n        if (this.o.dictionary) {\n            var dict = this.o.dictionary.subarray(-32768);\n            this.b.set(dict, 32768 - dict.length);\n            this.s.i = 32768 - dict.length;\n        }\n    }\n    Deflate.prototype.p = function (c, f) {\n        this.ondata(dopt(c, this.o, 0, 0, this.s), f);\n    };\n    /**\n     * Pushes a chunk to be deflated\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Deflate.prototype.push = function (chunk, final) {\n        if (!this.ondata)\n            err(5);\n        if (this.s.l)\n            err(4);\n        var endLen = chunk.length + this.s.z;\n        if (endLen > this.b.length) {\n            if (endLen > 2 * this.b.length - 32768) {\n                var newBuf = new u8(endLen & -32768);\n                newBuf.set(this.b.subarray(0, this.s.z));\n                this.b = newBuf;\n            }\n            var split = this.b.length - this.s.z;\n            this.b.set(chunk.subarray(0, split), this.s.z);\n            this.s.z = this.b.length;\n            this.p(this.b, false);\n            this.b.set(this.b.subarray(-32768));\n            this.b.set(chunk.subarray(split), 32768);\n            this.s.z = chunk.length - split + 32768;\n            this.s.i = 32766, this.s.w = 32768;\n        }\n        else {\n            this.b.set(chunk, this.s.z);\n            this.s.z += chunk.length;\n        }\n        this.s.l = final & 1;\n        if (this.s.z > this.s.w + 8191 || final) {\n            this.p(this.b, final || false);\n            this.s.w = this.s.i, this.s.i -= 2;\n        }\n    };\n    /**\n     * Flushes buffered uncompressed data. Useful to immediately retrieve the\n     * deflated output for small inputs.\n     */\n    Deflate.prototype.flush = function () {\n        if (!this.ondata)\n            err(5);\n        if (this.s.l)\n            err(4);\n        this.p(this.b, false);\n        this.s.w = this.s.i, this.s.i -= 2;\n    };\n    return Deflate;\n}());\nexport { Deflate };\n/**\n * Asynchronous streaming DEFLATE compression\n */\nvar AsyncDeflate = /*#__PURE__*/ (function () {\n    function AsyncDeflate(opts, cb) {\n        astrmify([\n            bDflt,\n            function () { return [astrm, Deflate]; }\n        ], this, StrmOpt.call(this, opts, cb), function (ev) {\n            var strm = new Deflate(ev.data);\n            onmessage = astrm(strm);\n        }, 6, 1);\n    }\n    return AsyncDeflate;\n}());\nexport { AsyncDeflate };\nexport function deflate(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    return cbify(data, opts, [\n        bDflt,\n    ], function (ev) { return pbf(deflateSync(ev.data[0], ev.data[1])); }, 0, cb);\n}\n/**\n * Compresses data with DEFLATE without any wrapper\n * @param data The data to compress\n * @param opts The compression options\n * @returns The deflated version of the data\n */\nexport function deflateSync(data, opts) {\n    return dopt(data, opts || {}, 0, 0);\n}\n/**\n * Streaming DEFLATE decompression\n */\nvar Inflate = /*#__PURE__*/ (function () {\n    function Inflate(opts, cb) {\n        // no StrmOpt here to avoid adding to workerizer\n        if (typeof opts == 'function')\n            cb = opts, opts = {};\n        this.ondata = cb;\n        var dict = opts && opts.dictionary && opts.dictionary.subarray(-32768);\n        this.s = { i: 0, b: dict ? dict.length : 0 };\n        this.o = new u8(32768);\n        this.p = new u8(0);\n        if (dict)\n            this.o.set(dict);\n    }\n    Inflate.prototype.e = function (c) {\n        if (!this.ondata)\n            err(5);\n        if (this.d)\n            err(4);\n        if (!this.p.length)\n            this.p = c;\n        else if (c.length) {\n            var n = new u8(this.p.length + c.length);\n            n.set(this.p), n.set(c, this.p.length), this.p = n;\n        }\n    };\n    Inflate.prototype.c = function (final) {\n        this.s.i = +(this.d = final || false);\n        var bts = this.s.b;\n        var dt = inflt(this.p, this.s, this.o);\n        this.ondata(slc(dt, bts, this.s.b), this.d);\n        this.o = slc(dt, this.s.b - 32768), this.s.b = this.o.length;\n        this.p = slc(this.p, (this.s.p / 8) | 0), this.s.p &= 7;\n    };\n    /**\n     * Pushes a chunk to be inflated\n     * @param chunk The chunk to push\n     * @param final Whether this is the final chunk\n     */\n    Inflate.prototype.push = function (chunk, final) {\n        this.e(chunk), this.c(final);\n    };\n    return Inflate;\n}());\nexport { Inflate };\n/**\n * Asynchronous streaming DEFLATE decompression\n */\nvar AsyncInflate = /*#__PURE__*/ (function () {\n    function AsyncInflate(opts, cb) {\n        astrmify([\n            bInflt,\n            function () { return [astrm, Inflate]; }\n        ], this, StrmOpt.call(this, opts, cb), function (ev) {\n            var strm = new Inflate(ev.data);\n            onmessage = astrm(strm);\n        }, 7, 0);\n    }\n    return AsyncInflate;\n}());\nexport { AsyncInflate };\nexport function inflate(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    return cbify(data, opts, [\n        bInflt\n    ], function (ev) { return pbf(inflateSync(ev.data[0], gopt(ev.data[1]))); }, 1, cb);\n}\n/**\n * Expands DEFLATE data with no wrapper\n * @param data The data to decompress\n * @param opts The decompression options\n * @returns The decompressed version of the data\n */\nexport function inflateSync(data, opts) {\n    return inflt(data, { i: 2 }, opts && opts.out, opts && opts.dictionary);\n}\n// before you yell at me for not just using extends, my reason is that TS inheritance is hard to workerize.\n/**\n * Streaming GZIP compression\n */\nvar Gzip = /*#__PURE__*/ (function () {\n    function Gzip(opts, cb) {\n        this.c = crc();\n        this.l = 0;\n        this.v = 1;\n        Deflate.call(this, opts, cb);\n    }\n    /**\n     * Pushes a chunk to be GZIPped\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Gzip.prototype.push = function (chunk, final) {\n        this.c.p(chunk);\n        this.l += chunk.length;\n        Deflate.prototype.push.call(this, chunk, final);\n    };\n    Gzip.prototype.p = function (c, f) {\n        var raw = dopt(c, this.o, this.v && gzhl(this.o), f && 8, this.s);\n        if (this.v)\n            gzh(raw, this.o), this.v = 0;\n        if (f)\n            wbytes(raw, raw.length - 8, this.c.d()), wbytes(raw, raw.length - 4, this.l);\n        this.ondata(raw, f);\n    };\n    /**\n     * Flushes buffered uncompressed data. Useful to immediately retrieve the\n     * GZIPped output for small inputs.\n     */\n    Gzip.prototype.flush = function () {\n        Deflate.prototype.flush.call(this);\n    };\n    return Gzip;\n}());\nexport { Gzip };\n/**\n * Asynchronous streaming GZIP compression\n */\nvar AsyncGzip = /*#__PURE__*/ (function () {\n    function AsyncGzip(opts, cb) {\n        astrmify([\n            bDflt,\n            gze,\n            function () { return [astrm, Deflate, Gzip]; }\n        ], this, StrmOpt.call(this, opts, cb), function (ev) {\n            var strm = new Gzip(ev.data);\n            onmessage = astrm(strm);\n        }, 8, 1);\n    }\n    return AsyncGzip;\n}());\nexport { AsyncGzip };\nexport function gzip(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    return cbify(data, opts, [\n        bDflt,\n        gze,\n        function () { return [gzipSync]; }\n    ], function (ev) { return pbf(gzipSync(ev.data[0], ev.data[1])); }, 2, cb);\n}\n/**\n * Compresses data with GZIP\n * @param data The data to compress\n * @param opts The compression options\n * @returns The gzipped version of the data\n */\nexport function gzipSync(data, opts) {\n    if (!opts)\n        opts = {};\n    var c = crc(), l = data.length;\n    c.p(data);\n    var d = dopt(data, opts, gzhl(opts), 8), s = d.length;\n    return gzh(d, opts), wbytes(d, s - 8, c.d()), wbytes(d, s - 4, l), d;\n}\n/**\n * Streaming single or multi-member GZIP decompression\n */\nvar Gunzip = /*#__PURE__*/ (function () {\n    function Gunzip(opts, cb) {\n        this.v = 1;\n        this.r = 0;\n        Inflate.call(this, opts, cb);\n    }\n    /**\n     * Pushes a chunk to be GUNZIPped\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Gunzip.prototype.push = function (chunk, final) {\n        Inflate.prototype.e.call(this, chunk);\n        this.r += chunk.length;\n        if (this.v) {\n            var p = this.p.subarray(this.v - 1);\n            var s = p.length > 3 ? gzs(p) : 4;\n            if (s > p.length) {\n                if (!final)\n                    return;\n            }\n            else if (this.v > 1 && this.onmember) {\n                this.onmember(this.r - p.length);\n            }\n            this.p = p.subarray(s), this.v = 0;\n        }\n        // necessary to prevent TS from using the closure value\n        // This allows for workerization to function correctly\n        Inflate.prototype.c.call(this, final);\n        // process concatenated GZIP\n        if (this.s.f && !this.s.l && !final) {\n            this.v = shft(this.s.p) + 9;\n            this.s = { i: 0 };\n            this.o = new u8(0);\n            this.push(new u8(0), final);\n        }\n    };\n    return Gunzip;\n}());\nexport { Gunzip };\n/**\n * Asynchronous streaming single or multi-member GZIP decompression\n */\nvar AsyncGunzip = /*#__PURE__*/ (function () {\n    function AsyncGunzip(opts, cb) {\n        var _this = this;\n        astrmify([\n            bInflt,\n            guze,\n            function () { return [astrm, Inflate, Gunzip]; }\n        ], this, StrmOpt.call(this, opts, cb), function (ev) {\n            var strm = new Gunzip(ev.data);\n            strm.onmember = function (offset) { return postMessage(offset); };\n            onmessage = astrm(strm);\n        }, 9, 0, function (offset) { return _this.onmember && _this.onmember(offset); });\n    }\n    return AsyncGunzip;\n}());\nexport { AsyncGunzip };\nexport function gunzip(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    return cbify(data, opts, [\n        bInflt,\n        guze,\n        function () { return [gunzipSync]; }\n    ], function (ev) { return pbf(gunzipSync(ev.data[0], ev.data[1])); }, 3, cb);\n}\n/**\n * Expands GZIP data\n * @param data The data to decompress\n * @param opts The decompression options\n * @returns The decompressed version of the data\n */\nexport function gunzipSync(data, opts) {\n    var st = gzs(data);\n    if (st + 8 > data.length)\n        err(6, 'invalid gzip data');\n    return inflt(data.subarray(st, -8), { i: 2 }, opts && opts.out || new u8(gzl(data)), opts && opts.dictionary);\n}\n/**\n * Streaming Zlib compression\n */\nvar Zlib = /*#__PURE__*/ (function () {\n    function Zlib(opts, cb) {\n        this.c = adler();\n        this.v = 1;\n        Deflate.call(this, opts, cb);\n    }\n    /**\n     * Pushes a chunk to be zlibbed\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Zlib.prototype.push = function (chunk, final) {\n        this.c.p(chunk);\n        Deflate.prototype.push.call(this, chunk, final);\n    };\n    Zlib.prototype.p = function (c, f) {\n        var raw = dopt(c, this.o, this.v && (this.o.dictionary ? 6 : 2), f && 4, this.s);\n        if (this.v)\n            zlh(raw, this.o), this.v = 0;\n        if (f)\n            wbytes(raw, raw.length - 4, this.c.d());\n        this.ondata(raw, f);\n    };\n    /**\n     * Flushes buffered uncompressed data. Useful to immediately retrieve the\n     * zlibbed output for small inputs.\n     */\n    Zlib.prototype.flush = function () {\n        Deflate.prototype.flush.call(this);\n    };\n    return Zlib;\n}());\nexport { Zlib };\n/**\n * Asynchronous streaming Zlib compression\n */\nvar AsyncZlib = /*#__PURE__*/ (function () {\n    function AsyncZlib(opts, cb) {\n        astrmify([\n            bDflt,\n            zle,\n            function () { return [astrm, Deflate, Zlib]; }\n        ], this, StrmOpt.call(this, opts, cb), function (ev) {\n            var strm = new Zlib(ev.data);\n            onmessage = astrm(strm);\n        }, 10, 1);\n    }\n    return AsyncZlib;\n}());\nexport { AsyncZlib };\nexport function zlib(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    return cbify(data, opts, [\n        bDflt,\n        zle,\n        function () { return [zlibSync]; }\n    ], function (ev) { return pbf(zlibSync(ev.data[0], ev.data[1])); }, 4, cb);\n}\n/**\n * Compress data with Zlib\n * @param data The data to compress\n * @param opts The compression options\n * @returns The zlib-compressed version of the data\n */\nexport function zlibSync(data, opts) {\n    if (!opts)\n        opts = {};\n    var a = adler();\n    a.p(data);\n    var d = dopt(data, opts, opts.dictionary ? 6 : 2, 4);\n    return zlh(d, opts), wbytes(d, d.length - 4, a.d()), d;\n}\n/**\n * Streaming Zlib decompression\n */\nvar Unzlib = /*#__PURE__*/ (function () {\n    function Unzlib(opts, cb) {\n        Inflate.call(this, opts, cb);\n        this.v = opts && opts.dictionary ? 2 : 1;\n    }\n    /**\n     * Pushes a chunk to be unzlibbed\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Unzlib.prototype.push = function (chunk, final) {\n        Inflate.prototype.e.call(this, chunk);\n        if (this.v) {\n            if (this.p.length < 6 && !final)\n                return;\n            this.p = this.p.subarray(zls(this.p, this.v - 1)), this.v = 0;\n        }\n        if (final) {\n            if (this.p.length < 4)\n                err(6, 'invalid zlib data');\n            this.p = this.p.subarray(0, -4);\n        }\n        // necessary to prevent TS from using the closure value\n        // This allows for workerization to function correctly\n        Inflate.prototype.c.call(this, final);\n    };\n    return Unzlib;\n}());\nexport { Unzlib };\n/**\n * Asynchronous streaming Zlib decompression\n */\nvar AsyncUnzlib = /*#__PURE__*/ (function () {\n    function AsyncUnzlib(opts, cb) {\n        astrmify([\n            bInflt,\n            zule,\n            function () { return [astrm, Inflate, Unzlib]; }\n        ], this, StrmOpt.call(this, opts, cb), function (ev) {\n            var strm = new Unzlib(ev.data);\n            onmessage = astrm(strm);\n        }, 11, 0);\n    }\n    return AsyncUnzlib;\n}());\nexport { AsyncUnzlib };\nexport function unzlib(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    return cbify(data, opts, [\n        bInflt,\n        zule,\n        function () { return [unzlibSync]; }\n    ], function (ev) { return pbf(unzlibSync(ev.data[0], gopt(ev.data[1]))); }, 5, cb);\n}\n/**\n * Expands Zlib data\n * @param data The data to decompress\n * @param opts The decompression options\n * @returns The decompressed version of the data\n */\nexport function unzlibSync(data, opts) {\n    return inflt(data.subarray(zls(data, opts && opts.dictionary), -4), { i: 2 }, opts && opts.out, opts && opts.dictionary);\n}\n// Default algorithm for compression (used because having a known output size allows faster decompression)\nexport { gzip as compress, AsyncGzip as AsyncCompress };\nexport { gzipSync as compressSync, Gzip as Compress };\n/**\n * Streaming GZIP, Zlib, or raw DEFLATE decompression\n */\nvar Decompress = /*#__PURE__*/ (function () {\n    function Decompress(opts, cb) {\n        this.o = StrmOpt.call(this, opts, cb) || {};\n        this.G = Gunzip;\n        this.I = Inflate;\n        this.Z = Unzlib;\n    }\n    // init substream\n    // overriden by AsyncDecompress\n    Decompress.prototype.i = function () {\n        var _this = this;\n        this.s.ondata = function (dat, final) {\n            _this.ondata(dat, final);\n        };\n    };\n    /**\n     * Pushes a chunk to be decompressed\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Decompress.prototype.push = function (chunk, final) {\n        if (!this.ondata)\n            err(5);\n        if (!this.s) {\n            if (this.p && this.p.length) {\n                var n = new u8(this.p.length + chunk.length);\n                n.set(this.p), n.set(chunk, this.p.length);\n            }\n            else\n                this.p = chunk;\n            if (this.p.length > 2) {\n                this.s = (this.p[0] == 31 && this.p[1] == 139 && this.p[2] == 8)\n                    ? new this.G(this.o)\n                    : ((this.p[0] & 15) != 8 || (this.p[0] >> 4) > 7 || ((this.p[0] << 8 | this.p[1]) % 31))\n                        ? new this.I(this.o)\n                        : new this.Z(this.o);\n                this.i();\n                this.s.push(this.p, final);\n                this.p = null;\n            }\n        }\n        else\n            this.s.push(chunk, final);\n    };\n    return Decompress;\n}());\nexport { Decompress };\n/**\n * Asynchronous streaming GZIP, Zlib, or raw DEFLATE decompression\n */\nvar AsyncDecompress = /*#__PURE__*/ (function () {\n    function AsyncDecompress(opts, cb) {\n        Decompress.call(this, opts, cb);\n        this.queuedSize = 0;\n        this.G = AsyncGunzip;\n        this.I = AsyncInflate;\n        this.Z = AsyncUnzlib;\n    }\n    AsyncDecompress.prototype.i = function () {\n        var _this = this;\n        this.s.ondata = function (err, dat, final) {\n            _this.ondata(err, dat, final);\n        };\n        this.s.ondrain = function (size) {\n            _this.queuedSize -= size;\n            if (_this.ondrain)\n                _this.ondrain(size);\n        };\n    };\n    /**\n     * Pushes a chunk to be decompressed\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    AsyncDecompress.prototype.push = function (chunk, final) {\n        this.queuedSize += chunk.length;\n        Decompress.prototype.push.call(this, chunk, final);\n    };\n    return AsyncDecompress;\n}());\nexport { AsyncDecompress };\nexport function decompress(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    return (data[0] == 31 && data[1] == 139 && data[2] == 8)\n        ? gunzip(data, opts, cb)\n        : ((data[0] & 15) != 8 || (data[0] >> 4) > 7 || ((data[0] << 8 | data[1]) % 31))\n            ? inflate(data, opts, cb)\n            : unzlib(data, opts, cb);\n}\n/**\n * Expands compressed GZIP, Zlib, or raw DEFLATE data, automatically detecting the format\n * @param data The data to decompress\n * @param opts The decompression options\n * @returns The decompressed version of the data\n */\nexport function decompressSync(data, opts) {\n    return (data[0] == 31 && data[1] == 139 && data[2] == 8)\n        ? gunzipSync(data, opts)\n        : ((data[0] & 15) != 8 || (data[0] >> 4) > 7 || ((data[0] << 8 | data[1]) % 31))\n            ? inflateSync(data, opts)\n            : unzlibSync(data, opts);\n}\n// flatten a directory structure\nvar fltn = function (d, p, t, o) {\n    for (var k in d) {\n        var val = d[k], n = p + k, op = o;\n        if (Array.isArray(val))\n            op = mrg(o, val[1]), val = val[0];\n        if (val instanceof u8)\n            t[n] = [val, op];\n        else {\n            t[n += '/'] = [new u8(0), op];\n            fltn(val, n, t, o);\n        }\n    }\n};\n// text encoder\nvar te = typeof TextEncoder != 'undefined' && /*#__PURE__*/ new TextEncoder();\n// text decoder\nvar td = typeof TextDecoder != 'undefined' && /*#__PURE__*/ new TextDecoder();\n// text decoder stream\nvar tds = 0;\ntry {\n    td.decode(et, { stream: true });\n    tds = 1;\n}\ncatch (e) { }\n// decode UTF8\nvar dutf8 = function (d) {\n    for (var r = '', i = 0;;) {\n        var c = d[i++];\n        var eb = (c > 127) + (c > 223) + (c > 239);\n        if (i + eb > d.length)\n            return { s: r, r: slc(d, i - 1) };\n        if (!eb)\n            r += String.fromCharCode(c);\n        else if (eb == 3) {\n            c = ((c & 15) << 18 | (d[i++] & 63) << 12 | (d[i++] & 63) << 6 | (d[i++] & 63)) - 65536,\n                r += String.fromCharCode(55296 | (c >> 10), 56320 | (c & 1023));\n        }\n        else if (eb & 1)\n            r += String.fromCharCode((c & 31) << 6 | (d[i++] & 63));\n        else\n            r += String.fromCharCode((c & 15) << 12 | (d[i++] & 63) << 6 | (d[i++] & 63));\n    }\n};\n/**\n * Streaming UTF-8 decoding\n */\nvar DecodeUTF8 = /*#__PURE__*/ (function () {\n    /**\n     * Creates a UTF-8 decoding stream\n     * @param cb The callback to call whenever data is decoded\n     */\n    function DecodeUTF8(cb) {\n        this.ondata = cb;\n        if (tds)\n            this.t = new TextDecoder();\n        else\n            this.p = et;\n    }\n    /**\n     * Pushes a chunk to be decoded from UTF-8 binary\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    DecodeUTF8.prototype.push = function (chunk, final) {\n        if (!this.ondata)\n            err(5);\n        final = !!final;\n        if (this.t) {\n            this.ondata(this.t.decode(chunk, { stream: true }), final);\n            if (final) {\n                if (this.t.decode().length)\n                    err(8);\n                this.t = null;\n            }\n            return;\n        }\n        if (!this.p)\n            err(4);\n        var dat = new u8(this.p.length + chunk.length);\n        dat.set(this.p);\n        dat.set(chunk, this.p.length);\n        var _a = dutf8(dat), s = _a.s, r = _a.r;\n        if (final) {\n            if (r.length)\n                err(8);\n            this.p = null;\n        }\n        else\n            this.p = r;\n        this.ondata(s, final);\n    };\n    return DecodeUTF8;\n}());\nexport { DecodeUTF8 };\n/**\n * Streaming UTF-8 encoding\n */\nvar EncodeUTF8 = /*#__PURE__*/ (function () {\n    /**\n     * Creates a UTF-8 decoding stream\n     * @param cb The callback to call whenever data is encoded\n     */\n    function EncodeUTF8(cb) {\n        this.ondata = cb;\n    }\n    /**\n     * Pushes a chunk to be encoded to UTF-8\n     * @param chunk The string data to push\n     * @param final Whether this is the last chunk\n     */\n    EncodeUTF8.prototype.push = function (chunk, final) {\n        if (!this.ondata)\n            err(5);\n        if (this.d)\n            err(4);\n        this.ondata(strToU8(chunk), this.d = final || false);\n    };\n    return EncodeUTF8;\n}());\nexport { EncodeUTF8 };\n/**\n * Converts a string into a Uint8Array for use with compression/decompression methods\n * @param str The string to encode\n * @param latin1 Whether or not to interpret the data as Latin-1. This should\n *               not need to be true unless decoding a binary string.\n * @returns The string encoded in UTF-8/Latin-1 binary\n */\nexport function strToU8(str, latin1) {\n    if (latin1) {\n        var ar_1 = new u8(str.length);\n        for (var i = 0; i < str.length; ++i)\n            ar_1[i] = str.charCodeAt(i);\n        return ar_1;\n    }\n    if (te)\n        return te.encode(str);\n    var l = str.length;\n    var ar = new u8(str.length + (str.length >> 1));\n    var ai = 0;\n    var w = function (v) { ar[ai++] = v; };\n    for (var i = 0; i < l; ++i) {\n        if (ai + 5 > ar.length) {\n            var n = new u8(ai + 8 + ((l - i) << 1));\n            n.set(ar);\n            ar = n;\n        }\n        var c = str.charCodeAt(i);\n        if (c < 128 || latin1)\n            w(c);\n        else if (c < 2048)\n            w(192 | (c >> 6)), w(128 | (c & 63));\n        else if (c > 55295 && c < 57344)\n            c = 65536 + (c & 1023 << 10) | (str.charCodeAt(++i) & 1023),\n                w(240 | (c >> 18)), w(128 | ((c >> 12) & 63)), w(128 | ((c >> 6) & 63)), w(128 | (c & 63));\n        else\n            w(224 | (c >> 12)), w(128 | ((c >> 6) & 63)), w(128 | (c & 63));\n    }\n    return slc(ar, 0, ai);\n}\n/**\n * Converts a Uint8Array to a string\n * @param dat The data to decode to string\n * @param latin1 Whether or not to interpret the data as Latin-1. This should\n *               not need to be true unless encoding to binary string.\n * @returns The original UTF-8/Latin-1 string\n */\nexport function strFromU8(dat, latin1) {\n    if (latin1) {\n        var r = '';\n        for (var i = 0; i < dat.length; i += 16384)\n            r += String.fromCharCode.apply(null, dat.subarray(i, i + 16384));\n        return r;\n    }\n    else if (td) {\n        return td.decode(dat);\n    }\n    else {\n        var _a = dutf8(dat), s = _a.s, r = _a.r;\n        if (r.length)\n            err(8);\n        return s;\n    }\n}\n;\n// deflate bit flag\nvar dbf = function (l) { return l == 1 ? 3 : l < 6 ? 2 : l == 9 ? 1 : 0; };\n// skip local zip header\nvar slzh = function (d, b) { return b + 30 + b2(d, b + 26) + b2(d, b + 28); };\n// read zip header\nvar zh = function (d, b, z) {\n    var fnl = b2(d, b + 28), fn = strFromU8(d.subarray(b + 46, b + 46 + fnl), !(b2(d, b + 8) & 2048)), es = b + 46 + fnl, bs = b4(d, b + 20);\n    var _a = z && bs == 4294967295 ? z64e(d, es) : [bs, b4(d, b + 24), b4(d, b + 42)], sc = _a[0], su = _a[1], off = _a[2];\n    return [b2(d, b + 10), sc, su, fn, es + b2(d, b + 30) + b2(d, b + 32), off];\n};\n// read zip64 extra field\nvar z64e = function (d, b) {\n    for (; b2(d, b) != 1; b += 4 + b2(d, b + 2))\n        ;\n    return [b8(d, b + 12), b8(d, b + 4), b8(d, b + 20)];\n};\n// extra field length\nvar exfl = function (ex) {\n    var le = 0;\n    if (ex) {\n        for (var k in ex) {\n            var l = ex[k].length;\n            if (l > 65535)\n                err(9);\n            le += l + 4;\n        }\n    }\n    return le;\n};\n// write zip header\nvar wzh = function (d, b, f, fn, u, c, ce, co) {\n    var fl = fn.length, ex = f.extra, col = co && co.length;\n    var exl = exfl(ex);\n    wbytes(d, b, ce != null ? 0x2014B50 : 0x4034B50), b += 4;\n    if (ce != null)\n        d[b++] = 20, d[b++] = f.os;\n    d[b] = 20, b += 2; // spec compliance? what's that?\n    d[b++] = (f.flag << 1) | (c < 0 && 8), d[b++] = u && 8;\n    d[b++] = f.compression & 255, d[b++] = f.compression >> 8;\n    var dt = new Date(f.mtime == null ? Date.now() : f.mtime), y = dt.getFullYear() - 1980;\n    if (y < 0 || y > 119)\n        err(10);\n    wbytes(d, b, (y << 25) | ((dt.getMonth() + 1) << 21) | (dt.getDate() << 16) | (dt.getHours() << 11) | (dt.getMinutes() << 5) | (dt.getSeconds() >> 1)), b += 4;\n    if (c != -1) {\n        wbytes(d, b, f.crc);\n        wbytes(d, b + 4, c < 0 ? -c - 2 : c);\n        wbytes(d, b + 8, f.size);\n    }\n    wbytes(d, b + 12, fl);\n    wbytes(d, b + 14, exl), b += 16;\n    if (ce != null) {\n        wbytes(d, b, col);\n        wbytes(d, b + 6, f.attrs);\n        wbytes(d, b + 10, ce), b += 14;\n    }\n    d.set(fn, b);\n    b += fl;\n    if (exl) {\n        for (var k in ex) {\n            var exf = ex[k], l = exf.length;\n            wbytes(d, b, +k);\n            wbytes(d, b + 2, l);\n            d.set(exf, b + 4), b += 4 + l;\n        }\n    }\n    if (col)\n        d.set(co, b), b += col;\n    return b;\n};\n// write zip footer (end of central directory)\nvar wzf = function (o, b, c, d, e) {\n    wbytes(o, b, 0x6054B50); // skip disk\n    wbytes(o, b + 8, c);\n    wbytes(o, b + 10, c);\n    wbytes(o, b + 12, d);\n    wbytes(o, b + 16, e);\n};\n/**\n * A pass-through stream to keep data uncompressed in a ZIP archive.\n */\nvar ZipPassThrough = /*#__PURE__*/ (function () {\n    /**\n     * Creates a pass-through stream that can be added to ZIP archives\n     * @param filename The filename to associate with this data stream\n     */\n    function ZipPassThrough(filename) {\n        this.filename = filename;\n        this.c = crc();\n        this.size = 0;\n        this.compression = 0;\n    }\n    /**\n     * Processes a chunk and pushes to the output stream. You can override this\n     * method in a subclass for custom behavior, but by default this passes\n     * the data through. You must call this.ondata(err, chunk, final) at some\n     * point in this method.\n     * @param chunk The chunk to process\n     * @param final Whether this is the last chunk\n     */\n    ZipPassThrough.prototype.process = function (chunk, final) {\n        this.ondata(null, chunk, final);\n    };\n    /**\n     * Pushes a chunk to be added. If you are subclassing this with a custom\n     * compression algorithm, note that you must push data from the source\n     * file only, pre-compression.\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    ZipPassThrough.prototype.push = function (chunk, final) {\n        if (!this.ondata)\n            err(5);\n        this.c.p(chunk);\n        this.size += chunk.length;\n        if (final)\n            this.crc = this.c.d();\n        this.process(chunk, final || false);\n    };\n    return ZipPassThrough;\n}());\nexport { ZipPassThrough };\n// I don't extend because TypeScript extension adds 1kB of runtime bloat\n/**\n * Streaming DEFLATE compression for ZIP archives. Prefer using AsyncZipDeflate\n * for better performance\n */\nvar ZipDeflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates a DEFLATE stream that can be added to ZIP archives\n     * @param filename The filename to associate with this data stream\n     * @param opts The compression options\n     */\n    function ZipDeflate(filename, opts) {\n        var _this = this;\n        if (!opts)\n            opts = {};\n        ZipPassThrough.call(this, filename);\n        this.d = new Deflate(opts, function (dat, final) {\n            _this.ondata(null, dat, final);\n        });\n        this.compression = 8;\n        this.flag = dbf(opts.level);\n    }\n    ZipDeflate.prototype.process = function (chunk, final) {\n        try {\n            this.d.push(chunk, final);\n        }\n        catch (e) {\n            this.ondata(e, null, final);\n        }\n    };\n    /**\n     * Pushes a chunk to be deflated\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    ZipDeflate.prototype.push = function (chunk, final) {\n        ZipPassThrough.prototype.push.call(this, chunk, final);\n    };\n    return ZipDeflate;\n}());\nexport { ZipDeflate };\n/**\n * Asynchronous streaming DEFLATE compression for ZIP archives\n */\nvar AsyncZipDeflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates an asynchronous DEFLATE stream that can be added to ZIP archives\n     * @param filename The filename to associate with this data stream\n     * @param opts The compression options\n     */\n    function AsyncZipDeflate(filename, opts) {\n        var _this = this;\n        if (!opts)\n            opts = {};\n        ZipPassThrough.call(this, filename);\n        this.d = new AsyncDeflate(opts, function (err, dat, final) {\n            _this.ondata(err, dat, final);\n        });\n        this.compression = 8;\n        this.flag = dbf(opts.level);\n        this.terminate = this.d.terminate;\n    }\n    AsyncZipDeflate.prototype.process = function (chunk, final) {\n        this.d.push(chunk, final);\n    };\n    /**\n     * Pushes a chunk to be deflated\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    AsyncZipDeflate.prototype.push = function (chunk, final) {\n        ZipPassThrough.prototype.push.call(this, chunk, final);\n    };\n    return AsyncZipDeflate;\n}());\nexport { AsyncZipDeflate };\n// TODO: Better tree shaking\n/**\n * A zippable archive to which files can incrementally be added\n */\nvar Zip = /*#__PURE__*/ (function () {\n    /**\n     * Creates an empty ZIP archive to which files can be added\n     * @param cb The callback to call whenever data for the generated ZIP archive\n     *           is available\n     */\n    function Zip(cb) {\n        this.ondata = cb;\n        this.u = [];\n        this.d = 1;\n    }\n    /**\n     * Adds a file to the ZIP archive\n     * @param file The file stream to add\n     */\n    Zip.prototype.add = function (file) {\n        var _this = this;\n        if (!this.ondata)\n            err(5);\n        // finishing or finished\n        if (this.d & 2)\n            this.ondata(err(4 + (this.d & 1) * 8, 0, 1), null, false);\n        else {\n            var f = strToU8(file.filename), fl_1 = f.length;\n            var com = file.comment, o = com && strToU8(com);\n            var u = fl_1 != file.filename.length || (o && (com.length != o.length));\n            var hl_1 = fl_1 + exfl(file.extra) + 30;\n            if (fl_1 > 65535)\n                this.ondata(err(11, 0, 1), null, false);\n            var header = new u8(hl_1);\n            wzh(header, 0, file, f, u, -1);\n            var chks_1 = [header];\n            var pAll_1 = function () {\n                for (var _i = 0, chks_2 = chks_1; _i < chks_2.length; _i++) {\n                    var chk = chks_2[_i];\n                    _this.ondata(null, chk, false);\n                }\n                chks_1 = [];\n            };\n            var tr_1 = this.d;\n            this.d = 0;\n            var ind_1 = this.u.length;\n            var uf_1 = mrg(file, {\n                f: f,\n                u: u,\n                o: o,\n                t: function () {\n                    if (file.terminate)\n                        file.terminate();\n                },\n                r: function () {\n                    pAll_1();\n                    if (tr_1) {\n                        var nxt = _this.u[ind_1 + 1];\n                        if (nxt)\n                            nxt.r();\n                        else\n                            _this.d = 1;\n                    }\n                    tr_1 = 1;\n                }\n            });\n            var cl_1 = 0;\n            file.ondata = function (err, dat, final) {\n                if (err) {\n                    _this.ondata(err, dat, final);\n                    _this.terminate();\n                }\n                else {\n                    cl_1 += dat.length;\n                    chks_1.push(dat);\n                    if (final) {\n                        var dd = new u8(16);\n                        wbytes(dd, 0, 0x8074B50);\n                        wbytes(dd, 4, file.crc);\n                        wbytes(dd, 8, cl_1);\n                        wbytes(dd, 12, file.size);\n                        chks_1.push(dd);\n                        uf_1.c = cl_1, uf_1.b = hl_1 + cl_1 + 16, uf_1.crc = file.crc, uf_1.size = file.size;\n                        if (tr_1)\n                            uf_1.r();\n                        tr_1 = 1;\n                    }\n                    else if (tr_1)\n                        pAll_1();\n                }\n            };\n            this.u.push(uf_1);\n        }\n    };\n    /**\n     * Ends the process of adding files and prepares to emit the final chunks.\n     * This *must* be called after adding all desired files for the resulting\n     * ZIP file to work properly.\n     */\n    Zip.prototype.end = function () {\n        var _this = this;\n        if (this.d & 2) {\n            this.ondata(err(4 + (this.d & 1) * 8, 0, 1), null, true);\n            return;\n        }\n        if (this.d)\n            this.e();\n        else\n            this.u.push({\n                r: function () {\n                    if (!(_this.d & 1))\n                        return;\n                    _this.u.splice(-1, 1);\n                    _this.e();\n                },\n                t: function () { }\n            });\n        this.d = 3;\n    };\n    Zip.prototype.e = function () {\n        var bt = 0, l = 0, tl = 0;\n        for (var _i = 0, _a = this.u; _i < _a.length; _i++) {\n            var f = _a[_i];\n            tl += 46 + f.f.length + exfl(f.extra) + (f.o ? f.o.length : 0);\n        }\n        var out = new u8(tl + 22);\n        for (var _b = 0, _c = this.u; _b < _c.length; _b++) {\n            var f = _c[_b];\n            wzh(out, bt, f, f.f, f.u, -f.c - 2, l, f.o);\n            bt += 46 + f.f.length + exfl(f.extra) + (f.o ? f.o.length : 0), l += f.b;\n        }\n        wzf(out, bt, this.u.length, tl, l);\n        this.ondata(null, out, true);\n        this.d = 2;\n    };\n    /**\n     * A method to terminate any internal workers used by the stream. Subsequent\n     * calls to add() will fail.\n     */\n    Zip.prototype.terminate = function () {\n        for (var _i = 0, _a = this.u; _i < _a.length; _i++) {\n            var f = _a[_i];\n            f.t();\n        }\n        this.d = 2;\n    };\n    return Zip;\n}());\nexport { Zip };\nexport function zip(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    var r = {};\n    fltn(data, '', r, opts);\n    var k = Object.keys(r);\n    var lft = k.length, o = 0, tot = 0;\n    var slft = lft, files = new Array(lft);\n    var term = [];\n    var tAll = function () {\n        for (var i = 0; i < term.length; ++i)\n            term[i]();\n    };\n    var cbd = function (a, b) {\n        mt(function () { cb(a, b); });\n    };\n    mt(function () { cbd = cb; });\n    var cbf = function () {\n        var out = new u8(tot + 22), oe = o, cdl = tot - o;\n        tot = 0;\n        for (var i = 0; i < slft; ++i) {\n            var f = files[i];\n            try {\n                var l = f.c.length;\n                wzh(out, tot, f, f.f, f.u, l);\n                var badd = 30 + f.f.length + exfl(f.extra);\n                var loc = tot + badd;\n                out.set(f.c, loc);\n                wzh(out, o, f, f.f, f.u, l, tot, f.m), o += 16 + badd + (f.m ? f.m.length : 0), tot = loc + l;\n            }\n            catch (e) {\n                return cbd(e, null);\n            }\n        }\n        wzf(out, o, files.length, cdl, oe);\n        cbd(null, out);\n    };\n    if (!lft)\n        cbf();\n    var _loop_1 = function (i) {\n        var fn = k[i];\n        var _a = r[fn], file = _a[0], p = _a[1];\n        var c = crc(), size = file.length;\n        c.p(file);\n        var f = strToU8(fn), s = f.length;\n        var com = p.comment, m = com && strToU8(com), ms = m && m.length;\n        var exl = exfl(p.extra);\n        var compression = p.level == 0 ? 0 : 8;\n        var cbl = function (e, d) {\n            if (e) {\n                tAll();\n                cbd(e, null);\n            }\n            else {\n                var l = d.length;\n                files[i] = mrg(p, {\n                    size: size,\n                    crc: c.d(),\n                    c: d,\n                    f: f,\n                    m: m,\n                    u: s != fn.length || (m && (com.length != ms)),\n                    compression: compression\n                });\n                o += 30 + s + exl + l;\n                tot += 76 + 2 * (s + exl) + (ms || 0) + l;\n                if (!--lft)\n                    cbf();\n            }\n        };\n        if (s > 65535)\n            cbl(err(11, 0, 1), null);\n        if (!compression)\n            cbl(null, file);\n        else if (size < 160000) {\n            try {\n                cbl(null, deflateSync(file, p));\n            }\n            catch (e) {\n                cbl(e, null);\n            }\n        }\n        else\n            term.push(deflate(file, p, cbl));\n    };\n    // Cannot use lft because it can decrease\n    for (var i = 0; i < slft; ++i) {\n        _loop_1(i);\n    }\n    return tAll;\n}\n/**\n * Synchronously creates a ZIP file. Prefer using `zip` for better performance\n * with more than one file.\n * @param data The directory structure for the ZIP archive\n * @param opts The main options, merged with per-file options\n * @returns The generated ZIP archive\n */\nexport function zipSync(data, opts) {\n    if (!opts)\n        opts = {};\n    var r = {};\n    var files = [];\n    fltn(data, '', r, opts);\n    var o = 0;\n    var tot = 0;\n    for (var fn in r) {\n        var _a = r[fn], file = _a[0], p = _a[1];\n        var compression = p.level == 0 ? 0 : 8;\n        var f = strToU8(fn), s = f.length;\n        var com = p.comment, m = com && strToU8(com), ms = m && m.length;\n        var exl = exfl(p.extra);\n        if (s > 65535)\n            err(11);\n        var d = compression ? deflateSync(file, p) : file, l = d.length;\n        var c = crc();\n        c.p(file);\n        files.push(mrg(p, {\n            size: file.length,\n            crc: c.d(),\n            c: d,\n            f: f,\n            m: m,\n            u: s != fn.length || (m && (com.length != ms)),\n            o: o,\n            compression: compression\n        }));\n        o += 30 + s + exl + l;\n        tot += 76 + 2 * (s + exl) + (ms || 0) + l;\n    }\n    var out = new u8(tot + 22), oe = o, cdl = tot - o;\n    for (var i = 0; i < files.length; ++i) {\n        var f = files[i];\n        wzh(out, f.o, f, f.f, f.u, f.c.length);\n        var badd = 30 + f.f.length + exfl(f.extra);\n        out.set(f.c, f.o + badd);\n        wzh(out, o, f, f.f, f.u, f.c.length, f.o, f.m), o += 16 + badd + (f.m ? f.m.length : 0);\n    }\n    wzf(out, o, files.length, cdl, oe);\n    return out;\n}\n/**\n * Streaming pass-through decompression for ZIP archives\n */\nvar UnzipPassThrough = /*#__PURE__*/ (function () {\n    function UnzipPassThrough() {\n    }\n    UnzipPassThrough.prototype.push = function (data, final) {\n        this.ondata(null, data, final);\n    };\n    UnzipPassThrough.compression = 0;\n    return UnzipPassThrough;\n}());\nexport { UnzipPassThrough };\n/**\n * Streaming DEFLATE decompression for ZIP archives. Prefer AsyncZipInflate for\n * better performance.\n */\nvar UnzipInflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates a DEFLATE decompression that can be used in ZIP archives\n     */\n    function UnzipInflate() {\n        var _this = this;\n        this.i = new Inflate(function (dat, final) {\n            _this.ondata(null, dat, final);\n        });\n    }\n    UnzipInflate.prototype.push = function (data, final) {\n        try {\n            this.i.push(data, final);\n        }\n        catch (e) {\n            this.ondata(e, null, final);\n        }\n    };\n    UnzipInflate.compression = 8;\n    return UnzipInflate;\n}());\nexport { UnzipInflate };\n/**\n * Asynchronous streaming DEFLATE decompression for ZIP archives\n */\nvar AsyncUnzipInflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates a DEFLATE decompression that can be used in ZIP archives\n     */\n    function AsyncUnzipInflate(_, sz) {\n        var _this = this;\n        if (sz < 320000) {\n            this.i = new Inflate(function (dat, final) {\n                _this.ondata(null, dat, final);\n            });\n        }\n        else {\n            this.i = new AsyncInflate(function (err, dat, final) {\n                _this.ondata(err, dat, final);\n            });\n            this.terminate = this.i.terminate;\n        }\n    }\n    AsyncUnzipInflate.prototype.push = function (data, final) {\n        if (this.i.terminate)\n            data = slc(data, 0);\n        this.i.push(data, final);\n    };\n    AsyncUnzipInflate.compression = 8;\n    return AsyncUnzipInflate;\n}());\nexport { AsyncUnzipInflate };\n/**\n * A ZIP archive decompression stream that emits files as they are discovered\n */\nvar Unzip = /*#__PURE__*/ (function () {\n    /**\n     * Creates a ZIP decompression stream\n     * @param cb The callback to call whenever a file in the ZIP archive is found\n     */\n    function Unzip(cb) {\n        this.onfile = cb;\n        this.k = [];\n        this.o = {\n            0: UnzipPassThrough\n        };\n        this.p = et;\n    }\n    /**\n     * Pushes a chunk to be unzipped\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Unzip.prototype.push = function (chunk, final) {\n        var _this = this;\n        if (!this.onfile)\n            err(5);\n        if (!this.p)\n            err(4);\n        if (this.c > 0) {\n            var len = Math.min(this.c, chunk.length);\n            var toAdd = chunk.subarray(0, len);\n            this.c -= len;\n            if (this.d)\n                this.d.push(toAdd, !this.c);\n            else\n                this.k[0].push(toAdd);\n            chunk = chunk.subarray(len);\n            if (chunk.length)\n                return this.push(chunk, final);\n        }\n        else {\n            var f = 0, i = 0, is = void 0, buf = void 0;\n            if (!this.p.length)\n                buf = chunk;\n            else if (!chunk.length)\n                buf = this.p;\n            else {\n                buf = new u8(this.p.length + chunk.length);\n                buf.set(this.p), buf.set(chunk, this.p.length);\n            }\n            var l = buf.length, oc = this.c, add = oc && this.d;\n            var _loop_2 = function () {\n                var _a;\n                var sig = b4(buf, i);\n                if (sig == 0x4034B50) {\n                    f = 1, is = i;\n                    this_1.d = null;\n                    this_1.c = 0;\n                    var bf = b2(buf, i + 6), cmp_1 = b2(buf, i + 8), u = bf & 2048, dd = bf & 8, fnl = b2(buf, i + 26), es = b2(buf, i + 28);\n                    if (l > i + 30 + fnl + es) {\n                        var chks_3 = [];\n                        this_1.k.unshift(chks_3);\n                        f = 2;\n                        var sc_1 = b4(buf, i + 18), su_1 = b4(buf, i + 22);\n                        var fn_1 = strFromU8(buf.subarray(i + 30, i += 30 + fnl), !u);\n                        if (sc_1 == 4294967295) {\n                            _a = dd ? [-2] : z64e(buf, i), sc_1 = _a[0], su_1 = _a[1];\n                        }\n                        else if (dd)\n                            sc_1 = -1;\n                        i += es;\n                        this_1.c = sc_1;\n                        var d_1;\n                        var file_1 = {\n                            name: fn_1,\n                            compression: cmp_1,\n                            start: function () {\n                                if (!file_1.ondata)\n                                    err(5);\n                                if (!sc_1)\n                                    file_1.ondata(null, et, true);\n                                else {\n                                    var ctr = _this.o[cmp_1];\n                                    if (!ctr)\n                                        file_1.ondata(err(14, 'unknown compression type ' + cmp_1, 1), null, false);\n                                    d_1 = sc_1 < 0 ? new ctr(fn_1) : new ctr(fn_1, sc_1, su_1);\n                                    d_1.ondata = function (err, dat, final) { file_1.ondata(err, dat, final); };\n                                    for (var _i = 0, chks_4 = chks_3; _i < chks_4.length; _i++) {\n                                        var dat = chks_4[_i];\n                                        d_1.push(dat, false);\n                                    }\n                                    if (_this.k[0] == chks_3 && _this.c)\n                                        _this.d = d_1;\n                                    else\n                                        d_1.push(et, true);\n                                }\n                            },\n                            terminate: function () {\n                                if (d_1 && d_1.terminate)\n                                    d_1.terminate();\n                            }\n                        };\n                        if (sc_1 >= 0)\n                            file_1.size = sc_1, file_1.originalSize = su_1;\n                        this_1.onfile(file_1);\n                    }\n                    return \"break\";\n                }\n                else if (oc) {\n                    if (sig == 0x8074B50) {\n                        is = i += 12 + (oc == -2 && 8), f = 3, this_1.c = 0;\n                        return \"break\";\n                    }\n                    else if (sig == 0x2014B50) {\n                        is = i -= 4, f = 3, this_1.c = 0;\n                        return \"break\";\n                    }\n                }\n            };\n            var this_1 = this;\n            for (; i < l - 4; ++i) {\n                var state_1 = _loop_2();\n                if (state_1 === \"break\")\n                    break;\n            }\n            this.p = et;\n            if (oc < 0) {\n                var dat = f ? buf.subarray(0, is - 12 - (oc == -2 && 8) - (b4(buf, is - 16) == 0x8074B50 && 4)) : buf.subarray(0, i);\n                if (add)\n                    add.push(dat, !!f);\n                else\n                    this.k[+(f == 2)].push(dat);\n            }\n            if (f & 2)\n                return this.push(buf.subarray(i), final);\n            this.p = buf.subarray(i);\n        }\n        if (final) {\n            if (this.c)\n                err(13);\n            this.p = null;\n        }\n    };\n    /**\n     * Registers a decoder with the stream, allowing for files compressed with\n     * the compression type provided to be expanded correctly\n     * @param decoder The decoder constructor\n     */\n    Unzip.prototype.register = function (decoder) {\n        this.o[decoder.compression] = decoder;\n    };\n    return Unzip;\n}());\nexport { Unzip };\nvar mt = typeof queueMicrotask == 'function' ? queueMicrotask : typeof setTimeout == 'function' ? setTimeout : function (fn) { fn(); };\nexport function unzip(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    var term = [];\n    var tAll = function () {\n        for (var i = 0; i < term.length; ++i)\n            term[i]();\n    };\n    var files = {};\n    var cbd = function (a, b) {\n        mt(function () { cb(a, b); });\n    };\n    mt(function () { cbd = cb; });\n    var e = data.length - 22;\n    for (; b4(data, e) != 0x6054B50; --e) {\n        if (!e || data.length - e > 65558) {\n            cbd(err(13, 0, 1), null);\n            return tAll;\n        }\n    }\n    ;\n    var lft = b2(data, e + 8);\n    if (lft) {\n        var c = lft;\n        var o = b4(data, e + 16);\n        var z = o == 4294967295 || c == 65535;\n        if (z) {\n            var ze = b4(data, e - 12);\n            z = b4(data, ze) == 0x6064B50;\n            if (z) {\n                c = lft = b4(data, ze + 32);\n                o = b4(data, ze + 48);\n            }\n        }\n        var fltr = opts && opts.filter;\n        var _loop_3 = function (i) {\n            var _a = zh(data, o, z), c_1 = _a[0], sc = _a[1], su = _a[2], fn = _a[3], no = _a[4], off = _a[5], b = slzh(data, off);\n            o = no;\n            var cbl = function (e, d) {\n                if (e) {\n                    tAll();\n                    cbd(e, null);\n                }\n                else {\n                    if (d)\n                        files[fn] = d;\n                    if (!--lft)\n                        cbd(null, files);\n                }\n            };\n            if (!fltr || fltr({\n                name: fn,\n                size: sc,\n                originalSize: su,\n                compression: c_1\n            })) {\n                if (!c_1)\n                    cbl(null, slc(data, b, b + sc));\n                else if (c_1 == 8) {\n                    var infl = data.subarray(b, b + sc);\n                    // Synchronously decompress under 512KB, or barely-compressed data\n                    if (su < 524288 || sc > 0.8 * su) {\n                        try {\n                            cbl(null, inflateSync(infl, { out: new u8(su) }));\n                        }\n                        catch (e) {\n                            cbl(e, null);\n                        }\n                    }\n                    else\n                        term.push(inflate(infl, { size: su }, cbl));\n                }\n                else\n                    cbl(err(14, 'unknown compression type ' + c_1, 1), null);\n            }\n            else\n                cbl(null, null);\n        };\n        for (var i = 0; i < c; ++i) {\n            _loop_3(i);\n        }\n    }\n    else\n        cbd(null, {});\n    return tAll;\n}\n/**\n * Synchronously decompresses a ZIP archive. Prefer using `unzip` for better\n * performance with more than one file.\n * @param data The raw compressed ZIP file\n * @param opts The ZIP extraction options\n * @returns The decompressed files\n */\nexport function unzipSync(data, opts) {\n    var files = {};\n    var e = data.length - 22;\n    for (; b4(data, e) != 0x6054B50; --e) {\n        if (!e || data.length - e > 65558)\n            err(13);\n    }\n    ;\n    var c = b2(data, e + 8);\n    if (!c)\n        return {};\n    var o = b4(data, e + 16);\n    var z = o == 4294967295 || c == 65535;\n    if (z) {\n        var ze = b4(data, e - 12);\n        z = b4(data, ze) == 0x6064B50;\n        if (z) {\n            c = b4(data, ze + 32);\n            o = b4(data, ze + 48);\n        }\n    }\n    var fltr = opts && opts.filter;\n    for (var i = 0; i < c; ++i) {\n        var _a = zh(data, o, z), c_2 = _a[0], sc = _a[1], su = _a[2], fn = _a[3], no = _a[4], off = _a[5], b = slzh(data, off);\n        o = no;\n        if (!fltr || fltr({\n            name: fn,\n            size: sc,\n            originalSize: su,\n            compression: c_2\n        })) {\n            if (!c_2)\n                files[fn] = slc(data, b, b + sc);\n            else if (c_2 == 8)\n                files[fn] = inflateSync(data.subarray(b, b + sc), { out: new u8(su) });\n            else\n                err(14, 'unknown compression type ' + c_2);\n        }\n    }\n    return files;\n}\n","import { AsyncDeflate, Deflate, AsyncGzip, AsyncZlib, AsyncInflate, AsyncGunzip, AsyncUnzlib, Gzip, Zlib, Gunzip, Unzlib, Inflate } from 'fflate';\nconst wrapSync = (Stream) => {\n    class AsyncWrappedStream {\n        constructor() {\n            this.i = new Stream();\n            this.i.ondata = (data, final) => {\n                this.ondata(null, data, final);\n            };\n        }\n        push(data, final) {\n            try {\n                this.queuedSize += data.length;\n                this.i.push(data, final);\n                this.queuedSize -= data.length;\n                if (this.ondrain)\n                    this.ondrain(data.length);\n            }\n            catch (err) {\n                this.ondata(err, null, final || false);\n            }\n        }\n    }\n    return AsyncWrappedStream;\n};\n// Safari fix\nlet hasWorker = 1;\ntry {\n    const test = new AsyncDeflate();\n    test.terminate();\n}\ncatch (err) {\n    hasWorker = 0;\n}\nconst compressors = hasWorker ? {\n    'gzip': AsyncGzip,\n    'deflate': AsyncZlib,\n    'deflate-raw': AsyncDeflate\n} : {\n    'gzip': wrapSync(Gzip),\n    'deflate': wrapSync(Zlib),\n    'deflate-raw': wrapSync(Deflate)\n};\nconst decompressors = hasWorker ? {\n    'gzip': AsyncGunzip,\n    'deflate': AsyncUnzlib,\n    'deflate-raw': AsyncInflate\n} : {\n    'gzip': wrapSync(Gunzip),\n    'deflate': wrapSync(Unzlib),\n    'deflate-raw': wrapSync(Inflate)\n};\nconst makeMulti = (TransformStreamBase, processors, name) => {\n    class BaseCompressionStream extends TransformStreamBase {\n        constructor(format) {\n            if (!arguments.length) {\n                throw new TypeError(`Failed to construct '${name}': 1 argument required, but only 0 present.`);\n            }\n            const Processor = processors[format];\n            if (!Processor) {\n                throw new TypeError(`Failed to construct '${name}': Unsupported compression format: '${format}'`);\n            }\n            let compressor = new Processor();\n            let endCb;\n            super({\n                start: controller => {\n                    compressor.ondata = (err, dat, final) => {\n                        if (err)\n                            controller.error(err);\n                        else if (dat) {\n                            controller.enqueue(dat);\n                            if (final) {\n                                if (endCb)\n                                    endCb();\n                                else\n                                    controller.terminate();\n                            }\n                        }\n                    };\n                },\n                transform: chunk => {\n                    if (chunk instanceof ArrayBuffer)\n                        chunk = new Uint8Array(chunk);\n                    else if (ArrayBuffer.isView(chunk)) {\n                        chunk = new Uint8Array(chunk.buffer, chunk.byteOffset, chunk.byteLength);\n                    }\n                    else {\n                        throw new TypeError(\"The provided value is not of type '(ArrayBuffer or ArrayBufferView)'\");\n                    }\n                    compressor.push(chunk);\n                    // use fflate internal buffering to keep worker message channel fed\n                    if (compressor.queuedSize >= 32768) {\n                        return new Promise(resolve => {\n                            compressor.ondrain = () => {\n                                if (compressor.queuedSize < 32768)\n                                    resolve();\n                            };\n                        });\n                    }\n                },\n                flush: () => new Promise(resolve => {\n                    endCb = resolve;\n                    compressor.push(new Uint8Array(0), true);\n                })\n            }, {\n                size: chunk => chunk.byteLength | 0,\n                highWaterMark: 65536\n            }, {\n                size: chunk => chunk.byteLength | 0,\n                highWaterMark: 65536\n            });\n        }\n    }\n    return BaseCompressionStream;\n};\nexport function makeCompressionStream(TransformStreamBase) {\n    return makeMulti(TransformStreamBase, compressors, 'CompressionStream');\n}\nexport function makeDecompressionStream(TransformStreamBase) {\n    return makeMulti(TransformStreamBase, decompressors, 'DecompressionStream');\n}\n","import { makeCompressionStream, makeDecompressionStream } from './ponyfill.mjs';\nconst globals = typeof globalThis == 'undefined'\n    ? typeof self == 'undefined'\n        ? typeof global == 'undefined'\n            ? {}\n            : global\n        : self\n    : globalThis;\nif (typeof globals.CompressionStream == 'undefined') {\n    globals.CompressionStream = makeCompressionStream(TransformStream);\n}\nif (typeof globals.DecompressionStream == 'undefined') {\n    globals.DecompressionStream = makeDecompressionStream(TransformStream);\n}\n","import*as e from\"react\";function n(){return n=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},n.apply(this,arguments)}const t=[\"children\",\"options\"];var r,i;!function(e){e.blockQuote=\"0\",e.breakLine=\"1\",e.breakThematic=\"2\",e.codeBlock=\"3\",e.codeFenced=\"4\",e.codeInline=\"5\",e.footnote=\"6\",e.footnoteReference=\"7\",e.gfmTask=\"8\",e.heading=\"9\",e.headingSetext=\"10\",e.htmlBlock=\"11\",e.htmlComment=\"12\",e.htmlSelfClosing=\"13\",e.image=\"14\",e.link=\"15\",e.linkAngleBraceStyleDetector=\"16\",e.linkBareUrlDetector=\"17\",e.linkMailtoDetector=\"18\",e.newlineCoalescer=\"19\",e.orderedList=\"20\",e.paragraph=\"21\",e.ref=\"22\",e.refImage=\"23\",e.refLink=\"24\",e.table=\"25\",e.tableSeparator=\"26\",e.text=\"27\",e.textBolded=\"28\",e.textEmphasized=\"29\",e.textEscaped=\"30\",e.textMarked=\"31\",e.textStrikethroughed=\"32\",e.unorderedList=\"33\"}(r||(r={})),function(e){e[e.MAX=0]=\"MAX\",e[e.HIGH=1]=\"HIGH\",e[e.MED=2]=\"MED\",e[e.LOW=3]=\"LOW\",e[e.MIN=4]=\"MIN\"}(i||(i={}));const l=[\"allowFullScreen\",\"allowTransparency\",\"autoComplete\",\"autoFocus\",\"autoPlay\",\"cellPadding\",\"cellSpacing\",\"charSet\",\"className\",\"classId\",\"colSpan\",\"contentEditable\",\"contextMenu\",\"crossOrigin\",\"encType\",\"formAction\",\"formEncType\",\"formMethod\",\"formNoValidate\",\"formTarget\",\"frameBorder\",\"hrefLang\",\"inputMode\",\"keyParams\",\"keyType\",\"marginHeight\",\"marginWidth\",\"maxLength\",\"mediaGroup\",\"minLength\",\"noValidate\",\"radioGroup\",\"readOnly\",\"rowSpan\",\"spellCheck\",\"srcDoc\",\"srcLang\",\"srcSet\",\"tabIndex\",\"useMap\"].reduce((e,n)=>(e[n.toLowerCase()]=n,e),{for:\"htmlFor\"}),o={amp:\"&\",apos:\"'\",gt:\">\",lt:\"<\",nbsp:\"\",quot:\"\"},c=[\"style\",\"script\"],a=/([-A-Z0-9_:]+)(?:\\s*=\\s*(?:(?:\"((?:\\\\.|[^\"])*)\")|(?:'((?:\\\\.|[^'])*)')|(?:\\{((?:\\\\.|{[^}]*?}|[^}])*)\\})))?/gi,s=/mailto:/i,d=/\\n{2,}$/,u=/^(\\s*>[\\s\\S]*?)(?=\\n{2,})/,p=/^ *> ?/gm,f=/^ {2,}\\n/,h=/^(?:( *[-*_])){3,} *(?:\\n *)+\\n/,m=/^\\s*(`{3,}|~{3,}) *(\\S+)?([^\\n]*?)?\\n([\\s\\S]+?)\\s*\\1 *(?:\\n *)*\\n?/,g=/^(?: {4}[^\\n]+\\n*)+(?:\\n *)+\\n?/,y=/^(`+)\\s*([\\s\\S]*?[^`])\\s*\\1(?!`)/,k=/^(?:\\n *)*\\n/,x=/\\r\\n?/g,v=/^\\[\\^([^\\]]+)](:(.*)((\\n+ {4,}.*)|(\\n(?!\\[\\^).+))*)/,b=/^\\[\\^([^\\]]+)]/,$=/\\f/g,E=/^---[ \\t]*\\n(.|\\n)*\\n---[ \\t]*\\n/,w=/^\\s*?\\[(x|\\s)\\]/,S=/^ *(#{1,6}) *([^\\n]+?)(?: +#*)?(?:\\n *)*(?:\\n|$)/,C=/^ *(#{1,6}) +([^\\n]+?)(?: +#*)?(?:\\n *)*(?:\\n|$)/,A=/^([^\\n]+)\\n *(=|-){3,} *(?:\\n *)+\\n/,O=/^ *(?!<[a-z][^ >/]* ?\\/>)<([a-z][^ >/]*) ?((?:[^>]*[^/])?)>\\n?(\\s*(?:<\\1[^>]*?>[\\s\\S]*?<\\/\\1>|(?!<\\1\\b)[\\s\\S])*?)<\\/\\1>(?!<\\/\\1>)\\n*/i,T=/&([a-z0-9]+|#[0-9]{1,6}|#x[0-9a-fA-F]{1,6});/gi,L=/^<!--[\\s\\S]*?(?:-->)/,R=/^(data|aria|x)-[a-z_][a-z\\d_.-]*$/,z=/^ *<([a-z][a-z0-9:]*)(?:\\s+((?:<.*?>|[^>])*))?\\/?>(?!<\\/\\1>)(\\s*\\n)?/i,M=/^\\{.*\\}$/,I=/^(https?:\\/\\/[^\\s<]+[^<.,:;\"')\\]\\s])/,U=/^<([^ >]+@[^ >]+)>/,j=/^<([^ >]+:\\/[^ >]+)>/,B=/-([a-z])?/gi,N=/^(.*\\|.*)\\n(?: *(\\|? *[-:]+ *\\|[-| :]*)\\n((?:.*\\|.*\\n)*))?\\n?/,H=/^\\[([^\\]]*)\\]:\\s+<?([^\\s>]+)>?\\s*(\"([^\"]*)\")?/,D=/^!\\[([^\\]]*)\\] ?\\[([^\\]]*)\\]/,P=/^\\[([^\\]]*)\\] ?\\[([^\\]]*)\\]/,_=/(\\[|\\])/g,F=/(\\n|^[-*]\\s|^#|^ {2,}|^-{2,}|^>\\s)/,W=/\\t/g,G=/(^ *\\||\\| *$)/g,Z=/^ *:-+: *$/,q=/^ *:-+ *$/,V=/^ *-+: *$/,X=\"((?:\\\\[.*?\\\\][([].*?[)\\\\]]|<.*?>(?:.*?<.*?>)?|`.*?`|~~.*?~~|==.*?==|.|\\\\n)*?)\",Q=new RegExp(`^([*_])\\\\1${X}\\\\1\\\\1(?!\\\\1)`),J=new RegExp(`^([*_])${X}\\\\1(?!\\\\1|\\\\w)`),K=new RegExp(`^==${X}==`),Y=new RegExp(`^~~${X}~~`),ee=/^\\\\([^0-9A-Za-z\\s])/,ne=/^[\\s\\S]+?(?=[^0-9A-Z\\s\\u00c0-\\uffff&#;.()'\"]|\\d+\\.|\\n\\n| {2,}\\n|\\w+:\\S|$)/i,te=/^\\n+/,re=/^([ \\t]*)/,ie=/\\\\([^\\\\])/g,le=/ *\\n+$/,oe=/(?:^|\\n)( *)$/,ce=\"(?:\\\\d+\\\\.)\",ae=\"(?:[*+-])\";function se(e){return\"( *)(\"+(1===e?ce:ae)+\") +\"}const de=se(1),ue=se(2);function pe(e){return new RegExp(\"^\"+(1===e?de:ue))}const fe=pe(1),he=pe(2);function me(e){return new RegExp(\"^\"+(1===e?de:ue)+\"[^\\\\n]*(?:\\\\n(?!\\\\1\"+(1===e?ce:ae)+\" )[^\\\\n]*)*(\\\\n|$)\",\"gm\")}const ge=me(1),ye=me(2);function ke(e){const n=1===e?ce:ae;return new RegExp(\"^( *)(\"+n+\") [\\\\s\\\\S]+?(?:\\\\n{2,}(?! )(?!\\\\1\"+n+\" (?!\"+n+\" ))\\\\n*|\\\\s*\\\\n*$)\")}const xe=ke(1),ve=ke(2);function be(e,n){const t=1===n,r=t?xe:ve,i=t?ge:ye,l=t?fe:he;return{match(e,n,t){const i=oe.exec(t);return i&&(n.list||!n.inline&&!n.simple)?r.exec(e=i[1]+e):null},order:1,parse(e,n,r){const o=t?+e[2]:void 0,c=e[0].replace(d,\"\\n\").match(i);let a=!1;return{items:c.map(function(e,t){const i=l.exec(e)[0].length,o=new RegExp(\"^ {1,\"+i+\"}\",\"gm\"),s=e.replace(o,\"\").replace(l,\"\"),d=t===c.length-1,u=-1!==s.indexOf(\"\\n\\n\")||d&&a;a=u;const p=r.inline,f=r.list;let h;r.list=!0,u?(r.inline=!1,h=s.replace(le,\"\\n\\n\")):(r.inline=!0,h=s.replace(le,\"\"));const m=n(h,r);return r.inline=p,r.list=f,m}),ordered:t,start:o}},render:(n,t,r)=>e(n.ordered?\"ol\":\"ul\",{key:r.key,start:\"20\"===n.type?n.start:void 0},n.items.map(function(n,i){return e(\"li\",{key:i},t(n,r))}))}}const $e=new RegExp(\"^\\\\[((?:\\\\[[^\\\\]]*\\\\]|[^\\\\[\\\\]]|\\\\](?=[^\\\\[]*\\\\]))*)\\\\]\\\\(\\\\s*<?((?:\\\\([^)]*\\\\)|[^\\\\s\\\\\\\\]|\\\\\\\\.)*?)>?(?:\\\\s+['\\\"]([\\\\s\\\\S]*?)['\\\"])?\\\\s*\\\\)\"),Ee=/^!\\[(.*?)\\]\\( *((?:\\([^)]*\\)|[^() ])*) *\"?([^)\"]*)?\"?\\)/,we=[u,m,g,S,A,C,L,N,ge,xe,ye,ve],Se=[...we,/^[^\\n]+(?:  \\n|\\n{2,})/,O,z];function Ce(e){return e.replace(/[]/g,\"a\").replace(/[]/g,\"c\").replace(/[]/g,\"d\").replace(/[]/g,\"e\").replace(/[]/g,\"i\").replace(/[]/g,\"n\").replace(/[]/g,\"o\").replace(/[]/g,\"u\").replace(/[]/g,\"y\").replace(/[^a-z0-9- ]/gi,\"\").replace(/ /gi,\"-\").toLowerCase()}function Ae(e){return V.test(e)?\"right\":Z.test(e)?\"center\":q.test(e)?\"left\":null}function Oe(e,n,t,r){const i=t.inTable;t.inTable=!0;let l=e.trim().split(/( *(?:`[^`]*`|<.*?>.*?<\\/.*?>(?!<\\/.*?>)|\\\\\\||\\|) *)/).reduce((e,i)=>(\"|\"===i.trim()?e.push(r?{type:\"26\"}:{type:\"27\",text:i}):\"\"!==i&&e.push.apply(e,n(i,t)),e),[]);t.inTable=i;let o=[[]];return l.forEach(function(e,n){\"26\"===e.type?0!==n&&n!==l.length-1&&o.push([]):(\"27\"!==e.type||null!=l[n+1]&&\"26\"!==l[n+1].type||(e.text=e.text.trimEnd()),o[o.length-1].push(e))}),o}function Te(e,n,t){t.inline=!0;const r=e[2]?e[2].replace(G,\"\").split(\"|\").map(Ae):[],i=e[3]?function(e,n,t){return e.trim().split(\"\\n\").map(function(e){return Oe(e,n,t,!0)})}(e[3],n,t):[],l=Oe(e[1],n,t,!!i.length);return t.inline=!1,i.length?{align:r,cells:i,header:l,type:\"25\"}:{children:l,type:\"21\"}}function Le(e,n){return null==e.align[n]?{}:{textAlign:e.align[n]}}function Re(e){return function(n,t){return t.inline?e.exec(n):null}}function ze(e){return function(n,t){return t.inline||t.simple?e.exec(n):null}}function Me(e){return function(n,t){return t.inline||t.simple?null:e.exec(n)}}function Ie(e){return function(n){return e.exec(n)}}function Ue(e,n,t){if(n.inline||n.simple)return null;if(t&&!t.endsWith(\"\\n\"))return null;let r=\"\";e.split(\"\\n\").every(e=>!we.some(n=>n.test(e))&&(r+=e+\"\\n\",e.trim()));const i=r.trimEnd();return\"\"==i?null:[r,i]}function je(e){try{if(decodeURIComponent(e).replace(/[^A-Za-z0-9/:]/g,\"\").match(/^\\s*(javascript|vbscript|data(?!:image)):/i))return}catch(e){return null}return e}function Be(e){return e.replace(ie,\"$1\")}function Ne(e,n,t){const r=t.inline||!1,i=t.simple||!1;t.inline=!0,t.simple=!0;const l=e(n,t);return t.inline=r,t.simple=i,l}function He(e,n,t){const r=t.inline||!1,i=t.simple||!1;t.inline=!1,t.simple=!0;const l=e(n,t);return t.inline=r,t.simple=i,l}function De(e,n,t){const r=t.inline||!1;t.inline=!1;const i=e(n,t);return t.inline=r,i}const Pe=(e,n,t)=>({children:Ne(n,e[1],t)});function _e(){return{}}function Fe(){return null}function We(...e){return e.filter(Boolean).join(\" \")}function Ge(e,n,t){let r=e;const i=n.split(\".\");for(;i.length&&(r=r[i[0]],void 0!==r);)i.shift();return r||t}function Ze(t=\"\",r={}){r.overrides=r.overrides||{},r.slugify=r.slugify||Ce,r.namedCodesToUnicode=r.namedCodesToUnicode?n({},o,r.namedCodesToUnicode):o;const i=r.createElement||e.createElement;function d(e,t,...l){const o=Ge(r.overrides,`${e}.props`,{});return i(function(e,n){const t=Ge(n,e);return t?\"function\"==typeof t||\"object\"==typeof t&&\"render\"in t?t:Ge(n,`${e}.component`,e):e}(e,r.overrides),n({},t,o,{className:We(null==t?void 0:t.className,o.className)||void 0}),...l)}function G(n){n=n.replace(E,\"\");let t=!1;r.forceInline?t=!0:r.forceBlock||(t=!1===F.test(n));const i=le(ie(t?n:`${n.trimEnd().replace(te,\"\")}\\n\\n`,{inline:t}));for(;\"string\"==typeof i[i.length-1]&&!i[i.length-1].trim();)i.pop();if(null===r.wrapper)return i;const l=r.wrapper||(t?\"span\":\"div\");let o;if(i.length>1||r.forceWrapper)o=i;else{if(1===i.length)return o=i[0],\"string\"==typeof o?d(\"span\",{key:\"outer\"},o):o;o=null}return e.createElement(l,{key:\"outer\"},o)}function Z(n){const t=n.match(a);return t?t.reduce(function(n,t,r){const i=t.indexOf(\"=\");if(-1!==i){const o=function(e){return-1!==e.indexOf(\"-\")&&null===e.match(R)&&(e=e.replace(B,function(e,n){return n.toUpperCase()})),e}(t.slice(0,i)).trim(),c=function(e){const n=e[0];return('\"'===n||\"'\"===n)&&e.length>=2&&e[e.length-1]===n?e.slice(1,-1):e}(t.slice(i+1).trim()),a=l[o]||o,s=n[a]=function(e,n){return\"style\"===e?n.split(/;\\s?/).reduce(function(e,n){const t=n.slice(0,n.indexOf(\":\"));return e[t.trim().replace(/(-[a-z])/g,e=>e[1].toUpperCase())]=n.slice(t.length+1).trim(),e},{}):\"href\"===e||\"src\"===e?je(n):(n.match(M)&&(n=n.slice(1,n.length-1)),\"true\"===n||\"false\"!==n&&n)}(o,c);\"string\"==typeof s&&(O.test(s)||z.test(s))&&(n[a]=e.cloneElement(G(s.trim()),{key:r}))}else\"style\"!==t&&(n[l[t]||t]=!0);return n},{}):null}const q=[],V={},X={0:{match:Me(u),order:1,parse:(e,n,t)=>({children:n(e[0].replace(p,\"\"),t)}),render:(e,n,t)=>d(\"blockquote\",{key:t.key},n(e.children,t))},1:{match:Ie(f),order:1,parse:_e,render:(e,n,t)=>d(\"br\",{key:t.key})},2:{match:Me(h),order:1,parse:_e,render:(e,n,t)=>d(\"hr\",{key:t.key})},3:{match:Me(g),order:0,parse:e=>({lang:void 0,text:e[0].replace(/^ {4}/gm,\"\").replace(/\\n+$/,\"\")}),render:(e,t,r)=>d(\"pre\",{key:r.key},d(\"code\",n({},e.attrs,{className:e.lang?`lang-${e.lang}`:\"\"}),e.text))},4:{match:Me(m),order:0,parse:e=>({attrs:Z(e[3]||\"\"),lang:e[2]||void 0,text:e[4],type:\"3\"})},5:{match:ze(y),order:3,parse:e=>({text:e[2]}),render:(e,n,t)=>d(\"code\",{key:t.key},e.text)},6:{match:Me(v),order:0,parse:e=>(q.push({footnote:e[2],identifier:e[1]}),{}),render:Fe},7:{match:Re(b),order:1,parse:e=>({target:`#${r.slugify(e[1])}`,text:e[1]}),render:(e,n,t)=>d(\"a\",{key:t.key,href:je(e.target)},d(\"sup\",{key:t.key},e.text))},8:{match:Re(w),order:1,parse:e=>({completed:\"x\"===e[1].toLowerCase()}),render:(e,n,t)=>d(\"input\",{checked:e.completed,key:t.key,readOnly:!0,type:\"checkbox\"})},9:{match:Me(r.enforceAtxHeadings?C:S),order:1,parse:(e,n,t)=>({children:Ne(n,e[2],t),id:r.slugify(e[2]),level:e[1].length}),render:(e,n,t)=>d(`h${e.level}`,{id:e.id,key:t.key},n(e.children,t))},10:{match:Me(A),order:0,parse:(e,n,t)=>({children:Ne(n,e[1],t),level:\"=\"===e[2]?1:2,type:\"9\"})},11:{match:Ie(O),order:1,parse(e,n,t){const[,r]=e[3].match(re),i=new RegExp(`^${r}`,\"gm\"),l=e[3].replace(i,\"\"),o=(a=l,Se.some(e=>e.test(a))?De:Ne);var a;const s=e[1].toLowerCase(),d=-1!==c.indexOf(s),u={attrs:Z(e[2]),noInnerParse:d,tag:(d?s:e[1]).trim()};return t.inAnchor=t.inAnchor||\"a\"===s,d?u.text=e[3]:u.children=o(n,l,t),t.inAnchor=!1,u},render:(e,t,r)=>d(e.tag,n({key:r.key},e.attrs),e.text||t(e.children,r))},13:{match:Ie(z),order:1,parse:e=>({attrs:Z(e[2]||\"\"),tag:e[1].trim()}),render:(e,t,r)=>d(e.tag,n({},e.attrs,{key:r.key}))},12:{match:Ie(L),order:1,parse:()=>({}),render:Fe},14:{match:ze(Ee),order:1,parse:e=>({alt:e[1],target:Be(e[2]),title:e[3]}),render:(e,n,t)=>d(\"img\",{key:t.key,alt:e.alt||void 0,title:e.title||void 0,src:je(e.target)})},15:{match:Re($e),order:3,parse:(e,n,t)=>({children:He(n,e[1],t),target:Be(e[2]),title:e[3]}),render:(e,n,t)=>d(\"a\",{key:t.key,href:je(e.target),title:e.title},n(e.children,t))},16:{match:Re(j),order:0,parse:e=>({children:[{text:e[1],type:\"27\"}],target:e[1],type:\"15\"})},17:{match:(e,n)=>n.inAnchor?null:Re(I)(e,n),order:0,parse:e=>({children:[{text:e[1],type:\"27\"}],target:e[1],title:void 0,type:\"15\"})},18:{match:Re(U),order:0,parse(e){let n=e[1],t=e[1];return s.test(t)||(t=\"mailto:\"+t),{children:[{text:n.replace(\"mailto:\",\"\"),type:\"27\"}],target:t,type:\"15\"}}},20:be(d,1),33:be(d,2),19:{match:Me(k),order:3,parse:_e,render:()=>\"\\n\"},21:{match:Ue,order:3,parse:Pe,render:(e,n,t)=>d(\"p\",{key:t.key},n(e.children,t))},22:{match:Re(H),order:0,parse:e=>(V[e[1]]={target:e[2],title:e[4]},{}),render:Fe},23:{match:ze(D),order:0,parse:e=>({alt:e[1]||void 0,ref:e[2]}),render:(e,n,t)=>V[e.ref]?d(\"img\",{key:t.key,alt:e.alt,src:je(V[e.ref].target),title:V[e.ref].title}):null},24:{match:Re(P),order:0,parse:(e,n,t)=>({children:n(e[1],t),fallbackChildren:n(e[0].replace(_,\"\\\\$1\"),t),ref:e[2]}),render:(e,n,t)=>V[e.ref]?d(\"a\",{key:t.key,href:je(V[e.ref].target),title:V[e.ref].title},n(e.children,t)):d(\"span\",{key:t.key},n(e.fallbackChildren,t))},25:{match:Me(N),order:1,parse:Te,render(e,n,t){const r=e;return d(\"table\",{key:t.key},d(\"thead\",null,d(\"tr\",null,r.header.map(function(e,i){return d(\"th\",{key:i,style:Le(r,i)},n(e,t))}))),d(\"tbody\",null,r.cells.map(function(e,i){return d(\"tr\",{key:i},e.map(function(e,i){return d(\"td\",{key:i,style:Le(r,i)},n(e,t))}))})))}},27:{match:Ie(ne),order:4,parse:e=>({text:e[0].replace(T,(e,n)=>r.namedCodesToUnicode[n]?r.namedCodesToUnicode[n]:e)}),render:e=>e.text},28:{match:ze(Q),order:2,parse:(e,n,t)=>({children:n(e[2],t)}),render:(e,n,t)=>d(\"strong\",{key:t.key},n(e.children,t))},29:{match:ze(J),order:3,parse:(e,n,t)=>({children:n(e[2],t)}),render:(e,n,t)=>d(\"em\",{key:t.key},n(e.children,t))},30:{match:ze(ee),order:1,parse:e=>({text:e[1],type:\"27\"})},31:{match:ze(K),order:3,parse:Pe,render:(e,n,t)=>d(\"mark\",{key:t.key},n(e.children,t))},32:{match:ze(Y),order:3,parse:Pe,render:(e,n,t)=>d(\"del\",{key:t.key},n(e.children,t))}};!0===r.disableParsingRawHTML&&(delete X[11],delete X[13]);const ie=function(e){let n=Object.keys(e);function t(r,i){let l=[],o=\"\";for(;r;){let c=0;for(;c<n.length;){const a=n[c],s=e[a],d=s.match(r,i,o);if(d){const e=d[0];r=r.substring(e.length);const n=s.parse(d,t,i);null==n.type&&(n.type=a),l.push(n),o=e;break}c++}}return l}return n.sort(function(n,t){let r=e[n].order,i=e[t].order;return r!==i?r-i:n<t?-1:1}),function(e,n){return t(function(e){return e.replace(x,\"\\n\").replace($,\"\").replace(W,\"    \")}(e),n)}}(X),le=(oe=function(e,n){return function(t,r,i){const l=e[t.type].render;return n?n(()=>l(t,r,i),t,r,i):l(t,r,i)}}(X,r.renderRule),function e(n,t={}){if(Array.isArray(n)){const r=t.key,i=[];let l=!1;for(let r=0;r<n.length;r++){t.key=r;const o=e(n[r],t),c=\"string\"==typeof o;c&&l?i[i.length-1]+=o:null!==o&&i.push(o),l=c}return t.key=r,i}return oe(n,e,t)});var oe;const ce=G(t);return q.length?d(\"div\",null,ce,d(\"footer\",{key:\"footer\"},q.map(function(e){return d(\"div\",{id:r.slugify(e.identifier),key:e.identifier},e.identifier,le(ie(e.footnote,{inline:!0})))}))):ce}export default n=>{let{children:r=\"\",options:i}=n,l=function(e,n){if(null==e)return{};var t,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n.indexOf(t=l[r])>=0||(i[t]=e[t]);return i}(n,t);return e.cloneElement(Ze(r,i),l)};export{r as RuleType,Ze as compiler,Ce as slugify};\n//# sourceMappingURL=index.modern.js.map\n","import { urlAlphabet as scopedUrlAlphabet } from './url-alphabet/index.js'\nexport { urlAlphabet } from './url-alphabet/index.js'\nexport let random = bytes => crypto.getRandomValues(new Uint8Array(bytes))\nexport let customRandom = (alphabet, defaultSize, getRandom) => {\n  let mask = (2 << Math.log2(alphabet.length - 1)) - 1\n  let step = -~((1.6 * mask * defaultSize) / alphabet.length)\n  return (size = defaultSize) => {\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      let j = step | 0\n      while (j--) {\n        id += alphabet[bytes[j] & mask] || ''\n        if (id.length >= size) return id\n      }\n    }\n  }\n}\nexport let customAlphabet = (alphabet, size = 21) =>\n  customRandom(alphabet, size | 0, random)\nexport let nanoid = (size = 21) => {\n  let id = ''\n  let bytes = crypto.getRandomValues(new Uint8Array((size |= 0)))\n  while (size--) {\n    id += scopedUrlAlphabet[bytes[size] & 63]\n  }\n  return id\n}\n","export const urlAlphabet =\n  'useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict'\n","/*\nHow it works:\n`this.#head` is an instance of `Node` which keeps track of its current value and nests another instance of `Node` that keeps the value that comes after it. When a value is provided to `.enqueue()`, the code needs to iterate through `this.#head`, going deeper and deeper to find the last value. However, iterating through every single item is slow. This problem is solved by saving a reference to the last value as `this.#tail` so that it can reference it to add a new value.\n*/\n\nclass Node {\n\tvalue;\n\tnext;\n\n\tconstructor(value) {\n\t\tthis.value = value;\n\t}\n}\n\nexport default class Queue {\n\t#head;\n\t#tail;\n\t#size;\n\n\tconstructor() {\n\t\tthis.clear();\n\t}\n\n\tenqueue(value) {\n\t\tconst node = new Node(value);\n\n\t\tif (this.#head) {\n\t\t\tthis.#tail.next = node;\n\t\t\tthis.#tail = node;\n\t\t} else {\n\t\t\tthis.#head = node;\n\t\t\tthis.#tail = node;\n\t\t}\n\n\t\tthis.#size++;\n\t}\n\n\tdequeue() {\n\t\tconst current = this.#head;\n\t\tif (!current) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.#head = this.#head.next;\n\t\tthis.#size--;\n\t\treturn current.value;\n\t}\n\n\tpeek() {\n\t\tif (!this.#head) {\n\t\t\treturn;\n\t\t}\n\n\t\treturn this.#head.value;\n\n\t\t// TODO: Node.js 18.\n\t\t// return this.#head?.value;\n\t}\n\n\tclear() {\n\t\tthis.#head = undefined;\n\t\tthis.#tail = undefined;\n\t\tthis.#size = 0;\n\t}\n\n\tget size() {\n\t\treturn this.#size;\n\t}\n\n\t* [Symbol.iterator]() {\n\t\tlet current = this.#head;\n\n\t\twhile (current) {\n\t\t\tyield current.value;\n\t\t\tcurrent = current.next;\n\t\t}\n\t}\n}\n","import Queue from 'yocto-queue';\n\nexport default function pLimit(concurrency) {\n\tvalidateConcurrency(concurrency);\n\n\tconst queue = new Queue();\n\tlet activeCount = 0;\n\n\tconst resumeNext = () => {\n\t\tif (activeCount < concurrency && queue.size > 0) {\n\t\t\tqueue.dequeue()();\n\t\t\t// Since `pendingCount` has been decreased by one, increase `activeCount` by one.\n\t\t\tactiveCount++;\n\t\t}\n\t};\n\n\tconst next = () => {\n\t\tactiveCount--;\n\n\t\tresumeNext();\n\t};\n\n\tconst run = async (function_, resolve, arguments_) => {\n\t\tconst result = (async () => function_(...arguments_))();\n\n\t\tresolve(result);\n\n\t\ttry {\n\t\t\tawait result;\n\t\t} catch {}\n\n\t\tnext();\n\t};\n\n\tconst enqueue = (function_, resolve, arguments_) => {\n\t\t// Queue `internalResolve` instead of the `run` function\n\t\t// to preserve asynchronous context.\n\t\tnew Promise(internalResolve => {\n\t\t\tqueue.enqueue(internalResolve);\n\t\t}).then(\n\t\t\trun.bind(undefined, function_, resolve, arguments_),\n\t\t);\n\n\t\t(async () => {\n\t\t\t// This function needs to wait until the next microtask before comparing\n\t\t\t// `activeCount` to `concurrency`, because `activeCount` is updated asynchronously\n\t\t\t// after the `internalResolve` function is dequeued and called. The comparison in the if-statement\n\t\t\t// needs to happen asynchronously as well to get an up-to-date value for `activeCount`.\n\t\t\tawait Promise.resolve();\n\n\t\t\tif (activeCount < concurrency) {\n\t\t\t\tresumeNext();\n\t\t\t}\n\t\t})();\n\t};\n\n\tconst generator = (function_, ...arguments_) => new Promise(resolve => {\n\t\tenqueue(function_, resolve, arguments_);\n\t});\n\n\tObject.defineProperties(generator, {\n\t\tactiveCount: {\n\t\t\tget: () => activeCount,\n\t\t},\n\t\tpendingCount: {\n\t\t\tget: () => queue.size,\n\t\t},\n\t\tclearQueue: {\n\t\t\tvalue() {\n\t\t\t\tqueue.clear();\n\t\t\t},\n\t\t},\n\t\tconcurrency: {\n\t\t\tget: () => concurrency,\n\n\t\t\tset(newConcurrency) {\n\t\t\t\tvalidateConcurrency(newConcurrency);\n\t\t\t\tconcurrency = newConcurrency;\n\n\t\t\t\tqueueMicrotask(() => {\n\t\t\t\t\t// eslint-disable-next-line no-unmodified-loop-condition\n\t\t\t\t\twhile (activeCount < concurrency && queue.size > 0) {\n\t\t\t\t\t\tresumeNext();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t},\n\t});\n\n\treturn generator;\n}\n\nfunction validateConcurrency(concurrency) {\n\tif (!((Number.isInteger(concurrency) || concurrency === Number.POSITIVE_INFINITY) && concurrency > 0)) {\n\t\tthrow new TypeError('Expected `concurrency` to be a number from 1 and up');\n\t}\n}\n","import React from 'react';\n\nvar isCheckBoxInput = (element) => element.type === 'checkbox';\n\nvar isDateObject = (value) => value instanceof Date;\n\nvar isNullOrUndefined = (value) => value == null;\n\nconst isObjectType = (value) => typeof value === 'object';\nvar isObject = (value) => !isNullOrUndefined(value) &&\n    !Array.isArray(value) &&\n    isObjectType(value) &&\n    !isDateObject(value);\n\nvar getEventValue = (event) => isObject(event) && event.target\n    ? isCheckBoxInput(event.target)\n        ? event.target.checked\n        : event.target.value\n    : event;\n\nvar getNodeParentName = (name) => name.substring(0, name.search(/\\.\\d+(\\.|$)/)) || name;\n\nvar isNameInFieldArray = (names, name) => names.has(getNodeParentName(name));\n\nvar isPlainObject = (tempObject) => {\n    const prototypeCopy = tempObject.constructor && tempObject.constructor.prototype;\n    return (isObject(prototypeCopy) && prototypeCopy.hasOwnProperty('isPrototypeOf'));\n};\n\nvar isWeb = typeof window !== 'undefined' &&\n    typeof window.HTMLElement !== 'undefined' &&\n    typeof document !== 'undefined';\n\nfunction cloneObject(data) {\n    let copy;\n    const isArray = Array.isArray(data);\n    const isFileListInstance = typeof FileList !== 'undefined' ? data instanceof FileList : false;\n    if (data instanceof Date) {\n        copy = new Date(data);\n    }\n    else if (data instanceof Set) {\n        copy = new Set(data);\n    }\n    else if (!(isWeb && (data instanceof Blob || isFileListInstance)) &&\n        (isArray || isObject(data))) {\n        copy = isArray ? [] : {};\n        if (!isArray && !isPlainObject(data)) {\n            copy = data;\n        }\n        else {\n            for (const key in data) {\n                if (data.hasOwnProperty(key)) {\n                    copy[key] = cloneObject(data[key]);\n                }\n            }\n        }\n    }\n    else {\n        return data;\n    }\n    return copy;\n}\n\nvar compact = (value) => Array.isArray(value) ? value.filter(Boolean) : [];\n\nvar isUndefined = (val) => val === undefined;\n\nvar get = (object, path, defaultValue) => {\n    if (!path || !isObject(object)) {\n        return defaultValue;\n    }\n    const result = compact(path.split(/[,[\\].]+?/)).reduce((result, key) => isNullOrUndefined(result) ? result : result[key], object);\n    return isUndefined(result) || result === object\n        ? isUndefined(object[path])\n            ? defaultValue\n            : object[path]\n        : result;\n};\n\nvar isBoolean = (value) => typeof value === 'boolean';\n\nvar isKey = (value) => /^\\w*$/.test(value);\n\nvar stringToPath = (input) => compact(input.replace(/[\"|']|\\]/g, '').split(/\\.|\\[/));\n\nvar set = (object, path, value) => {\n    let index = -1;\n    const tempPath = isKey(path) ? [path] : stringToPath(path);\n    const length = tempPath.length;\n    const lastIndex = length - 1;\n    while (++index < length) {\n        const key = tempPath[index];\n        let newValue = value;\n        if (index !== lastIndex) {\n            const objValue = object[key];\n            newValue =\n                isObject(objValue) || Array.isArray(objValue)\n                    ? objValue\n                    : !isNaN(+tempPath[index + 1])\n                        ? []\n                        : {};\n        }\n        if (key === '__proto__' || key === 'constructor' || key === 'prototype') {\n            return;\n        }\n        object[key] = newValue;\n        object = object[key];\n    }\n    return object;\n};\n\nconst EVENTS = {\n    BLUR: 'blur',\n    FOCUS_OUT: 'focusout',\n    CHANGE: 'change',\n};\nconst VALIDATION_MODE = {\n    onBlur: 'onBlur',\n    onChange: 'onChange',\n    onSubmit: 'onSubmit',\n    onTouched: 'onTouched',\n    all: 'all',\n};\nconst INPUT_VALIDATION_RULES = {\n    max: 'max',\n    min: 'min',\n    maxLength: 'maxLength',\n    minLength: 'minLength',\n    pattern: 'pattern',\n    required: 'required',\n    validate: 'validate',\n};\n\nconst HookFormContext = React.createContext(null);\n/**\n * This custom hook allows you to access the form context. useFormContext is intended to be used in deeply nested structures, where it would become inconvenient to pass the context as a prop. To be used with {@link FormProvider}.\n *\n * @remarks\n * [API](https://react-hook-form.com/docs/useformcontext)  [Demo](https://codesandbox.io/s/react-hook-form-v7-form-context-ytudi)\n *\n * @returns return all useForm methods\n *\n * @example\n * ```tsx\n * function App() {\n *   const methods = useForm();\n *   const onSubmit = data => console.log(data);\n *\n *   return (\n *     <FormProvider {...methods} >\n *       <form onSubmit={methods.handleSubmit(onSubmit)}>\n *         <NestedInput />\n *         <input type=\"submit\" />\n *       </form>\n *     </FormProvider>\n *   );\n * }\n *\n *  function NestedInput() {\n *   const { register } = useFormContext(); // retrieve all hook methods\n *   return <input {...register(\"test\")} />;\n * }\n * ```\n */\nconst useFormContext = () => React.useContext(HookFormContext);\n/**\n * A provider component that propagates the `useForm` methods to all children components via [React Context](https://reactjs.org/docs/context.html) API. To be used with {@link useFormContext}.\n *\n * @remarks\n * [API](https://react-hook-form.com/docs/useformcontext)  [Demo](https://codesandbox.io/s/react-hook-form-v7-form-context-ytudi)\n *\n * @param props - all useForm methods\n *\n * @example\n * ```tsx\n * function App() {\n *   const methods = useForm();\n *   const onSubmit = data => console.log(data);\n *\n *   return (\n *     <FormProvider {...methods} >\n *       <form onSubmit={methods.handleSubmit(onSubmit)}>\n *         <NestedInput />\n *         <input type=\"submit\" />\n *       </form>\n *     </FormProvider>\n *   );\n * }\n *\n *  function NestedInput() {\n *   const { register } = useFormContext(); // retrieve all hook methods\n *   return <input {...register(\"test\")} />;\n * }\n * ```\n */\nconst FormProvider = (props) => {\n    const { children, ...data } = props;\n    return (React.createElement(HookFormContext.Provider, { value: data }, children));\n};\n\nvar getProxyFormState = (formState, control, localProxyFormState, isRoot = true) => {\n    const result = {\n        defaultValues: control._defaultValues,\n    };\n    for (const key in formState) {\n        Object.defineProperty(result, key, {\n            get: () => {\n                const _key = key;\n                if (control._proxyFormState[_key] !== VALIDATION_MODE.all) {\n                    control._proxyFormState[_key] = !isRoot || VALIDATION_MODE.all;\n                }\n                localProxyFormState && (localProxyFormState[_key] = true);\n                return formState[_key];\n            },\n        });\n    }\n    return result;\n};\n\nvar isEmptyObject = (value) => isObject(value) && !Object.keys(value).length;\n\nvar shouldRenderFormState = (formStateData, _proxyFormState, updateFormState, isRoot) => {\n    updateFormState(formStateData);\n    const { name, ...formState } = formStateData;\n    return (isEmptyObject(formState) ||\n        Object.keys(formState).length >= Object.keys(_proxyFormState).length ||\n        Object.keys(formState).find((key) => _proxyFormState[key] ===\n            (!isRoot || VALIDATION_MODE.all)));\n};\n\nvar convertToArrayPayload = (value) => (Array.isArray(value) ? value : [value]);\n\nvar shouldSubscribeByName = (name, signalName, exact) => !name ||\n    !signalName ||\n    name === signalName ||\n    convertToArrayPayload(name).some((currentName) => currentName &&\n        (exact\n            ? currentName === signalName\n            : currentName.startsWith(signalName) ||\n                signalName.startsWith(currentName)));\n\nfunction useSubscribe(props) {\n    const _props = React.useRef(props);\n    _props.current = props;\n    React.useEffect(() => {\n        const subscription = !props.disabled &&\n            _props.current.subject &&\n            _props.current.subject.subscribe({\n                next: _props.current.next,\n            });\n        return () => {\n            subscription && subscription.unsubscribe();\n        };\n    }, [props.disabled]);\n}\n\n/**\n * This custom hook allows you to subscribe to each form state, and isolate the re-render at the custom hook level. It has its scope in terms of form state subscription, so it would not affect other useFormState and useForm. Using this hook can reduce the re-render impact on large and complex form application.\n *\n * @remarks\n * [API](https://react-hook-form.com/docs/useformstate)  [Demo](https://codesandbox.io/s/useformstate-75xly)\n *\n * @param props - include options on specify fields to subscribe. {@link UseFormStateReturn}\n *\n * @example\n * ```tsx\n * function App() {\n *   const { register, handleSubmit, control } = useForm({\n *     defaultValues: {\n *     firstName: \"firstName\"\n *   }});\n *   const { dirtyFields } = useFormState({\n *     control\n *   });\n *   const onSubmit = (data) => console.log(data);\n *\n *   return (\n *     <form onSubmit={handleSubmit(onSubmit)}>\n *       <input {...register(\"firstName\")} placeholder=\"First Name\" />\n *       {dirtyFields.firstName && <p>Field is dirty.</p>}\n *       <input type=\"submit\" />\n *     </form>\n *   );\n * }\n * ```\n */\nfunction useFormState(props) {\n    const methods = useFormContext();\n    const { control = methods.control, disabled, name, exact } = props || {};\n    const [formState, updateFormState] = React.useState(control._formState);\n    const _mounted = React.useRef(true);\n    const _localProxyFormState = React.useRef({\n        isDirty: false,\n        isLoading: false,\n        dirtyFields: false,\n        touchedFields: false,\n        validatingFields: false,\n        isValidating: false,\n        isValid: false,\n        errors: false,\n    });\n    const _name = React.useRef(name);\n    _name.current = name;\n    useSubscribe({\n        disabled,\n        next: (value) => _mounted.current &&\n            shouldSubscribeByName(_name.current, value.name, exact) &&\n            shouldRenderFormState(value, _localProxyFormState.current, control._updateFormState) &&\n            updateFormState({\n                ...control._formState,\n                ...value,\n            }),\n        subject: control._subjects.state,\n    });\n    React.useEffect(() => {\n        _mounted.current = true;\n        _localProxyFormState.current.isValid && control._updateValid(true);\n        return () => {\n            _mounted.current = false;\n        };\n    }, [control]);\n    return React.useMemo(() => getProxyFormState(formState, control, _localProxyFormState.current, false), [formState, control]);\n}\n\nvar isString = (value) => typeof value === 'string';\n\nvar generateWatchOutput = (names, _names, formValues, isGlobal, defaultValue) => {\n    if (isString(names)) {\n        isGlobal && _names.watch.add(names);\n        return get(formValues, names, defaultValue);\n    }\n    if (Array.isArray(names)) {\n        return names.map((fieldName) => (isGlobal && _names.watch.add(fieldName), get(formValues, fieldName)));\n    }\n    isGlobal && (_names.watchAll = true);\n    return formValues;\n};\n\n/**\n * Custom hook to subscribe to field change and isolate re-rendering at the component level.\n *\n * @remarks\n *\n * [API](https://react-hook-form.com/docs/usewatch)  [Demo](https://codesandbox.io/s/react-hook-form-v7-ts-usewatch-h9i5e)\n *\n * @example\n * ```tsx\n * const { control } = useForm();\n * const values = useWatch({\n *   name: \"fieldName\"\n *   control,\n * })\n * ```\n */\nfunction useWatch(props) {\n    const methods = useFormContext();\n    const { control = methods.control, name, defaultValue, disabled, exact, } = props || {};\n    const _name = React.useRef(name);\n    _name.current = name;\n    useSubscribe({\n        disabled,\n        subject: control._subjects.values,\n        next: (formState) => {\n            if (shouldSubscribeByName(_name.current, formState.name, exact)) {\n                updateValue(cloneObject(generateWatchOutput(_name.current, control._names, formState.values || control._formValues, false, defaultValue)));\n            }\n        },\n    });\n    const [value, updateValue] = React.useState(control._getWatch(name, defaultValue));\n    React.useEffect(() => control._removeUnmounted());\n    return value;\n}\n\n/**\n * Custom hook to work with controlled component, this function provide you with both form and field level state. Re-render is isolated at the hook level.\n *\n * @remarks\n * [API](https://react-hook-form.com/docs/usecontroller)  [Demo](https://codesandbox.io/s/usecontroller-0o8px)\n *\n * @param props - the path name to the form field value, and validation rules.\n *\n * @returns field properties, field and form state. {@link UseControllerReturn}\n *\n * @example\n * ```tsx\n * function Input(props) {\n *   const { field, fieldState, formState } = useController(props);\n *   return (\n *     <div>\n *       <input {...field} placeholder={props.name} />\n *       <p>{fieldState.isTouched && \"Touched\"}</p>\n *       <p>{formState.isSubmitted ? \"submitted\" : \"\"}</p>\n *     </div>\n *   );\n * }\n * ```\n */\nfunction useController(props) {\n    const methods = useFormContext();\n    const { name, disabled, control = methods.control, shouldUnregister } = props;\n    const isArrayField = isNameInFieldArray(control._names.array, name);\n    const value = useWatch({\n        control,\n        name,\n        defaultValue: get(control._formValues, name, get(control._defaultValues, name, props.defaultValue)),\n        exact: true,\n    });\n    const formState = useFormState({\n        control,\n        name,\n        exact: true,\n    });\n    const _registerProps = React.useRef(control.register(name, {\n        ...props.rules,\n        value,\n        ...(isBoolean(props.disabled) ? { disabled: props.disabled } : {}),\n    }));\n    const fieldState = React.useMemo(() => Object.defineProperties({}, {\n        invalid: {\n            enumerable: true,\n            get: () => !!get(formState.errors, name),\n        },\n        isDirty: {\n            enumerable: true,\n            get: () => !!get(formState.dirtyFields, name),\n        },\n        isTouched: {\n            enumerable: true,\n            get: () => !!get(formState.touchedFields, name),\n        },\n        isValidating: {\n            enumerable: true,\n            get: () => !!get(formState.validatingFields, name),\n        },\n        error: {\n            enumerable: true,\n            get: () => get(formState.errors, name),\n        },\n    }), [formState, name]);\n    const field = React.useMemo(() => ({\n        name,\n        value,\n        ...(isBoolean(disabled) || formState.disabled\n            ? { disabled: formState.disabled || disabled }\n            : {}),\n        onChange: (event) => _registerProps.current.onChange({\n            target: {\n                value: getEventValue(event),\n                name: name,\n            },\n            type: EVENTS.CHANGE,\n        }),\n        onBlur: () => _registerProps.current.onBlur({\n            target: {\n                value: get(control._formValues, name),\n                name: name,\n            },\n            type: EVENTS.BLUR,\n        }),\n        ref: (elm) => {\n            const field = get(control._fields, name);\n            if (field && elm) {\n                field._f.ref = {\n                    focus: () => elm.focus(),\n                    select: () => elm.select(),\n                    setCustomValidity: (message) => elm.setCustomValidity(message),\n                    reportValidity: () => elm.reportValidity(),\n                };\n            }\n        },\n    }), [\n        name,\n        control._formValues,\n        disabled,\n        formState.disabled,\n        value,\n        control._fields,\n    ]);\n    React.useEffect(() => {\n        const _shouldUnregisterField = control._options.shouldUnregister || shouldUnregister;\n        const updateMounted = (name, value) => {\n            const field = get(control._fields, name);\n            if (field && field._f) {\n                field._f.mount = value;\n            }\n        };\n        updateMounted(name, true);\n        if (_shouldUnregisterField) {\n            const value = cloneObject(get(control._options.defaultValues, name));\n            set(control._defaultValues, name, value);\n            if (isUndefined(get(control._formValues, name))) {\n                set(control._formValues, name, value);\n            }\n        }\n        !isArrayField && control.register(name);\n        return () => {\n            (isArrayField\n                ? _shouldUnregisterField && !control._state.action\n                : _shouldUnregisterField)\n                ? control.unregister(name)\n                : updateMounted(name, false);\n        };\n    }, [name, control, isArrayField, shouldUnregister]);\n    React.useEffect(() => {\n        control._updateDisabledField({\n            disabled,\n            fields: control._fields,\n            name,\n        });\n    }, [disabled, name, control]);\n    return React.useMemo(() => ({\n        field,\n        formState,\n        fieldState,\n    }), [field, formState, fieldState]);\n}\n\n/**\n * Component based on `useController` hook to work with controlled component.\n *\n * @remarks\n * [API](https://react-hook-form.com/docs/usecontroller/controller)  [Demo](https://codesandbox.io/s/react-hook-form-v6-controller-ts-jwyzw)  [Video](https://www.youtube.com/watch?v=N2UNk_UCVyA)\n *\n * @param props - the path name to the form field value, and validation rules.\n *\n * @returns provide field handler functions, field and form state.\n *\n * @example\n * ```tsx\n * function App() {\n *   const { control } = useForm<FormValues>({\n *     defaultValues: {\n *       test: \"\"\n *     }\n *   });\n *\n *   return (\n *     <form>\n *       <Controller\n *         control={control}\n *         name=\"test\"\n *         render={({ field: { onChange, onBlur, value, ref }, formState, fieldState }) => (\n *           <>\n *             <input\n *               onChange={onChange} // send value to hook form\n *               onBlur={onBlur} // notify when input is touched\n *               value={value} // return updated value\n *               ref={ref} // set ref for focus management\n *             />\n *             <p>{formState.isSubmitted ? \"submitted\" : \"\"}</p>\n *             <p>{fieldState.isTouched ? \"touched\" : \"\"}</p>\n *           </>\n *         )}\n *       />\n *     </form>\n *   );\n * }\n * ```\n */\nconst Controller = (props) => props.render(useController(props));\n\nconst flatten = (obj) => {\n    const output = {};\n    for (const key of Object.keys(obj)) {\n        if (isObjectType(obj[key]) && obj[key] !== null) {\n            const nested = flatten(obj[key]);\n            for (const nestedKey of Object.keys(nested)) {\n                output[`${key}.${nestedKey}`] = nested[nestedKey];\n            }\n        }\n        else {\n            output[key] = obj[key];\n        }\n    }\n    return output;\n};\n\nconst POST_REQUEST = 'post';\n/**\n * Form component to manage submission.\n *\n * @param props - to setup submission detail. {@link FormProps}\n *\n * @returns form component or headless render prop.\n *\n * @example\n * ```tsx\n * function App() {\n *   const { control, formState: { errors } } = useForm();\n *\n *   return (\n *     <Form action=\"/api\" control={control}>\n *       <input {...register(\"name\")} />\n *       <p>{errors?.root?.server && 'Server error'}</p>\n *       <button>Submit</button>\n *     </Form>\n *   );\n * }\n * ```\n */\nfunction Form(props) {\n    const methods = useFormContext();\n    const [mounted, setMounted] = React.useState(false);\n    const { control = methods.control, onSubmit, children, action, method = POST_REQUEST, headers, encType, onError, render, onSuccess, validateStatus, ...rest } = props;\n    const submit = async (event) => {\n        let hasError = false;\n        let type = '';\n        await control.handleSubmit(async (data) => {\n            const formData = new FormData();\n            let formDataJson = '';\n            try {\n                formDataJson = JSON.stringify(data);\n            }\n            catch (_a) { }\n            const flattenFormValues = flatten(control._formValues);\n            for (const key in flattenFormValues) {\n                formData.append(key, flattenFormValues[key]);\n            }\n            if (onSubmit) {\n                await onSubmit({\n                    data,\n                    event,\n                    method,\n                    formData,\n                    formDataJson,\n                });\n            }\n            if (action) {\n                try {\n                    const shouldStringifySubmissionData = [\n                        headers && headers['Content-Type'],\n                        encType,\n                    ].some((value) => value && value.includes('json'));\n                    const response = await fetch(String(action), {\n                        method,\n                        headers: {\n                            ...headers,\n                            ...(encType ? { 'Content-Type': encType } : {}),\n                        },\n                        body: shouldStringifySubmissionData ? formDataJson : formData,\n                    });\n                    if (response &&\n                        (validateStatus\n                            ? !validateStatus(response.status)\n                            : response.status < 200 || response.status >= 300)) {\n                        hasError = true;\n                        onError && onError({ response });\n                        type = String(response.status);\n                    }\n                    else {\n                        onSuccess && onSuccess({ response });\n                    }\n                }\n                catch (error) {\n                    hasError = true;\n                    onError && onError({ error });\n                }\n            }\n        })(event);\n        if (hasError && props.control) {\n            props.control._subjects.state.next({\n                isSubmitSuccessful: false,\n            });\n            props.control.setError('root.server', {\n                type,\n            });\n        }\n    };\n    React.useEffect(() => {\n        setMounted(true);\n    }, []);\n    return render ? (React.createElement(React.Fragment, null, render({\n        submit,\n    }))) : (React.createElement(\"form\", { noValidate: mounted, action: action, method: method, encType: encType, onSubmit: submit, ...rest }, children));\n}\n\nvar appendErrors = (name, validateAllFieldCriteria, errors, type, message) => validateAllFieldCriteria\n    ? {\n        ...errors[name],\n        types: {\n            ...(errors[name] && errors[name].types ? errors[name].types : {}),\n            [type]: message || true,\n        },\n    }\n    : {};\n\nvar generateId = () => {\n    const d = typeof performance === 'undefined' ? Date.now() : performance.now() * 1000;\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\n        const r = (Math.random() * 16 + d) % 16 | 0;\n        return (c == 'x' ? r : (r & 0x3) | 0x8).toString(16);\n    });\n};\n\nvar getFocusFieldName = (name, index, options = {}) => options.shouldFocus || isUndefined(options.shouldFocus)\n    ? options.focusName ||\n        `${name}.${isUndefined(options.focusIndex) ? index : options.focusIndex}.`\n    : '';\n\nvar getValidationModes = (mode) => ({\n    isOnSubmit: !mode || mode === VALIDATION_MODE.onSubmit,\n    isOnBlur: mode === VALIDATION_MODE.onBlur,\n    isOnChange: mode === VALIDATION_MODE.onChange,\n    isOnAll: mode === VALIDATION_MODE.all,\n    isOnTouch: mode === VALIDATION_MODE.onTouched,\n});\n\nvar isWatched = (name, _names, isBlurEvent) => !isBlurEvent &&\n    (_names.watchAll ||\n        _names.watch.has(name) ||\n        [..._names.watch].some((watchName) => name.startsWith(watchName) &&\n            /^\\.\\w+/.test(name.slice(watchName.length))));\n\nconst iterateFieldsByAction = (fields, action, fieldsNames, abortEarly) => {\n    for (const key of fieldsNames || Object.keys(fields)) {\n        const field = get(fields, key);\n        if (field) {\n            const { _f, ...currentField } = field;\n            if (_f) {\n                if (_f.refs && _f.refs[0] && action(_f.refs[0], key) && !abortEarly) {\n                    return true;\n                }\n                else if (_f.ref && action(_f.ref, _f.name) && !abortEarly) {\n                    return true;\n                }\n                else {\n                    if (iterateFieldsByAction(currentField, action)) {\n                        break;\n                    }\n                }\n            }\n            else if (isObject(currentField)) {\n                if (iterateFieldsByAction(currentField, action)) {\n                    break;\n                }\n            }\n        }\n    }\n    return;\n};\n\nvar updateFieldArrayRootError = (errors, error, name) => {\n    const fieldArrayErrors = convertToArrayPayload(get(errors, name));\n    set(fieldArrayErrors, 'root', error[name]);\n    set(errors, name, fieldArrayErrors);\n    return errors;\n};\n\nvar isFileInput = (element) => element.type === 'file';\n\nvar isFunction = (value) => typeof value === 'function';\n\nvar isHTMLElement = (value) => {\n    if (!isWeb) {\n        return false;\n    }\n    const owner = value ? value.ownerDocument : 0;\n    return (value instanceof\n        (owner && owner.defaultView ? owner.defaultView.HTMLElement : HTMLElement));\n};\n\nvar isMessage = (value) => isString(value);\n\nvar isRadioInput = (element) => element.type === 'radio';\n\nvar isRegex = (value) => value instanceof RegExp;\n\nconst defaultResult = {\n    value: false,\n    isValid: false,\n};\nconst validResult = { value: true, isValid: true };\nvar getCheckboxValue = (options) => {\n    if (Array.isArray(options)) {\n        if (options.length > 1) {\n            const values = options\n                .filter((option) => option && option.checked && !option.disabled)\n                .map((option) => option.value);\n            return { value: values, isValid: !!values.length };\n        }\n        return options[0].checked && !options[0].disabled\n            ? // @ts-expect-error expected to work in the browser\n                options[0].attributes && !isUndefined(options[0].attributes.value)\n                    ? isUndefined(options[0].value) || options[0].value === ''\n                        ? validResult\n                        : { value: options[0].value, isValid: true }\n                    : validResult\n            : defaultResult;\n    }\n    return defaultResult;\n};\n\nconst defaultReturn = {\n    isValid: false,\n    value: null,\n};\nvar getRadioValue = (options) => Array.isArray(options)\n    ? options.reduce((previous, option) => option && option.checked && !option.disabled\n        ? {\n            isValid: true,\n            value: option.value,\n        }\n        : previous, defaultReturn)\n    : defaultReturn;\n\nfunction getValidateError(result, ref, type = 'validate') {\n    if (isMessage(result) ||\n        (Array.isArray(result) && result.every(isMessage)) ||\n        (isBoolean(result) && !result)) {\n        return {\n            type,\n            message: isMessage(result) ? result : '',\n            ref,\n        };\n    }\n}\n\nvar getValueAndMessage = (validationData) => isObject(validationData) && !isRegex(validationData)\n    ? validationData\n    : {\n        value: validationData,\n        message: '',\n    };\n\nvar validateField = async (field, disabledFieldNames, formValues, validateAllFieldCriteria, shouldUseNativeValidation, isFieldArray) => {\n    const { ref, refs, required, maxLength, minLength, min, max, pattern, validate, name, valueAsNumber, mount, } = field._f;\n    const inputValue = get(formValues, name);\n    if (!mount || disabledFieldNames.has(name)) {\n        return {};\n    }\n    const inputRef = refs ? refs[0] : ref;\n    const setCustomValidity = (message) => {\n        if (shouldUseNativeValidation && inputRef.reportValidity) {\n            inputRef.setCustomValidity(isBoolean(message) ? '' : message || '');\n            inputRef.reportValidity();\n        }\n    };\n    const error = {};\n    const isRadio = isRadioInput(ref);\n    const isCheckBox = isCheckBoxInput(ref);\n    const isRadioOrCheckbox = isRadio || isCheckBox;\n    const isEmpty = ((valueAsNumber || isFileInput(ref)) &&\n        isUndefined(ref.value) &&\n        isUndefined(inputValue)) ||\n        (isHTMLElement(ref) && ref.value === '') ||\n        inputValue === '' ||\n        (Array.isArray(inputValue) && !inputValue.length);\n    const appendErrorsCurry = appendErrors.bind(null, name, validateAllFieldCriteria, error);\n    const getMinMaxMessage = (exceedMax, maxLengthMessage, minLengthMessage, maxType = INPUT_VALIDATION_RULES.maxLength, minType = INPUT_VALIDATION_RULES.minLength) => {\n        const message = exceedMax ? maxLengthMessage : minLengthMessage;\n        error[name] = {\n            type: exceedMax ? maxType : minType,\n            message,\n            ref,\n            ...appendErrorsCurry(exceedMax ? maxType : minType, message),\n        };\n    };\n    if (isFieldArray\n        ? !Array.isArray(inputValue) || !inputValue.length\n        : required &&\n            ((!isRadioOrCheckbox && (isEmpty || isNullOrUndefined(inputValue))) ||\n                (isBoolean(inputValue) && !inputValue) ||\n                (isCheckBox && !getCheckboxValue(refs).isValid) ||\n                (isRadio && !getRadioValue(refs).isValid))) {\n        const { value, message } = isMessage(required)\n            ? { value: !!required, message: required }\n            : getValueAndMessage(required);\n        if (value) {\n            error[name] = {\n                type: INPUT_VALIDATION_RULES.required,\n                message,\n                ref: inputRef,\n                ...appendErrorsCurry(INPUT_VALIDATION_RULES.required, message),\n            };\n            if (!validateAllFieldCriteria) {\n                setCustomValidity(message);\n                return error;\n            }\n        }\n    }\n    if (!isEmpty && (!isNullOrUndefined(min) || !isNullOrUndefined(max))) {\n        let exceedMax;\n        let exceedMin;\n        const maxOutput = getValueAndMessage(max);\n        const minOutput = getValueAndMessage(min);\n        if (!isNullOrUndefined(inputValue) && !isNaN(inputValue)) {\n            const valueNumber = ref.valueAsNumber ||\n                (inputValue ? +inputValue : inputValue);\n            if (!isNullOrUndefined(maxOutput.value)) {\n                exceedMax = valueNumber > maxOutput.value;\n            }\n            if (!isNullOrUndefined(minOutput.value)) {\n                exceedMin = valueNumber < minOutput.value;\n            }\n        }\n        else {\n            const valueDate = ref.valueAsDate || new Date(inputValue);\n            const convertTimeToDate = (time) => new Date(new Date().toDateString() + ' ' + time);\n            const isTime = ref.type == 'time';\n            const isWeek = ref.type == 'week';\n            if (isString(maxOutput.value) && inputValue) {\n                exceedMax = isTime\n                    ? convertTimeToDate(inputValue) > convertTimeToDate(maxOutput.value)\n                    : isWeek\n                        ? inputValue > maxOutput.value\n                        : valueDate > new Date(maxOutput.value);\n            }\n            if (isString(minOutput.value) && inputValue) {\n                exceedMin = isTime\n                    ? convertTimeToDate(inputValue) < convertTimeToDate(minOutput.value)\n                    : isWeek\n                        ? inputValue < minOutput.value\n                        : valueDate < new Date(minOutput.value);\n            }\n        }\n        if (exceedMax || exceedMin) {\n            getMinMaxMessage(!!exceedMax, maxOutput.message, minOutput.message, INPUT_VALIDATION_RULES.max, INPUT_VALIDATION_RULES.min);\n            if (!validateAllFieldCriteria) {\n                setCustomValidity(error[name].message);\n                return error;\n            }\n        }\n    }\n    if ((maxLength || minLength) &&\n        !isEmpty &&\n        (isString(inputValue) || (isFieldArray && Array.isArray(inputValue)))) {\n        const maxLengthOutput = getValueAndMessage(maxLength);\n        const minLengthOutput = getValueAndMessage(minLength);\n        const exceedMax = !isNullOrUndefined(maxLengthOutput.value) &&\n            inputValue.length > +maxLengthOutput.value;\n        const exceedMin = !isNullOrUndefined(minLengthOutput.value) &&\n            inputValue.length < +minLengthOutput.value;\n        if (exceedMax || exceedMin) {\n            getMinMaxMessage(exceedMax, maxLengthOutput.message, minLengthOutput.message);\n            if (!validateAllFieldCriteria) {\n                setCustomValidity(error[name].message);\n                return error;\n            }\n        }\n    }\n    if (pattern && !isEmpty && isString(inputValue)) {\n        const { value: patternValue, message } = getValueAndMessage(pattern);\n        if (isRegex(patternValue) && !inputValue.match(patternValue)) {\n            error[name] = {\n                type: INPUT_VALIDATION_RULES.pattern,\n                message,\n                ref,\n                ...appendErrorsCurry(INPUT_VALIDATION_RULES.pattern, message),\n            };\n            if (!validateAllFieldCriteria) {\n                setCustomValidity(message);\n                return error;\n            }\n        }\n    }\n    if (validate) {\n        if (isFunction(validate)) {\n            const result = await validate(inputValue, formValues);\n            const validateError = getValidateError(result, inputRef);\n            if (validateError) {\n                error[name] = {\n                    ...validateError,\n                    ...appendErrorsCurry(INPUT_VALIDATION_RULES.validate, validateError.message),\n                };\n                if (!validateAllFieldCriteria) {\n                    setCustomValidity(validateError.message);\n                    return error;\n                }\n            }\n        }\n        else if (isObject(validate)) {\n            let validationResult = {};\n            for (const key in validate) {\n                if (!isEmptyObject(validationResult) && !validateAllFieldCriteria) {\n                    break;\n                }\n                const validateError = getValidateError(await validate[key](inputValue, formValues), inputRef, key);\n                if (validateError) {\n                    validationResult = {\n                        ...validateError,\n                        ...appendErrorsCurry(key, validateError.message),\n                    };\n                    setCustomValidity(validateError.message);\n                    if (validateAllFieldCriteria) {\n                        error[name] = validationResult;\n                    }\n                }\n            }\n            if (!isEmptyObject(validationResult)) {\n                error[name] = {\n                    ref: inputRef,\n                    ...validationResult,\n                };\n                if (!validateAllFieldCriteria) {\n                    return error;\n                }\n            }\n        }\n    }\n    setCustomValidity(true);\n    return error;\n};\n\nvar appendAt = (data, value) => [\n    ...data,\n    ...convertToArrayPayload(value),\n];\n\nvar fillEmptyArray = (value) => Array.isArray(value) ? value.map(() => undefined) : undefined;\n\nfunction insert(data, index, value) {\n    return [\n        ...data.slice(0, index),\n        ...convertToArrayPayload(value),\n        ...data.slice(index),\n    ];\n}\n\nvar moveArrayAt = (data, from, to) => {\n    if (!Array.isArray(data)) {\n        return [];\n    }\n    if (isUndefined(data[to])) {\n        data[to] = undefined;\n    }\n    data.splice(to, 0, data.splice(from, 1)[0]);\n    return data;\n};\n\nvar prependAt = (data, value) => [\n    ...convertToArrayPayload(value),\n    ...convertToArrayPayload(data),\n];\n\nfunction removeAtIndexes(data, indexes) {\n    let i = 0;\n    const temp = [...data];\n    for (const index of indexes) {\n        temp.splice(index - i, 1);\n        i++;\n    }\n    return compact(temp).length ? temp : [];\n}\nvar removeArrayAt = (data, index) => isUndefined(index)\n    ? []\n    : removeAtIndexes(data, convertToArrayPayload(index).sort((a, b) => a - b));\n\nvar swapArrayAt = (data, indexA, indexB) => {\n    [data[indexA], data[indexB]] = [data[indexB], data[indexA]];\n};\n\nfunction baseGet(object, updatePath) {\n    const length = updatePath.slice(0, -1).length;\n    let index = 0;\n    while (index < length) {\n        object = isUndefined(object) ? index++ : object[updatePath[index++]];\n    }\n    return object;\n}\nfunction isEmptyArray(obj) {\n    for (const key in obj) {\n        if (obj.hasOwnProperty(key) && !isUndefined(obj[key])) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction unset(object, path) {\n    const paths = Array.isArray(path)\n        ? path\n        : isKey(path)\n            ? [path]\n            : stringToPath(path);\n    const childObject = paths.length === 1 ? object : baseGet(object, paths);\n    const index = paths.length - 1;\n    const key = paths[index];\n    if (childObject) {\n        delete childObject[key];\n    }\n    if (index !== 0 &&\n        ((isObject(childObject) && isEmptyObject(childObject)) ||\n            (Array.isArray(childObject) && isEmptyArray(childObject)))) {\n        unset(object, paths.slice(0, -1));\n    }\n    return object;\n}\n\nvar updateAt = (fieldValues, index, value) => {\n    fieldValues[index] = value;\n    return fieldValues;\n};\n\n/**\n * A custom hook that exposes convenient methods to perform operations with a list of dynamic inputs that need to be appended, updated, removed etc.  [Demo](https://codesandbox.io/s/react-hook-form-usefieldarray-ssugn)  [Video](https://youtu.be/4MrbfGSFY2A)\n *\n * @remarks\n * [API](https://react-hook-form.com/docs/usefieldarray)  [Demo](https://codesandbox.io/s/react-hook-form-usefieldarray-ssugn)\n *\n * @param props - useFieldArray props\n *\n * @returns methods - functions to manipulate with the Field Arrays (dynamic inputs) {@link UseFieldArrayReturn}\n *\n * @example\n * ```tsx\n * function App() {\n *   const { register, control, handleSubmit, reset, trigger, setError } = useForm({\n *     defaultValues: {\n *       test: []\n *     }\n *   });\n *   const { fields, append } = useFieldArray({\n *     control,\n *     name: \"test\"\n *   });\n *\n *   return (\n *     <form onSubmit={handleSubmit(data => console.log(data))}>\n *       {fields.map((item, index) => (\n *          <input key={item.id} {...register(`test.${index}.firstName`)}  />\n *       ))}\n *       <button type=\"button\" onClick={() => append({ firstName: \"bill\" })}>\n *         append\n *       </button>\n *       <input type=\"submit\" />\n *     </form>\n *   );\n * }\n * ```\n */\nfunction useFieldArray(props) {\n    const methods = useFormContext();\n    const { control = methods.control, name, keyName = 'id', shouldUnregister, rules, } = props;\n    const [fields, setFields] = React.useState(control._getFieldArray(name));\n    const ids = React.useRef(control._getFieldArray(name).map(generateId));\n    const _fieldIds = React.useRef(fields);\n    const _name = React.useRef(name);\n    const _actioned = React.useRef(false);\n    _name.current = name;\n    _fieldIds.current = fields;\n    control._names.array.add(name);\n    rules &&\n        control.register(name, rules);\n    useSubscribe({\n        next: ({ values, name: fieldArrayName, }) => {\n            if (fieldArrayName === _name.current || !fieldArrayName) {\n                const fieldValues = get(values, _name.current);\n                if (Array.isArray(fieldValues)) {\n                    setFields(fieldValues);\n                    ids.current = fieldValues.map(generateId);\n                }\n            }\n        },\n        subject: control._subjects.array,\n    });\n    const updateValues = React.useCallback((updatedFieldArrayValues) => {\n        _actioned.current = true;\n        control._updateFieldArray(name, updatedFieldArrayValues);\n    }, [control, name]);\n    const append = (value, options) => {\n        const appendValue = convertToArrayPayload(cloneObject(value));\n        const updatedFieldArrayValues = appendAt(control._getFieldArray(name), appendValue);\n        control._names.focus = getFocusFieldName(name, updatedFieldArrayValues.length - 1, options);\n        ids.current = appendAt(ids.current, appendValue.map(generateId));\n        updateValues(updatedFieldArrayValues);\n        setFields(updatedFieldArrayValues);\n        control._updateFieldArray(name, updatedFieldArrayValues, appendAt, {\n            argA: fillEmptyArray(value),\n        });\n    };\n    const prepend = (value, options) => {\n        const prependValue = convertToArrayPayload(cloneObject(value));\n        const updatedFieldArrayValues = prependAt(control._getFieldArray(name), prependValue);\n        control._names.focus = getFocusFieldName(name, 0, options);\n        ids.current = prependAt(ids.current, prependValue.map(generateId));\n        updateValues(updatedFieldArrayValues);\n        setFields(updatedFieldArrayValues);\n        control._updateFieldArray(name, updatedFieldArrayValues, prependAt, {\n            argA: fillEmptyArray(value),\n        });\n    };\n    const remove = (index) => {\n        const updatedFieldArrayValues = removeArrayAt(control._getFieldArray(name), index);\n        ids.current = removeArrayAt(ids.current, index);\n        updateValues(updatedFieldArrayValues);\n        setFields(updatedFieldArrayValues);\n        !Array.isArray(get(control._fields, name)) &&\n            set(control._fields, name, undefined);\n        control._updateFieldArray(name, updatedFieldArrayValues, removeArrayAt, {\n            argA: index,\n        });\n    };\n    const insert$1 = (index, value, options) => {\n        const insertValue = convertToArrayPayload(cloneObject(value));\n        const updatedFieldArrayValues = insert(control._getFieldArray(name), index, insertValue);\n        control._names.focus = getFocusFieldName(name, index, options);\n        ids.current = insert(ids.current, index, insertValue.map(generateId));\n        updateValues(updatedFieldArrayValues);\n        setFields(updatedFieldArrayValues);\n        control._updateFieldArray(name, updatedFieldArrayValues, insert, {\n            argA: index,\n            argB: fillEmptyArray(value),\n        });\n    };\n    const swap = (indexA, indexB) => {\n        const updatedFieldArrayValues = control._getFieldArray(name);\n        swapArrayAt(updatedFieldArrayValues, indexA, indexB);\n        swapArrayAt(ids.current, indexA, indexB);\n        updateValues(updatedFieldArrayValues);\n        setFields(updatedFieldArrayValues);\n        control._updateFieldArray(name, updatedFieldArrayValues, swapArrayAt, {\n            argA: indexA,\n            argB: indexB,\n        }, false);\n    };\n    const move = (from, to) => {\n        const updatedFieldArrayValues = control._getFieldArray(name);\n        moveArrayAt(updatedFieldArrayValues, from, to);\n        moveArrayAt(ids.current, from, to);\n        updateValues(updatedFieldArrayValues);\n        setFields(updatedFieldArrayValues);\n        control._updateFieldArray(name, updatedFieldArrayValues, moveArrayAt, {\n            argA: from,\n            argB: to,\n        }, false);\n    };\n    const update = (index, value) => {\n        const updateValue = cloneObject(value);\n        const updatedFieldArrayValues = updateAt(control._getFieldArray(name), index, updateValue);\n        ids.current = [...updatedFieldArrayValues].map((item, i) => !item || i === index ? generateId() : ids.current[i]);\n        updateValues(updatedFieldArrayValues);\n        setFields([...updatedFieldArrayValues]);\n        control._updateFieldArray(name, updatedFieldArrayValues, updateAt, {\n            argA: index,\n            argB: updateValue,\n        }, true, false);\n    };\n    const replace = (value) => {\n        const updatedFieldArrayValues = convertToArrayPayload(cloneObject(value));\n        ids.current = updatedFieldArrayValues.map(generateId);\n        updateValues([...updatedFieldArrayValues]);\n        setFields([...updatedFieldArrayValues]);\n        control._updateFieldArray(name, [...updatedFieldArrayValues], (data) => data, {}, true, false);\n    };\n    React.useEffect(() => {\n        control._state.action = false;\n        isWatched(name, control._names) &&\n            control._subjects.state.next({\n                ...control._formState,\n            });\n        if (_actioned.current &&\n            (!getValidationModes(control._options.mode).isOnSubmit ||\n                control._formState.isSubmitted)) {\n            if (control._options.resolver) {\n                control._executeSchema([name]).then((result) => {\n                    const error = get(result.errors, name);\n                    const existingError = get(control._formState.errors, name);\n                    if (existingError\n                        ? (!error && existingError.type) ||\n                            (error &&\n                                (existingError.type !== error.type ||\n                                    existingError.message !== error.message))\n                        : error && error.type) {\n                        error\n                            ? set(control._formState.errors, name, error)\n                            : unset(control._formState.errors, name);\n                        control._subjects.state.next({\n                            errors: control._formState.errors,\n                        });\n                    }\n                });\n            }\n            else {\n                const field = get(control._fields, name);\n                if (field &&\n                    field._f &&\n                    !(getValidationModes(control._options.reValidateMode).isOnSubmit &&\n                        getValidationModes(control._options.mode).isOnSubmit)) {\n                    validateField(field, control._names.disabled, control._formValues, control._options.criteriaMode === VALIDATION_MODE.all, control._options.shouldUseNativeValidation, true).then((error) => !isEmptyObject(error) &&\n                        control._subjects.state.next({\n                            errors: updateFieldArrayRootError(control._formState.errors, error, name),\n                        }));\n                }\n            }\n        }\n        control._subjects.values.next({\n            name,\n            values: { ...control._formValues },\n        });\n        control._names.focus &&\n            iterateFieldsByAction(control._fields, (ref, key) => {\n                if (control._names.focus &&\n                    key.startsWith(control._names.focus) &&\n                    ref.focus) {\n                    ref.focus();\n                    return 1;\n                }\n                return;\n            });\n        control._names.focus = '';\n        control._updateValid();\n        _actioned.current = false;\n    }, [fields, name, control]);\n    React.useEffect(() => {\n        !get(control._formValues, name) && control._updateFieldArray(name);\n        return () => {\n            (control._options.shouldUnregister || shouldUnregister) &&\n                control.unregister(name);\n        };\n    }, [name, control, keyName, shouldUnregister]);\n    return {\n        swap: React.useCallback(swap, [updateValues, name, control]),\n        move: React.useCallback(move, [updateValues, name, control]),\n        prepend: React.useCallback(prepend, [updateValues, name, control]),\n        append: React.useCallback(append, [updateValues, name, control]),\n        remove: React.useCallback(remove, [updateValues, name, control]),\n        insert: React.useCallback(insert$1, [updateValues, name, control]),\n        update: React.useCallback(update, [updateValues, name, control]),\n        replace: React.useCallback(replace, [updateValues, name, control]),\n        fields: React.useMemo(() => fields.map((field, index) => ({\n            ...field,\n            [keyName]: ids.current[index] || generateId(),\n        })), [fields, keyName]),\n    };\n}\n\nvar createSubject = () => {\n    let _observers = [];\n    const next = (value) => {\n        for (const observer of _observers) {\n            observer.next && observer.next(value);\n        }\n    };\n    const subscribe = (observer) => {\n        _observers.push(observer);\n        return {\n            unsubscribe: () => {\n                _observers = _observers.filter((o) => o !== observer);\n            },\n        };\n    };\n    const unsubscribe = () => {\n        _observers = [];\n    };\n    return {\n        get observers() {\n            return _observers;\n        },\n        next,\n        subscribe,\n        unsubscribe,\n    };\n};\n\nvar isPrimitive = (value) => isNullOrUndefined(value) || !isObjectType(value);\n\nfunction deepEqual(object1, object2) {\n    if (isPrimitive(object1) || isPrimitive(object2)) {\n        return object1 === object2;\n    }\n    if (isDateObject(object1) && isDateObject(object2)) {\n        return object1.getTime() === object2.getTime();\n    }\n    const keys1 = Object.keys(object1);\n    const keys2 = Object.keys(object2);\n    if (keys1.length !== keys2.length) {\n        return false;\n    }\n    for (const key of keys1) {\n        const val1 = object1[key];\n        if (!keys2.includes(key)) {\n            return false;\n        }\n        if (key !== 'ref') {\n            const val2 = object2[key];\n            if ((isDateObject(val1) && isDateObject(val2)) ||\n                (isObject(val1) && isObject(val2)) ||\n                (Array.isArray(val1) && Array.isArray(val2))\n                ? !deepEqual(val1, val2)\n                : val1 !== val2) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n\nvar isMultipleSelect = (element) => element.type === `select-multiple`;\n\nvar isRadioOrCheckbox = (ref) => isRadioInput(ref) || isCheckBoxInput(ref);\n\nvar live = (ref) => isHTMLElement(ref) && ref.isConnected;\n\nvar objectHasFunction = (data) => {\n    for (const key in data) {\n        if (isFunction(data[key])) {\n            return true;\n        }\n    }\n    return false;\n};\n\nfunction markFieldsDirty(data, fields = {}) {\n    const isParentNodeArray = Array.isArray(data);\n    if (isObject(data) || isParentNodeArray) {\n        for (const key in data) {\n            if (Array.isArray(data[key]) ||\n                (isObject(data[key]) && !objectHasFunction(data[key]))) {\n                fields[key] = Array.isArray(data[key]) ? [] : {};\n                markFieldsDirty(data[key], fields[key]);\n            }\n            else if (!isNullOrUndefined(data[key])) {\n                fields[key] = true;\n            }\n        }\n    }\n    return fields;\n}\nfunction getDirtyFieldsFromDefaultValues(data, formValues, dirtyFieldsFromValues) {\n    const isParentNodeArray = Array.isArray(data);\n    if (isObject(data) || isParentNodeArray) {\n        for (const key in data) {\n            if (Array.isArray(data[key]) ||\n                (isObject(data[key]) && !objectHasFunction(data[key]))) {\n                if (isUndefined(formValues) ||\n                    isPrimitive(dirtyFieldsFromValues[key])) {\n                    dirtyFieldsFromValues[key] = Array.isArray(data[key])\n                        ? markFieldsDirty(data[key], [])\n                        : { ...markFieldsDirty(data[key]) };\n                }\n                else {\n                    getDirtyFieldsFromDefaultValues(data[key], isNullOrUndefined(formValues) ? {} : formValues[key], dirtyFieldsFromValues[key]);\n                }\n            }\n            else {\n                dirtyFieldsFromValues[key] = !deepEqual(data[key], formValues[key]);\n            }\n        }\n    }\n    return dirtyFieldsFromValues;\n}\nvar getDirtyFields = (defaultValues, formValues) => getDirtyFieldsFromDefaultValues(defaultValues, formValues, markFieldsDirty(formValues));\n\nvar getFieldValueAs = (value, { valueAsNumber, valueAsDate, setValueAs }) => isUndefined(value)\n    ? value\n    : valueAsNumber\n        ? value === ''\n            ? NaN\n            : value\n                ? +value\n                : value\n        : valueAsDate && isString(value)\n            ? new Date(value)\n            : setValueAs\n                ? setValueAs(value)\n                : value;\n\nfunction getFieldValue(_f) {\n    const ref = _f.ref;\n    if (isFileInput(ref)) {\n        return ref.files;\n    }\n    if (isRadioInput(ref)) {\n        return getRadioValue(_f.refs).value;\n    }\n    if (isMultipleSelect(ref)) {\n        return [...ref.selectedOptions].map(({ value }) => value);\n    }\n    if (isCheckBoxInput(ref)) {\n        return getCheckboxValue(_f.refs).value;\n    }\n    return getFieldValueAs(isUndefined(ref.value) ? _f.ref.value : ref.value, _f);\n}\n\nvar getResolverOptions = (fieldsNames, _fields, criteriaMode, shouldUseNativeValidation) => {\n    const fields = {};\n    for (const name of fieldsNames) {\n        const field = get(_fields, name);\n        field && set(fields, name, field._f);\n    }\n    return {\n        criteriaMode,\n        names: [...fieldsNames],\n        fields,\n        shouldUseNativeValidation,\n    };\n};\n\nvar getRuleValue = (rule) => isUndefined(rule)\n    ? rule\n    : isRegex(rule)\n        ? rule.source\n        : isObject(rule)\n            ? isRegex(rule.value)\n                ? rule.value.source\n                : rule.value\n            : rule;\n\nconst ASYNC_FUNCTION = 'AsyncFunction';\nvar hasPromiseValidation = (fieldReference) => !!fieldReference &&\n    !!fieldReference.validate &&\n    !!((isFunction(fieldReference.validate) &&\n        fieldReference.validate.constructor.name === ASYNC_FUNCTION) ||\n        (isObject(fieldReference.validate) &&\n            Object.values(fieldReference.validate).find((validateFunction) => validateFunction.constructor.name === ASYNC_FUNCTION)));\n\nvar hasValidation = (options) => options.mount &&\n    (options.required ||\n        options.min ||\n        options.max ||\n        options.maxLength ||\n        options.minLength ||\n        options.pattern ||\n        options.validate);\n\nfunction schemaErrorLookup(errors, _fields, name) {\n    const error = get(errors, name);\n    if (error || isKey(name)) {\n        return {\n            error,\n            name,\n        };\n    }\n    const names = name.split('.');\n    while (names.length) {\n        const fieldName = names.join('.');\n        const field = get(_fields, fieldName);\n        const foundError = get(errors, fieldName);\n        if (field && !Array.isArray(field) && name !== fieldName) {\n            return { name };\n        }\n        if (foundError && foundError.type) {\n            return {\n                name: fieldName,\n                error: foundError,\n            };\n        }\n        names.pop();\n    }\n    return {\n        name,\n    };\n}\n\nvar skipValidation = (isBlurEvent, isTouched, isSubmitted, reValidateMode, mode) => {\n    if (mode.isOnAll) {\n        return false;\n    }\n    else if (!isSubmitted && mode.isOnTouch) {\n        return !(isTouched || isBlurEvent);\n    }\n    else if (isSubmitted ? reValidateMode.isOnBlur : mode.isOnBlur) {\n        return !isBlurEvent;\n    }\n    else if (isSubmitted ? reValidateMode.isOnChange : mode.isOnChange) {\n        return isBlurEvent;\n    }\n    return true;\n};\n\nvar unsetEmptyArray = (ref, name) => !compact(get(ref, name)).length && unset(ref, name);\n\nconst defaultOptions = {\n    mode: VALIDATION_MODE.onSubmit,\n    reValidateMode: VALIDATION_MODE.onChange,\n    shouldFocusError: true,\n};\nfunction createFormControl(props = {}) {\n    let _options = {\n        ...defaultOptions,\n        ...props,\n    };\n    let _formState = {\n        submitCount: 0,\n        isDirty: false,\n        isLoading: isFunction(_options.defaultValues),\n        isValidating: false,\n        isSubmitted: false,\n        isSubmitting: false,\n        isSubmitSuccessful: false,\n        isValid: false,\n        touchedFields: {},\n        dirtyFields: {},\n        validatingFields: {},\n        errors: _options.errors || {},\n        disabled: _options.disabled || false,\n    };\n    let _fields = {};\n    let _defaultValues = isObject(_options.defaultValues) || isObject(_options.values)\n        ? cloneObject(_options.defaultValues || _options.values) || {}\n        : {};\n    let _formValues = _options.shouldUnregister\n        ? {}\n        : cloneObject(_defaultValues);\n    let _state = {\n        action: false,\n        mount: false,\n        watch: false,\n    };\n    let _names = {\n        mount: new Set(),\n        disabled: new Set(),\n        unMount: new Set(),\n        array: new Set(),\n        watch: new Set(),\n    };\n    let delayErrorCallback;\n    let timer = 0;\n    const _proxyFormState = {\n        isDirty: false,\n        dirtyFields: false,\n        validatingFields: false,\n        touchedFields: false,\n        isValidating: false,\n        isValid: false,\n        errors: false,\n    };\n    const _subjects = {\n        values: createSubject(),\n        array: createSubject(),\n        state: createSubject(),\n    };\n    const validationModeBeforeSubmit = getValidationModes(_options.mode);\n    const validationModeAfterSubmit = getValidationModes(_options.reValidateMode);\n    const shouldDisplayAllAssociatedErrors = _options.criteriaMode === VALIDATION_MODE.all;\n    const debounce = (callback) => (wait) => {\n        clearTimeout(timer);\n        timer = setTimeout(callback, wait);\n    };\n    const _updateValid = async (shouldUpdateValid) => {\n        if (!_options.disabled && (_proxyFormState.isValid || shouldUpdateValid)) {\n            const isValid = _options.resolver\n                ? isEmptyObject((await _executeSchema()).errors)\n                : await executeBuiltInValidation(_fields, true);\n            if (isValid !== _formState.isValid) {\n                _subjects.state.next({\n                    isValid,\n                });\n            }\n        }\n    };\n    const _updateIsValidating = (names, isValidating) => {\n        if (!_options.disabled &&\n            (_proxyFormState.isValidating || _proxyFormState.validatingFields)) {\n            (names || Array.from(_names.mount)).forEach((name) => {\n                if (name) {\n                    isValidating\n                        ? set(_formState.validatingFields, name, isValidating)\n                        : unset(_formState.validatingFields, name);\n                }\n            });\n            _subjects.state.next({\n                validatingFields: _formState.validatingFields,\n                isValidating: !isEmptyObject(_formState.validatingFields),\n            });\n        }\n    };\n    const _updateFieldArray = (name, values = [], method, args, shouldSetValues = true, shouldUpdateFieldsAndState = true) => {\n        if (args && method && !_options.disabled) {\n            _state.action = true;\n            if (shouldUpdateFieldsAndState && Array.isArray(get(_fields, name))) {\n                const fieldValues = method(get(_fields, name), args.argA, args.argB);\n                shouldSetValues && set(_fields, name, fieldValues);\n            }\n            if (shouldUpdateFieldsAndState &&\n                Array.isArray(get(_formState.errors, name))) {\n                const errors = method(get(_formState.errors, name), args.argA, args.argB);\n                shouldSetValues && set(_formState.errors, name, errors);\n                unsetEmptyArray(_formState.errors, name);\n            }\n            if (_proxyFormState.touchedFields &&\n                shouldUpdateFieldsAndState &&\n                Array.isArray(get(_formState.touchedFields, name))) {\n                const touchedFields = method(get(_formState.touchedFields, name), args.argA, args.argB);\n                shouldSetValues && set(_formState.touchedFields, name, touchedFields);\n            }\n            if (_proxyFormState.dirtyFields) {\n                _formState.dirtyFields = getDirtyFields(_defaultValues, _formValues);\n            }\n            _subjects.state.next({\n                name,\n                isDirty: _getDirty(name, values),\n                dirtyFields: _formState.dirtyFields,\n                errors: _formState.errors,\n                isValid: _formState.isValid,\n            });\n        }\n        else {\n            set(_formValues, name, values);\n        }\n    };\n    const updateErrors = (name, error) => {\n        set(_formState.errors, name, error);\n        _subjects.state.next({\n            errors: _formState.errors,\n        });\n    };\n    const _setErrors = (errors) => {\n        _formState.errors = errors;\n        _subjects.state.next({\n            errors: _formState.errors,\n            isValid: false,\n        });\n    };\n    const updateValidAndValue = (name, shouldSkipSetValueAs, value, ref) => {\n        const field = get(_fields, name);\n        if (field) {\n            const defaultValue = get(_formValues, name, isUndefined(value) ? get(_defaultValues, name) : value);\n            isUndefined(defaultValue) ||\n                (ref && ref.defaultChecked) ||\n                shouldSkipSetValueAs\n                ? set(_formValues, name, shouldSkipSetValueAs ? defaultValue : getFieldValue(field._f))\n                : setFieldValue(name, defaultValue);\n            _state.mount && _updateValid();\n        }\n    };\n    const updateTouchAndDirty = (name, fieldValue, isBlurEvent, shouldDirty, shouldRender) => {\n        let shouldUpdateField = false;\n        let isPreviousDirty = false;\n        const output = {\n            name,\n        };\n        if (!_options.disabled) {\n            const disabledField = !!(get(_fields, name) &&\n                get(_fields, name)._f &&\n                get(_fields, name)._f.disabled);\n            if (!isBlurEvent || shouldDirty) {\n                if (_proxyFormState.isDirty) {\n                    isPreviousDirty = _formState.isDirty;\n                    _formState.isDirty = output.isDirty = _getDirty();\n                    shouldUpdateField = isPreviousDirty !== output.isDirty;\n                }\n                const isCurrentFieldPristine = disabledField || deepEqual(get(_defaultValues, name), fieldValue);\n                isPreviousDirty = !!(!disabledField && get(_formState.dirtyFields, name));\n                isCurrentFieldPristine || disabledField\n                    ? unset(_formState.dirtyFields, name)\n                    : set(_formState.dirtyFields, name, true);\n                output.dirtyFields = _formState.dirtyFields;\n                shouldUpdateField =\n                    shouldUpdateField ||\n                        (_proxyFormState.dirtyFields &&\n                            isPreviousDirty !== !isCurrentFieldPristine);\n            }\n            if (isBlurEvent) {\n                const isPreviousFieldTouched = get(_formState.touchedFields, name);\n                if (!isPreviousFieldTouched) {\n                    set(_formState.touchedFields, name, isBlurEvent);\n                    output.touchedFields = _formState.touchedFields;\n                    shouldUpdateField =\n                        shouldUpdateField ||\n                            (_proxyFormState.touchedFields &&\n                                isPreviousFieldTouched !== isBlurEvent);\n                }\n            }\n            shouldUpdateField && shouldRender && _subjects.state.next(output);\n        }\n        return shouldUpdateField ? output : {};\n    };\n    const shouldRenderByError = (name, isValid, error, fieldState) => {\n        const previousFieldError = get(_formState.errors, name);\n        const shouldUpdateValid = _proxyFormState.isValid &&\n            isBoolean(isValid) &&\n            _formState.isValid !== isValid;\n        if (_options.delayError && error) {\n            delayErrorCallback = debounce(() => updateErrors(name, error));\n            delayErrorCallback(_options.delayError);\n        }\n        else {\n            clearTimeout(timer);\n            delayErrorCallback = null;\n            error\n                ? set(_formState.errors, name, error)\n                : unset(_formState.errors, name);\n        }\n        if ((error ? !deepEqual(previousFieldError, error) : previousFieldError) ||\n            !isEmptyObject(fieldState) ||\n            shouldUpdateValid) {\n            const updatedFormState = {\n                ...fieldState,\n                ...(shouldUpdateValid && isBoolean(isValid) ? { isValid } : {}),\n                errors: _formState.errors,\n                name,\n            };\n            _formState = {\n                ..._formState,\n                ...updatedFormState,\n            };\n            _subjects.state.next(updatedFormState);\n        }\n    };\n    const _executeSchema = async (name) => {\n        _updateIsValidating(name, true);\n        const result = await _options.resolver(_formValues, _options.context, getResolverOptions(name || _names.mount, _fields, _options.criteriaMode, _options.shouldUseNativeValidation));\n        _updateIsValidating(name);\n        return result;\n    };\n    const executeSchemaAndUpdateState = async (names) => {\n        const { errors } = await _executeSchema(names);\n        if (names) {\n            for (const name of names) {\n                const error = get(errors, name);\n                error\n                    ? set(_formState.errors, name, error)\n                    : unset(_formState.errors, name);\n            }\n        }\n        else {\n            _formState.errors = errors;\n        }\n        return errors;\n    };\n    const executeBuiltInValidation = async (fields, shouldOnlyCheckValid, context = {\n        valid: true,\n    }) => {\n        for (const name in fields) {\n            const field = fields[name];\n            if (field) {\n                const { _f, ...fieldValue } = field;\n                if (_f) {\n                    const isFieldArrayRoot = _names.array.has(_f.name);\n                    const isPromiseFunction = field._f && hasPromiseValidation(field._f);\n                    if (isPromiseFunction && _proxyFormState.validatingFields) {\n                        _updateIsValidating([name], true);\n                    }\n                    const fieldError = await validateField(field, _names.disabled, _formValues, shouldDisplayAllAssociatedErrors, _options.shouldUseNativeValidation && !shouldOnlyCheckValid, isFieldArrayRoot);\n                    if (isPromiseFunction && _proxyFormState.validatingFields) {\n                        _updateIsValidating([name]);\n                    }\n                    if (fieldError[_f.name]) {\n                        context.valid = false;\n                        if (shouldOnlyCheckValid) {\n                            break;\n                        }\n                    }\n                    !shouldOnlyCheckValid &&\n                        (get(fieldError, _f.name)\n                            ? isFieldArrayRoot\n                                ? updateFieldArrayRootError(_formState.errors, fieldError, _f.name)\n                                : set(_formState.errors, _f.name, fieldError[_f.name])\n                            : unset(_formState.errors, _f.name));\n                }\n                !isEmptyObject(fieldValue) &&\n                    (await executeBuiltInValidation(fieldValue, shouldOnlyCheckValid, context));\n            }\n        }\n        return context.valid;\n    };\n    const _removeUnmounted = () => {\n        for (const name of _names.unMount) {\n            const field = get(_fields, name);\n            field &&\n                (field._f.refs\n                    ? field._f.refs.every((ref) => !live(ref))\n                    : !live(field._f.ref)) &&\n                unregister(name);\n        }\n        _names.unMount = new Set();\n    };\n    const _getDirty = (name, data) => !_options.disabled &&\n        (name && data && set(_formValues, name, data),\n            !deepEqual(getValues(), _defaultValues));\n    const _getWatch = (names, defaultValue, isGlobal) => generateWatchOutput(names, _names, {\n        ...(_state.mount\n            ? _formValues\n            : isUndefined(defaultValue)\n                ? _defaultValues\n                : isString(names)\n                    ? { [names]: defaultValue }\n                    : defaultValue),\n    }, isGlobal, defaultValue);\n    const _getFieldArray = (name) => compact(get(_state.mount ? _formValues : _defaultValues, name, _options.shouldUnregister ? get(_defaultValues, name, []) : []));\n    const setFieldValue = (name, value, options = {}) => {\n        const field = get(_fields, name);\n        let fieldValue = value;\n        if (field) {\n            const fieldReference = field._f;\n            if (fieldReference) {\n                !fieldReference.disabled &&\n                    set(_formValues, name, getFieldValueAs(value, fieldReference));\n                fieldValue =\n                    isHTMLElement(fieldReference.ref) && isNullOrUndefined(value)\n                        ? ''\n                        : value;\n                if (isMultipleSelect(fieldReference.ref)) {\n                    [...fieldReference.ref.options].forEach((optionRef) => (optionRef.selected = fieldValue.includes(optionRef.value)));\n                }\n                else if (fieldReference.refs) {\n                    if (isCheckBoxInput(fieldReference.ref)) {\n                        fieldReference.refs.length > 1\n                            ? fieldReference.refs.forEach((checkboxRef) => (!checkboxRef.defaultChecked || !checkboxRef.disabled) &&\n                                (checkboxRef.checked = Array.isArray(fieldValue)\n                                    ? !!fieldValue.find((data) => data === checkboxRef.value)\n                                    : fieldValue === checkboxRef.value))\n                            : fieldReference.refs[0] &&\n                                (fieldReference.refs[0].checked = !!fieldValue);\n                    }\n                    else {\n                        fieldReference.refs.forEach((radioRef) => (radioRef.checked = radioRef.value === fieldValue));\n                    }\n                }\n                else if (isFileInput(fieldReference.ref)) {\n                    fieldReference.ref.value = '';\n                }\n                else {\n                    fieldReference.ref.value = fieldValue;\n                    if (!fieldReference.ref.type) {\n                        _subjects.values.next({\n                            name,\n                            values: { ..._formValues },\n                        });\n                    }\n                }\n            }\n        }\n        (options.shouldDirty || options.shouldTouch) &&\n            updateTouchAndDirty(name, fieldValue, options.shouldTouch, options.shouldDirty, true);\n        options.shouldValidate && trigger(name);\n    };\n    const setValues = (name, value, options) => {\n        for (const fieldKey in value) {\n            const fieldValue = value[fieldKey];\n            const fieldName = `${name}.${fieldKey}`;\n            const field = get(_fields, fieldName);\n            (_names.array.has(name) ||\n                isObject(fieldValue) ||\n                (field && !field._f)) &&\n                !isDateObject(fieldValue)\n                ? setValues(fieldName, fieldValue, options)\n                : setFieldValue(fieldName, fieldValue, options);\n        }\n    };\n    const setValue = (name, value, options = {}) => {\n        const field = get(_fields, name);\n        const isFieldArray = _names.array.has(name);\n        const cloneValue = cloneObject(value);\n        set(_formValues, name, cloneValue);\n        if (isFieldArray) {\n            _subjects.array.next({\n                name,\n                values: { ..._formValues },\n            });\n            if ((_proxyFormState.isDirty || _proxyFormState.dirtyFields) &&\n                options.shouldDirty) {\n                _subjects.state.next({\n                    name,\n                    dirtyFields: getDirtyFields(_defaultValues, _formValues),\n                    isDirty: _getDirty(name, cloneValue),\n                });\n            }\n        }\n        else {\n            field && !field._f && !isNullOrUndefined(cloneValue)\n                ? setValues(name, cloneValue, options)\n                : setFieldValue(name, cloneValue, options);\n        }\n        isWatched(name, _names) && _subjects.state.next({ ..._formState });\n        _subjects.values.next({\n            name: _state.mount ? name : undefined,\n            values: { ..._formValues },\n        });\n    };\n    const onChange = async (event) => {\n        _state.mount = true;\n        const target = event.target;\n        let name = target.name;\n        let isFieldValueUpdated = true;\n        const field = get(_fields, name);\n        const getCurrentFieldValue = () => target.type ? getFieldValue(field._f) : getEventValue(event);\n        const _updateIsFieldValueUpdated = (fieldValue) => {\n            isFieldValueUpdated =\n                Number.isNaN(fieldValue) ||\n                    (isDateObject(fieldValue) && isNaN(fieldValue.getTime())) ||\n                    deepEqual(fieldValue, get(_formValues, name, fieldValue));\n        };\n        if (field) {\n            let error;\n            let isValid;\n            const fieldValue = getCurrentFieldValue();\n            const isBlurEvent = event.type === EVENTS.BLUR || event.type === EVENTS.FOCUS_OUT;\n            const shouldSkipValidation = (!hasValidation(field._f) &&\n                !_options.resolver &&\n                !get(_formState.errors, name) &&\n                !field._f.deps) ||\n                skipValidation(isBlurEvent, get(_formState.touchedFields, name), _formState.isSubmitted, validationModeAfterSubmit, validationModeBeforeSubmit);\n            const watched = isWatched(name, _names, isBlurEvent);\n            set(_formValues, name, fieldValue);\n            if (isBlurEvent) {\n                field._f.onBlur && field._f.onBlur(event);\n                delayErrorCallback && delayErrorCallback(0);\n            }\n            else if (field._f.onChange) {\n                field._f.onChange(event);\n            }\n            const fieldState = updateTouchAndDirty(name, fieldValue, isBlurEvent, false);\n            const shouldRender = !isEmptyObject(fieldState) || watched;\n            !isBlurEvent &&\n                _subjects.values.next({\n                    name,\n                    type: event.type,\n                    values: { ..._formValues },\n                });\n            if (shouldSkipValidation) {\n                if (_proxyFormState.isValid) {\n                    if (_options.mode === 'onBlur' && isBlurEvent) {\n                        _updateValid();\n                    }\n                    else if (!isBlurEvent) {\n                        _updateValid();\n                    }\n                }\n                return (shouldRender &&\n                    _subjects.state.next({ name, ...(watched ? {} : fieldState) }));\n            }\n            !isBlurEvent && watched && _subjects.state.next({ ..._formState });\n            if (_options.resolver) {\n                const { errors } = await _executeSchema([name]);\n                _updateIsFieldValueUpdated(fieldValue);\n                if (isFieldValueUpdated) {\n                    const previousErrorLookupResult = schemaErrorLookup(_formState.errors, _fields, name);\n                    const errorLookupResult = schemaErrorLookup(errors, _fields, previousErrorLookupResult.name || name);\n                    error = errorLookupResult.error;\n                    name = errorLookupResult.name;\n                    isValid = isEmptyObject(errors);\n                }\n            }\n            else {\n                _updateIsValidating([name], true);\n                error = (await validateField(field, _names.disabled, _formValues, shouldDisplayAllAssociatedErrors, _options.shouldUseNativeValidation))[name];\n                _updateIsValidating([name]);\n                _updateIsFieldValueUpdated(fieldValue);\n                if (isFieldValueUpdated) {\n                    if (error) {\n                        isValid = false;\n                    }\n                    else if (_proxyFormState.isValid) {\n                        isValid = await executeBuiltInValidation(_fields, true);\n                    }\n                }\n            }\n            if (isFieldValueUpdated) {\n                field._f.deps &&\n                    trigger(field._f.deps);\n                shouldRenderByError(name, isValid, error, fieldState);\n            }\n        }\n    };\n    const _focusInput = (ref, key) => {\n        if (get(_formState.errors, key) && ref.focus) {\n            ref.focus();\n            return 1;\n        }\n        return;\n    };\n    const trigger = async (name, options = {}) => {\n        let isValid;\n        let validationResult;\n        const fieldNames = convertToArrayPayload(name);\n        if (_options.resolver) {\n            const errors = await executeSchemaAndUpdateState(isUndefined(name) ? name : fieldNames);\n            isValid = isEmptyObject(errors);\n            validationResult = name\n                ? !fieldNames.some((name) => get(errors, name))\n                : isValid;\n        }\n        else if (name) {\n            validationResult = (await Promise.all(fieldNames.map(async (fieldName) => {\n                const field = get(_fields, fieldName);\n                return await executeBuiltInValidation(field && field._f ? { [fieldName]: field } : field);\n            }))).every(Boolean);\n            !(!validationResult && !_formState.isValid) && _updateValid();\n        }\n        else {\n            validationResult = isValid = await executeBuiltInValidation(_fields);\n        }\n        _subjects.state.next({\n            ...(!isString(name) ||\n                (_proxyFormState.isValid && isValid !== _formState.isValid)\n                ? {}\n                : { name }),\n            ...(_options.resolver || !name ? { isValid } : {}),\n            errors: _formState.errors,\n        });\n        options.shouldFocus &&\n            !validationResult &&\n            iterateFieldsByAction(_fields, _focusInput, name ? fieldNames : _names.mount);\n        return validationResult;\n    };\n    const getValues = (fieldNames) => {\n        const values = {\n            ...(_state.mount ? _formValues : _defaultValues),\n        };\n        return isUndefined(fieldNames)\n            ? values\n            : isString(fieldNames)\n                ? get(values, fieldNames)\n                : fieldNames.map((name) => get(values, name));\n    };\n    const getFieldState = (name, formState) => ({\n        invalid: !!get((formState || _formState).errors, name),\n        isDirty: !!get((formState || _formState).dirtyFields, name),\n        error: get((formState || _formState).errors, name),\n        isValidating: !!get(_formState.validatingFields, name),\n        isTouched: !!get((formState || _formState).touchedFields, name),\n    });\n    const clearErrors = (name) => {\n        name &&\n            convertToArrayPayload(name).forEach((inputName) => unset(_formState.errors, inputName));\n        _subjects.state.next({\n            errors: name ? _formState.errors : {},\n        });\n    };\n    const setError = (name, error, options) => {\n        const ref = (get(_fields, name, { _f: {} })._f || {}).ref;\n        const currentError = get(_formState.errors, name) || {};\n        // Don't override existing error messages elsewhere in the object tree.\n        const { ref: currentRef, message, type, ...restOfErrorTree } = currentError;\n        set(_formState.errors, name, {\n            ...restOfErrorTree,\n            ...error,\n            ref,\n        });\n        _subjects.state.next({\n            name,\n            errors: _formState.errors,\n            isValid: false,\n        });\n        options && options.shouldFocus && ref && ref.focus && ref.focus();\n    };\n    const watch = (name, defaultValue) => isFunction(name)\n        ? _subjects.values.subscribe({\n            next: (payload) => name(_getWatch(undefined, defaultValue), payload),\n        })\n        : _getWatch(name, defaultValue, true);\n    const unregister = (name, options = {}) => {\n        for (const fieldName of name ? convertToArrayPayload(name) : _names.mount) {\n            _names.mount.delete(fieldName);\n            _names.array.delete(fieldName);\n            if (!options.keepValue) {\n                unset(_fields, fieldName);\n                unset(_formValues, fieldName);\n            }\n            !options.keepError && unset(_formState.errors, fieldName);\n            !options.keepDirty && unset(_formState.dirtyFields, fieldName);\n            !options.keepTouched && unset(_formState.touchedFields, fieldName);\n            !options.keepIsValidating &&\n                unset(_formState.validatingFields, fieldName);\n            !_options.shouldUnregister &&\n                !options.keepDefaultValue &&\n                unset(_defaultValues, fieldName);\n        }\n        _subjects.values.next({\n            values: { ..._formValues },\n        });\n        _subjects.state.next({\n            ..._formState,\n            ...(!options.keepDirty ? {} : { isDirty: _getDirty() }),\n        });\n        !options.keepIsValid && _updateValid();\n    };\n    const _updateDisabledField = ({ disabled, name, field, fields, }) => {\n        if ((isBoolean(disabled) && _state.mount) ||\n            !!disabled ||\n            _names.disabled.has(name)) {\n            disabled ? _names.disabled.add(name) : _names.disabled.delete(name);\n            updateTouchAndDirty(name, getFieldValue(field ? field._f : get(fields, name)._f), false, false, true);\n        }\n    };\n    const register = (name, options = {}) => {\n        let field = get(_fields, name);\n        const disabledIsDefined = isBoolean(options.disabled) || isBoolean(_options.disabled);\n        set(_fields, name, {\n            ...(field || {}),\n            _f: {\n                ...(field && field._f ? field._f : { ref: { name } }),\n                name,\n                mount: true,\n                ...options,\n            },\n        });\n        _names.mount.add(name);\n        if (field) {\n            _updateDisabledField({\n                field,\n                disabled: isBoolean(options.disabled)\n                    ? options.disabled\n                    : _options.disabled,\n                name,\n            });\n        }\n        else {\n            updateValidAndValue(name, true, options.value);\n        }\n        return {\n            ...(disabledIsDefined\n                ? { disabled: options.disabled || _options.disabled }\n                : {}),\n            ...(_options.progressive\n                ? {\n                    required: !!options.required,\n                    min: getRuleValue(options.min),\n                    max: getRuleValue(options.max),\n                    minLength: getRuleValue(options.minLength),\n                    maxLength: getRuleValue(options.maxLength),\n                    pattern: getRuleValue(options.pattern),\n                }\n                : {}),\n            name,\n            onChange,\n            onBlur: onChange,\n            ref: (ref) => {\n                if (ref) {\n                    register(name, options);\n                    field = get(_fields, name);\n                    const fieldRef = isUndefined(ref.value)\n                        ? ref.querySelectorAll\n                            ? ref.querySelectorAll('input,select,textarea')[0] || ref\n                            : ref\n                        : ref;\n                    const radioOrCheckbox = isRadioOrCheckbox(fieldRef);\n                    const refs = field._f.refs || [];\n                    if (radioOrCheckbox\n                        ? refs.find((option) => option === fieldRef)\n                        : fieldRef === field._f.ref) {\n                        return;\n                    }\n                    set(_fields, name, {\n                        _f: {\n                            ...field._f,\n                            ...(radioOrCheckbox\n                                ? {\n                                    refs: [\n                                        ...refs.filter(live),\n                                        fieldRef,\n                                        ...(Array.isArray(get(_defaultValues, name)) ? [{}] : []),\n                                    ],\n                                    ref: { type: fieldRef.type, name },\n                                }\n                                : { ref: fieldRef }),\n                        },\n                    });\n                    updateValidAndValue(name, false, undefined, fieldRef);\n                }\n                else {\n                    field = get(_fields, name, {});\n                    if (field._f) {\n                        field._f.mount = false;\n                    }\n                    (_options.shouldUnregister || options.shouldUnregister) &&\n                        !(isNameInFieldArray(_names.array, name) && _state.action) &&\n                        _names.unMount.add(name);\n                }\n            },\n        };\n    };\n    const _focusError = () => _options.shouldFocusError &&\n        iterateFieldsByAction(_fields, _focusInput, _names.mount);\n    const _disableForm = (disabled) => {\n        if (isBoolean(disabled)) {\n            _subjects.state.next({ disabled });\n            iterateFieldsByAction(_fields, (ref, name) => {\n                const currentField = get(_fields, name);\n                if (currentField) {\n                    ref.disabled = currentField._f.disabled || disabled;\n                    if (Array.isArray(currentField._f.refs)) {\n                        currentField._f.refs.forEach((inputRef) => {\n                            inputRef.disabled = currentField._f.disabled || disabled;\n                        });\n                    }\n                }\n            }, 0, false);\n        }\n    };\n    const handleSubmit = (onValid, onInvalid) => async (e) => {\n        let onValidError = undefined;\n        if (e) {\n            e.preventDefault && e.preventDefault();\n            e.persist && e.persist();\n        }\n        let fieldValues = cloneObject(_formValues);\n        if (_names.disabled.size) {\n            for (const name of _names.disabled) {\n                set(fieldValues, name, undefined);\n            }\n        }\n        _subjects.state.next({\n            isSubmitting: true,\n        });\n        if (_options.resolver) {\n            const { errors, values } = await _executeSchema();\n            _formState.errors = errors;\n            fieldValues = values;\n        }\n        else {\n            await executeBuiltInValidation(_fields);\n        }\n        unset(_formState.errors, 'root');\n        if (isEmptyObject(_formState.errors)) {\n            _subjects.state.next({\n                errors: {},\n            });\n            try {\n                await onValid(fieldValues, e);\n            }\n            catch (error) {\n                onValidError = error;\n            }\n        }\n        else {\n            if (onInvalid) {\n                await onInvalid({ ..._formState.errors }, e);\n            }\n            _focusError();\n            setTimeout(_focusError);\n        }\n        _subjects.state.next({\n            isSubmitted: true,\n            isSubmitting: false,\n            isSubmitSuccessful: isEmptyObject(_formState.errors) && !onValidError,\n            submitCount: _formState.submitCount + 1,\n            errors: _formState.errors,\n        });\n        if (onValidError) {\n            throw onValidError;\n        }\n    };\n    const resetField = (name, options = {}) => {\n        if (get(_fields, name)) {\n            if (isUndefined(options.defaultValue)) {\n                setValue(name, cloneObject(get(_defaultValues, name)));\n            }\n            else {\n                setValue(name, options.defaultValue);\n                set(_defaultValues, name, cloneObject(options.defaultValue));\n            }\n            if (!options.keepTouched) {\n                unset(_formState.touchedFields, name);\n            }\n            if (!options.keepDirty) {\n                unset(_formState.dirtyFields, name);\n                _formState.isDirty = options.defaultValue\n                    ? _getDirty(name, cloneObject(get(_defaultValues, name)))\n                    : _getDirty();\n            }\n            if (!options.keepError) {\n                unset(_formState.errors, name);\n                _proxyFormState.isValid && _updateValid();\n            }\n            _subjects.state.next({ ..._formState });\n        }\n    };\n    const _reset = (formValues, keepStateOptions = {}) => {\n        const updatedValues = formValues ? cloneObject(formValues) : _defaultValues;\n        const cloneUpdatedValues = cloneObject(updatedValues);\n        const isEmptyResetValues = isEmptyObject(formValues);\n        const values = isEmptyResetValues ? _defaultValues : cloneUpdatedValues;\n        if (!keepStateOptions.keepDefaultValues) {\n            _defaultValues = updatedValues;\n        }\n        if (!keepStateOptions.keepValues) {\n            if (keepStateOptions.keepDirtyValues) {\n                const fieldsToCheck = new Set([\n                    ..._names.mount,\n                    ...Object.keys(getDirtyFields(_defaultValues, _formValues)),\n                ]);\n                for (const fieldName of Array.from(fieldsToCheck)) {\n                    get(_formState.dirtyFields, fieldName)\n                        ? set(values, fieldName, get(_formValues, fieldName))\n                        : setValue(fieldName, get(values, fieldName));\n                }\n            }\n            else {\n                if (isWeb && isUndefined(formValues)) {\n                    for (const name of _names.mount) {\n                        const field = get(_fields, name);\n                        if (field && field._f) {\n                            const fieldReference = Array.isArray(field._f.refs)\n                                ? field._f.refs[0]\n                                : field._f.ref;\n                            if (isHTMLElement(fieldReference)) {\n                                const form = fieldReference.closest('form');\n                                if (form) {\n                                    form.reset();\n                                    break;\n                                }\n                            }\n                        }\n                    }\n                }\n                _fields = {};\n            }\n            _formValues = _options.shouldUnregister\n                ? keepStateOptions.keepDefaultValues\n                    ? cloneObject(_defaultValues)\n                    : {}\n                : cloneObject(values);\n            _subjects.array.next({\n                values: { ...values },\n            });\n            _subjects.values.next({\n                values: { ...values },\n            });\n        }\n        _names = {\n            mount: keepStateOptions.keepDirtyValues ? _names.mount : new Set(),\n            unMount: new Set(),\n            array: new Set(),\n            disabled: new Set(),\n            watch: new Set(),\n            watchAll: false,\n            focus: '',\n        };\n        _state.mount =\n            !_proxyFormState.isValid ||\n                !!keepStateOptions.keepIsValid ||\n                !!keepStateOptions.keepDirtyValues;\n        _state.watch = !!_options.shouldUnregister;\n        _subjects.state.next({\n            submitCount: keepStateOptions.keepSubmitCount\n                ? _formState.submitCount\n                : 0,\n            isDirty: isEmptyResetValues\n                ? false\n                : keepStateOptions.keepDirty\n                    ? _formState.isDirty\n                    : !!(keepStateOptions.keepDefaultValues &&\n                        !deepEqual(formValues, _defaultValues)),\n            isSubmitted: keepStateOptions.keepIsSubmitted\n                ? _formState.isSubmitted\n                : false,\n            dirtyFields: isEmptyResetValues\n                ? {}\n                : keepStateOptions.keepDirtyValues\n                    ? keepStateOptions.keepDefaultValues && _formValues\n                        ? getDirtyFields(_defaultValues, _formValues)\n                        : _formState.dirtyFields\n                    : keepStateOptions.keepDefaultValues && formValues\n                        ? getDirtyFields(_defaultValues, formValues)\n                        : keepStateOptions.keepDirty\n                            ? _formState.dirtyFields\n                            : {},\n            touchedFields: keepStateOptions.keepTouched\n                ? _formState.touchedFields\n                : {},\n            errors: keepStateOptions.keepErrors ? _formState.errors : {},\n            isSubmitSuccessful: keepStateOptions.keepIsSubmitSuccessful\n                ? _formState.isSubmitSuccessful\n                : false,\n            isSubmitting: false,\n        });\n    };\n    const reset = (formValues, keepStateOptions) => _reset(isFunction(formValues)\n        ? formValues(_formValues)\n        : formValues, keepStateOptions);\n    const setFocus = (name, options = {}) => {\n        const field = get(_fields, name);\n        const fieldReference = field && field._f;\n        if (fieldReference) {\n            const fieldRef = fieldReference.refs\n                ? fieldReference.refs[0]\n                : fieldReference.ref;\n            if (fieldRef.focus) {\n                fieldRef.focus();\n                options.shouldSelect &&\n                    isFunction(fieldRef.select) &&\n                    fieldRef.select();\n            }\n        }\n    };\n    const _updateFormState = (updatedFormState) => {\n        _formState = {\n            ..._formState,\n            ...updatedFormState,\n        };\n    };\n    const _resetDefaultValues = () => isFunction(_options.defaultValues) &&\n        _options.defaultValues().then((values) => {\n            reset(values, _options.resetOptions);\n            _subjects.state.next({\n                isLoading: false,\n            });\n        });\n    return {\n        control: {\n            register,\n            unregister,\n            getFieldState,\n            handleSubmit,\n            setError,\n            _executeSchema,\n            _getWatch,\n            _getDirty,\n            _updateValid,\n            _removeUnmounted,\n            _updateFieldArray,\n            _updateDisabledField,\n            _getFieldArray,\n            _reset,\n            _resetDefaultValues,\n            _updateFormState,\n            _disableForm,\n            _subjects,\n            _proxyFormState,\n            _setErrors,\n            get _fields() {\n                return _fields;\n            },\n            get _formValues() {\n                return _formValues;\n            },\n            get _state() {\n                return _state;\n            },\n            set _state(value) {\n                _state = value;\n            },\n            get _defaultValues() {\n                return _defaultValues;\n            },\n            get _names() {\n                return _names;\n            },\n            set _names(value) {\n                _names = value;\n            },\n            get _formState() {\n                return _formState;\n            },\n            set _formState(value) {\n                _formState = value;\n            },\n            get _options() {\n                return _options;\n            },\n            set _options(value) {\n                _options = {\n                    ..._options,\n                    ...value,\n                };\n            },\n        },\n        trigger,\n        register,\n        handleSubmit,\n        watch,\n        setValue,\n        getValues,\n        reset,\n        resetField,\n        clearErrors,\n        unregister,\n        setError,\n        setFocus,\n        getFieldState,\n    };\n}\n\n/**\n * Custom hook to manage the entire form.\n *\n * @remarks\n * [API](https://react-hook-form.com/docs/useform)  [Demo](https://codesandbox.io/s/react-hook-form-get-started-ts-5ksmm)  [Video](https://www.youtube.com/watch?v=RkXv4AXXC_4)\n *\n * @param props - form configuration and validation parameters.\n *\n * @returns methods - individual functions to manage the form state. {@link UseFormReturn}\n *\n * @example\n * ```tsx\n * function App() {\n *   const { register, handleSubmit, watch, formState: { errors } } = useForm();\n *   const onSubmit = data => console.log(data);\n *\n *   console.log(watch(\"example\"));\n *\n *   return (\n *     <form onSubmit={handleSubmit(onSubmit)}>\n *       <input defaultValue=\"test\" {...register(\"example\")} />\n *       <input {...register(\"exampleRequired\", { required: true })} />\n *       {errors.exampleRequired && <span>This field is required</span>}\n *       <button>Submit</button>\n *     </form>\n *   );\n * }\n * ```\n */\nfunction useForm(props = {}) {\n    const _formControl = React.useRef(undefined);\n    const _values = React.useRef(undefined);\n    const [formState, updateFormState] = React.useState({\n        isDirty: false,\n        isValidating: false,\n        isLoading: isFunction(props.defaultValues),\n        isSubmitted: false,\n        isSubmitting: false,\n        isSubmitSuccessful: false,\n        isValid: false,\n        submitCount: 0,\n        dirtyFields: {},\n        touchedFields: {},\n        validatingFields: {},\n        errors: props.errors || {},\n        disabled: props.disabled || false,\n        defaultValues: isFunction(props.defaultValues)\n            ? undefined\n            : props.defaultValues,\n    });\n    if (!_formControl.current) {\n        _formControl.current = {\n            ...createFormControl(props),\n            formState,\n        };\n    }\n    const control = _formControl.current.control;\n    control._options = props;\n    useSubscribe({\n        subject: control._subjects.state,\n        next: (value) => {\n            if (shouldRenderFormState(value, control._proxyFormState, control._updateFormState, true)) {\n                updateFormState({ ...control._formState });\n            }\n        },\n    });\n    React.useEffect(() => control._disableForm(props.disabled), [control, props.disabled]);\n    React.useEffect(() => {\n        if (control._proxyFormState.isDirty) {\n            const isDirty = control._getDirty();\n            if (isDirty !== formState.isDirty) {\n                control._subjects.state.next({\n                    isDirty,\n                });\n            }\n        }\n    }, [control, formState.isDirty]);\n    React.useEffect(() => {\n        if (props.values && !deepEqual(props.values, _values.current)) {\n            control._reset(props.values, control._options.resetOptions);\n            _values.current = props.values;\n            updateFormState((state) => ({ ...state }));\n        }\n        else {\n            control._resetDefaultValues();\n        }\n    }, [props.values, control]);\n    React.useEffect(() => {\n        if (props.errors) {\n            control._setErrors(props.errors);\n        }\n    }, [props.errors, control]);\n    React.useEffect(() => {\n        if (!control._state.mount) {\n            control._updateValid();\n            control._state.mount = true;\n        }\n        if (control._state.watch) {\n            control._state.watch = false;\n            control._subjects.state.next({ ...control._formState });\n        }\n        control._removeUnmounted();\n    });\n    React.useEffect(() => {\n        props.shouldUnregister &&\n            control._subjects.values.next({\n                values: control._getWatch(),\n            });\n    }, [props.shouldUnregister, control]);\n    _formControl.current.formState = getProxyFormState(formState, control);\n    return _formControl.current;\n}\n\nexport { Controller, Form, FormProvider, appendErrors, get, set, useController, useFieldArray, useForm, useFormContext, useFormState, useWatch };\n//# sourceMappingURL=index.esm.mjs.map\n","// src/index.ts\nimport * as React from \"react\";\n\n// src/helpers.ts\nvar styleToObject = (input) => {\n  if (typeof input !== \"string\") {\n    return {};\n  }\n  return input.split(/ ?; ?/).reduce((acc, item) => {\n    const [key, value] = item.split(/ ?: ?/).map((d, index) => index === 0 ? d.replace(/\\s+/g, \"\") : d.trim());\n    if (key && value) {\n      const nextKey = key.replace(/(\\w)-(\\w)/g, (_$0, $1, $2) => `${$1}${$2.toUpperCase()}`);\n      let nextValue = value.trim();\n      if (!Number.isNaN(Number(value))) {\n        nextValue = Number(value);\n      }\n      acc[key.startsWith(\"-\") ? key : nextKey] = nextValue;\n    }\n    return acc;\n  }, {});\n};\nfunction randomString(length = 6) {\n  const characters = \"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n  let result = \"\";\n  for (let index = length; index > 0; --index) {\n    result += characters[Math.round(Math.random() * (characters.length - 1))];\n  }\n  return result;\n}\nvar noTextChildNodes = [\n  \"br\",\n  \"col\",\n  \"colgroup\",\n  \"dl\",\n  \"hr\",\n  \"iframe\",\n  \"img\",\n  \"input\",\n  \"link\",\n  \"menuitem\",\n  \"meta\",\n  \"ol\",\n  \"param\",\n  \"select\",\n  \"table\",\n  \"tbody\",\n  \"tfoot\",\n  \"thead\",\n  \"tr\",\n  \"ul\",\n  \"wbr\"\n];\nvar possibleStandardNames = {\n  // HTML\n  \"accept-charset\": \"acceptCharset\",\n  acceptcharset: \"acceptCharset\",\n  accesskey: \"accessKey\",\n  allowfullscreen: \"allowFullScreen\",\n  autocapitalize: \"autoCapitalize\",\n  autocomplete: \"autoComplete\",\n  autocorrect: \"autoCorrect\",\n  autofocus: \"autoFocus\",\n  autoplay: \"autoPlay\",\n  autosave: \"autoSave\",\n  cellpadding: \"cellPadding\",\n  cellspacing: \"cellSpacing\",\n  charset: \"charSet\",\n  class: \"className\",\n  classid: \"classID\",\n  classname: \"className\",\n  colspan: \"colSpan\",\n  contenteditable: \"contentEditable\",\n  contextmenu: \"contextMenu\",\n  controlslist: \"controlsList\",\n  crossorigin: \"crossOrigin\",\n  dangerouslysetinnerhtml: \"dangerouslySetInnerHTML\",\n  datetime: \"dateTime\",\n  defaultchecked: \"defaultChecked\",\n  defaultvalue: \"defaultValue\",\n  enctype: \"encType\",\n  for: \"htmlFor\",\n  formmethod: \"formMethod\",\n  formaction: \"formAction\",\n  formenctype: \"formEncType\",\n  formnovalidate: \"formNoValidate\",\n  formtarget: \"formTarget\",\n  frameborder: \"frameBorder\",\n  hreflang: \"hrefLang\",\n  htmlfor: \"htmlFor\",\n  httpequiv: \"httpEquiv\",\n  \"http-equiv\": \"httpEquiv\",\n  icon: \"icon\",\n  innerhtml: \"innerHTML\",\n  inputmode: \"inputMode\",\n  itemid: \"itemID\",\n  itemprop: \"itemProp\",\n  itemref: \"itemRef\",\n  itemscope: \"itemScope\",\n  itemtype: \"itemType\",\n  keyparams: \"keyParams\",\n  keytype: \"keyType\",\n  marginwidth: \"marginWidth\",\n  marginheight: \"marginHeight\",\n  maxlength: \"maxLength\",\n  mediagroup: \"mediaGroup\",\n  minlength: \"minLength\",\n  nomodule: \"noModule\",\n  novalidate: \"noValidate\",\n  playsinline: \"playsInline\",\n  radiogroup: \"radioGroup\",\n  readonly: \"readOnly\",\n  referrerpolicy: \"referrerPolicy\",\n  rowspan: \"rowSpan\",\n  spellcheck: \"spellCheck\",\n  srcdoc: \"srcDoc\",\n  srclang: \"srcLang\",\n  srcset: \"srcSet\",\n  tabindex: \"tabIndex\",\n  typemustmatch: \"typeMustMatch\",\n  usemap: \"useMap\",\n  // SVG\n  accentheight: \"accentHeight\",\n  \"accent-height\": \"accentHeight\",\n  alignmentbaseline: \"alignmentBaseline\",\n  \"alignment-baseline\": \"alignmentBaseline\",\n  allowreorder: \"allowReorder\",\n  arabicform: \"arabicForm\",\n  \"arabic-form\": \"arabicForm\",\n  attributename: \"attributeName\",\n  attributetype: \"attributeType\",\n  autoreverse: \"autoReverse\",\n  basefrequency: \"baseFrequency\",\n  baselineshift: \"baselineShift\",\n  \"baseline-shift\": \"baselineShift\",\n  baseprofile: \"baseProfile\",\n  calcmode: \"calcMode\",\n  capheight: \"capHeight\",\n  \"cap-height\": \"capHeight\",\n  clippath: \"clipPath\",\n  \"clip-path\": \"clipPath\",\n  clippathunits: \"clipPathUnits\",\n  cliprule: \"clipRule\",\n  \"clip-rule\": \"clipRule\",\n  colorinterpolation: \"colorInterpolation\",\n  \"color-interpolation\": \"colorInterpolation\",\n  colorinterpolationfilters: \"colorInterpolationFilters\",\n  \"color-interpolation-filters\": \"colorInterpolationFilters\",\n  colorprofile: \"colorProfile\",\n  \"color-profile\": \"colorProfile\",\n  colorrendering: \"colorRendering\",\n  \"color-rendering\": \"colorRendering\",\n  contentscripttype: \"contentScriptType\",\n  contentstyletype: \"contentStyleType\",\n  diffuseconstant: \"diffuseConstant\",\n  dominantbaseline: \"dominantBaseline\",\n  \"dominant-baseline\": \"dominantBaseline\",\n  edgemode: \"edgeMode\",\n  enablebackground: \"enableBackground\",\n  \"enable-background\": \"enableBackground\",\n  externalresourcesrequired: \"externalResourcesRequired\",\n  fillopacity: \"fillOpacity\",\n  \"fill-opacity\": \"fillOpacity\",\n  fillrule: \"fillRule\",\n  \"fill-rule\": \"fillRule\",\n  filterres: \"filterRes\",\n  filterunits: \"filterUnits\",\n  floodopacity: \"floodOpacity\",\n  \"flood-opacity\": \"floodOpacity\",\n  floodcolor: \"floodColor\",\n  \"flood-color\": \"floodColor\",\n  fontfamily: \"fontFamily\",\n  \"font-family\": \"fontFamily\",\n  fontsize: \"fontSize\",\n  \"font-size\": \"fontSize\",\n  fontsizeadjust: \"fontSizeAdjust\",\n  \"font-size-adjust\": \"fontSizeAdjust\",\n  fontstretch: \"fontStretch\",\n  \"font-stretch\": \"fontStretch\",\n  fontstyle: \"fontStyle\",\n  \"font-style\": \"fontStyle\",\n  fontvariant: \"fontVariant\",\n  \"font-variant\": \"fontVariant\",\n  fontweight: \"fontWeight\",\n  \"font-weight\": \"fontWeight\",\n  glyphname: \"glyphName\",\n  \"glyph-name\": \"glyphName\",\n  glyphorientationhorizontal: \"glyphOrientationHorizontal\",\n  \"glyph-orientation-horizontal\": \"glyphOrientationHorizontal\",\n  glyphorientationvertical: \"glyphOrientationVertical\",\n  \"glyph-orientation-vertical\": \"glyphOrientationVertical\",\n  glyphref: \"glyphRef\",\n  gradienttransform: \"gradientTransform\",\n  gradientunits: \"gradientUnits\",\n  horizadvx: \"horizAdvX\",\n  \"horiz-adv-x\": \"horizAdvX\",\n  horizoriginx: \"horizOriginX\",\n  \"horiz-origin-x\": \"horizOriginX\",\n  imagerendering: \"imageRendering\",\n  \"image-rendering\": \"imageRendering\",\n  kernelmatrix: \"kernelMatrix\",\n  kernelunitlength: \"kernelUnitLength\",\n  keypoints: \"keyPoints\",\n  keysplines: \"keySplines\",\n  keytimes: \"keyTimes\",\n  lengthadjust: \"lengthAdjust\",\n  letterspacing: \"letterSpacing\",\n  \"letter-spacing\": \"letterSpacing\",\n  lightingcolor: \"lightingColor\",\n  \"lighting-color\": \"lightingColor\",\n  limitingconeangle: \"limitingConeAngle\",\n  markerend: \"markerEnd\",\n  \"marker-end\": \"markerEnd\",\n  markerheight: \"markerHeight\",\n  markermid: \"markerMid\",\n  \"marker-mid\": \"markerMid\",\n  markerstart: \"markerStart\",\n  \"marker-start\": \"markerStart\",\n  markerunits: \"markerUnits\",\n  markerwidth: \"markerWidth\",\n  maskcontentunits: \"maskContentUnits\",\n  maskunits: \"maskUnits\",\n  numoctaves: \"numOctaves\",\n  overlineposition: \"overlinePosition\",\n  \"overline-position\": \"overlinePosition\",\n  overlinethickness: \"overlineThickness\",\n  \"overline-thickness\": \"overlineThickness\",\n  paintorder: \"paintOrder\",\n  \"paint-order\": \"paintOrder\",\n  \"panose-1\": \"panose1\",\n  pathlength: \"pathLength\",\n  patterncontentunits: \"patternContentUnits\",\n  patterntransform: \"patternTransform\",\n  patternunits: \"patternUnits\",\n  pointerevents: \"pointerEvents\",\n  \"pointer-events\": \"pointerEvents\",\n  pointsatx: \"pointsAtX\",\n  pointsaty: \"pointsAtY\",\n  pointsatz: \"pointsAtZ\",\n  preservealpha: \"preserveAlpha\",\n  preserveaspectratio: \"preserveAspectRatio\",\n  primitiveunits: \"primitiveUnits\",\n  refx: \"refX\",\n  refy: \"refY\",\n  renderingintent: \"renderingIntent\",\n  \"rendering-intent\": \"renderingIntent\",\n  repeatcount: \"repeatCount\",\n  repeatdur: \"repeatDur\",\n  requiredextensions: \"requiredExtensions\",\n  requiredfeatures: \"requiredFeatures\",\n  shaperendering: \"shapeRendering\",\n  \"shape-rendering\": \"shapeRendering\",\n  specularconstant: \"specularConstant\",\n  specularexponent: \"specularExponent\",\n  spreadmethod: \"spreadMethod\",\n  startoffset: \"startOffset\",\n  stddeviation: \"stdDeviation\",\n  stitchtiles: \"stitchTiles\",\n  stopcolor: \"stopColor\",\n  \"stop-color\": \"stopColor\",\n  stopopacity: \"stopOpacity\",\n  \"stop-opacity\": \"stopOpacity\",\n  strikethroughposition: \"strikethroughPosition\",\n  \"strikethrough-position\": \"strikethroughPosition\",\n  strikethroughthickness: \"strikethroughThickness\",\n  \"strikethrough-thickness\": \"strikethroughThickness\",\n  strokedasharray: \"strokeDasharray\",\n  \"stroke-dasharray\": \"strokeDasharray\",\n  strokedashoffset: \"strokeDashoffset\",\n  \"stroke-dashoffset\": \"strokeDashoffset\",\n  strokelinecap: \"strokeLinecap\",\n  \"stroke-linecap\": \"strokeLinecap\",\n  strokelinejoin: \"strokeLinejoin\",\n  \"stroke-linejoin\": \"strokeLinejoin\",\n  strokemiterlimit: \"strokeMiterlimit\",\n  \"stroke-miterlimit\": \"strokeMiterlimit\",\n  strokewidth: \"strokeWidth\",\n  \"stroke-width\": \"strokeWidth\",\n  strokeopacity: \"strokeOpacity\",\n  \"stroke-opacity\": \"strokeOpacity\",\n  suppresscontenteditablewarning: \"suppressContentEditableWarning\",\n  suppresshydrationwarning: \"suppressHydrationWarning\",\n  surfacescale: \"surfaceScale\",\n  systemlanguage: \"systemLanguage\",\n  tablevalues: \"tableValues\",\n  targetx: \"targetX\",\n  targety: \"targetY\",\n  textanchor: \"textAnchor\",\n  \"text-anchor\": \"textAnchor\",\n  textdecoration: \"textDecoration\",\n  \"text-decoration\": \"textDecoration\",\n  textlength: \"textLength\",\n  textrendering: \"textRendering\",\n  \"text-rendering\": \"textRendering\",\n  underlineposition: \"underlinePosition\",\n  \"underline-position\": \"underlinePosition\",\n  underlinethickness: \"underlineThickness\",\n  \"underline-thickness\": \"underlineThickness\",\n  unicodebidi: \"unicodeBidi\",\n  \"unicode-bidi\": \"unicodeBidi\",\n  unicoderange: \"unicodeRange\",\n  \"unicode-range\": \"unicodeRange\",\n  unitsperem: \"unitsPerEm\",\n  \"units-per-em\": \"unitsPerEm\",\n  unselectable: \"unselectable\",\n  valphabetic: \"vAlphabetic\",\n  \"v-alphabetic\": \"vAlphabetic\",\n  vectoreffect: \"vectorEffect\",\n  \"vector-effect\": \"vectorEffect\",\n  vertadvy: \"vertAdvY\",\n  \"vert-adv-y\": \"vertAdvY\",\n  vertoriginx: \"vertOriginX\",\n  \"vert-origin-x\": \"vertOriginX\",\n  vertoriginy: \"vertOriginY\",\n  \"vert-origin-y\": \"vertOriginY\",\n  vhanging: \"vHanging\",\n  \"v-hanging\": \"vHanging\",\n  videographic: \"vIdeographic\",\n  \"v-ideographic\": \"vIdeographic\",\n  viewbox: \"viewBox\",\n  viewtarget: \"viewTarget\",\n  vmathematical: \"vMathematical\",\n  \"v-mathematical\": \"vMathematical\",\n  wordspacing: \"wordSpacing\",\n  \"word-spacing\": \"wordSpacing\",\n  writingmode: \"writingMode\",\n  \"writing-mode\": \"writingMode\",\n  xchannelselector: \"xChannelSelector\",\n  xheight: \"xHeight\",\n  \"x-height\": \"xHeight\",\n  xlinkactuate: \"xlinkActuate\",\n  \"xlink:actuate\": \"xlinkActuate\",\n  xlinkarcrole: \"xlinkArcrole\",\n  \"xlink:arcrole\": \"xlinkArcrole\",\n  xlinkhref: \"xlinkHref\",\n  \"xlink:href\": \"xlinkHref\",\n  xlinkrole: \"xlinkRole\",\n  \"xlink:role\": \"xlinkRole\",\n  xlinkshow: \"xlinkShow\",\n  \"xlink:show\": \"xlinkShow\",\n  xlinktitle: \"xlinkTitle\",\n  \"xlink:title\": \"xlinkTitle\",\n  xlinktype: \"xlinkType\",\n  \"xlink:type\": \"xlinkType\",\n  xmlbase: \"xmlBase\",\n  \"xml:base\": \"xmlBase\",\n  xmllang: \"xmlLang\",\n  \"xml:lang\": \"xmlLang\",\n  \"xml:space\": \"xmlSpace\",\n  xmlnsxlink: \"xmlnsXlink\",\n  \"xmlns:xlink\": \"xmlnsXlink\",\n  xmlspace: \"xmlSpace\",\n  ychannelselector: \"yChannelSelector\",\n  zoomandpan: \"zoomAndPan\",\n  // event handlers\n  onblur: \"onBlur\",\n  onchange: \"onChange\",\n  onclick: \"onClick\",\n  oncontextmenu: \"onContextMenu\",\n  ondoubleclick: \"onDoubleClick\",\n  ondrag: \"onDrag\",\n  ondragend: \"onDragEnd\",\n  ondragenter: \"onDragEnter\",\n  ondragexit: \"onDragExit\",\n  ondragleave: \"onDragLeave\",\n  ondragover: \"onDragOver\",\n  ondragstart: \"onDragStart\",\n  ondrop: \"onDrop\",\n  onerror: \"onError\",\n  onfocus: \"onFocus\",\n  oninput: \"onInput\",\n  oninvalid: \"onInvalid\",\n  onkeydown: \"onKeyDown\",\n  onkeypress: \"onKeyPress\",\n  onkeyup: \"onKeyUp\",\n  onload: \"onLoad\",\n  onmousedown: \"onMouseDown\",\n  onmouseenter: \"onMouseEnter\",\n  onmouseleave: \"onMouseLeave\",\n  onmousemove: \"onMouseMove\",\n  onmouseout: \"onMouseOut\",\n  onmouseover: \"onMouseOver\",\n  onmouseup: \"onMouseUp\",\n  onscroll: \"onScroll\",\n  onsubmit: \"onSubmit\",\n  ontouchcancel: \"onTouchCancel\",\n  ontouchend: \"onTouchEnd\",\n  ontouchmove: \"onTouchMove\",\n  ontouchstart: \"onTouchStart\",\n  onwheel: \"onWheel\"\n};\n\n// src/index.ts\nfunction getReactNode(node, options) {\n  const { key, level, ...rest } = options;\n  switch (node.nodeType) {\n    case 1: {\n      return React.createElement(\n        parseName(node.nodeName),\n        parseAttributes(node, key),\n        parseChildren(node.childNodes, level, rest)\n      );\n    }\n    case 3: {\n      const nodeText = node.nodeValue?.toString() ?? \"\";\n      if (!rest.allowWhiteSpaces && /^\\s+$/.test(nodeText) && !/[\\u00A0\\u202F]/.test(nodeText)) {\n        return null;\n      }\n      if (!node.parentNode) {\n        return nodeText;\n      }\n      const parentNodeName = node.parentNode.nodeName.toLowerCase();\n      if (noTextChildNodes.includes(parentNodeName)) {\n        if (/\\S/.test(nodeText)) {\n          console.warn(\n            `A textNode is not allowed inside '${parentNodeName}'. Your text \"${nodeText}\" will be ignored`\n          );\n        }\n        return null;\n      }\n      return nodeText;\n    }\n    case 8: {\n      return null;\n    }\n    case 11: {\n      return parseChildren(node.childNodes, level, options);\n    }\n    default: {\n      return null;\n    }\n  }\n}\nfunction parseAttributes(node, reactKey) {\n  const attributes = {\n    key: reactKey\n  };\n  if (node instanceof Element) {\n    const nodeClassNames = node.getAttribute(\"class\");\n    if (nodeClassNames) {\n      attributes.className = nodeClassNames;\n    }\n    [...node.attributes].forEach((d) => {\n      switch (d.name) {\n        case \"class\":\n          break;\n        case \"style\":\n          attributes[d.name] = styleToObject(d.value);\n          break;\n        case \"allowfullscreen\":\n        case \"allowpaymentrequest\":\n        case \"async\":\n        case \"autofocus\":\n        case \"autoplay\":\n        case \"checked\":\n        case \"controls\":\n        case \"default\":\n        case \"defer\":\n        case \"disabled\":\n        case \"formnovalidate\":\n        case \"hidden\":\n        case \"ismap\":\n        case \"itemscope\":\n        case \"loop\":\n        case \"multiple\":\n        case \"muted\":\n        case \"nomodule\":\n        case \"novalidate\":\n        case \"open\":\n        case \"readonly\":\n        case \"required\":\n        case \"reversed\":\n        case \"selected\":\n        case \"typemustmatch\":\n          attributes[possibleStandardNames[d.name] || d.name] = true;\n          break;\n        default:\n          attributes[possibleStandardNames[d.name] || d.name] = d.value;\n      }\n    });\n  }\n  return attributes;\n}\nfunction parseChildren(childNodeList, level, options) {\n  const children = [...childNodeList].map(\n    (node, index) => convertFromNode(node, {\n      ...options,\n      index,\n      level: level + 1\n    })\n  ).filter(Boolean);\n  if (!children.length) {\n    return null;\n  }\n  return children;\n}\nfunction parseName(nodeName) {\n  if (/[a-z]+[A-Z]+[a-z]+/.test(nodeName)) {\n    return nodeName;\n  }\n  return nodeName.toLowerCase();\n}\nfunction convertFromNode(input, options = {}) {\n  if (!input || !(input instanceof Node)) {\n    return null;\n  }\n  const { actions = [], index = 0, level = 0, randomKey } = options;\n  let node = input;\n  let key = `${level}-${index}`;\n  const result = [];\n  if (randomKey && level === 0) {\n    key = `${randomString()}-${key}`;\n  }\n  if (Array.isArray(actions)) {\n    actions.forEach((action) => {\n      if (action.condition(node, key, level)) {\n        if (typeof action.pre === \"function\") {\n          node = action.pre(node, key, level);\n          if (!(node instanceof Node)) {\n            node = input;\n            if (process.env.NODE_ENV !== \"production\") {\n              console.warn(\n                \"The `pre` method always must return a valid DomNode (instanceof Node) - your modification will be ignored (Hint: if you want to render a React-component, use the `post` method instead)\"\n              );\n            }\n          }\n        }\n        if (typeof action.post === \"function\") {\n          result.push(action.post(node, key, level));\n        }\n      }\n    });\n  }\n  if (result.length) {\n    return result;\n  }\n  return getReactNode(node, { key, level, ...options });\n}\nfunction convertFromString(input, options = {}) {\n  if (!input || typeof input !== \"string\") {\n    return null;\n  }\n  const {\n    includeAllNodes = false,\n    nodeOnly = false,\n    selector = \"body > *\",\n    type = \"text/html\"\n  } = options;\n  try {\n    const parser = new DOMParser();\n    const document = parser.parseFromString(input, type);\n    if (includeAllNodes) {\n      const { childNodes } = document.body;\n      if (nodeOnly) {\n        return childNodes;\n      }\n      return [...childNodes].map((node2) => convertFromNode(node2, options));\n    }\n    const node = document.querySelector(selector) || document.body.childNodes[0];\n    if (!(node instanceof Node)) {\n      throw new TypeError(\"Error parsing input\");\n    }\n    if (nodeOnly) {\n      return node;\n    }\n    return convertFromNode(node, options);\n  } catch (error) {\n    if (process.env.NODE_ENV !== \"production\") {\n      console.error(error);\n    }\n  }\n  return null;\n}\nfunction convert(input, options = {}) {\n  if (typeof input === \"string\") {\n    return convertFromString(input, options);\n  }\n  if (input instanceof Node) {\n    return convertFromNode(input, options);\n  }\n  return null;\n}\nexport {\n  convertFromNode,\n  convertFromString,\n  convert as default\n};\n//# sourceMappingURL=index.mjs.map","\"use client\";\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\n\n// src/index.tsx\nimport {\n  cloneElement,\n  isValidElement,\n  useCallback,\n  useEffect as useEffect2,\n  useReducer,\n  useRef as useRef2,\n  useState\n} from \"react\";\nimport convert2 from \"react-from-dom\";\n\n// src/config.ts\nvar CACHE_NAME = \"react-inlinesvg\";\nvar CACHE_MAX_RETRIES = 10;\nvar STATUS = {\n  IDLE: \"idle\",\n  LOADING: \"loading\",\n  LOADED: \"loaded\",\n  FAILED: \"failed\",\n  READY: \"ready\",\n  UNSUPPORTED: \"unsupported\"\n};\n\n// src/modules/helpers.ts\nfunction canUseDOM() {\n  return !!(typeof window !== \"undefined\" && window.document && window.document.createElement);\n}\nfunction isSupportedEnvironment() {\n  return supportsInlineSVG() && typeof window !== \"undefined\" && window !== null;\n}\nasync function request(url, options) {\n  const response = await fetch(url, options);\n  const contentType = response.headers.get(\"content-type\");\n  const [fileType] = (contentType ?? \"\").split(/ ?; ?/);\n  if (response.status > 299) {\n    throw new Error(\"Not found\");\n  }\n  if (![\"image/svg+xml\", \"text/plain\"].some((d) => fileType.includes(d))) {\n    throw new Error(`Content type isn't valid: ${fileType}`);\n  }\n  return response.text();\n}\nfunction sleep(seconds = 1) {\n  return new Promise((resolve) => {\n    setTimeout(resolve, seconds * 1e3);\n  });\n}\nfunction supportsInlineSVG() {\n  if (!document) {\n    return false;\n  }\n  const div = document.createElement(\"div\");\n  div.innerHTML = \"<svg />\";\n  const svg = div.firstChild;\n  return !!svg && svg.namespaceURI === \"http://www.w3.org/2000/svg\";\n}\nfunction randomCharacter(character) {\n  return character[Math.floor(Math.random() * character.length)];\n}\nfunction randomString(length) {\n  const letters = \"abcdefghijklmnopqrstuvwxyz\";\n  const numbers = \"1234567890\";\n  const charset = `${letters}${letters.toUpperCase()}${numbers}`;\n  let R = \"\";\n  for (let index = 0; index < length; index++) {\n    R += randomCharacter(charset);\n  }\n  return R;\n}\nfunction omit(input, ...filter) {\n  const output = {};\n  for (const key in input) {\n    if ({}.hasOwnProperty.call(input, key)) {\n      if (!filter.includes(key)) {\n        output[key] = input[key];\n      }\n    }\n  }\n  return output;\n}\n\n// src/modules/cache.ts\nvar CacheStore = class {\n  constructor() {\n    __publicField(this, \"cacheApi\");\n    __publicField(this, \"cacheStore\");\n    __publicField(this, \"subscribers\", []);\n    __publicField(this, \"isReady\", false);\n    this.cacheStore = /* @__PURE__ */ new Map();\n    let cacheName = CACHE_NAME;\n    let usePersistentCache = false;\n    if (canUseDOM()) {\n      cacheName = window.REACT_INLINESVG_CACHE_NAME ?? CACHE_NAME;\n      usePersistentCache = !!window.REACT_INLINESVG_PERSISTENT_CACHE && \"caches\" in window;\n    }\n    if (usePersistentCache) {\n      caches.open(cacheName).then((cache) => {\n        this.cacheApi = cache;\n        this.isReady = true;\n        this.subscribers.forEach((callback) => callback());\n      }).catch((error) => {\n        this.isReady = true;\n        console.error(`Failed to open cache: ${error.message}`);\n      });\n    } else {\n      this.isReady = true;\n    }\n  }\n  onReady(callback) {\n    if (this.isReady) {\n      callback();\n    } else {\n      this.subscribers.push(callback);\n    }\n  }\n  async get(url, fetchOptions) {\n    await (this.cacheApi ? this.fetchAndAddToPersistentCache(url, fetchOptions) : this.fetchAndAddToInternalCache(url, fetchOptions));\n    return this.cacheStore.get(url)?.content ?? \"\";\n  }\n  set(url, data) {\n    this.cacheStore.set(url, data);\n  }\n  isCached(url) {\n    return this.cacheStore.get(url)?.status === STATUS.LOADED;\n  }\n  async fetchAndAddToInternalCache(url, fetchOptions) {\n    const cache = this.cacheStore.get(url);\n    if (cache?.status === STATUS.LOADING) {\n      await this.handleLoading(url, async () => {\n        this.cacheStore.set(url, { content: \"\", status: STATUS.IDLE });\n        await this.fetchAndAddToInternalCache(url, fetchOptions);\n      });\n      return;\n    }\n    if (!cache?.content) {\n      this.cacheStore.set(url, { content: \"\", status: STATUS.LOADING });\n      try {\n        const content = await request(url, fetchOptions);\n        this.cacheStore.set(url, { content, status: STATUS.LOADED });\n      } catch (error) {\n        this.cacheStore.set(url, { content: \"\", status: STATUS.FAILED });\n        throw error;\n      }\n    }\n  }\n  async fetchAndAddToPersistentCache(url, fetchOptions) {\n    const cache = this.cacheStore.get(url);\n    if (cache?.status === STATUS.LOADED) {\n      return;\n    }\n    if (cache?.status === STATUS.LOADING) {\n      await this.handleLoading(url, async () => {\n        this.cacheStore.set(url, { content: \"\", status: STATUS.IDLE });\n        await this.fetchAndAddToPersistentCache(url, fetchOptions);\n      });\n      return;\n    }\n    this.cacheStore.set(url, { content: \"\", status: STATUS.LOADING });\n    const data = await this.cacheApi?.match(url);\n    if (data) {\n      const content = await data.text();\n      this.cacheStore.set(url, { content, status: STATUS.LOADED });\n      return;\n    }\n    try {\n      await this.cacheApi?.add(new Request(url, fetchOptions));\n      const response = await this.cacheApi?.match(url);\n      const content = await response?.text() ?? \"\";\n      this.cacheStore.set(url, { content, status: STATUS.LOADED });\n    } catch (error) {\n      this.cacheStore.set(url, { content: \"\", status: STATUS.FAILED });\n      throw error;\n    }\n  }\n  async handleLoading(url, callback) {\n    let retryCount = 0;\n    while (this.cacheStore.get(url)?.status === STATUS.LOADING && retryCount < CACHE_MAX_RETRIES) {\n      await sleep(0.1);\n      retryCount += 1;\n    }\n    if (retryCount >= CACHE_MAX_RETRIES) {\n      await callback();\n    }\n  }\n  keys() {\n    return [...this.cacheStore.keys()];\n  }\n  data() {\n    return [...this.cacheStore.entries()].map(([key, value]) => ({ [key]: value }));\n  }\n  async delete(url) {\n    if (this.cacheApi) {\n      await this.cacheApi.delete(url);\n    }\n    this.cacheStore.delete(url);\n  }\n  async clear() {\n    if (this.cacheApi) {\n      const keys = await this.cacheApi.keys();\n      for (const key of keys) {\n        await this.cacheApi.delete(key);\n      }\n    }\n    this.cacheStore.clear();\n  }\n};\n\n// src/modules/hooks.tsx\nimport { useEffect, useRef } from \"react\";\nfunction usePrevious(state) {\n  const ref = useRef();\n  useEffect(() => {\n    ref.current = state;\n  });\n  return ref.current;\n}\n\n// src/modules/utils.ts\nimport convert from \"react-from-dom\";\nfunction getNode(options) {\n  const {\n    baseURL,\n    content,\n    description,\n    handleError,\n    hash,\n    preProcessor,\n    title,\n    uniquifyIDs = false\n  } = options;\n  try {\n    const svgText = processSVG(content, preProcessor);\n    const node = convert(svgText, { nodeOnly: true });\n    if (!node || !(node instanceof SVGSVGElement)) {\n      throw new Error(\"Could not convert the src to a DOM Node\");\n    }\n    const svg = updateSVGAttributes(node, { baseURL, hash, uniquifyIDs });\n    if (description) {\n      const originalDesc = svg.querySelector(\"desc\");\n      if (originalDesc?.parentNode) {\n        originalDesc.parentNode.removeChild(originalDesc);\n      }\n      const descElement = document.createElementNS(\"http://www.w3.org/2000/svg\", \"desc\");\n      descElement.innerHTML = description;\n      svg.prepend(descElement);\n    }\n    if (typeof title !== \"undefined\") {\n      const originalTitle = svg.querySelector(\"title\");\n      if (originalTitle?.parentNode) {\n        originalTitle.parentNode.removeChild(originalTitle);\n      }\n      if (title) {\n        const titleElement = document.createElementNS(\"http://www.w3.org/2000/svg\", \"title\");\n        titleElement.innerHTML = title;\n        svg.prepend(titleElement);\n      }\n    }\n    return svg;\n  } catch (error) {\n    return handleError(error);\n  }\n}\nfunction processSVG(content, preProcessor) {\n  if (preProcessor) {\n    return preProcessor(content);\n  }\n  return content;\n}\nfunction updateSVGAttributes(node, options) {\n  const { baseURL = \"\", hash, uniquifyIDs } = options;\n  const replaceableAttributes = [\"id\", \"href\", \"xlink:href\", \"xlink:role\", \"xlink:arcrole\"];\n  const linkAttributes = [\"href\", \"xlink:href\"];\n  const isDataValue = (name, value) => linkAttributes.includes(name) && (value ? !value.includes(\"#\") : false);\n  if (!uniquifyIDs) {\n    return node;\n  }\n  [...node.children].forEach((d) => {\n    if (d.attributes?.length) {\n      const attributes = Object.values(d.attributes).map((a) => {\n        const attribute = a;\n        const match = /url\\((.*?)\\)/.exec(a.value);\n        if (match?.[1]) {\n          attribute.value = a.value.replace(match[0], `url(${baseURL}${match[1]}__${hash})`);\n        }\n        return attribute;\n      });\n      replaceableAttributes.forEach((r) => {\n        const attribute = attributes.find((a) => a.name === r);\n        if (attribute && !isDataValue(r, attribute.value)) {\n          attribute.value = `${attribute.value}__${hash}`;\n        }\n      });\n    }\n    if (d.children.length) {\n      return updateSVGAttributes(d, options);\n    }\n    return d;\n  });\n  return node;\n}\n\n// src/index.tsx\nimport { jsx } from \"react/jsx-runtime\";\nvar cacheStore;\nfunction ReactInlineSVG(props) {\n  const {\n    cacheRequests = true,\n    children = null,\n    description,\n    fetchOptions,\n    innerRef,\n    loader = null,\n    onError,\n    onLoad,\n    src,\n    title,\n    uniqueHash\n  } = props;\n  const [state, setState] = useReducer(\n    (previousState2, nextState) => ({\n      ...previousState2,\n      ...nextState\n    }),\n    {\n      content: \"\",\n      element: null,\n      isCached: cacheRequests && cacheStore.isCached(props.src),\n      status: STATUS.IDLE\n    }\n  );\n  const { content, element, isCached, status } = state;\n  const previousProps = usePrevious(props);\n  const previousState = usePrevious(state);\n  const hash = useRef2(uniqueHash ?? randomString(8));\n  const isActive = useRef2(false);\n  const isInitialized = useRef2(false);\n  const handleError = useCallback(\n    (error) => {\n      if (isActive.current) {\n        setState({\n          status: error.message === \"Browser does not support SVG\" ? STATUS.UNSUPPORTED : STATUS.FAILED\n        });\n        onError?.(error);\n      }\n    },\n    [onError]\n  );\n  const handleLoad = useCallback((loadedContent, hasCache = false) => {\n    if (isActive.current) {\n      setState({\n        content: loadedContent,\n        isCached: hasCache,\n        status: STATUS.LOADED\n      });\n    }\n  }, []);\n  const fetchContent = useCallback(async () => {\n    const responseContent = await request(src, fetchOptions);\n    handleLoad(responseContent);\n  }, [fetchOptions, handleLoad, src]);\n  const getElement = useCallback(() => {\n    try {\n      const node = getNode({ ...props, handleError, hash: hash.current, content });\n      const convertedElement = convert2(node);\n      if (!convertedElement || !isValidElement(convertedElement)) {\n        throw new Error(\"Could not convert the src to a React element\");\n      }\n      setState({\n        element: convertedElement,\n        status: STATUS.READY\n      });\n    } catch (error) {\n      handleError(new Error(error.message));\n    }\n  }, [content, handleError, props]);\n  const getContent = useCallback(async () => {\n    const dataURI = /^data:image\\/svg[^,]*?(;base64)?,(.*)/u.exec(src);\n    let inlineSrc;\n    if (dataURI) {\n      inlineSrc = dataURI[1] ? window.atob(dataURI[2]) : decodeURIComponent(dataURI[2]);\n    } else if (src.includes(\"<svg\")) {\n      inlineSrc = src;\n    }\n    if (inlineSrc) {\n      handleLoad(inlineSrc);\n      return;\n    }\n    try {\n      if (cacheRequests) {\n        const cachedContent = await cacheStore.get(src, fetchOptions);\n        handleLoad(cachedContent, true);\n      } else {\n        await fetchContent();\n      }\n    } catch (error) {\n      handleError(error);\n    }\n  }, [cacheRequests, fetchContent, fetchOptions, handleError, handleLoad, src]);\n  const load = useCallback(async () => {\n    if (isActive.current) {\n      setState({\n        content: \"\",\n        element: null,\n        isCached: false,\n        status: STATUS.LOADING\n      });\n    }\n  }, []);\n  useEffect2(\n    () => {\n      isActive.current = true;\n      if (!canUseDOM() || isInitialized.current) {\n        return () => void 0;\n      }\n      try {\n        if (status === STATUS.IDLE) {\n          if (!isSupportedEnvironment()) {\n            throw new Error(\"Browser does not support SVG\");\n          }\n          if (!src) {\n            throw new Error(\"Missing src\");\n          }\n          load();\n        }\n      } catch (error) {\n        handleError(error);\n      }\n      isInitialized.current = true;\n      return () => {\n        isActive.current = false;\n      };\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  );\n  useEffect2(() => {\n    if (!canUseDOM()) {\n      return;\n    }\n    if (!previousProps) {\n      return;\n    }\n    if (previousProps.src !== src) {\n      if (!src) {\n        handleError(new Error(\"Missing src\"));\n        return;\n      }\n      load();\n    } else if (previousProps.title !== title || previousProps.description !== description) {\n      getElement();\n    }\n  }, [description, getElement, handleError, load, previousProps, src, title]);\n  useEffect2(() => {\n    if (!previousState) {\n      return;\n    }\n    if (previousState.status !== STATUS.LOADING && status === STATUS.LOADING) {\n      getContent();\n    }\n    if (previousState.status !== STATUS.LOADED && status === STATUS.LOADED) {\n      getElement();\n    }\n    if (previousState.status !== STATUS.READY && status === STATUS.READY) {\n      onLoad?.(src, isCached);\n    }\n  }, [getContent, getElement, isCached, onLoad, previousState, src, status]);\n  const elementProps = omit(\n    props,\n    \"baseURL\",\n    \"cacheRequests\",\n    \"children\",\n    \"description\",\n    \"fetchOptions\",\n    \"innerRef\",\n    \"loader\",\n    \"onError\",\n    \"onLoad\",\n    \"preProcessor\",\n    \"src\",\n    \"title\",\n    \"uniqueHash\",\n    \"uniquifyIDs\"\n  );\n  if (!canUseDOM()) {\n    return loader;\n  }\n  if (element) {\n    return cloneElement(element, { ref: innerRef, ...elementProps });\n  }\n  if ([STATUS.UNSUPPORTED, STATUS.FAILED].includes(status)) {\n    return children;\n  }\n  return loader;\n}\nfunction InlineSVG(props) {\n  if (!cacheStore) {\n    cacheStore = new CacheStore();\n  }\n  const { loader } = props;\n  const hasCallback = useRef2(false);\n  const [isReady, setReady] = useState(cacheStore.isReady);\n  useEffect2(() => {\n    if (!hasCallback.current) {\n      cacheStore.onReady(() => {\n        setReady(true);\n      });\n      hasCallback.current = true;\n    }\n  }, []);\n  if (!isReady) {\n    return loader;\n  }\n  return /* @__PURE__ */ jsx(ReactInlineSVG, { ...props });\n}\nexport {\n  cacheStore,\n  InlineSVG as default\n};\n//# sourceMappingURL=index.mjs.map","/******************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol */\n\nvar extendStatics = function(d, b) {\n  extendStatics = Object.setPrototypeOf ||\n      ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n      function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n  return extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null)\n      throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() { this.constructor = d; }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nexport var __assign = function() {\n  __assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n      return t;\n  }\n  return __assign.apply(this, arguments);\n}\n\nexport function __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n      t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n              t[p[i]] = s[p[i]];\n      }\n  return t;\n}\n\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n  else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nexport function __param(paramIndex, decorator) {\n  return function (target, key) { decorator(target, key, paramIndex); }\n}\n\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n  var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _, done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n      var context = {};\n      for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n      for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n      context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n      var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n      if (kind === \"accessor\") {\n          if (result === void 0) continue;\n          if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n          if (_ = accept(result.get)) descriptor.get = _;\n          if (_ = accept(result.set)) descriptor.set = _;\n          if (_ = accept(result.init)) initializers.unshift(_);\n      }\n      else if (_ = accept(result)) {\n          if (kind === \"field\") initializers.unshift(_);\n          else descriptor[key] = _;\n      }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\n\nexport function __runInitializers(thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n      value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\n\nexport function __propKey(x) {\n  return typeof x === \"symbol\" ? x : \"\".concat(x);\n};\n\nexport function __setFunctionName(f, name, prefix) {\n  if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\n  return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\n};\n\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\n\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n      function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n      function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nexport function __generator(thisArg, body) {\n  var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n  return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n  function verb(n) { return function (v) { return step([n, v]); }; }\n  function step(op) {\n      if (f) throw new TypeError(\"Generator is already executing.\");\n      while (g && (g = 0, op[0] && (_ = 0)), _) try {\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n          if (y = 0, t) op = [op[0] & 2, t.value];\n          switch (op[0]) {\n              case 0: case 1: t = op; break;\n              case 4: _.label++; return { value: op[1], done: false };\n              case 5: _.label++; y = op[1]; op = [0]; continue;\n              case 7: op = _.ops.pop(); _.trys.pop(); continue;\n              default:\n                  if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                  if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                  if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                  if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                  if (t[2]) _.ops.pop();\n                  _.trys.pop(); continue;\n          }\n          op = body.call(thisArg, _);\n      } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n      if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n  }\n}\n\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n  }\n  Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nexport function __exportStar(m, o) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n}\n\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n      next: function () {\n          if (o && i >= o.length) o = void 0;\n          return { value: o && o[i++], done: !o };\n      }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\n\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o), r, ar = [], e;\n  try {\n      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  }\n  catch (error) { e = { error: error }; }\n  finally {\n      try {\n          if (r && !r.done && (m = i[\"return\"])) m.call(i);\n      }\n      finally { if (e) throw e.error; }\n  }\n  return ar;\n}\n\n/** @deprecated */\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++)\n      ar = ar.concat(__read(arguments[i]));\n  return ar;\n}\n\n/** @deprecated */\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++)\n      for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n          r[k] = a[j];\n  return r;\n}\n\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n      if (ar || !(i in from)) {\n          if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n          ar[i] = from[i];\n      }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\n\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []), i, q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\n  function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\n  function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\n  function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n  function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n  function fulfill(value) { resume(\"next\", value); }\n  function reject(value) { resume(\"throw\", value); }\n  function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n}\n\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n  function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n}\n\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator], i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n  function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n  function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n}\n\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n  return cooked;\n};\n\nvar __setModuleDefault = Object.create ? (function(o, v) {\n  Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n  o[\"default\"] = v;\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n}\n\nexport function __importDefault(mod) {\n  return (mod && mod.__esModule) ? mod : { default: mod };\n}\n\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\n\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n}\n\nexport function __classPrivateFieldIn(state, receiver) {\n  if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\n  return typeof state === \"function\" ? receiver === state : state.has(receiver);\n}\n\nexport function __addDisposableResource(env, value, async) {\n  if (value !== null && value !== void 0) {\n    if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\n    var dispose, inner;\n    if (async) {\n      if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n      dispose = value[Symbol.asyncDispose];\n    }\n    if (dispose === void 0) {\n      if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n      dispose = value[Symbol.dispose];\n      if (async) inner = dispose;\n    }\n    if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n    if (inner) dispose = function() { try { inner.call(this); } catch (e) { return Promise.reject(e); } };\n    env.stack.push({ value: value, dispose: dispose, async: async });\n  }\n  else if (async) {\n    env.stack.push({ async: true });\n  }\n  return value;\n}\n\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\nexport function __disposeResources(env) {\n  function fail(e) {\n    env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\n    env.hasError = true;\n  }\n  function next() {\n    while (env.stack.length) {\n      var rec = env.stack.pop();\n      try {\n        var result = rec.dispose && rec.dispose.call(rec.value);\n        if (rec.async) return Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\n      }\n      catch (e) {\n          fail(e);\n      }\n    }\n    if (env.hasError) throw env.error;\n  }\n  return next();\n}\n\nexport default {\n  __extends,\n  __assign,\n  __rest,\n  __decorate,\n  __param,\n  __metadata,\n  __awaiter,\n  __generator,\n  __createBinding,\n  __exportStar,\n  __values,\n  __read,\n  __spread,\n  __spreadArrays,\n  __spreadArray,\n  __await,\n  __asyncGenerator,\n  __asyncDelegator,\n  __asyncValues,\n  __makeTemplateObject,\n  __importStar,\n  __importDefault,\n  __classPrivateFieldGet,\n  __classPrivateFieldSet,\n  __classPrivateFieldIn,\n  __addDisposableResource,\n  __disposeResources,\n};\n"],"names":["e","t","d","a","n","o","Object","defineProperty","enumerable","get","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","length","charCodeAt","toString","CALLBACK_EXTENSION_POINT","N","DashboardNodeData","DatasourceNodeData","FolderNodeData","i","ItemDataType","LabelNameNodeData","l","LabelValueNodeData","c","StructuredNodeData","closeAssistant","V","createContext","p","getExposeAssistantFunctionsConfig","D","isAssistantAvailable","I","newFunctionNamespace","U","openAssistant","P","providePageContext","E","useAssistant","O","usePageContext","y","Unknown","Datasource","LabelName","LabelValue","Dashboard","DashboardFolder","Structured","s","constructor","this","params","text","id","formatForLLM","type","codeElementIds","data","name","JSON","stringify","super","dashboardUid","dashboardTitle","folderUid","folderTitle","datasourceUid","datasourceType","datasourceName","uid","labelName","labelValue","u","h","console","error","node","title","icon","navigable","selectable","occurrences","f","b","m","v","x","w","g","L","findIndex","urlPattern","RegExp","source","flags","context","Date","now","Math","random","slice","push","window","dispatchEvent","CustomEvent","detail","registry","unregister","splice","useState","useLocationService","useRef","useEffect","T","getLocation","pathname","getLocationObservable","subscribe","current","addEventListener","unsubscribe","removeEventListener","test","replace","Set","map","filter","has","namespace","functions","targets","fn","S","getObservablePluginLinks","extensionPointId","pipe","some","pluginId","A","C","BusEventWithPayload","F","BusEventBase","componentTitle","props","getAppEvents","publish","initialPrompt","prompt","initialContext","module","exports","Components","RadioButton","container","Breadcrumbs","breadcrumb","TimePicker","openButton","overlayContent","fromField","toField","applyTimeRange","copyTimeRange","pasteTimeRange","calendar","label","closeButton","absoluteTimeRangeTitle","DataSourcePermissions","form","roleType","rolePicker","permissionLevel","DateTimePicker","input","DataSource","TestData","QueryTab","scenarioSelectContainer","scenarioSelect","max","min","noise","seriesCount","spread","startValue","drop","DataSourceHttpSettings","urlInput","Jaeger","traceIDInput","Prometheus","configPage","connectionSettings","manageAlerts","scrapeInterval","queryTimeout","defaultEditor","disableMetricLookup","prometheusType","prometheusVersion","cacheLevel","incrementalQuerying","queryOverlapWindow","disableRecordingRules","customQueryParameters","httpMethod","exemplarsAddButton","internalLinkSwitch","queryEditor","explain","editorToggle","options","legend","format","step","exemplars","builder","metricSelect","hints","metricsExplorer","queryAdvisor","code","queryField","metricsBrowser","selectMetric","metricList","labelNamesFilter","labelValuesFilter","useQuery","useAsRateQuery","validateSelector","clear","exemplarMarker","variableQueryEditor","queryType","labelnames","metricRegex","labelValues","labelSelect","metricNames","varQueryResult","seriesQuery","classicQuery","annotations","minStep","tags","seriesValueAsTimestamp","Menu","MenuComponent","MenuGroup","MenuItem","SubMenu","Panels","Panel","headerItems","item","menuItems","menu","containerByTitle","headerCornerInfo","mode","status","loadingBar","HoverWidget","dragIcon","PanelDataErrorMessage","Visualization","Graph","VisualizationTab","legendSection","Legend","legendItemAlias","showLegendSwitch","xAxis","labels","BarGauge","valueV2","PieChart","svgSlice","Text","Table","header","footer","body","VizLegend","seriesName","Drawer","General","expand","contract","close","rcContentWrapper","subtitle","PanelEditor","content","OptionsPane","select","fieldLabel","DataPane","applyButton","toggleVizPicker","toggleVizOptions","toggleTableView","showZoomField","showAttributionField","showScaleField","showMeasureField","showDebugField","measureButton","PanelInspector","Data","Stats","Json","Query","refreshButton","jsonObjectKeys","Tab","active","RefreshPicker","runButton","intervalButton","runButtonV2","intervalButtonV2","queryInspectorButton","queryHistoryButton","addQuery","QueryHistory","queryText","QueryEditorRows","rows","QueryEditorRow","actionButton","refId","AlertTab","Alert","alert","severity","alertV2","TransformTab","newTransform","transformationEditor","transformationEditorDebugger","Transforms","card","disableTransformationButton","Reduce","modeLabel","calculationsLabel","SpatialOperations","actionLabel","locationLabel","location","autoOption","coords","option","latitudeFieldLabel","longitudeFieldLabel","geohash","geohashFieldLabel","lookup","lookupFieldLabel","gazetteerFieldLabel","searchInput","noTransformationsMessage","addTransformationButton","removeAllTransformationsButton","NavBar","Configuration","button","Toggle","Reporting","NavMenu","NavToolbar","PageToolbar","tooltip","itemButton","QueryEditorToolbarItem","BackButton","backArrow","OptionsGroup","group","toggle","PluginVisualization","Select","singleValue","FieldConfigEditor","OverridesConfigEditor","FolderPicker","containerV2","ReadonlyFolderPicker","DataSourcePicker","inputV2","dataSourceList","advancedModal","builtInDataSourceList","TimeZonePicker","WeekStartPicker","placeholder","TraceViewer","spanBar","QueryField","QueryBuilder","queryPatterns","valueSelect","matchOperatorSelect","ValuePicker","Search","section","sectionV2","items","itemsV2","cards","collapseFolder","sectionId","expandFolder","dashboardItem","dashboardItems","dashboardCard","folderHeader","folderName","folderContent","DashboardLinks","dropDown","link","LoadingIndicator","CallToActionCard","buttonV2","DataLinksContextMenu","singleLink","CodeEditor","DashboardImportPage","textarea","submit","ImportDashboardForm","PanelAlertTabContent","VisualizationPreview","ColorSwatch","DashboardRow","UserProfile","profileSaveButton","preferencesSaveButton","orgsTable","sessionsTable","extensionPointTabs","extensionPointTab","tabId","FileUpload","inputField","fileNameSpan","DebugOverlay","wrapper","OrgRolePicker","AnalyticsToolbarButton","Variables","variableOption","Annotations","annotationsTypeInput","annotationsChoosePanelInput","Tooltip","selectors","pages","Login","url","username","password","skip","Home","delete","readOnly","saveAndTest","DataSources","dataSources","dataSourceName","EditDataSource","dataSourceUid","settings","AddDataSource","dataSourcePlugins","pluginName","dataSourcePluginsV2","ConfirmModal","AddDashboard","addNewPanel","addNewRow","addNewPanelLibrary","DashNav","nav","navV2","publicDashboardTag","shareButton","submenu","submenuItem","submenuItemLabels","submenuItemValueDropDownValueLinkTexts","submenuItemValueDropDownDropDown","submenuItemValueDropDownOptionTexts","annotationsWrapper","annotationLabel","annotationToggle","Settings","Actions","deleteDashBoard","sectionItems","saveDashBoard","saveAsDashBoard","timezone","List","addAnnotationCTA","addAnnotationCTAV2","NewAnnotation","panelFilterSelect","showInLabel","previewInDashboard","apply","enable","hide","addVariableCTA","addVariableCTAV2","newButton","table","tableRowNameFields","variableName","tableRowDefinitionFields","tableRowArrowUpButtons","tableRowArrowDownButtons","tableRowDuplicateButtons","tableRowRemoveButtons","Edit","headerLink","modeLabelNew","modeLabelEdit","generalNameInput","generalNameInputV2","generalTypeSelect","generalTypeSelectV2","generalLabelInput","generalLabelInputV2","generalHideSelect","generalHideSelectV2","selectionOptionsMultiSwitch","selectionOptionsIncludeAllSwitch","selectionOptionsCustomAllInput","previewOfValuesOption","submitButton","QueryVariable","queryOptionsDataSourceSelect","queryOptionsRefreshSelect","queryOptionsRefreshSelectV2","queryOptionsRegExInput","queryOptionsRegExInputV2","queryOptionsSortSelect","queryOptionsSortSelectV2","queryOptionsQueryInput","valueGroupsTagsEnabledSwitch","valueGroupsTagsTagsQueryInput","valueGroupsTagsTagsValuesQueryInput","ConstantVariable","constantOptionsQueryInput","constantOptionsQueryInputV2","DatasourceVariable","datasourceSelect","TextBoxVariable","textBoxOptionsQueryInput","textBoxOptionsQueryInputV2","CustomVariable","customValueInput","IntervalVariable","intervalsValueInput","autoEnabledCheckbox","stepCountIntervalSelect","minIntervalInput","GroupByVariable","dataSourceSelect","infoText","modeToggle","AdHocFiltersVariable","marker","Rows","Repeated","ConfigSection","warningMessage","Dashboards","dashboards","SaveDashboardAsModal","newName","save","SaveDashboardModal","saveVariables","saveTimerange","SharePanelModal","linkToRenderedImage","ShareDashboardModal","PublicDashboard","WillBePublicCheckbox","LimitedDSCheckbox","CostIncreaseCheckbox","PauseSwitch","EnableAnnotationsSwitch","CreateButton","DeleteButton","CopyUrlInput","CopyUrlButton","SettingsDropdown","TemplateVariablesWarningAlert","UnsupportedDataSourcesWarningAlert","NoUpsertPermissionsWarningAlert","EnableTimeRangeSwitch","EmailSharingConfiguration","Container","ShareType","EmailSharingInput","EmailSharingInviteButton","EmailSharingList","DeleteEmail","ReshareLink","page","NotAvailable","pausedDescription","RequestViewAccess","recipientInput","PublicDashboardConfirmAccess","Explore","graph","scrollView","SoloPanel","PluginsList","list","listItem","signatureErrorNotice","PluginPage","signatureInfo","disabledInfo","PlaylistForm","interval","itemDelete","BrowseDashboards","row","checkbox","NewFolderForm","nameInput","createButton","FolderView","PublicDashboards","ListItem","linkButton","configButton","trashcanButton","pauseSwitch","UserListPage","tabs","allUsers","orgUsers","anonUserDevices","publicDashboardsUsers","users","org","admin","publicDashboards","UserListAdminPage","UsersListPage","UserAnonListPage","UsersListPublicDashboardsPage","DashboardsListModal","ProfilePage","components","defaultExceptionType","unknownString","BaseExtension","unpatchedConsole","internalLogger","config","metas","logDebug","args","debug","logInfo","info","logWarn","warn","logError","globalObject","globalThis","self","undefined","InternalLoggerLevel","defaultInternalLogger","prefix","defaultInternalLoggerLevel","ERROR","setInternalFaroOnGlobalObject","faro","isolate","configurable","writable","isInternalFaroOnGlobalObject","registerFaro","transports","api","instrumentations","pause","unpause","preventGlobalExposure","globalObjectKey","setFaroOnGlobalObject","defaultUnpatchedConsole","assign","dateNow","getCurrentTimestamp","toISOString","timestampToIsoString","isTypeof","isToString","isInstanceOf","reference","err","isNull","isString","isNumber","isNaN","isObject","isFunction","isArray","isPrimitive","isEventDefined","Event","isEvent","isErrorDefined","Error","isError","isErrorEvent","isDomError","isDomException","LogLevel","defaultLogLevel","LOG","allLogLevels","TRACE","DEBUG","INFO","WARN","noop","alphabet","genShortID","Array","from","floor","join","VERSION","BaseInstrumentation","arguments","domErrorType","domExceptionType","objectEventValue","valueTypeRegex","getErrorDetails","evt","isDomErrorRes","isEventRes","stackFrames","is","message","getStackFramesFromError","keys","registerOnerror","oldOnerror","onerror","lineno","colno","eventIsString","initialStackFrame","buildStackFrame","_a","_b","groups","match","getValueAndTypeFromMessage","pushError","ErrorsInstrumentation","version","initialize","reason","String","persisted","timeStamp","performance","getEntriesByType","responseStart","activationStart","document","prerendering","wasDiscarded","rating","delta","entries","concat","navigationType","PerformanceObserver","supportedEntryTypes","includes","Promise","resolve","then","getEntries","observe","buffered","requestAnimationFrame","visibilityState","setTimeout","firstHiddenTime","forEach","disconnect","startTime","reportAllChanges","M","interactionId","k","durationThreshold","Map","R","interactionCount","B","H","entryType","duration","latency","set","sort","q","requestIdleCallback","j","_","G","J","readyState","Q","passive","capture","Y","W","target","cancelable","processingStart","X","Z","WebVitalsBasic","pushMeasurement","mapping","indicator","executor","metric","values","cls","hadRecentInput","takeRecords","fcp","fid","inp","PerformanceEventTiming","lcp","ttfb","domInteractive","domContentLoadedEventStart","domComplete","nodeName","nodeType","toLowerCase","toUpperCase","classList","trim","parentNode","WeakMap","size","et","processingEnd","add","abs","renderTime","tt","rt","it","ot","ct","ut","ft","dt","lt","vt","mt","pt","gt","Tt","ht","eventTarget","eventType","eventTime","eventEntry","loadState","attribution","NAVIGATION_ID_STORAGE_KEY","loadStateKey","timeToFirstByteKey","WebVitalsWithAttribution","corePushMeasurement","measureCLS","measureFCP","measureFID","measureINP","measureLCP","measureTTFB","reduce","sources","find","largestShiftTarget","largestShiftTime","largestShiftValue","largestShiftSource","largestShiftEntry","buildInitialValues","addIfPresent","buildInitialContext","timeToFirstByte","firstByteToFCP","navigationEntry","fcpEntry","interactionTarget","interactionTargetElement","interactionType","startsWith","interactionTime","nextPaintTime","processedEventEntries","longAnimationFrameEntries","inputDelay","processingDuration","presentationDelay","resourceLoadDelay","resourceLoadDuration","elementRenderDelay","requestStart","responseEnd","element","lcpEntry","lcpResourceEntry","waitingDuration","cacheDuration","dnsDuration","connectionDuration","requestDuration","workerStart","fetchStart","domainLookupStart","connectStart","connectEnd","navigationEntryId","webStorage","session","navigation_type","navigation_entry_id","key","WebVitalsInstrumentation","intializeWebVitalsInstrumentation","trackWebVitalsAttribution","EVENT_SESSION_START","EVENT_SESSION_RESUME","SessionInstrumentation","sendSessionStartEvent","meta","notifiedSession","attributes","pushEvent","skipDedupe","createInitialSession","SessionManager","sessionsConfig","_c","_d","_e","lifecycleType","initialSession","userSession","fetchUserSession","persistent","maxSessionPersistenceTime","date","lastActivity","PersistentSessionsManager","removeUserSession","sessionId","isSampled","started","sessionMeta","sessionTracking","generateSessionId","createSession","registerBeforeSendHook","updateSession","addBeforeSendHooks","newItem","parse","newAttributes","sessionTrackingConfig","enabled","getSessionManagerByConfig","storeUserSession","initialSessionMeta","setSession","addListener","bind","ViewInstrumentation","sendViewChangedEvent","view","notifiedView","fromView","toView","w3cTraceparentFormat","getSpanContextFromServerTiming","serverTimings","serverEntry","description","traceId","spanId","split","entryUrlIsIgnored","ignoredUrls","entryName","includePerformanceEntry","performanceEntryJSON","allowProps","allowPropKey","allowPropValue","perfEntryPropVal","createFaroResourceTiming","resourceEntryRaw","decodedBodySize","domainLookupEnd","encodedBodySize","initiatorType","nextHopProtocol","redirectEnd","redirectStart","renderBlockingStatus","rbs","responseStatus","secureConnectionStart","transferSize","toFaroPerformanceTimingString","tcpHandshakeTime","dnsLookupTime","tlsNegotiationTime","redirectTime","requestTime","responseTime","fetchTime","serviceWorkerTime","cacheHitStatus","cacheType","getCacheType","protocol","createFaroNavigationTiming","navigationEntryRaw","domContentLoadedEventEnd","loadEventEnd","loadEventStart","parserStart","timing","domLoading","timeOrigin","getDocumentParsingTime","pageLoadTime","documentParsingTime","domProcessingTime","domContentLoadHandlerTime","onLoadTime","round","DEFAULT_TRACK_RESOURCES","__awaiter","thisArg","_arguments","generator","reject","fulfilled","next","rejected","result","done","PerformanceInstrumentation","handleReady","readyStateCompleteHandler","onDocumentReady","getIgnoreUrls","faroNavigationId","faroNavigationEntryResolve","faroNavigationEntryPromise","observedEntries","navEntryJson","toJSON","spanContext","serverTiming","faroPreviousNavigationId","faroNavigationEntry","timestampOverwriteMs","getNavigationTimings","trackResources","resourceEntryJson","faroResourceEntry","faroResourceId","observeResourceTimings","flatMap","transport","ConsoleInstrumentation","level","disabledLevels","defaultDisabledLevels","pushLog","getWebInstrumentations","enablePerformanceInstrumentation","unshift","captureConsole","captureConsoleDisabledLevels","TransportItemType","transportItemTypeToBodyKey","EXCEPTION","MEASUREMENT","EVENT","deepEqual","aIsArray","bIsArray","idx","aIsObject","bIsObject","aKeys","bKeys","aKey","stacktraceParser","defaultLogArgsSerializer","arg","initializeAPI","tracesApi","_unpatchedConsole","_config","otel","getOTEL","getTraceContext","ctx","trace","getSpanContext","trace_id","span_id","initOTEL","isOTELInitialized","pushTraces","payload","execute","initializeTracesAPI","lastPayload","parseStacktrace","changeStacktraceParser","newStacktraceParser","getStacktraceParser","timestamp","stack","frames","stacktrace","testingPayload","stackTrace","dedupe","initializeExceptionsAPI","_transports","metaSession","metaUser","metaView","setUser","user","remove","resetUser","resetSession","getSession","setView","previousView","getView","initializeMetaAPI","logArgsSerializer","initializeLogsAPI","initializeMeasurementsAPI","domain","eventDomain","initializeEventsAPI","createInternalLogger","internalLoggerLevel","OFF","VERBOSE","initializeInternalLogger","BatchExecutor","sendFn","signalBuffer","itemLimit","sendTimeout","paused","flushInterval","start","flush","addItem","setInterval","clearInterval","groupItems","itemMap","metaKey","currentItems","createBeforeSendHookFromIgnorePatterns","patterns","msg","pattern","shouldIgnoreEvent","initializeTransports","beforeSendHooks","applyBeforeSendHooks","filteredItems","hook","modified","Boolean","batchedSend","isBatched","send","batchExecutor","batching","newTransports","newTransport","existingTransport","newBeforeSendHooks","beforeSendHook","addIgnoreErrorsPatterns","ignoreErrorsPatterns","ignoreErrorsPattern","getBeforeSendHooks","every","filteredItem","instantSend","isPaused","transportsToRemove","transportToRemove","existingTransportIndex","indexOf","removeBeforeSendHooks","beforeSendHooksToRemove","initializeUnpatchedConsole","initializeFaro","listeners","getValue","acc","notifyListeners","listener","newItems","itemsToRemove","currentItem","removeListener","currentListener","initializeMetas","newInstrumentations","newInstrumentation","existingInstrumentation","instrumentationsToRemove","instrumentationToRemove","existingInstrumentationIndex","destroy","initializeInstrumentations","initial","sdk","app","bundleId","appName","registerInitialMetas","beforeSend","ignoreErrors","registerInitialTransports","registerInitialInstrumentations","defaultGlobalObjectKey","defaultBatchingConfig","defaultEventDomain","defaultMetas","parser","UAParser","getBrowser","osName","osVersion","getOS","userAgent","getUA","language","navigator","mobile","brands","userAgentData","getBrands","browser","os","viewportWidth","innerWidth","viewportHeight","innerHeight","href","k6Meta","k6Properties","k6","isK6Browser","testRunId","BaseTransport","mergeResourceSpans","traces","resourceSpans","currentResource","currentSpans","scopeSpans","newSpans","__rest","getOwnPropertySymbols","propertyIsEnumerable","FetchTransport","disabledUntil","rateLimitBackoffMs","defaultRateLimitBackoffMs","getNow","promiseBuffer","concurrency","buffer","inProgress","work","producer","shift","promiseProducer","createPromiseBuffer","bufferSize","bk","signals","getTransportBody","requestOptions","apiKey","headers","restOfRequestOptions","fetch","method","keepalive","response","extendFaroSession","getRetryAfterDate","catch","ignoreUrls","retryAfterHeader","delay","Number","SessionExpiredString","forceSessionExtend","coreConfig","browserConfig","_f","_g","_h","_j","initialMetas","createMetas","makeCoreConfig","filename","func","stackFrame","function","newLineString","evalString","unknownSymbolString","atString","webkitLineRegex","webkitEvalRegex","webkitEvalString","webkitAddressAtString","webkitAddressAtStringLength","firefoxLineRegex","firefoxEvalRegex","firefoxEvalString","safariExtensionString","safariWebExtensionString","reactMinifiedRegex","getDataFromSafariExtensions","isSafariExtension","isSafariWebExtension","lines","_line","line","parts","exec","submatch","substring","columnNumber","updateUserSession","init","storageTypeLocal","storedSession","sessionFromLocalStorage","local","VolatileSessionsManager","throttle","storageTypeSession","sessionFromSessionStorage","samplingRate","sampler","STORAGE_KEY","SESSION_EXPIRATION_TIME","SESSION_INACTIVITY_TIME","STORAGE_UPDATE_DELAY","defaultSessionTrackingConfig","createUserSessionObject","isUserSessionValid","getUserSessionUpdater","isPersistentSessions","sessionFromStorage","newSession","addSessionMetadataToNextSession","onSessionChange","previousSession","callback","lastPending","timeoutBehavior","webStorageType","isWebStorageAvailable","storage","testItem","setItem","removeItem","getItem","webStorageMechanism","isWebStorageTypeAvailable","isLocalStorageAvailable","isSessionStorageAvailable","LLM_PLUGIN_ID","LLM_PLUGIN_ROUTE","SemVer","predicate","subscriber","index","scan","accumulator","seed","hasSeed","emitOnNext","emitBeforeComplete","hasState","state","complete","scanInternals","randomUUID","crypto","getRandomValues","rnds8","Uint8Array","byteToHex","unsafeStringify","arr","offset","buf","rnds","rng","RangeError","LLM_CHAT_COMPLETIONS_PATH","isErrorResponse","accumulateContent","choices","curr","streamChatCompletions","request","channel","scope","LiveChannelScope","Plugin","path","getGrafanaLiveSrv","getStream","event","isLiveChannelMessageEvent","observerOrNext","tapObserver","isUnsub","finalize","identity","tap","finish_reason","inclusive","async","getBackendSrv","details","llmProvider","configured","ok","openAI","ANY","Comparator","comp","parseOptions","loose","semver","operator","re","COMPARATORLOOSE","COMPARATOR","TypeError","er","cmp","intersects","Range","includePrerelease","safeRe","SPACE_CHARACTERS","range","raw","formatted","parseRange","first","isNullSet","isAny","comps","memoKey","FLAG_INCLUDE_PRERELEASE","FLAG_LOOSE","cached","cache","hr","HYPHENRANGELOOSE","HYPHENRANGE","hyphenReplace","COMPARATORTRIM","comparatorTrimReplace","TILDETRIM","tildeTrimReplace","CARETTRIM","caretTrimReplace","rangeList","parseComparator","replaceGTE0","rangeMap","comparators","thisComparators","isSatisfiable","rangeComparators","thisComparator","rangeComparator","testSet","remainingComparators","testComparator","pop","otherComparator","replaceCarets","replaceTildes","replaceXRanges","replaceStars","isX","replaceTilde","TILDELOOSE","TILDE","pr","ret","replaceCaret","CARETLOOSE","CARET","z","replaceXRange","XRANGELOOSE","XRANGE","gtlt","xM","xm","xp","anyX","STAR","GTE0PRE","GTE0","incPr","$0","fM","fm","fp","fpr","fb","to","tM","tm","tp","tpr","prerelease","allowed","major","minor","patch","MAX_LENGTH","MAX_SAFE_INTEGER","safeSrc","src","compareIdentifiers","LOOSE","FULL","num","build","compare","other","compareMain","comparePre","compareBuild","inc","release","identifier","identifierBase","PRERELEASELOOSE","PRERELEASE","base","eq","neq","gte","lte","op","rtl","coerceRtlRegex","COERCERTLFULL","COERCERTL","lastIndex","COERCEFULL","COERCE","versionA","versionB","version1","version2","v1","v2","comparison","v1Higher","highVersion","lowVersion","highHasPre","throwErrors","parsed","internalRe","constants","identifiers","valid","clean","diff","rcompare","compareLoose","rsort","coerce","satisfies","toComparators","maxSatisfying","minSatisfying","minVersion","validRange","outside","gtr","ltr","simplifyRange","subset","tokens","SEMVER_SPEC_VERSION","RELEASE_TYPES","rcompareIdentifiers","MAX_SAFE_COMPONENT_LENGTH","MAX_SAFE_BUILD_LENGTH","process","env","NODE_DEBUG","numeric","anum","bnum","firstKey","looseOption","freeze","emptyOpts","LETTERDASHNUMBER","safeRegexReplacements","createToken","isGlobal","safe","token","makeSafeRegex","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","BUILDIDENTIFIER","MAINVERSION","BUILD","FULLPLAIN","MAINVERSIONLOOSE","LOOSEPLAIN","XRANGEIDENTIFIER","XRANGEIDENTIFIERLOOSE","GTLT","XRANGEPLAIN","XRANGEPLAINLOOSE","COERCEPLAIN","LONETILDE","LONECARET","r1","r2","versions","maxSV","rangeObj","minSV","minver","setMin","comparator","compver","hilo","gtfn","ltefn","ltfn","ecomp","high","low","prev","ranges","simplified","original","minimumVersionWithPreRelease","minimumVersion","simpleSubset","sub","dom","eqSet","gtltComp","higher","lower","hasDomLT","hasDomGT","higherGT","lowerLT","needDomLTPre","needDomGTPre","sawNonNull","OUTER","simpleSub","simpleDom","isSub","__defProp","__getOwnPropSymbols","__hasOwnProp","__propIsEnum","__defNormalProp","obj","__spreadValues","prop","getUrlWithAppState","preserveParams","paramsCopy","locationService","getSearchObject","urlUtil","renderUrl","locationUtil","assureBaseUrl","renderSceneComponentWithRouteProps","sceneObject","routeProps","Component","model","__defProps","defineProperties","__getOwnPropDescs","getOwnPropertyDescriptors","runtimePanelPlugins","SceneComponentWrapper","_a2","otherProps","exclude","__objRest","EmptyRenderer","setValue","unsub","activate","prevState","isActive","SceneObjectStateChangedEvent","UserActionEvent","_ref","__accessCheck","member","SceneObjectRef","ref","setter","WeakSet","__privateAdd","getter","SceneObjectBase","_isActive","_activationHandlers","_deactivationHandlers","_subs","Subscription","_refCount","_events","EventBusSrv","_state","_setParent","parent","_parent","variableDependency","_variableDependency","urlSync","_urlSync","forEachChild","child","subscribeToState","handler","changedObject","newState","subscribeToEvent","setState","update","_handleActivationOfChangedStateProps","publishEvent","partialUpdate","$behaviors","_handleChangedBehaviors","$data","_handleChangedStateActivation","$variables","$timeRange","oldValue","newValue","deactivationHandler","oldBehavior","newBehavior","_activateBehavior","bubble","getRoot","_internalActivate","behavior","deactivate","called","_internalDeactivate","removeAllListeners","useSceneObjectState","forceRender","clone","withState","clonedState","cloneSceneObjectState","cloneSceneObject","addActivationHandler","getRef","stateAtFirstRender","shouldActivateOrKeepAlive","unactivate","propValue","sceneState","newArray","getClosest","extract","extracted","curSceneObject","RuntimeDataSource","DataSourceApi","jsonData","access","PluginType","datasource","author","links","logos","large","small","screenshots","updated","baseUrl","testDatasource","runtimeDataSources","UniqueUrlKeyMapper","getUniqueKey","objectsWithKey","address","rebuildIndex","root","buildIndex","depth","getKeys","hit","getUrlState","urlKeyMapper","visitNode","newUrlState","uniqueKey","syncStateFromUrl","urlParams","urlState","currentState","getAll","currentValue","isUrlValueEqual","updateFromUrl","currentUrlValue","newUrlValue","isEqual","Auto","LoadingState","LoadingState2","emptyPanelData","Done","series","timeRange","getDefaultTimeRange","SceneObjectUrlSyncConfig","_sceneObject","_options","_keys","INTERVAL_STRING_REGEX","parseUrlParam","utcValue","toUtc","isValid","epoch","parseInt","evaluateTimeRange","timeZone","fiscalYearStartMonth","hasDelay","dateMath","SceneTimeRange","getTimeZone","UNSAFE_nowDelay","onTimeRangeChange","updateToEval","onTimeZoneChange","onRefresh","_onActivate","timeZoneSource","getTimeZoneSource","weekStart","setWeekStart","bootData","urlValues","EmptyDataNode","getResultsStream","origin","of","DefaultTimeRange","EmptyVariableSet","variables","getByName","isVariableLoadingOrWaitingToUpdate","variable","getTimeRange","SceneVariableValueChangedEvent","isCustomVariableValue","scopedVarsVariable","fieldAccessorCache","getFieldAccessor","fieldPath","accessor","property","ScopedVarsVariable","realValue","getValueText","formatRegistry","Registry","Lucene","formatter","luceneEscape","val","Raw","Regex","escapeRegex","escapedValues","Pipe","Distributed","CSV","HTML","textUtil","escapeHtml","PercentEncode","encodeURIComponentStrict","SingleQuote","regExp","strVal","DoubleQuote","SQLString","sqlStringFormatter","nrValue","NaN","dateTime","Glob","_args","QueryParam","formatQueryParameter","UriEncode","encodeURIStrict","str","replaceSpecialCharactersToASCII","encodeURIComponent","encodeURI","SQL_ESCAPE_MAP","ALL_VARIABLE_TEXT","ALL_VARIABLE_VALUE","AUTO_VARIABLE_VALUE","VARIABLE_REGEX","SEARCH_FILTER_VARIABLE","lookupVariable","found","sceneInterpolator","scopedVars","interpolations","var1","var2","fmt2","var3","fmt3","fmt","scopedVar","getSceneVariableForScopedVar","Macro","macrosIndex","lookupFormatVariable","formatNameOrFn","multi","isMulti","includeAll","getIfExists","formatValue","isSceneObject","isDataRequestEnricher","isDataLayer","getData","findObjectInternal","scene","check","alreadySearchedChild","shouldSearchUp","maybe","findObject","SkipFormattingValue","_value","TimeFromAndToMacro","valueOf","dateTimeFormat","IntervalMacro","intervalMs","collectAllVariables","record","skipUrlSync","getTemplateProxyForField","field","frame","Proxy","getFieldDisplayName","__values","formatLabels","fallbackDisplayProcessor","getDisplayProcessor","UrlStateFormatter","_urlQueryParams","allParams","URLSearchParams","param","includeOnly","DataLinkBuiltInVars","includeVars","allVars","keepTime","toUrlParams","_match","_scopedVars","dataContext","__dataContext","rowIndex","calculatedValue","formattedValueToString","timeField","fields","FieldType","time","display","getFieldDisplayValuesProxy","frameIndex","getFrameDisplayName","subUrl","appSubUrl","search","Intl","DateTimeFormat","resolvedOptions","login","email","orgName","orgId","sceneGraph","getVariables","getLayout","isSceneLayout","getDataLayers","localOnly","currentLevel","collected","dataProvider","interpolate","hasVariableDependencyInLoadingState","getNames","findByKey","sceneToCheck","findByKeyAndType","targetType","findAllObjects","getAncestor","ancestorType","getQueryController","getDataSource","runtimeDataSource","query","getDataSourceSrv","writeSceneLog","logger","rest","loggingEnabled","localStorage","VariableDependencyConfig","_dependencies","_isWaitingForVariables","scanCount","_statePaths","statePaths","hasDependencyOn","variableUpdateCompleted","hasChanged","deps","dependencyChanged","onAnyVariableChanged","onVariableUpdateCompleted","onReferencedVariableValueChanged","hasDependencyInLoadingState","scanStateForDependencies","setVariableNames","varNames","variableNames","setPaths","paths","extractVariablesFrom","matches","safeStringifyValue","matchAll","VariableValueRecorder","_values","recordCurrentDependencyValuesForSceneObject","clearValues","cloneAndRecordCurrentValuesForSceneObject","hasValues","recordCurrentValue","hasRecordedValue","hasValueChanged","isVariableValueEqual","hasDependenciesChanged","isExtraQueryProvider","passthroughProcessor","secondary","extraQueryProcessingOperator","processors","mergeMap","primary","secondaries","processedSecondaries","requestId","forkJoin","getEnrichedDataRequest","sourceRunner","enrichDataRequest","originalGetAdhocFilters","allActiveFilterSets","registerQueryWithController","entry","queryStream","queryControler","Observable","observer","cancel","queryStarted","markedAsCompleted","Loading","queryCompleted","allActiveGroupByVariables","setBaseClassState","MultiValueVariable","MultiValueUrlSyncHandler","validateAndUpdate","getValueOptions","updateValueGivenNewOptions","onCancel","setStateHelper","loading","sceneVarSet","currentText","stateUpdate","getStateUpdateGivenNewOptions","interceptStateUpdateAfterValidation","hasAllValue","defaultToAll","validValues","validTexts","defaultState","getDefaultMultiState","matchingOption","textMatch","findOptionMatchingCurrent","isAllValueFix","skipNextValidation","allValue","CustomAllValue","changeValueTo","findLabelTextForValue","optionByLabel","getOptionsForSelect","getKey","urlValue","handleLegacyUrlAllValue","_variable","codeModeMetricNamesSuggestionLimit","metricsCountInfo","seriesLimit","DashboardSaveDrawer","saveButton","saveAsButton","saveAsTitleInput","fieldInput","queryGroupTopSection","addExpression","AlertRules","groupToggle","expandedContent","previewButton","ruleNameField","newFolderButton","newFolderNameField","newFolderNameCreateButton","newEvaluationGroupButton","newEvaluationGroupName","newEvaluationGroupInterval","newEvaluationGroupCreate","shareDashboard","markAsFavorite","editDashboard","editButton","exitButton","settingsButton","addRowButton","addLibraryPanelButton","addVisualizationButton","pastePanelButton","discardChangesButton","discardLibraryPanelButton","unlinkLibraryPanelButton","saveLibraryPanelButton","backToDashboardButton","toggleAllOptions","changeTimeSettingsButton","inputSelect","ReactMonacoEditor","editorLazy","variableLinkWrapper","editor","testButton","resultContainer","ReturnToPrevious","buttonGroup","backButton","dismissButton","SQLQueryEditor","selectColumn","selectAggregation","selectAlias","filterConjunction","filterField","filterOperator","headerTableSelector","headerFilterSwitch","headerGroupSwitch","headerOrderSwitch","headerPreviewSwitch","EntityNotFound","scrollContainer","newShareButton","shareLink","arrowMenu","shareInternally","shareExternally","shareSnapshot","NewExportButton","exportAsJson","playlistControls","stop","Controls","saveRefresh","SnapshotScene","PublishSnapshot","ShareDashboardDrawer","ShareInternally","lockTimeRangeSwitch","shortenUrlSwitch","copyUrlButton","ShareExternally","publicAlert","emailSharingAlert","shareTypeSelect","Creation","PublicShare","cancelButton","EmailShare","willBePublicCheckbox","enableTimeRangeSwitch","enableAnnotationsSwitch","revokeAccessButton","toggleAccessButton","ShareSnapshot","publishSnapshot","ExportDashboardDrawer","ExportAsJson","codeEditor","exportExternallyToggle","saveToFileButton","copyToClipboardButton","PublicDashboardScene","loadingPage","controls","getOptionSearcher","ufuzzy","uFuzzy","allOptions","haystack","limit","idxs","filteredOptions","filterNoOp","VariableValueSelect","isReadOnly","inputValue","setInputValue","hasCustomValue","setHasCustomValue","selectValue","toSelectableValue","useMemo","optionSearcher","isValidNewOption","inputValue2","width","disabled","allowCustomValue","virtualized","filterOption","tabSelectsValue","onInputChange","value2","action","onSearchChange","onOpenMenu","onCloseMenu","onChange","__isNew__","VariableValueSelectMulti","maxVisibleValues","noValueOnClear","arrayValue","uncommittedValue","setUncommittedValue","MultiSelect","noMultiValueWrap","closeMenuOnSelect","Option","OptionWithCheckbox","isClearable","hideSelectedOptions","onBlur","children","innerProps","innerRef","isFocused","isSelected","renderOptionLabel","theme","useTheme2","selectStyles","getSelectStyles","optionStyles","useStyles2","getOptionStyles","className","cx","optionFocused","Checkbox","optionBody","displayName","css","marginRight","spacing","renderSelectForVariable","GroupByVariableUrlSyncHandler","toUrlValues","values2","texts","unescapeUrlDelimiters","toUrlCommaDelimitedString","getEnrichedFiltersRequest","enrichFiltersRequest","initialState","baseFilters","applyMode","layout","isLazy","_getKeys","ds","override","getTagKeysProvider","defaultOptions","getTagKeys","queries","getQueriesForVariables","otherFilters","filters","tagKeyRegexFilter","_updateValueGivenNewOptions","__sceneObject","take","arrayText","isFetchingOptions","setIsFetchingOptions","isOptionsOpen","setIsOptionsOpen","isOpen","isLoading","lastValueFrom","Icon","role","onMouseDown","ControlsLabel","styles","getStyles","isVertical","loadingIndicator","style","marginLeft","marginTop","preventDefault","stopPropagation","errorIndicator","placement","errorIcon","descriptionIndicator","normalIcon","testId","labelElement","verticalLabel","htmlFor","onRemove","IconButton","variant","onClick","horizontalLabel","background","isDark","colors","alignItems","padding","fontWeight","typography","fontWeightMedium","fontSize","bodySmall","height","md","lineHeight","borderRadius","shape","border","borderColor","position","right","whiteSpace","gap","marginBottom","color","selectableValueToVariableValueOption","keyLabelToOption","AdHocFilterRenderer","setKeys","setValues","isKeysLoading","setIsKeysLoading","isValuesLoading","setIsValuesLoading","isKeysOpen","setIsKeysOpen","isValuesOpen","setIsValuesOpen","valueInputValue","setValueInputValue","valueHasCustomValue","setValueHasCustomValue","keyValue","keyLabel","valueValue","valueLabel","filteredValueOptions","allowCreateWhileLoading","formatCreateLabel","widthWhenOpen","_updateFilter","autoFocus","openMenuOnFocus","_getValuesFor","keySelect","keys2","_removeFilter","Field","_getOperators","Button","removeButton","borderTopRightRadius","borderBottomRightRadius","borderTopLeftRadius","borderBottomLeftRadius","zIndex","minWidth","flexShrink","paddingLeft","paddingRight","borderLeft","boxSizing","left","AdHocFilterBuilder","addFilterButtonText","_wip","_addWip","AdHocFiltersVariableUrlSyncHandler","isFilterComplete","toArray","escapeUrlPipeDelimiters","toFilter","isFilter","deserializeUrlToFilters","_operatorLabel","key2","condition","filterExpression","renderExpression","expressionBuilder","_dataSourceSrv","filterVar","templateSrv","getTemplateSrv","getAdhocFilters","dsName","getInstanceSettings","patchGetAdhocFilters","filterExpressionChanged","propLabelKey","updatedFilters","updatedFilter","currentKey","defaultKeys","useQueriesAsFilterForOptions","getTagValuesProvider","handleOptionGroups","getTagValues","renderPrometheusLabelFilters","flexWrap","columnGap","rowGap","filterIcon","groupedResults","groupLabel","DataLayersMerger","_resultsMap","_prevLayers","getMergedStream","layers","areDifferentLayers","resultStreams","deactivationHandlers","layer","merge","mergeAll","counter","getNextRequestId","SceneQueryRunner","_dataLayersMerger","_variableValueRecorder","_results","ReplaySubject","onVariableUpdatesCompleted","onDataReceived","preProcessedData","preProcessPanelData","_resultAnnotations","dataWithLayersApplied","_combineDataLayers","hasFetchedData","_hasFetchedData","providers","getClosestExtraQueryProviders","provider","shouldRerun","runQueries","subscribeToTimeRangeChanges","shouldRunQueriesOnActivate","_dataLayersSub","_handleDataLayers","_onDeactivate","dataLayers","_onLayersReceived","results","dataLayerFilter","alertState","alertStates","dataTopic","DataTopic","AlertStates","panelId","frameIdx","matching","panelIdField","sourceField","sourceFilter","ids","processed","frameLength","filterAnnotations","frameView","DataFrameView","allFramesEmpty","_layerAnnotations","baseStateUpdate","_adhocFiltersVar","_groupByVar","_isRelevantAutoVariable","findFirstDatasource","_isDataTimeRangeStale","stateTimeRange","dataTimeRange","unix","_querySub","_timeSub","_timeSubRange","setContainerWidth","_containerWidth","maxDataPointsFromWidth","maxDataPoints","isDataReadyToDisplay","runWithTimeRange","getMaxDataPoints","cancelQuery","findAndSubscribeToAdHocFilters","runRequest","getRunRequest","prepareRequests","stream","secondaryStreams","errors","toDataQueryError","_setNoDataState","minInterval","cloneDeep","liveStreaming","rangeRaw","cacheTimeout","queryCachingTTL","groupByKeys","mixed","isExpressionReference","lowerIntervalLimit","norm","rangeUtil","calculateInterval","__interval","__interval_ms","primaryTimeRange","secondaryRequests","secondaryProcessors","req","processor","getExtraQueries","filtersVar","dsUid","findActiveAdHocFilterVariableByUid","_updateExplicitVariableDependencies","groupByVar","groupByVariable","findActiveGroupByVariablesByUid","explicitDependencies","seen","getCircularReplacer","escapeLabelValueInExactSelector","RE2_METACHARACTERS","escapeLokiRegexp","renderFilter","sourceObject","applicableRunners","runners","groupedItems","activeItems","filterOutInactiveRunnerDuplicates","escapeUrlCommaDelimiters","VariableRefresh","VariableRefresh2","DashboardCursorSync","DashboardCursorSync2","CursorSync","sync","Off","getEventsBus","panel","PanelContextEventBus","getEventsScope","_source","_eventsOrigin","newScopedBus","isBrowser","useLayoutEffect","top","bottom","ResizeObserver","rect","setRect","contentRect","top_1","getChromeStatusMessage","pluginLoadingError","relativeWrapper","absoluteWrapper","getAlertStateStyles","success","pending","warning","alerting","displayOverrideRef","isHideSeriesOverride","isSystemOverrideWithRef","createOverride","names","ByNamesMatcherMode","viz","__systemRef","matcher","FieldMatcherID","byNames","properties","createExtendedOverride","existing","getExistingDisplayNames","rule","allFieldsAreExcluded","getDisplayNames","excludeName","unique","number","getNamesOfHiddenFields","overrides","fieldMatchers","byName","createProperty","FieldColorModeId","Fixed","fixedColor","VizPanel","fieldConfig","defaults","_structureRev","liveNowTimer","LiveNowTimer","sceneTimeRange","isEnabled","plugin","getPlugin","skipDataQuery","onTitleChange","onDescriptionChange","onDisplayModeChange","displayMode","onOptionsChange","optionsUpdate","nextOptions","mergeWith","srcValue","withDefaults","getPanelOptionsWithDefaults","_plugin","currentOptions","currentFieldConfig","isAfterPluginChange","onFieldConfigChange","fieldConfigUpdate","nextFieldConfig","_dataWithFieldConfig","scoped","getDescription","interaction","markdown","renderMarkdown","onCancelQuery","onStatusMessageClick","_onSeriesColorChange","currentIndex","overridesCopy","propertyIndex","propertiesCopy","changeSeriesColorConfigFactory","_onSeriesVisibilityChange","SeriesVisibilityChangeMode","ToggleSelection","override3","override2","nameOfHiddenFields","el","seriesVisibilityConfigFactory","_onInstanceStateChange","_panelContext","instanceState","_pluginInstanceState","_onToggleLegendSort","sortKey","legendOptions","sortDesc","sortBy","_loadPlugin","getPanelPluginFromCache","getPluginImportUtils","loadPanelPluginSync","_pluginLoaded","importPanelPlugin","PanelPlugin","getPanelPluginNotFound","_pluginLoadError","getLegacyPanelId","pluginVersion","_UNSAFE_customMigrationHandler","currentVersion","_getPluginVersion","onPanelMigration","buildInfo","getPanelContext","buildPanelContext","clearFieldConfigCache","applyFieldConfig","rawData","_prevData","pluginDataSupport","dataSupport","fieldConfigRegistry","prevFrames","newFrames","applyFieldOverrides","replaceVariables","theme2","compareArrayValues","compareDataFrameStructures","structureRev","eventsScope","eventBus","CoreApp","onSeriesColorChange","onToggleSeriesVisibility","onToggleLegendSort","onInstanceStateChange","extendPanelContext","hoverHeader","hoverHeaderOffset","headerActions","titleItems","appEvents","setPanelAttention","useCallback","SetPanelAttentionEvent","debouncedMouseMove","debounce","dragClass","dragClassCancel","parentLayout","isDraggable","ancestor","itemDraggingDisabled","getDragClass","getDragClassCancel","getDragClasses","dataObject","dataWithFieldConfig","titleInterpolated","alertStateStyles","PanelComponent","panelMenu","actionsElement","titleItemsElement","titleItem","PanelChrome","TitleItem","AlertState","OK","Pending","Alerting","isReadyToRender","loadingState","statusMessage","statusMessageOnClick","actions","noPadding","onFocus","onMouseMove","ErrorBoundaryAlert","dependencies","PluginContextProvider","PanelContextProvider","transparent","renderCounter","onChangeTimeRange","_LiveNowTimer","timerId","_activationHandler","panels","REFRESH_RATE","disable","getMessageFromError","isFetchError","statusText","SceneDataLayerBase","variableDependencyStatePaths","onActivate","onEnable","shouldRunLayerOnActivate","runLayer","querySub","onDisable","onDeactivate","publishResults","DataLayerControlSwitch","elementId","showLoading","containerStyle","InlineSwitch","isArrayLike","observable","pipeFromArray","fns","_subscribe","lift","_this","Subscriber","isObserver","errorContext","_trySubscribe","sink","promiseCtor","getPromiseCtor","operations","_i","toPromise","create","iterator","innerFrom","isInteropObservable","obs","array","closed","promise","reportUnhandledError","asyncIterator","isAsyncIterable","fromAsyncIterable","isIterable","iterable","e_1","iterable_1","iterable_1_1","e_1_1","return","getReader","isReadableStreamLike","readableStream","reader","trys","read","sent","releaseLock","readableStreamLikeToAsyncGenerator","createInvalidObservableTypeError","asyncIterable","asyncIterable_1","asyncIterable_1_1","e_2","e_2_1","project","resultSelector","concurrent","Infinity","ii","onBeforeNext","innerSubScheduler","additionalFinalizer","isComplete","checkComplete","outerNext","doInnerSub","innerComplete","innerValue","_loop_1","bufferedValue","parentSubscription","scheduler","repeat","scheduleSubscription","schedule","executeSchedule","mergeInternals","standardAnnotationSupport","prepareAnnotation","json","mappings","prepareQuery","anno","processEvents","standardTransformers","mergeTransformer","hasTime","hasText","evts","alertEventAndAnnotationFields","opt","AnnotationEventFieldSource","Skip","events","regex","getAnnotationsFromData","annotationEventNames","help","string","publicDashboardAccessToken","legacyRunner","executeAnnotationQuery","annotationQuery","shouldUseLegacyRunner","annotation","dashboard","annotationWithDefaults","getDefaultQuery","processedQuery","documentElement","clientWidth","__annotation","queryRequest","panelData","postProcessQueryResult","snapshotData","processedItem","visualization","getColorByName","iconColor","isRegion","timeEnd","isPanelAlert","_timeRangeSub","resolveDataSource","processedEvents","dedup","partition","eventsById","groupBy","eventGroup","head","dedupAnnotations","df","arrayToDataFrame","isHidden","SceneDataLayerSetBase","subscribeToAllLayers","_onLayerUpdateReceived","combinedData","SceneDataLayerSet","oldState","SceneDataTransformer","reprocessTransformations","activationHandler","sourceData","getSourceData","transform","_transformSub","_prevDataFromSource","haveAlreadyTransformedData","force","transformations","seriesTransformations","transformation","topic","Series","annotationsTransformations","streams","transformDataFrame","transformedSeries","transformedAnnotations","catchError","sourceErr","transformationError","transformedData","VariableValueSelectWrapper","showAlways","hideLabel","VariableHide","hideVariable","verticalContainer","VariableLabel","labelOrName","flexDirection","SceneVariableSet","_variablesThatHaveChanged","_variablesToUpdate","_updating","SceneVariableSetVariableDependencyHandler","_handleParentVariableUpdatesCompleted","_handleVariableValueChanged","_refreshTimeRangeBasedVariables","_onStateChanged","_checkForVariablesThatChangedWhileInactive","_variableNeedsUpdate","_updateNextBatch","subscription","variablesToUpdateCountStart","updating","refresh","onTimeRangeChanged","writeVariableTraceLog","_addDependentVariablesToUpdateQueue","variableToUpdate","_validateAndUpdateCompleted","_handleVariableError","_notifyDependentSceneObjects","variableThatChanged","otherVariable","_traverseSceneAndNotify","isAncestorLoading","_variableUpdatesCompleted","_emptySet","DataSourceVariable","getList","metrics","interpolated","stringToJsRegex","defaultOptionEnabled","isDefault","hasLegacyVariableSupport","metricFindQuery","hasStandardVariableSupport","getType","VariableSupportType","Standard","variableSupport","toDataQuery","hasCustomVariableSupport","Custom","StandardQueryRunner","_runRequest","getTarget","ensureVariableQueryModelIsADataQuery","getEmptyMetricFindValueObservable","LegacyQueryRunner","searchFilter","CustomQueryRunner","createQueryVariableRunner","getAllMatches","global","sortVariableValues","sortOrder","VariableSort","sortByNumeric","sortByNaturalSort","options2","localeCompare","alphabeticalAsc","alphabeticalDesc","reverse","numericalAsc","numericalDesc","alphabeticalCaseInsensitiveAsc","toLower","alphabeticalCaseInsensitiveDesc","naturalAsc","naturalDesc","toMetricFindValues","firstValue","isDataFrame","firstValueKey","areMetricFindValues","processedDataFrames","getProcessedDataFrames","valueIndex","textIndex","stringIndex","expandableIndex","fieldName","boolean","expandable","onDashboardLoad","_updateOptionsBasedOnSearchFilter","runner","getRequest","throwError","variableRegEx","valueGroup","textGroup","firstMatch","manyMatches","uniqBy","metricNamesToVariableValues","cancelled","__searchFilter","buildMetricTree","chars","letter","queryTree","queryIndex","nodeQuery","namesToMatch","nameToMatch","queryMetricTree","VariableValueInput","currentTarget","onKeyDown","AutoSizeInput","defaultValue","completeUpdate","Subject","isGettingValues","getValueOptionsCount","delayMs","queryController","queryEntry","interpolatedQuery","getOptions","issuedQuery","timeout","signalUpdateCompleted","clearTimeout","optionsToReturn","intervals","autoStepCount","autoMinInterval","autoEnabled","_onChange","getAutoRefreshInteval","minRefreshInterval","shouldPublish","firstOption","UrlSyncManager","_urlKeyMapper","_stateSub","_locationSub","_ignoreNextLocationUpdate","_onLocationUpdate","_lastPath","_sceneRoot","searchParams","getSearch","mappedUpdated","partial","initSync","getHistory","listen","syncFrom","cleanUp","sceneObj","urlSyncManager","getUrlSyncManager","EmbeddedScene","unsetGlobalScene","activeScene","prevScene","__grafanaSceneContext","setWindowGrafanaSceneContext","initUrlSync","control","flexGrow","minHeight","VizPanelMenu","setItems","focus","renderItems","items2","Divider","Group","subMenu","Item","iconClassName","childItems","shortcut","isSceneGridRow","SceneGridRow","SceneGridLayout","createClass","descriptor","Constructor","protoProps","staticProps","_extends","possibleConstructorReturn","ReferenceError","slicedToArray","_arr","_n","_s","sliceIterator","windowObject","cancelFrame","requestFrame","clearTimeoutFn","setTimeoutFn","cancelAnimationFrameFn","cancelAnimationFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","requestAnimationFrameFn","mozRequestAnimationFrame","webkitRequestAnimationFrame","createDetectElementResize","nonce","animationKeyframes","animationName","animationStartEvent","animationStyle","checkTriggers","resetTriggers","scrollListener","attachEvent","triggers","__resizeTriggers__","firstElementChild","lastElementChild","expandChild","scrollLeft","scrollWidth","scrollTop","scrollHeight","offsetWidth","offsetHeight","__resizeLast__","__resizeRAF__","__resizeListeners__","animation","keyframeprefix","domPrefixes","startEvents","elm","createElement","addResizeListener","doc","ownerDocument","elementStyle","getComputedStyle","getElementById","getElementsByTagName","setAttribute","styleSheet","cssText","appendChild","createTextNode","createStyles","expandTrigger","contractTrigger","__animationListener__","removeResizeListener","detachEvent","removeChild","_ref2","animationFrameID","timeoutID","AutoSizer","_React$PureComponent","_temp","instance","classCallCheck","_len","_key","__proto__","getPrototypeOf","defaultHeight","defaultWidth","_onResize","_this$props","disableHeight","disableWidth","onResize","_parentNode","_height","_width","_style","paddingTop","paddingBottom","newHeight","newWidth","_setRef","autoSizer","_autoSizer","subClass","superClass","setPrototypeOf","inherits","defaultView","HTMLElement","_detectElementResize","_props","outerStyle","overflow","childParams","bailoutOnChildren","PureComponent","defaultProps","effect","useUniqueId","idRefLazy","uniqueId","LazyLoader","onLoad","loaded","setLoaded","isInView","setIsInView","useImperativeHandle","addCallback","isIntersecting","wrapperEl","callbacks","unobserve","IntersectionObserver","rootMargin","GridItemWrapper","grid","layoutItem","totalCount","divProps","sceneChild","getSceneLayoutChild","getClassName","innerContent","updateAnimationClass","retry","ResizeHandle","customCssClass","getResizeHandleStyles","viewBox","fill","xmlns","stroke","strokeWidth","strokeLinecap","strokeLinejoin","strong","cursor","svg","fitPanelsInHeight","cells","visibleHeight","GRID_CELL_VMARGIN","scaleFactor","cell","_SceneGridLayout","sortChildrenByPosition","_skipOnLayoutChange","_oldLayout","_loadOldLayout","onLayoutChange","nextSize","onResizeStop","onDragStart","gridLayout","onDragStop","updatedItem","sortGridLayout","gridItem","childSize","indexOfUpdatedItem","newParent","findGridItemSceneParent","newChildren","isRowDropValid","moveChildTo","toggleRow","isCollapsed","rowChildren","rowY","yDiff","yMax","newSize","pushDownAmount","pushChildDown","rowChild","amount","startAt","nextSceneChild","currentParent","rootChildren","newChild","newRow","targetRow","toGridCell","isInteger","isResizable","buildGridLayout","UNSAFE_fitPanels","validateChildrenSize","containerPadding","useCSSTransforms","margin","cols","rowHeight","draggableHandle","draggableCancel","isBounded","resizeHandle","isCollapsible","onCollapseToggle","getGridLayout","rowc","getSceneGridRowStyles","layoutDragClass","count","rowCollapsed","rowTitleAndActionsGroup","rowTitleButton","rowTitle","panelCount","panelCountCollapsed","rowActions","dragHandle","justifyContent","borderBottom","weak","h5","collapsedInfo","opacity","transition","fontStyle","sm","onToggle","canCollapse","canRemove","gridRow","toolbarControls","ToolbarButton","align","Input","SceneTimePicker","onZoom","zoomedTimeRange","factor","timespan","center","newTimespan","getZoomedTimeRange","onChangeFiscalYearStartMonth","month","onMoveBackward","getShiftedTimeRange","TimeRangeDirection","Backward","onMoveForward","Forward","hidePicker","isOnCanvas","timeRangeState","TimeRangePicker","onChangeTimeZone","TimeRangeDirection2","dir","upperLimit","oldTo","oldFrom","halfSpan","fromRaw","toRaw","DEFAULT_INTERVALS","SceneRefreshPicker","autoValue","isRunning","cancelAll","_intervalTimer","setupIntervalTimer","onIntervalChanged","setupAutoTimeRangeListener","calculateAutoRefreshInterval","resolution","_autoTimeRangeListener","autoRefreshInterval","intervalToMs","withText","useQueryControllerState","showAutoInterval","getCompareSeriesRefId","PREVIOUS_PERIOD_VALUE","NO_PERIOD_VALUE","PREVIOUS_PERIOD_COMPARE_OPTION","NO_COMPARE_OPTION","DEFAULT_COMPARE_OPTIONS","compareOptions","getCompareOptions","compareWith","diffDays","ceil","matchIndex","onCompareWithChanged","onClearCompare","extraQueries","compareRange","getCompareTimeRange","timeRangeCompare","timeShiftAlignmentProcessor","compareFrom","compareTo","diffMs","subtract","previousCompare","setPreviousCompare","previousValue","ButtonGroup","ButtonSelect","timeCompare","isTimeShiftQuery","palette","gray60","performRepeat","seriesIndex","layoutChild","getLayoutChild","getMultiVariableValues","_SceneControlsSpacer","SceneFlexLayout","toggleDirection","direction","parentState","wrap","applyItemStyles","alignContent","breakpoints","down","maxWidth","maxHeight","useLayoutStyle","SceneFlexItem","parentDirection","xSizing","ySizing","alignSelf","useLayoutItemStyle","SceneCSSGridLayout","templateColumns","autoRows","_k","gridTemplateColumns","gridTemplateRows","templateRows","gridAutoRows","justifyItems","SceneCSSGridItem","gridColumn","PIXELS_PER_MS","VERTICAL_KEYS","HORIZONTAL_KEYS","propsForDirection","dim","axis","column","Splitter","handleSize","initialSize","primaryPaneStyles","secondaryPaneStyles","onDragFinished","kids","splitterRef","firstPaneRef","secondPaneRef","containerRef","containerSize","primarySizeRef","firstPaneMeasurements","savedPos","measurementProp","clientAxis","minDimProp","maxDimProp","cb","throttleWait","throttledCallback","resizeObserver","box","useResizeObserver","isSameNode","curSize","getBoundingClientRect","newDims","measureElement","ariaValueNow","clamp","dragStart","onPointerDown","setPointerCapture","pointerId","onPointerMove","dims","newFlex","onPointerUp","releasePointerCapture","parseFloat","pressedKeys","keysLastHandledAt","handlePressedKeys","dx","sizeChange","firstPaneDims","initiateAnimationLoop","onKeyUp","onDoubleClick","visibilitySecond","handle","handleHorizontal","tabIndex","visibility","userSelect","backgroundColor","main","outline","flexBasis","savedBodyOverflow","savedWidth","savedHeight","savedFlex","SplitLayout","Prim","Sec","startSize","__reactRouterVersion","DataRouterHook","DataRouterStateHook","Switch","Route","exact","render","SceneReactObject","DebugDetails","keyName","valueAsNumber","isPlainObject","JSONFormatter","open","renderValue","DebugTreeNode","selectedObject","onSelect","selected","radius","default","backgroundImage","gradients","brandVertical","SceneDebugger","setIsOpen","setSelectedObject","onClose","panes","pane1","paneHeading","CustomScrollbar","autoHeightMin","treeWrapper","pane2","borderRight","SceneAppPageView","containerPage","SceneAppPage","getParentPageIfTab","containerState","useLocation","locationSearchToObject","useAppQueryParams","getScene","isInitialized","initializedScene","initializeScene","pageNav","img","titleImg","titleIcon","preserveUrlKeys","hideFromBreadcrumbs","parentItem","getParentBreadcrumbs","getParentPage","tab","tabSuffix","pageActions","renderTitle","subTitle","SceneAppDrilldownViewRender","drilldown","getDrilldownPage","component","reactNode","_sceneCache","_drilldownCache","routeMatch","getPage","drilldowns","routes","routePath","isExact","isCurrentPageRouteMatch","fallbackPage","getFallbackPage","getFallbackRoute","VisibilityMode","VisibilityMode2","GraphGradientMode","GraphGradientMode2","StackingMode","StackingMode2","VizOrientation","VizOrientation2","BigValueColorMode","BigValueColorMode2","BigValueGraphMode","BigValueGraphMode2","BigValueJustifyMode","BigValueJustifyMode2","BigValueTextMode","BigValueTextMode2","PercentChangeColorMode","PercentChangeColorMode2","TooltipDisplayMode","TooltipDisplayMode2","BarGaugeDisplayMode","BarGaugeDisplayMode2","BarGaugeValueMode","BarGaugeValueMode2","BarGaugeNamePlacement","BarGaugeNamePlacement2","BarGaugeSizing","BarGaugeSizing2","TableCellHeight","TableCellHeight2","barRadius","barWidth","fullHighlight","groupWidth","orientation","showValue","stacking","None","xTickLabelRotation","xTickLabelSpacing","fillOpacity","gradientMode","lineWidth","Gradient","maxVizHeight","minVizHeight","minVizWidth","namePlacement","showUnfilled","sizing","valueMode","Color","selectedSeries","showThresholdLabels","showThresholdMarkers","calculate","cellGap","cellValues","scheme","exponent","steps","filterValues","le","show","selectionMode","Single","yHistogram","showColorScale","bucketCount","bucketOffset","showImage","displayLabels","colorMode","Value","graphMode","Area","justifyMode","percentChangeColorMode","showPercentChange","textMode","wideLayout","alignValue","mergeValues","perPage","colWidth","cellHeight","Sm","countRows","reducer","showHeader","showTypeIcons","StandardFieldConfigOverridesBuilder","_overrides","overrideColor","overrideDecimals","overrideDisplayName","overrideFilterable","overrideLinks","overrideMappings","overrideMax","overrideMin","overrideNoValue","overrideThresholds","overrideUnit","FieldConfigOverridesBuilder","matchFieldsWithName","matchFieldsWithNameByRegex","byRegexp","matchFieldsByType","fieldType","byType","matchFieldsByQuery","byFrameRefID","matchFieldsByValue","byValue","matchComparisonQuery","overrideCustomFieldConfig","_id","FieldConfigBuilder","defaultFieldConfig","_fieldConfig","_overridesBuilder","setDefaults","custom","setColor","setFieldConfigDefaults","setDecimals","decimals","setDisplayName","setFilterable","filterable","setLinks","setMappings","setMax","setNoValue","noValue","setThresholds","thresholds","setUnit","unit","setCustomFieldConfig","setOverrides","PanelOptionsBuilder","setOption","VizPanelBuilder","_fieldConfigBuilder","_panelOptionsBuilder","setTitle","setDescription","setDisplayMode","setHoverHeader","setMenu","setHeaderActions","setData","setTimeRange","setVariables","setBehaviors","behaviors","PanelBuilders","barchart","bargauge","datagrid","flamegraph","gauge","geomap","heatmap","histogram","logs","news","nodegraph","piechart","stat","statetimeline","statushistory","timeseries","trend","xychart","sceneUtils","registerRuntimePanelPlugin","registerRuntimeDataSource","dataSource","registerVariableMacro","macro","syncStateFromSearchParams","isAdHocVariable","isConstantVariable","isCustomVariable","isDataSourceVariable","isIntervalVariable","isQueryVariable","isTextBoxVariable","isGroupByVariable","base64","charAt","b64","s64","encode","end","chunk","fromCharCode","invalidEncoding","decode","codegen","functionParams","functionName","Codegen","formatStringOrScope","verbose","scopeKeys","scopeParams","scopeValues","scopeOffset","Function","formatParams","formatOffset","$1","functionNameOverride","EventEmitter","_listeners","on","off","emit","asPromise","fs","inquire","xhr","readFile","contents","XMLHttpRequest","binary","onreadystatechange","responseText","overrideMimeType","responseType","factory","Float32Array","f32","f8b","writeFloat_f32_cpy","pos","writeFloat_f32_rev","readFloat_f32_cpy","readFloat_f32_rev","writeFloatLE","writeFloatBE","readFloatLE","readFloatBE","writeFloat_ieee754","writeUint","sign","log","LN2","pow","readFloat_ieee754","readUint","uint","mantissa","writeUintLE","writeUintBE","readUintLE","readUintBE","Float64Array","f64","writeDouble_f64_cpy","writeDouble_f64_rev","readDouble_f64_cpy","readDouble_f64_rev","writeDoubleLE","writeDoubleBE","readDoubleLE","readDoubleBE","writeDouble_ieee754","off0","off1","readDouble_ieee754","lo","hi","moduleName","mod","eval","isAbsolute","normalize","absolute","originPath","includePath","alreadyNormalized","alloc","SIZE","MAX","slab","utf8","len","write","c1","c2","cssKeywords","reverseKeywords","convert","rgb","channels","hsl","hsv","hwb","cmyk","xyz","lab","lch","hex","keyword","ansi16","ansi256","hcg","apple","gray","rdif","gdif","bdif","diffc","reversed","currentClosestKeyword","currentClosestDistance","distance","t2","t3","t1","smin","lmin","vmin","sl","wh","bl","ratio","y2","x2","z2","atan2","PI","sqrt","cos","sin","saturation","ansi","mult","rem","colorString","char","integer","chroma","grayscale","hue","pure","mg","conversions","route","fromModel","toModel","wrappedFn","arg0","conversion","wrapRounded","wrapRaw","deriveBFS","models","buildGraph","queue","adjacents","adjacent","wrapConversion","cur","colorNames","swizzle","reverseNames","cs","hexDouble","hexAlpha","i2","alpha","rgba","percent","hsla","hwba","skippedModels","hashedModelKeys","limiters","object","valpha","zeroArray","hashedKeys","places","percentString","unitArray","unitObject","roundToPlace","red","getset","maxfn","green","blue","saturationl","lightness","saturationv","white","wblack","cyan","magenta","yellow","black","hexa","rgbArray","alphaHex","rgbNumber","luminosity","lum","chan","contrast","color2","lum1","lum2","contrastRatio","isLight","negate","lighten","darken","saturate","desaturate","whiten","blacken","fade","opaquer","rotate","degrees","mix","mixinColor","weight","color1","w1","w2","toFixed","roundTo","modifier","autoBom","Blob","onload","MouseEvent","createEvent","initMouseEvent","saveAs","HTMLAnchorElement","URL","webkitURL","download","rel","createObjectURL","revokeObjectURL","msSaveOrOpenBlob","innerText","safari","FileReader","onloadend","readAsDataURL","HASH_UNDEFINED","COMPARE_PARTIAL_FLAG","COMPARE_UNORDERED_FLAG","argsTag","arrayTag","asyncTag","boolTag","dateTag","errorTag","funcTag","genTag","mapTag","numberTag","nullTag","objectTag","promiseTag","proxyTag","regexpTag","setTag","stringTag","symbolTag","undefinedTag","weakMapTag","arrayBufferTag","dataViewTag","reIsHostCtor","reIsUint","typedArrayTags","freeGlobal","freeSelf","freeExports","freeModule","moduleExports","freeProcess","nodeUtil","binding","nodeIsTypedArray","isTypedArray","arraySome","mapToArray","setToArray","arrayProto","funcProto","objectProto","coreJsData","funcToString","maskSrcKey","IE_PROTO","nativeObjectToString","reIsNative","Buffer","symToStringTag","nativeGetSymbols","nativeIsBuffer","isBuffer","nativeKeys","DataView","getNative","nativeCreate","dataViewCtorString","toSource","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","symbolProto","symbolValueOf","Hash","ListCache","MapCache","SetCache","__data__","Stack","arrayLikeKeys","inherited","isArr","isArg","isArguments","isBuff","isType","skipIndexes","iteratee","baseTimes","isIndex","assocIndexOf","baseGetTag","isOwn","tag","unmasked","getRawTag","objectToString","baseIsArguments","isObjectLike","baseIsEqual","bitmask","customizer","equalFunc","objIsArr","othIsArr","objTag","getTag","othTag","objIsObj","othIsObj","isSameTag","equalArrays","byteLength","byteOffset","isPartial","stacked","equalByTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","objProps","getAllKeys","objLength","othProps","othLength","skipCtor","objValue","othValue","compared","objCtor","othCtor","equalObjects","baseIsEqualDeep","baseIsNative","isMasked","baseKeys","Ctor","proto","arrLength","arrValue","othIndex","keysFunc","symbolsFunc","arrayPush","baseGetAllKeys","getSymbols","getMapData","pairs","LARGE_ARRAY_SIZE","resIndex","arrayFilter","symbol","ArrayBuffer","ctorString","isLength","baseUnary","propIsEnumerable","test1","getOwnPropertyNames","test2","test3","shouldUseNative","symbols","toObject","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","propName","componentName","propFullName","secret","getShim","isRequired","ReactPropTypes","bigint","bool","any","arrayOf","elementType","instanceOf","objectOf","oneOf","oneOfType","checkPropTypes","PropTypes","converter","Enum","util","genValuePartial_fromObject","gen","fieldIndex","defaultAlreadyEmitted","resolvedType","typeDefault","repeated","fullName","isUnsigned","genValuePartial_toObject","fromObject","mtype","fieldsArray","safeProp","compareFieldsById","repeatedFields","mapFields","normalFields","partOf","valuesById","long","unsigned","toNumber","bytes","arrayDefault","hasKs2","_fieldsArray","types","keyType","basic","packed","rfield","required","missing","wireType","mapKey","genTypePartial","optional","ReflectionObject","Namespace","comment","comments","valuesOptions","reserved","fromJSON","enm","toJSONOptions","keepComments","isReservedId","isReservedName","allow_alias","Type","ruleRe","extend","Long","extensionField","declaringField","_packed","getOption","ifNotSet","resolved","lookupTypeOrEnum","proto3_optional","fromNumber","newBuffer","emptyObject","emptyArray","ctor","fieldId","fieldRule","decorateType","decorateEnum","_configure","Type_","protobuf","load","Root","loadSync","encoder","decoder","verifier","OneOf","MapField","Service","Method","Message","wrappers","configure","Writer","BufferWriter","Reader","BufferReader","rpc","roots","resolvedKeyType","fieldKeyType","fieldValueType","$type","writer","encodeDelimited","decodeDelimited","verify","requestType","requestStream","responseStream","parsedOptions","resolvedRequestType","resolvedResponseType","lookupType","arrayToJSON","nested","_nestedArray","clearCache","addJSON","nestedArray","nestedJson","methods","getEnum","setOptions","onAdd","define","ptr","part","resolveAll","filterTypes","parentAlreadyChecked","lookupEnum","lookupService","Service_","Enum_","_handleAdd","_handleRemove","setParsedOption","setProperty","newOpt","Root_","fieldNames","oneof","addFieldsToParent","oneofName","oneOfGetter","oneOfSetter","LongBits","indexOutOfRange","writeLength","create_array","readLongVarint","bits","readFixed32_end","readFixed64","_slice","subarray","uint32","int32","sint32","fixed32","sfixed32","float","double","nativeBuffer","skipType","BufferReader_","int64","uint64","sint64","zzDecode","fixed64","sfixed64","utf8Slice","common","deferred","files","SYNC","resolvePath","finish","getBundledFileName","lastIndexOf","altname","imports","weakImports","queued","readFileSync","isNode","exposeRe","tryHandleExtension","extendedType","sisterField","parse_","common_","rpcImpl","requestDelimited","responseDelimited","rpcCall","requestCtor","responseCtor","endedByRPC","_methodsArray","service","methodsArray","rpcService","methodName","lcFirst","isReserved","oneofs","extensions","_fieldsById","_oneofsArray","_ctor","fieldsById","oneofsArray","generateConstructor","ctorProperties","setup","originalThis","fork","ldelim","typeName","bake","safePropBackslashRe","safePropQuoteRe","ucFirst","camelCaseRe","camelCase","decorateRoot","decorateEnumIndex","dst","setProp","prevValue","zero","zzEncode","zeroHash","fromString","toLong","fromHash","hash","toHash","mask","part0","part1","part2","newError","CustomError","captureStackTrace","pool","isFinite","isset","isSet","utf8Write","_Buffer_from","_Buffer_allocUnsafe","sizeOrArray","dcodeIO","key2Re","key32Re","key64Re","longToHash","longFromHash","fromBits","ProtocolError","fieldMap","longs","enums","encoding","allocUnsafe","seenFirstField","invalid","genVerifyKey","genVerifyValue","oneofProp","expected","type_url","Op","State","tail","states","writeByte","VarintOp","writeVarint64","writeFixed32","_push","writeBytes","reset","BufferWriter_","writeStringBuffer","writeBytesBuffer","copy","_DraggableCore","React","nodeInterop","__esModule","_getRequireWildcardCache","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","desc","_interopRequireWildcard","_propTypes","_interopRequireDefault","_reactDom","_clsx","_domFns","_positionFns","_shims","_log","cacheBabelInterop","cacheNodeInterop","_defineProperty","hint","prim","toPrimitive","res","_toPrimitive","_toPropertyKey","Draggable","getDerivedStateFromProps","prevPropsPosition","coreData","onStart","createDraggableData","dragging","dragged","uiData","slackX","slackY","bounds","newStateX","newStateY","getBoundPosition","deltaX","deltaY","onDrag","onStop","defaultPosition","isElementSVG","componentDidMount","SVGElement","findDOMNode","componentWillUnmount","_this$props$nodeRef$c","nodeRef","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","positionOffset","scale","draggableCoreProps","svgTransform","draggable","validPosition","transformOpts","canDragX","canDragY","createSVGTransform","createCSSTransform","cloneElement","Children","only","propTypes","dontSetMe","eventsFor","move","dragEventFor","DraggableCore","allowAnyClick","thisNode","Node","matchesSelectorAndParentsTo","touchIdentifier","getTouchIdentifier","getControlPosition","coreEvent","createCoreData","mounted","enableUserSelectHack","addUserSelectStyles","lastX","lastY","addEvent","handleDrag","handleDragStop","snapToGrid","removeUserSelectStyles","removeEvent","handleDragStart","onTouchStart","_this$props2","onMouseUp","onTouchEnd","offsetParent","addClassName","inputOptions","styleEl","innerHTML","controlPos","translation","getTranslation","_getPrefix","browserPrefixToKey","getTouch","targetTouches","findInArray","changedTouches","clientHeight","computedStyle","int","matchesSelector","selector","baseNode","offsetXYFromParent","offsetParentRect","clientX","clientY","outerHeight","borderTopWidth","borderBottomWidth","outerWidth","borderLeftWidth","borderRightWidth","removeClassName","selection","empty","getSelection","removeAllRanges","matchesSelectorFunc","unitSuffix","defaultX","defaultY","browserPrefixToStyle","getPrefix","prefixes","_window$document","out","shouldCapitalize","kebabToTitleCase","isStart","isNum","cloneBounds","ownerWindow","boundNode","querySelector","boundNodeEl","nodeStyle","boundNodeStyle","offsetLeft","offsetTop","draggableCore","touchObj","pendingX","pendingY","clsx","hasElementType","Element","hasMap","hasSet","hasArrayBuffer","isView","equal","$$typeof","_typeof","_react","_reactDraggable","_reactResizable","_utils","_calculateUtils","_ReactGridLayoutPropTypes","ownKeys","enumerableOnly","sym","_objectSpread","_defineProperties","_setPrototypeOf","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","_isNativeReflectConstruct","Super","_getPrototypeOf","NewTarget","_assertThisInitialized","_possibleConstructorReturn","GridItem","_React$Component","_inherits","_super","_classCallCheck","resizing","createRef","transformScale","newPosition","parentRect","clientRect","cLeft","pLeft","cTop","pTop","_calcXY","calcXY","getPositionParams","containerWidth","positionParams","_this$props3","bottomBoundary","calcGridItemWHPx","calcGridColWidth","rightBoundary","_calcXY2","_ref3","_this$props4","_this$state$dragging","_calcXY3","callbackData","onResizeHandler","nextProps","nextState","droppingPosition","oldPosition","calcGridItemPosition","fastPositionEqual","moveDroppingItem","prevProps","elementRef","prevDroppingPosition","shouldDrag","maxRows","_this$props5","usePercentages","setTransform","setTopLeft","perc","_this$props6","minW","minH","maxW","maxH","resizeHandles","mins","maxes","minConstraints","maxConstraints","Resizable","draggableOpts","onResizeStart","_ref4","handlerName","_this$props7","_this$props8","_calcWH","calcWH","_this$props9","static","dropping","cssTransforms","createStyle","mixinResizable","mixinDraggable","resizeHandleAxesType","resizeHandleType","_lodash","_GridItem","_toConsumableArray","_arrayLikeToArray","_arrayWithoutHoles","iter","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","minLen","arr2","layoutClassName","isFirefox","ReactGridLayout","activeDrag","synchronizeLayoutWithChildren","compactType","allowOverlap","oldDragItem","oldLayout","oldResizeItem","droppingDOMNode","getLayoutItem","cloneLayoutItem","preventCollision","moveElement","compact","newLayout","onLayoutMaybeChanged","_ref5","_this$state","_withLayoutItem","withLayoutItem","hasCollisions","collisions","getAllCollisions","leastX","leastY","_withLayoutItem2","_ref6","_this$state2","_e$nativeEvent$target","nativeEvent","contains","droppingItem","onDropDragOver","onDragOverResult","removeDroppingPlaceholder","finalDroppingItem","_e$nativeEvent","layerX","layerY","_this$state$droppingP","calculatedPosition","dragEnterCounter","onDrop","newLayoutBase","propsLayout","childrenEqual","fastRGLPropsEqual","autoSize","nbRow","containerPaddingY","isDroppingItem","_this$state3","resizable","resizeHandlesOptions","bounded","_this2","isDroppable","mergedClassName","mergedStyle","containerHeight","onDragLeave","onDragEnter","onDragOver","processGridItem","verticalCompact","_default","_responsiveUtils","_ReactGridLayout","_excluded","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","sourceSymbolKeys","getIndentationValue","breakpoint","ResponsiveReactGridLayout","generateInitialState","layouts","_cols","findOrGenerateResponsiveLayout","getBreakpointFromWidth","colNo","getColsFromBreakpoint","onWidthChange","newBreakpoint","lastBreakpoint","newCols","newLayouts","cloneLayout","onBreakpointChange","validateLayout","lg","xs","xxs","gridUnits","colOrRowSize","marginPx","lowerBound","upperBound","ComposedComponent","_class","WidthProvider","_createClass","onWindowResize","measureBeforeMount","isEqualImpl","breakpointsSorted","sortBreakpoints","breakpointsAbove","correctBounds","sorted","breakpointName","collides","compactItem","getFirstCollision","getStatics","modifyLayout","moveElementAwayFromCollision","translate","WebkitTransform","MozTransform","msTransform","OTransform","sortLayoutItems","sortLayoutItemsByColRow","sortLayoutItemsByRowCol","initialLayout","exists","isProduction","_grid","correctedLayout","itemKey","bottomY","moved","l1","l2","heightWidth","resolveCompactionCollision","moveToCoord","sizeProp","otherItem","fullLayout","compactH","collidesWith","isUserAction","oldX","oldY","collision","itemToMove","compactV","fakeItem","contextName","subProps","_console","utils","Responsive","clock","ATTRIBUTE_NAMES","TAG_NAMES","BASE","BODY","HEAD","LINK","META","NOSCRIPT","SCRIPT","STYLE","TITLE","TAG_PROPERTIES","REACT_TAG_MAP","accesskey","charset","class","contenteditable","contextmenu","itemprop","tabindex","HELMET_PROPS","HTML_TAG_MAP","SELF_CLOSING_TAGS","HELMET_ATTRIBUTE","objectWithoutProperties","encodeSpecialCharacters","getTitleFromPropsList","propsList","innermostTitle","getInnermostProperty","innermostTemplate","innermostDefaultTitle","getOnChangeClientState","getAttributesFromPropsList","tagType","tagAttrs","getBaseTagFromPropsList","primaryAttributes","innermostBaseTag","lowerCaseAttributeKey","getTagsFromPropsList","tagName","approvedSeenTags","approvedTags","instanceTags","instanceSeenTags","primaryAttributeKey","attributeKey","tagUnion","rafPolyfill","currentTime","cafPolyfill","_helmetCallback","commitTagChanges","baseTag","bodyAttributes","htmlAttributes","linkTags","metaTags","noscriptTags","onChangeClientState","scriptTags","styleTags","titleAttributes","updateAttributes","updateTitle","tagUpdates","updateTags","addedTags","removedTags","_tagUpdates$tagType","newTags","oldTags","flattenArray","possibleArray","elementTag","helmetAttributeString","getAttribute","helmetAttributes","attributesToRemove","attributeKeys","attribute","indexToSave","removeAttribute","headElement","tagNodes","querySelectorAll","indexToDelete","newElement","existingTag","isEqualNode","generateElementAttributesAsString","attr","convertElementAttributestoReactProps","initProps","getMethodsForTag","toComponent","_initProps","attributeString","flattenedTitle","generateTitleAsString","_mappedTag","mappedTag","mappedAttribute","dangerouslySetInnerHTML","__html","generateTagsAsReactComponent","attributeHtml","tagContent","isSelfClosing","generateTagsAsString","mapStateOnServer","_ref$title","noscript","script","HelmetSideEffects","defer","HelmetExport","HelmetWrapper","shouldComponentUpdate","mapNestedChildrenToProps","nestedChildren","flattenArrayTypeChildren","_babelHelpers$extends","arrayTypeChildren","newChildProps","mapObjectTypeChildren","_babelHelpers$extends2","_babelHelpers$extends3","newProps","mapArrayTypeChildrenToProps","newFlattenedProps","arrayChildName","_babelHelpers$extends4","warnOnInvalidChildren","mapChildrenToProps","_child$props","initAttributes","convertReactPropstoHtmlAttributes","canUseDOM","defaultTitle","titleTemplate","peek","rewind","mappedState","renderStatic","handleRefs","lastHandleRect","slack","_proto","resetData","runConstraints","lockAspectRatio","deltaW","deltaH","oldW","oldH","slackW","slackH","resizeHandler","axisV","axisH","handleRect","_this2$runConstraints","dimensionsChanged","persist","renderResizeHandle","handleAxis","_this3","_this3$handleRefs$han","resizableProps","_Resizable","_propTypes2","ResizableBox","propsWidth","propsHeight","_PropTypes$number","_len2","_key2","_PropTypes$number2","ex","React__default","reducePropsToState","handleStateChangeOnClient","WrappedComponent","mountedInstances","emitChange","SideEffect","_PureComponent","recordedState","UNSAFE_componentWillMount","componentDidUpdate","getDisplayName","initialValue","deserializer","initializer","serializer","localStorageValue","valOrFunc","for","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentOwner","__self","__source","_owner","Fragment","jsx","jsxs","COMPLETE_NOTIFICATION","createNotification","kind","destination","isStopped","EMPTY_OBSERVER","SafeSubscriber","handleStoppedNotification","nextNotification","_next","errorNotification","_error","_complete","_bind","ConsumerObserver","partialObserver","handleUnhandledError","context_1","useDeprecatedNextContext","useDeprecatedSynchronousErrorHandling","notification","onStoppedNotification","timeoutProvider","ctorFunc","UnsubscriptionError","createImpl","arrRemove","initialTeardown","_parentage","_finalizers","_parentage_1","_parentage_1_1","initialFinalizer","_finalizers_1","_finalizers_1_1","finalizer","execFinalizer","teardown","_hasParent","_addParent","_removeParent","EMPTY","isSubscription","onUnhandledError","createOperatorSubscriber","onNext","onComplete","onError","onFinalize","OperatorSubscriber","shouldUnsubscribe","closed_1","delegate","isRoot","errorThrown","captureError","operate","hasLift","liftedSource","isArrayish","FUNC_TYPE","UNDEF_TYPE","OBJ_TYPE","STR_TYPE","MAJOR","MODEL","NAME","TYPE","VENDOR","ARCHITECTURE","CONSOLE","MOBILE","TABLET","SMARTTV","WEARABLE","EMBEDDED","AMAZON","APPLE","ASUS","BLACKBERRY","BROWSER","CHROME","FIREFOX","GOOGLE","HUAWEI","LG","MICROSOFT","MOTOROLA","OPERA","SAMSUNG","SHARP","SONY","XIAOMI","ZEBRA","FACEBOOK","CHROMIUM_OS","MAC_OS","enumerize","str1","str2","lowerize","rgxMapper","ua","arrays","strMapper","windowsVersionMap","regexes","cpu","device","engine","EDGE","getResult","_navigator","_ua","_uach","_rgxmap","mergedRegexes","_isSelfNav","_browser","brave","isBrave","getCPU","_cpu","getDevice","_device","standalone","maxTouchPoints","getEngine","_engine","_os","platform","setUA","CPU","DEVICE","ENGINE","OS","$","jQuery","Zepto","createNullActor","getSnapshot","createInvocableActor","invokeDefinition","machine","_event","invokeSrc","serviceCreator","services","resolvedData","tempActor","createDeferredActor","entity","initialState_1","withContext","isSpawnedActor","isActor","toActorRef","actorRefLike","toInvokeSource","simpleSrc","toInvokeDefinition","invokeConfig","onDone","invokeDef","NULL_EVENT","WILDCARD","EMPTY_OBJECT","isStateId","StateNode","_context","_stateInfo","order","__xstatenode","__cache","relativeValue","initialStateValue","transitions","candidates","delayedTransitions","idMap","guards","activities","delays","delimiter","parallel","history","schema","stateConfig","stateNode","dfs","_transient","always","strict","onEntry","onExit","exit","doneData","invoke","invokeId","invokeSource","activity","_init","withConfig","definition","getDelayedTransitions","formatTransitions","getCandidates","eventName","transient","sameEventType","afterConfig","after","mutateEntryExit","delayRef","configTransition","resolvedTransition","resolvedDelay","delayedTransition","formatTransition","getStateNodes","stateValue","getStateNode","subStateKeys","subStateNodes","subStateKey","handles","resolveState","stateFromConfig","configuration","transitionLeafNode","transitionCompoundNode","_transition","transitionParallelNode","transitionMap","subStateValue","stateTransitions","enabledTransitions","st","exitSet","getTransitionData","e_3","selectedTransition","nextStateNodes","candidate","cond","stateIn","in","resolvedContext","isInState","getStateNodeById","guardPassed","e_3_1","allNextStateNodes","getRelativeStateNodes","historyValue","internal","targetNode","getPotentiallyReenteringNodes","nodes","possibleAncestor","getActions","resolvedConfig","isDone","currentContext","predictableExec","e_4","e_5","prevConfig","entrySet","sn","e_4_1","prevConfig_1","prevConfig_1_1","e_5_1","entryStates","exitStates","doneEvents","grandparent","entryActions","invokeActions","stopActions","resolvedStateValue","getResolvedPath","stateTransition","resolveTransition","resolveRaisedTransition","originalEvent","currentActions","e_6","e_7","willTransition","resolvedConfiguration","actionBlocks","actionBlocks_1","actionBlocks_1_1","block","e_7_1","e_6_1","predictableActionArguments","preserveActionOrder","resolvedActions","updatedContext","raisedEvents","nonRaisedActions","_sessionid","didUpdateContext","changed","hasAlwaysTransitions","maybeNextState","raisedEvent","stateKey","stateId","resolvedStateId","STATE_IDENTIFIER","getStateNodeByPath","statePath","arrayStatePath","currentStateNode","subStateNode","stateIdentifier","getInitialState","historyConfig","relativeStateId","resolveHistory","initialStateNodes","initialStateNodePaths","initialPath","getFromRelativePath","relativePath","childStatePath","childStateNode","relativeStateValue","historyTarget","relativeChildPath","subHistoryValue","subStatePath","childStateIds","stateIds","e_8","e_9","ownEvents","event_1","e_9_1","e_8_1","resolveTarget","_target","isInternalTarget","resolvedTarget","transitionConfig","normalizedTarget","e_10","onConfig","wildcardConfigs","strictTransitionConfigs_1","transitionConfigArray","hasNonLastUnguardedTarget","eventText","validateArrayifiedTransitions","eventlessConfig","doneConfig","settleTransitions","formattedTransitions","delayedTransitions_1","delayedTransitions_1_1","e_10_1","warned","createMachine","stateValuesEqual","isStateConfig","bindActionToState","toStrings","inert","valueKeys","jsonValues","parentStateValue","hasTag","can","transitionData","__assign","__read","ar","__spreadArray","pack","Start","Stop","raise","Raise","Send","Cancel","nullEvent","NullEvent","Assign","After","DoneState","Log","Init","Invoke","errorPlatform","ErrorExecution","ErrorPlatform","ErrorCustom","Update","choose","Choose","Pure","initEvent","getActionFunction","actionType","actionFunctionMap","toActionObject","actionObject","toActionObjects","subAction","toActivityDefinition","resolveLog","expr","sendId","activityDef","actorRef","assignment","idSuffix","eventObject","doneInvoke","DoneInvoke","pluckAssigns","assignActions","resolveActions","preservedContexts","deferredToBlockEnd","handleAction","blockType","raisedAction","delaysMap","resolvedEvent","configDelay","resolveRaise","sendAction","resolveSend","configuredDelay","Internal","matchedActions","conds","guard","resolvedActionsFromChoose","resolvedContextFromChoose","resolvedActionsFromPure","actorRefOrString","resolvedActorRef","resolveStop","resolvedActionObject","exec_1","contextIndex_1","wrapped","_ctx","STATE_DELIMITER","EMPTY_ACTIVITY_MAP","DEFAULT_GUARD_TYPE","TARGETLESS_KEY","IS_PRODUCTION","deferEvents","Scheduler","processingEvent","initialized","flushEvents","task","nextCallback","sessionIdIndex","actor","getGlobal","registerService","devTools","__xstate__","getDevTools","register","spawnBehavior","observers","mailbox","flushing","actorCtx","handleError","InterpreterStatus","DEFAULT_SPAWN_OPTIONS","autoForward","Interpreter","delayedEventsMap","contextListeners","stopListeners","doneListeners","eventListeners","sendListeners","NotStarted","forwardTo","_outgoingQueue","batch","Stopped","Running","forward","_nextState","sendTo","immediate","isParent","Parent","scxmlEvent","_exec","actionOrExec","sendAction_1","spawn","spawnActivity","stopChild","resolvedId","_initialState","actionsConfig","contextListener","finalChildStateNode","_doneEvent","_l","_m","_stop","_stopChildren","onTransition","nextListenerOrObserver","completeListener","completeOnce","onEvent","onSend","resolvedState","attachDev","_o","_p","_q","exitActions","e_11","batchChanged","batchedActions","events_1","events_1_1","e_11_1","sender","nextEvents","nextEvent","e_12","e_12_1","childId","spawnPromise","spawnCallback","spawnActor","spawnObservable","spawnMachine","childService","doneEvent","canceled","errorData","errorEvent","unsubscribed","emitted","callbackStop","receivers","newListener","receiver","implementation","dispose","spawnEffect","__REDUX_DEVTOOLS_EXTENSION__","devToolsOptions","connect","autoPause","stateSanitizer","features","jump","ms","interpret","serviceStack","provide","isLeafNode","getAllChildren","getChildren","getAllStateNodes","stateNodes","getConfiguration","prevStateNodes","prevAdjList","getAdjList","configuration_1","configuration_1_1","adjList","configuration_2","configuration_2_1","configuration_3","configuration_3_1","getValueFromAdj","childStateNodes","csn","configuration_4","configuration_4_1","rootNode","isInFinalState","getMeta","getTagsFromConfiguration","ActionTypes","SpecialTargets","matchesState","parentStateId","childStateId","toStateValue","childStateValue","getEventType","toStatePath","pathToStateValue","mapValues","collection","collectionKeys","mapFilterValues","props_1","props_1_1","nestedPath","accessorProp","props_2","props_2_1","toStatePaths","flatten","subPath","toArrayStrict","mapContext","mapper","subMapper","isBuiltInEvent","isPromiseLike","isBehavior","truthy","falsy","items_1","items_1_1","updateHistoryStates","hist","subHist","updateHistoryValue","updateContext","assignAction","propAssignment","toGuard","guardMap","isObservable","symbolObservable","isMachine","toEventObject","toSCXMLEvent","$$type","toTransitionConfigArray","configLike","transitionLike","normalizeTarget","reportUnhandledExceptionOnInvocation","originalError","currentError","originalStackTrace","evaluateGuard","guardMeta","condFn","toObserver","nextHandler","errorHandler","completionHandler","createInvokeId","stateNodeId","isRaisableAction","base64Decode","base64Str","decodeTable","encodeTable","getEncodeTable","getDecodeTable","es","bytePos","groupPos","encodeTableStd","encodeTableUrl","protoCamelCase","snakeCase","capNext","reservedObjectProperties","safeObjectProperty","restoreJsonNames","unsafe","jsonName","nestedType","parseTextFormatScalarValue","STRING","BYTES","setInt32","tc","uEnc","unescapeBytesDefaultValue","INT64","SFIXED64","SINT64","UINT64","FIXED64","uParse","DOUBLE","FLOAT","POSITIVE_INFINITY","NEGATIVE_INFINITY","BOOL","INT32","UINT32","SINT32","FIXED32","SFIXED32","nestedTypes","messages","nestedMessages","nestedEnums","nestedExtensions","createFileRegistry","createBaseRegistry","$typeName","file","addFile","recurseDeps","protoFileName","dependency","getFile","dep","fileReg","extendees","skipTypes","withDeps","numberToExt","extendee","fileName","getMessage","getExtension","getExtensionFor","no","getService","EDITION_PROTO2","EDITION_PROTO3","TYPE_STRING","TYPE_GROUP","TYPE_MESSAGE","TYPE_BYTES","TYPE_ENUM","LABEL_REPEATED","LABEL_REQUIRED","JS_STRING","IDEMPOTENCY_UNKNOWN","EXPLICIT","IMPLICIT","LEGACY_REQUIRED","PACKED","DELIMITED","OPEN","featureDefaults","fieldPresence","enumType","repeatedFieldEncoding","utf8Validation","messageEncoding","jsonFormat","reg","deprecated","edition","getFileEdition","findFileDependencies","mapEntriesStore","mapEntries","assert","mapEntry","enumProto","addEnum","messageProto","messageType","addMessage","serviceProto","addService","addExtensions","addFields","extension","ext","newField","allOneofs","oneofDecl","localName","newOneof","oneofsSeen","findOneof","members","sharedPrefix","enumName","camel","shortName","findEnumSharedPrefix","makeTypeName","resolveFeature","isEnumOpen","methodProto","newMethod","methodKind","clientStreaming","serverStreaming","trimLeadingDot","inputType","output","outputType","idempotency","idempotencyLevel","parentOrFile","isExtension","scalar","enum","presence","getFieldPresence","listKind","mapKind","delimitedEncoding","longAsString","getDefaultValue","jstype","fieldKind","findMapEntryFields","isDelimitedEncoding","isPackedField","enumeration","descEnum","enumValue","parseTextFormatEnumValue","syntax","wantName","package","proto3Optional","oneofIndex","featureSet","editionDefaults","boot","publicDependency","weakDependency","bootDescriptorProto","bootEnumDescriptorProto","bootFileDescriptorProto","bootFieldDescriptorProto","extensionRange","reservedRange","reservedName","bootFieldOptions","ctype","lazy","unverifiedLazy","debugRedact","retention","uninterpretedOption","file_google_protobuf_descriptor","FileDescriptorProtoSchema","ExtensionRangeOptions_VerificationState","FieldDescriptorProto_Type","FieldDescriptorProto_Label","FileOptions_OptimizeMode","FieldOptions_CType","FieldOptions_JSType","FieldOptions_OptionRetention","FieldOptions_OptionTargetType","MethodOptions_IdempotencyLevel","FeatureSet_FieldPresence","FeatureSet_EnumType","FeatureSet_RepeatedFieldEncoding","FeatureSet_Utf8Validation","FeatureSet_MessageEncoding","FeatureSet_JsonFormat","GeneratedCodeInfo_Annotation_Semantic","Edition","FieldError","fieldOrOneof","te","TextEncoder","td","TextDecoder","encodeUtf8","decodeUtf8","checkUtf8","WireType","FLOAT32_MAX","FLOAT32_MIN","UINT32_MAX","INT32_MAX","INT32_MIN","varint64","varint","fieldNo","Varint","Bit64","Bit32","LengthDelimited","StartGroup","wt","EndGroup","assertBounds","zze","dec","uDec","getUint32","getInt32","getFloat32","getFloat64","checkListItem","checkSingular","reasonSingular","checkScalarValue","formatVal","scalarTypeDescription","formatReflectMessage","formatReflectList","formatReflectMap","messageDesc","ReflectMessageImpl","sortedFields","_sortedFields","lists","maps","findNumber","_fieldsByNumber","oneofCase","assertOwn","ReflectListImpl","ReflectMapImpl","messageToReflect","longToReflect","checkField","messageToLocal","longToLocal","getUnknown","$unknown","setUnknown","owner","_field","unsafeInput","listItemToReflect","listItemToLocal","checkKey","checkVal","checkMapEntry","mapKeyToLocal","mapValueToLocal","mapValueToReflect","objKey","mapKeyToReflect","objEntry","callbackfn","wktStructToLocal","wktStructToReflect","struct","wktValueToReflect","wktValueToLocal","case","nullValue","listValue","readDefaults","readUnknownFields","makeReadOptions","readMessage","delimited","lengthOrDelimitedFieldNo","unknownFields","readField","readScalar","readMessageField","scalarType","readListField","readMapEntry","mergeMessage","fileDesc","fromBinary","needsPrototypeChain","messagePrototypes","createZeroField","createZeroMessage","oneofField","toMessage","initScalar","initList","initMap","initMessage","toU8Arr","convertObjectValues","tokenZeroMessageField","ScalarType","isMessage","protoInt64","makeInt64Support","dv","BigInt","getBigInt64","getBigUint64","setBigInt64","setBigUint64","BUF_BIGINT_DISABLE","MIN","UMIN","UMAX","supported","bi","enc","assertInt64String","assertUInt64String","isReflectList","isReflectMap","isReflectMessage","scalarZeroValue","isScalarZeroValue","unsafeLocal","unsafeOneofCase","unsafeIsSet","unsafeIsSetExplicit","unsafeGet","unsafeSet","unsafeClear","oneofLocalName","varint64read","lowBits","highBits","middleByte","TWO_PWR_32_DBL","int64FromString","minus","add1e6digit","begin","digit1e6","newBits","int64ToString","negative","uInt64ToString","toUnsigned","mid","digitA","digitB","digitC","decimalFrom1e7WithLeadingZeros","digit1e7","varint32read","readBytes","isWrapper","isWrapperTypeName","isWrapperDesc","PIXELS_PER_LEVEL","devicePixelRatio","MUTE_THRESHOLD","HIDE_THRESHOLD","LABEL_THRESHOLD","BAR_BORDER_WIDTH","BAR_TEXT_PADDING_LEFT","GROUP_STRIP_WIDTH","GROUP_STRIP_PADDING","GROUP_STRIP_MARGIN_LEFT","GROUP_TEXT_OFFSET","TOP_TABLE_COLUMN_WIDTH","FlameGraphContextMenu","itemData","onMenuItemClick","onItemFocus","onSandwich","collapseConfig","onExpandGroup","onCollapseGroup","onExpandAllGroups","onCollapseAllGroups","getExtraContextMenuButtons","collapsing","allGroupsExpanded","allGroupsCollapsed","selectedView","ContextMenu","renderMenuItems","extraButtons","isDiff","isDiffFlamegraph","clipboard","writeText","collapsed","posX","posY","focusOnOpen","FlameGraphTooltip","totalTicks","tableData","getDiffTooltipData","InteractiveTable","tooltipTable","columns","getRowId","originalRow","rowId","tooltipData","getTooltipData","lastParagraph","unitTitle","unitValue","percentValue","unitSelf","percentSelf","samples","Portal","VizTooltipContainer","tooltipContainer","tooltipContent","tooltipName","getLabel","itemIndexes","displayValue","valueDisplayProcessor","displaySelf","getSelfDisplay","suffix","getUnitTitle","toLocaleString","totalTicksRight","getLevels","valueRight","totalTicksLeft","valueLeft","percentageLeft","percentageRight","displayValueLeft","getValueWithUnit","displayValueRight","shortValFormat","getValueFormat","baseline","wordBreak","trimLeft","trimRight","tinycolor","opts","named","matchers","hsva","hex8","parseIntFromHex","convertHexToDecimal","hex6","hex4","hex3","stringInputToObject","isValidCSSUnit","bound01","substr","convertToPercentage","hsvToRgb","hue2rgb","hslToRgb","boundAlpha","inputToRGB","_originalInput","_r","_roundA","_format","_gradientType","gradientType","_ok","rgbToHsl","rgbToHsv","rgbToHex","allow3Char","pad2","rgbaToArgbHex","convertDecimalToHex","_desaturate","toHsl","clamp01","_saturate","_greyscale","_lighten","_brighten","toRgb","_darken","_spin","_complement","polyad","_splitcomplement","_analogous","slices","_monochromatic","toHsv","modification","getBrightness","getOriginalInput","getFormat","getAlpha","getLuminance","RsRGB","GsRGB","BsRGB","setAlpha","toHsvString","toHslString","toHex","toHexString","toHex8","allow4Char","rgbaToHex","toHex8String","toRgbString","toPercentageRgb","toPercentageRgbString","toName","hexNames","secondColor","hex8String","secondHex8String","formatSet","formattedString","hasAlpha","_applyModification","brighten","greyscale","spin","_applyCombination","analogous","complement","monochromatic","splitcomplement","triad","tetrad","fromRatio","newColor","equals","rgb1","rgb2","readability","isReadable","wcag2","wcag2Parms","parms","validateWCAG2Parms","mostReadable","baseColor","colorList","includeFallbackColors","bestColor","bestScore","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","blanchedalmond","blueviolet","brown","burlywood","burntsienna","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","whitesmoke","yellowgreen","flipped","flip","isOnePointZero","processPercent","isPercentage","CSS_UNIT","PERMISSIVE_MATCH3","PERMISSIVE_MATCH4","SampleUnit","SampleUnit2","SelectedView","SelectedView2","ColorScheme","ColorScheme2","ColorSchemeDiff","ColorSchemeDiff2","packageColors","byValueGradient","getBarColorByValue","byPackageGradient","rangeMin","rangeMax","intensity","getBarColorByPackage","colorIndex","remainder","h1","h1b","k1","murmurhash3_32_gc","packageName","getPackageName","packageColor","diffDefaultColors","diffDefaultGradient","diffColorBlindColors","diffColorBlindGradient","useFlameRender","canvasRef","wrapperWidth","matchedLabels","textAlign","totalViewTicks","totalColorTicks","colorScheme","focusedItemData","collapsedMap","numberOfLevels","setCtx","ctx2","getContext","textBaseline","font","strokeStyle","useSetupCanvas","mutedColor","barMutedColor","getBarColor","topLevel","muted","barColor","Default","DiffColorBlind","ValueBased","ticks","ticksRight","colorScale","scaleLinear","ticksLeft","getBarColorByDiff","useColorFunction","renderFunc","beginPath","fillStyle","collapsedItemConfig","finalLabel","renderLabel","groupStripX","renderGroupingStrip","useRenderFunc","clearRect","canvas","mutedPath2D","Path2D","levelOffset","pixelsPerTick","collapsedItemRendered","curBarTicks","offsetModifier","skipRender","isCollapsedItem","getBarX","nextList","parents","walkTree","clip","measure","measureText","spaceForTextInRect","fullLabel","labelX","fillText","restore","FlameGraphCanvas","setRangeMin","setRangeMax","onItemFocused","totalProfileTicks","totalProfileTicksRight","showFlameGraphOnly","setCollapsedMap","sizeRef","graphRef","tooltipItem","setTooltipItem","clickedItemData","setClickedItemData","onGraphClick","convertPixelCoordinatesToBarCoordinates","offsetX","offsetY","mousePosition","setMousePosition","onGraphMouseMove","onGraphMouseLeave","handleOnClick","parentElement","canvasWrapper","onMouseLeave","setCollapsedStatus","setAllCollapsedStatus","canvasContainer","flex","sandwichMarker","writingMode","sandwichMarkerIcon","verticalAlign","levelIndex","xStart","xEnd","collapsedConfig","FlameGraphMetadata","memo","focusedItem","sandwichedLabel","onFocusPillClick","onSandwichPillClick","ticksVal","metadataPill","metadataPillName","pillCloseButton","iconName","metadata","textOverflow","FlameGraph","sandwichItem","levels","setLevels","levelsCallers","setLevelsCallers","setTotalProfileTicks","setTotalProfileTicksRight","setTotalViewTicks","levelsCallers2","levels2","totalProfileTicks2","totalProfileTicksRight2","totalViewTicks2","callers","callees","getSandwichLevels","commonCanvasProps","sandwichCanvasWrapper","sandwichMarkerCalees","mergeSubtrees","oppositeDirection","previous","indexes","prevSiblingsVal","nextItems","nextGroups","CollapsedMap","newMap","newConfig","item2","CollapsedMapBuilder","threshold","addTree","getCollapsedMap","FlameGraphDataContainer","createTheme","wrongFields","missingFields","wrongTypeFields","frameField","expectedTypes","checkFields","getMessageCheckFieldsResult","labelField","levelField","valueField","selfField","valueRightField","selfRightField","enumConfig","labelDisplayProcessor","uniqueLabels","getLevel","fieldAccessor","getValueRight","getSelf","getSelfRight","getUniqueLabels","Bytes","Nanoseconds","initLevels","getNodesWithLabel","newRoot","newNode","getParentSubtrees","uniqueLabelsMap","prevLevel","lastSibling","collapsedMapContainer","collapsingThreshold","nestedSetToLevels","index2","useDebounce","ready","isReady","useTimeoutFn","AnalyzeFlameGraphButton","assistantContext","isAvailable","FlameGraphHeader","setSearch","setSelectedView","onReset","onTextAlignChange","showResetButton","onColorSchemeChange","stickyHeader","extraHeaderElements","vertical","isDiffMode","localSearch","setLocalSearch","localSearchState","setLocalSearchState","prevSearch","useSearchInput","inputContainer","rightContainer","buttonSpacing","ColorSchemeButton","TopTable","RadioButtonGroup","alignOptions","getViewOptions","extraElements","PackageBased","colorDotStyle","colorDotByValue","colorDotByPackage","colorDotDiffColorBlind","colorDotDiffDefault","colorDot","colorDotDiff","Dropdown","overlay","viewOptions","Both","navbarFixed","resetButton","resetButtonIconWrapper","circle","pfx","_didLogDeprecationWarning","_resizeObserver","_timeoutId","maybeLogDeprecationWarning","scaledHeight","scaledWidth","ResizeObserverInstance","doNotBailOutOnEmptyChildren","FlameGraphTopTableContainer","onSymbolClick","onSearch","onTableSort","filteredTable","total","totalRight","setSort","topTableContainer","actionField","TableCellDisplayMode","cellComponent","ActionCell","actionFieldTableConfig","actionColumnWidth","hideHeader","inspect","cellOptions","createActionField","symbolField","baselineField","createNumberField","comparisonField","diffField","ColorText","removeColor","addColor","MappingType","ValueToText","RangeToText","totalField","dataFrames","buildTableDataFrame","initialSortBy","onSortByChange","tableFieldOptions","getStylesActionCell","isSearched","isSandwiched","actionCellWrapper","actionCellButton","getAssistantContextFromDataFrame","FlameGraphContainer","onTableSymbolClick","onViewSelected","onTextAlignSelected","getTheme","disableCollapsing","keepFocusOnDataChange","showAnalyzeWithAssistant","setFocusedItemData","setTextAlign","setSandwichItem","dataContainer","setColorScheme","defaultColorScheme","useColorScheme","tableContainer","horizontalContainer","horizontalGraphContainer","horizontalTableContainer","verticalGraphContainer","verticalTableContainer","foundLabels","terms","regexFilter","foundMatch","fuzzyFilter","term","labelSearch","useLabelSearch","resetFocus","resetSandwich","flameGraph","data2","ThemeContext","Provider","ScaleDistribution","ScaleDistribution2","SortOrder","SortOrder2","TableCellDisplayMode2","VariableFormatID","VariableFormatID2","inf","escapeRegExp","EXACT_HERE","PUNCT_RE","COLLATE_ARGS","sensitivity","swapAlpha","upper","OPTS","unicode","interSplit","intraSplit","interBound","intraBound","interLft","interRgt","interChars","interIns","intraChars","intraIns","intraContr","intraMode","intraSlice","intraSub","intraTrn","intraDel","intraFilt","toUpper","toLocaleUpperCase","toLocaleLowerCase","needle","interLft2","interLft1","cases","ia","ib","lazyRepeat","mode2Tpl","_intraSplit","_interSplit","_intraBound","_interBound","Collator","letters","uFlag","quotedAny","EXACTS_RE","NEGS_RE","intraRules","_intraSlice","_intraIns","_intraSub","_intraTrn","_intraDel","plen","withIntraSplit","trimRe","contrsRe","keepCase","exacts","NUM_OR_ALPHA_RE","prepQuery","capt","interOR","reTpl","contrs","pi","lftIdx","rgtIdx","lftChar","rgtChar","numChars","variants","intraInsTpl","preTpl","sufTpl","interCharsTpl","withIntraBound","partsCased","queryR","partsLen","_terms","_termsCased","partCased","termCased","interRgt2","interRgt1","mayDiscard","mhstr","idxAcc","disc","lft2","lft1","rgt2","rgt1","inter","intra","refine","termLen","groupLen","fullMatch","idxOf","refineMatch","lftCharIdx","rgtCharIdx","isPre","isSuf","junk","junkIdx","m2","charIdx","refLen","ri","lastRi","idxInNext","prepend","outOfOrder","infoThresh","preFiltered","needles","negs","neg","negsRe","terms2","ti","permute","perm","matchedIdxs","ni","preFiltered2","matched","retInfo","retOrder","_info","_search","latinize","accents","accentsMap","accentsTpl","accentsRe","replacer","strings","_mark","_append","highlight","mark","accum","append","fr","$9daab02d461809db$export$683480f191c0e3ea","resizeObserverInstance","focusManager","onSubscribe","setEventListener","onUnsubscribe","hasListeners","focused","setFocused","Mutation","mutationId","mutationCache","failureCount","failureReason","submittedAt","scheduleGc","updateGcTime","gcTime","addObserver","clearGcTimeout","notify","mutation","removeObserver","optionalRemove","continue","mutationFn","onFail","onPause","onContinue","retryDelay","networkMode","canRun","restored","canStart","onMutate","onSuccess","onSettled","runNext","onMutationUpdate","getDefaultState","notifyManager","transactions","notifyFn","batchNotifyFn","scheduleFn","originalQueue","batchCalls","setNotifyFunction","setBatchNotifyFunction","setScheduler","createNotifyManager","onlineManager","onOnline","onlineListener","offlineListener","setOnline","online","isOnline","queryKey","queryHash","initialData","hasData","initialDataUpdatedAt","dataUpdateCount","dataUpdatedAt","errorUpdateCount","errorUpdatedAt","fetchFailureCount","fetchFailureReason","fetchMeta","isInvalidated","fetchStatus","newData","updatedAt","manual","setStateOptions","silent","isDisabled","getObserversCount","isStale","getCurrentResult","isStaleByTime","staleTime","shouldFetchOnWindowFocus","refetch","cancelRefetch","shouldFetchOnReconnect","revert","cancelRetry","invalidate","fetchOptions","continueRetry","queryFn","abortController","AbortController","addSignalProperty","signal","fetchFn","queryFnContext","persister","onFetch","isFetchingOptimistic","initialPromise","abort","fetchState","onQueryUpdate","QueryCache","client","defaultQueryOptions","getQueryDefaults","queryInMap","defaultedFilters","findAll","MutationCache","defaultMutationOptions","scopeFor","mutations","firstPendingMutation","foundMutation","flat","resumePausedMutations","pausedMutations","all","infiniteQueryBehavior","fetchMore","oldPages","oldPageParams","pageParams","fetchPage","pageParam","aborted","maxPages","addTo","oldData","getPreviousPageParam","getNextPageParam","initialPageParam","remainingPages","QueryClient","queryCache","mount","unmount","isFetching","isMutating","getQueryData","ensureQueryData","cachedData","fetchQuery","defaultedOptions","revalidateIfStale","prefetchQuery","getQueriesData","setQueryData","updater","prevData","setQueriesData","getQueryState","removeQueries","resetQueries","refetchFilters","refetchQueries","cancelQueries","cancelOptions","defaultedCancelOptions","promises","invalidateQueries","refetchType","throwOnError","fetchInfiniteQuery","prefetchInfiniteQuery","getQueryCache","getMutationCache","getDefaultOptions","setDefaultOptions","setQueryDefaults","queryDefault","setMutationDefaults","mutationKey","getMutationDefaults","_defaulted","refetchOnReconnect","suspense","Removable","newGcTime","defaultRetryDelay","canFetch","CancelledError","isCancelledError","createRetryer","continueFn","promiseResolve","promiseReject","isRetryCancelled","isResolved","outerResolve","outerReject","canContinue","continueResolve","run","promiseOrValue","shouldRetry","Subscribable","isServer","functionalUpdate","isValidTimeout","timeUntilStale","resolveStaleTime","resolveEnabled","matchQuery","stale","hashQueryKeyByOptions","partialMatchKey","matchMutation","hashKey","queryKeyHashFn","replaceEqualDeep","isPlainArray","aItems","aSize","bItems","bSize","equalItems","shallowEqualObjects","hasObjectPrototype","prot","sleep","replaceData","structuralSharing","addToEnd","addToStart","skipToken","ensureQueryFn","QueryClientContext","useQueryClient","queryClient","QueryClientProvider","MutationObserver","bindMethods","mutate","prevOptions","isPending","isSuccess","isIdle","useMutation","onStoreChange","mutateOptions","mutateAsync","QueryObserver","shouldFetchOnMount","updateResult","shouldFetchOn","refetchOnWindowFocus","notifyOptions","prevQuery","shouldFetchOptionally","nextRefetchInterval","getOptimisticResult","createResult","optimisticResult","shouldAssignObserverCurrentProperties","trackResult","onPropTracked","trackedResult","trackProp","getCurrentQuery","fetchOptimistic","refetchInterval","nextInterval","refetchIntervalInBackground","prevResult","prevResultState","prevResultOptions","queryInitialState","isPlaceholderData","_optimisticResults","fetchOnMount","fetchOptionally","selectError","placeholderData","isInitialLoading","isFetched","isFetchedAfterMount","isRefetching","isLoadingError","isRefetchError","nextResult","defaultNotifyOptions","notifyOnChangeProps","notifyOnChangePropsValue","includedProps","typedKey","shouldNotifyListeners","retryOnMount","shouldLoadOnMount","refetchOnMount","createValue","isReset","clearReset","QueryErrorResetBoundaryContext","useQueryErrorResetBoundary","IsRestoringContext","useIsRestoring","ensurePreventErrorBoundaryRetry","errorResetBoundary","useClearResetErrorBoundary","getHasError","ensureStaleTime","shouldSuspend","Observer","isRestoring","_experimental_beforeQuery","_experimental_afterQuery","useBaseQuery","shouldThrowError","ch2","u8","u16","Uint16Array","i32","Int32Array","fleb","fdeb","clim","freb","eb","fl","revfl","fd","revfd","rev","hMap","cd","mb","co","rvb","sv","r_1","flt","fdt","flm","flrm","fdm","fdrm","bits16","shft","slc","ec","ind","nt","inflt","dat","dict","dl","noBuf","resize","noSt","cbuf","nbuf","final","bt","lm","dm","lbt","dbt","tbts","hLit","hcLen","tl","ldt","clt","clb","clbmsk","clm","lms","dms","lpos","dsym","dend","wbits","wbits16","hTree","i0","i1","maxSym","tr","mbt","ln","lft","cst","i2_1","i2_2","i2_3","lc","cl","cli","cln","clen","cf","wfblk","wblk","syms","lf","li","bs","dlt","mlb","ddt","mdb","lclt","nlc","lcdt","ndc","lcfreq","lct","mlcb","nlcc","ll","flen","ftlen","dtlen","llm","lcts","clct","deo","dflt","lvl","plvl","pre","post","lst","msk_1","bs1_1","bs2_1","hsh","lc_1","wi","hv","imod","pimod","ch_1","dif","maxn","maxd","ml","nl","mmd","lin","din","crct","crc","cr","adler","dopt","dictionary","newDat","mem","mrg","wcln","fnStr","ks","st_1","spInd","ch","wrkr","td_1","transfer","Worker","onmessage","ed","$e$","postMessage","wk","cbfs","bInflt","inflateSync","pbf","gopt","bDflt","deflateSync","gze","gzh","gzhl","wbytes","guze","gzs","gzl","zle","zlh","zule","zls","astrm","strm","ondata","ev","astrmify","terminate","queuedSize","ondrain","mtime","flg","zs","lv","StrmOpt","Deflate","endLen","newBuf","AsyncDeflate","Inflate","bts","AsyncInflate","Gzip","AsyncGzip","Gunzip","onmember","AsyncGunzip","Zlib","AsyncZlib","Unzlib","AsyncUnzlib","queueMicrotask","wrapSync","Stream","hasWorker","compressors","decompressors","makeMulti","TransformStreamBase","Processor","endCb","compressor","controller","enqueue","highWaterMark","globals","CompressionStream","TransformStream","DecompressionStream","makeDecompressionStream","blockQuote","breakLine","breakThematic","codeBlock","codeFenced","codeInline","footnote","footnoteReference","gfmTask","heading","headingSetext","htmlBlock","htmlComment","htmlSelfClosing","image","linkAngleBraceStyleDetector","linkBareUrlDetector","linkMailtoDetector","newlineCoalescer","orderedList","paragraph","refImage","refLink","tableSeparator","textBolded","textEmphasized","textEscaped","textMarked","textStrikethroughed","unorderedList","HIGH","MED","LOW","amp","apos","nbsp","quot","K","ee","ne","ie","oe","ce","ae","se","de","ue","pe","fe","he","me","ge","ye","ke","xe","ve","be","inline","simple","ordered","$e","Ee","we","Se","Ce","Ae","Oe","inTable","trimEnd","Te","Le","Re","ze","Me","Ie","Ue","endsWith","je","decodeURIComponent","Be","Ne","He","De","Pe","Fe","We","Ge","Ze","slugify","namedCodesToUnicode","forceInline","forceBlock","forceWrapper","lang","attrs","completed","checked","enforceAtxHeadings","noInnerParse","inAnchor","alt","fallbackChildren","disableParsingRawHTML","renderRule","nanoid","Queue","dequeue","pLimit","validateConcurrency","activeCount","resumeNext","function_","arguments_","internalResolve","pendingCount","clearQueue","newConcurrency","isCheckBoxInput","isDateObject","isNullOrUndefined","isObjectType","getEventValue","isNameInFieldArray","getNodeParentName","tempObject","prototypeCopy","isWeb","cloneObject","isFileListInstance","FileList","isUndefined","isBoolean","isKey","stringToPath","tempPath","EVENTS","BLUR","FOCUS_OUT","CHANGE","VALIDATION_MODE","onSubmit","onTouched","INPUT_VALIDATION_RULES","HookFormContext","useFormContext","getProxyFormState","formState","localProxyFormState","defaultValues","_defaultValues","_proxyFormState","isEmptyObject","shouldRenderFormState","formStateData","updateFormState","convertToArrayPayload","shouldSubscribeByName","signalName","currentName","useSubscribe","subject","generateWatchOutput","_names","formValues","watch","watchAll","useController","shouldUnregister","isArrayField","_name","_subjects","updateValue","_formValues","_getWatch","_removeUnmounted","useWatch","_formState","_mounted","_localProxyFormState","isDirty","dirtyFields","touchedFields","validatingFields","isValidating","_updateFormState","_updateValid","useFormState","_registerProps","rules","fieldState","isTouched","_fields","setCustomValidity","reportValidity","_shouldUnregisterField","updateMounted","_updateDisabledField","Controller","appendErrors","validateAllFieldCriteria","getValidationModes","isOnSubmit","isOnBlur","isOnChange","isOnAll","isOnTouch","isWatched","isBlurEvent","watchName","iterateFieldsByAction","fieldsNames","abortEarly","currentField","refs","updateFieldArrayRootError","fieldArrayErrors","isFileInput","isHTMLElement","isRadioInput","isRegex","defaultResult","validResult","getCheckboxValue","defaultReturn","getRadioValue","getValidateError","getValueAndMessage","validationData","validateField","disabledFieldNames","shouldUseNativeValidation","isFieldArray","maxLength","minLength","validate","inputRef","isRadio","isCheckBox","isRadioOrCheckbox","isEmpty","appendErrorsCurry","getMinMaxMessage","exceedMax","maxLengthMessage","minLengthMessage","maxType","minType","exceedMin","maxOutput","minOutput","valueDate","valueAsDate","convertTimeToDate","toDateString","isTime","isWeek","valueNumber","maxLengthOutput","minLengthOutput","patternValue","validateError","validationResult","unset","childObject","updatePath","baseGet","isEmptyArray","createSubject","_observers","object1","object2","getTime","keys1","val1","val2","isMultipleSelect","live","isConnected","objectHasFunction","markFieldsDirty","isParentNodeArray","getDirtyFieldsFromDefaultValues","dirtyFieldsFromValues","getDirtyFields","getFieldValueAs","setValueAs","getFieldValue","selectedOptions","getResolverOptions","criteriaMode","getRuleValue","ASYNC_FUNCTION","hasPromiseValidation","fieldReference","validateFunction","hasValidation","schemaErrorLookup","foundError","skipValidation","isSubmitted","reValidateMode","unsetEmptyArray","shouldFocusError","createFormControl","delayErrorCallback","submitCount","isSubmitting","isSubmitSuccessful","unMount","timer","validationModeBeforeSubmit","validationModeAfterSubmit","shouldDisplayAllAssociatedErrors","shouldUpdateValid","resolver","_executeSchema","executeBuiltInValidation","_updateIsValidating","updateValidAndValue","shouldSkipSetValueAs","defaultChecked","setFieldValue","updateTouchAndDirty","fieldValue","shouldDirty","shouldRender","shouldUpdateField","isPreviousDirty","disabledField","_getDirty","isCurrentFieldPristine","isPreviousFieldTouched","shouldRenderByError","previousFieldError","delayError","updateErrors","wait","updatedFormState","shouldOnlyCheckValid","isFieldArrayRoot","isPromiseFunction","fieldError","getValues","optionRef","checkboxRef","radioRef","shouldTouch","shouldValidate","trigger","fieldKey","cloneValue","isFieldValueUpdated","_updateIsFieldValueUpdated","shouldSkipValidation","watched","previousErrorLookupResult","errorLookupResult","_focusInput","executeSchemaAndUpdateState","shouldFocus","getFieldState","setError","currentRef","restOfErrorTree","keepValue","keepError","keepDirty","keepTouched","keepIsValidating","keepDefaultValue","keepIsValid","disabledIsDefined","progressive","fieldRef","radioOrCheckbox","_focusError","handleSubmit","onValid","onInvalid","onValidError","fieldValues","_reset","keepStateOptions","updatedValues","cloneUpdatedValues","isEmptyResetValues","keepDefaultValues","keepValues","keepDirtyValues","fieldsToCheck","closest","keepSubmitCount","keepIsSubmitted","keepErrors","keepIsSubmitSuccessful","_updateFieldArray","shouldSetValues","shouldUpdateFieldsAndState","argA","argB","_getFieldArray","_resetDefaultValues","resetOptions","_disableForm","_setErrors","resetField","clearErrors","inputName","setFocus","shouldSelect","useForm","_formControl","styleToObject","nextKey","_$0","$2","nextValue","noTextChildNodes","possibleStandardNames","acceptcharset","allowfullscreen","autocapitalize","autocomplete","autocorrect","autofocus","autoplay","autosave","cellpadding","cellspacing","classid","classname","colspan","controlslist","crossorigin","dangerouslysetinnerhtml","datetime","defaultchecked","defaultvalue","enctype","formmethod","formaction","formenctype","formnovalidate","formtarget","frameborder","hreflang","htmlfor","httpequiv","innerhtml","inputmode","itemid","itemref","itemscope","itemtype","keyparams","keytype","marginwidth","marginheight","maxlength","mediagroup","minlength","nomodule","novalidate","playsinline","radiogroup","readonly","referrerpolicy","rowspan","spellcheck","srcdoc","srclang","srcset","typemustmatch","usemap","accentheight","alignmentbaseline","allowreorder","arabicform","attributename","attributetype","autoreverse","basefrequency","baselineshift","baseprofile","calcmode","capheight","clippath","clippathunits","cliprule","colorinterpolation","colorinterpolationfilters","colorprofile","colorrendering","contentscripttype","contentstyletype","diffuseconstant","dominantbaseline","edgemode","enablebackground","externalresourcesrequired","fillopacity","fillrule","filterres","filterunits","floodopacity","floodcolor","fontfamily","fontsize","fontsizeadjust","fontstretch","fontstyle","fontvariant","fontweight","glyphname","glyphorientationhorizontal","glyphorientationvertical","glyphref","gradienttransform","gradientunits","horizadvx","horizoriginx","imagerendering","kernelmatrix","kernelunitlength","keypoints","keysplines","keytimes","lengthadjust","letterspacing","lightingcolor","limitingconeangle","markerend","markerheight","markermid","markerstart","markerunits","markerwidth","maskcontentunits","maskunits","numoctaves","overlineposition","overlinethickness","paintorder","pathlength","patterncontentunits","patterntransform","patternunits","pointerevents","pointsatx","pointsaty","pointsatz","preservealpha","preserveaspectratio","primitiveunits","refx","refy","renderingintent","repeatcount","repeatdur","requiredextensions","requiredfeatures","shaperendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stopcolor","stopopacity","strikethroughposition","strikethroughthickness","strokedasharray","strokedashoffset","strokelinecap","strokelinejoin","strokemiterlimit","strokewidth","strokeopacity","suppresscontenteditablewarning","suppresshydrationwarning","surfacescale","systemlanguage","tablevalues","targetx","targety","textanchor","textdecoration","textlength","textrendering","underlineposition","underlinethickness","unicodebidi","unicoderange","unitsperem","unselectable","valphabetic","vectoreffect","vertadvy","vertoriginx","vertoriginy","vhanging","videographic","viewbox","viewtarget","vmathematical","wordspacing","writingmode","xchannelselector","xheight","xlinkactuate","xlinkarcrole","xlinkhref","xlinkrole","xlinkshow","xlinktitle","xlinktype","xmlbase","xmllang","xmlnsxlink","xmlspace","ychannelselector","zoomandpan","onblur","onchange","onclick","oncontextmenu","ondoubleclick","ondrag","ondragend","ondragenter","ondragexit","ondragleave","ondragover","ondragstart","ondrop","onfocus","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onscroll","onsubmit","ontouchcancel","ontouchend","ontouchmove","ontouchstart","onwheel","getReactNode","parseName","reactKey","nodeClassNames","parseAttributes","parseChildren","childNodes","nodeText","nodeValue","allowWhiteSpaces","parentNodeName","childNodeList","convertFromNode","randomKey","characters","randomString","includeAllNodes","nodeOnly","DOMParser","parseFromString","node2","convertFromString","__publicField","CACHE_NAME","STATUS","IDLE","LOADING","LOADED","FAILED","READY","UNSUPPORTED","isSupportedEnvironment","div","firstChild","namespaceURI","supportsInlineSVG","contentType","fileType","seconds","cacheStore","CacheStore","cacheName","usePersistentCache","REACT_INLINESVG_CACHE_NAME","REACT_INLINESVG_PERSISTENT_CACHE","caches","cacheApi","subscribers","onReady","fetchAndAddToPersistentCache","fetchAndAddToInternalCache","isCached","handleLoading","Request","retryCount","usePrevious","getNode","baseURL","preProcessor","uniquifyIDs","svgText","processSVG","SVGSVGElement","updateSVGAttributes","originalDesc","descElement","createElementNS","originalTitle","titleElement","replaceableAttributes","linkAttributes","ReactInlineSVG","cacheRequests","loader","uniqueHash","useReducer","previousState2","previousProps","previousState","character","handleLoad","loadedContent","hasCache","fetchContent","responseContent","getElement","convertedElement","isValidElement","getContent","dataURI","inlineSrc","atob","cachedContent","elementProps","omit","InlineSVG","hasCallback","setReady","extendStatics","__extends","__","__generator","ops","verb","__await","__asyncGenerator","resume","fulfill","settle","__asyncValues","SuppressedError"],"sourceRoot":""}